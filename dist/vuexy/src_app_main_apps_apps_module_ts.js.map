{"version":3,"file":"src_app_main_apps_apps_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA,IAAMS,cAAc,GAAGC,MAAM,CAACC,SAAP,CAAiBF,cAAxC;AACA;AACA;AACA;AACA;;AACA,SAASG,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,MAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AACtB,WAAOA,KAAK,CAACG,GAAN,CAAUJ,QAAV,CAAP;AACH,GAFD,MAGK,IAAIC,KAAK,YAAYI,IAArB,EAA2B;AAC5B,WAAO,IAAIA,IAAJ,CAASJ,KAAK,CAACK,OAAN,EAAT,CAAP;AACH,GAFI,MAGA,IAAI,OAAOL,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AAC3C,WAAOM,OAAO,CAACN,KAAD,EAAQD,QAAR,CAAd;AACH,GAFI,MAGA;AAAE;AACH,WAAOC,KAAP;AACH;AACJ;;AACD,SAASO,WAAT,CAAqBC,GAArB,EAA0B;AACtB,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,QAAIP,KAAK,CAACC,OAAN,CAAcM,GAAd,CAAJ,EAAwB;AACpBA,MAAAA,GAAG,GAAGP,KAAK,CAACH,SAAN,CAAgBW,KAAhB,CAAsBC,IAAtB,CAA2BF,GAA3B,CAAN;AACH,KAFD,MAGK,IAAIA,GAAJ,EAAS;AAAE;AACZA,MAAAA,GAAG,GAAGX,MAAM,CAACc,MAAP,CAAc,EAAd,EAAkBH,GAAlB,CAAN;AACH;AACJ;;AACD,SAAOA,GAAP;AACH;;AACD,SAASF,OAAT,CAAiBN,KAAjB,EAAwBY,IAAxB,EAA8B;AAC1B,MAAMC,MAAM,GAAG,EAAf;;AACA,OAAK,IAAMC,GAAX,IAAkBd,KAAlB,EAAyB;AACrB,QAAIJ,cAAc,CAACc,IAAf,CAAoBV,KAApB,EAA2Bc,GAA3B,CAAJ,EAAqC;AACjCD,MAAAA,MAAM,CAACC,GAAD,CAAN,GAAcF,IAAI,CAACZ,KAAK,CAACc,GAAD,CAAN,EAAaA,GAAb,CAAlB;AACH;AACJ;;AACD,SAAOD,MAAP;AACH;;AAED,IAAME,cAAc,GAAG;AACnBC,EAAAA,aAAa,EAAE,IADI;AAEnBC,EAAAA,aAAa,EAAE,IAFI;AAGnBC,EAAAA,MAAM,EAAE,IAHW;AAInBC,EAAAA,YAAY,EAAE,IAJK;AAKnBC,EAAAA,SAAS,EAAE;AALQ,CAAvB;;IAQMC;AACF,iCAAYC,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKC,cAAL,GAAsB,EAAtB,CAFiB,CAES;AAC7B;;;;WACD,2BAAkB;AACd,UAAQC,mBAAR,GAAgC,IAAhC,CAAQA,mBAAR;AACA,UAAMC,OAAO,GAAG,KAAKA,OAAL,IAAgB,EAAhC,CAFc,CAGd;;AACA,WAAKF,cAAL,GAAsBjB,OAAO,CAACmB,OAAD,EAAU,UAACC,SAAD,EAAYC,UAAZ;AAAA,eAA6BH,mBAAmB,IAAIT,cAAc,CAACY,UAAD,CAAtC,GAC7D5B,QAAQ,CAAC2B,SAAD,CADqD,GAE7DA,SAFiC;AAAA,OAAV,CAA7B;AAGA,WAAKE,QAAL,GAAgB,IAAInC,wDAAJ,CAAa,KAAK6B,OAAL,CAAaO,aAA1B,EAAyCJ,OAAzC,CAAhB;AACA,WAAKG,QAAL,CAAcE,MAAd;AACH;AACD;AACJ;AACA;AACA;;;;WACI,qBAAY;AACR,UAAI,KAAKF,QAAT,EAAmB;AAAE;AACjB,YAAQJ,mBAAR,GAAgD,IAAhD,CAAQA,mBAAR;AAAA,YAA6BD,cAA7B,GAAgD,IAAhD,CAA6BA,cAA7B;AACA,YAAMQ,UAAU,GAAG,KAAKN,OAAL,IAAgB,EAAnC;AACA,YAAMO,mBAAmB,GAAG,EAA5B;AACA,YAAIC,UAAU,GAAG,KAAjB,CAJe,CAKf;;AACA,aAAK,IAAMN,UAAX,IAAyBI,UAAzB,EAAqC;AACjC,cAAIA,UAAU,CAACnC,cAAX,CAA0B+B,UAA1B,CAAJ,EAA2C;AACvC,gBAAID,SAAS,GAAGK,UAAU,CAACJ,UAAD,CAA1B;;AACA,gBAAIH,mBAAmB,IAAIT,cAAc,CAACY,UAAD,CAAzC,EAAuD;AACnD,kBAAI,CAACxC,sDAAS,CAACoC,cAAc,CAACI,UAAD,CAAf,EAA6BD,SAA7B,CAAd,EAAuD;AACnDH,gBAAAA,cAAc,CAACI,UAAD,CAAd,GAA6B5B,QAAQ,CAAC2B,SAAD,CAArC;AACAO,gBAAAA,UAAU,GAAG,IAAb,CAFmD,CAGnD;AACA;AACA;;AACAP,gBAAAA,SAAS,GAAGnB,WAAW,CAACmB,SAAD,CAAvB;AACH;AACJ,aATD,MAUK;AACD,kBAAIH,cAAc,CAACI,UAAD,CAAd,KAA+BD,SAAnC,EAA8C;AAC1CH,gBAAAA,cAAc,CAACI,UAAD,CAAd,GAA6BD,SAA7B;AACAO,gBAAAA,UAAU,GAAG,IAAb;AACH;AACJ;;AACDD,YAAAA,mBAAmB,CAACL,UAAD,CAAnB,GAAkCD,SAAlC;AACH;AACJ;;AACD,YAAMQ,cAAc,GAAGrC,MAAM,CAACsC,IAAP,CAAYZ,cAAZ,CAAvB,CA5Be,CA6Bf;;AACA,2CAAyBW,cAAzB,qCAAyC;AAApC,cAAMP,WAAU,sBAAhB;;AACD,cAAI,EAAEA,WAAU,IAAII,UAAhB,CAAJ,EAAiC;AAAE;AAC/B,mBAAOR,cAAc,CAACI,WAAD,CAArB;AACAM,YAAAA,UAAU,GAAG,IAAb;AACH;AACJ;;AACD,YAAIA,UAAJ,EAAgB;AACZ,eAAKL,QAAL,CAAcQ,cAAd;AACA,eAAKR,QAAL,CAAcS,YAAd,CAA2BL,mBAA3B;AACH;AACJ;AACJ;;;WACD,iCAAwB;AACpB,UAAI,KAAKJ,QAAT,EAAmB;AAAE;AACjB,aAAKA,QAAL,CAAcU,eAAd;AACH;AACJ;;;WACD,uBAAc;AACV,UAAI,KAAKV,QAAT,EAAmB;AAAE;AACjB,aAAKA,QAAL,CAAcW,OAAd;AACA,aAAKX,QAAL,GAAgB,IAAhB;AACH;AACJ;;;WACD,kBAAS;AACL,aAAO,KAAKA,QAAZ;AACH;;;;;;AAELP,qBAAqB,CAACmB,IAAtB,GAA6B,SAASC,6BAAT,CAAuCC,CAAvC,EAA0C;AAAE,SAAO,KAAKA,CAAC,IAAIrB,qBAAV,EAAiC1B,+DAAA,CAAyBA,qDAAzB,CAAjC,CAAP;AAAuF,CAAhK;;AACA0B,qBAAqB,CAACuB,IAAtB,GAA6B,aAAcjD,+DAAA,CAAyB;AAAEmD,EAAAA,IAAI,EAAEzB,qBAAR;AAA+B0B,EAAAA,SAAS,EAAE,CAAC,CAAC,eAAD,CAAD,CAA1C;AAA+DC,EAAAA,MAAM,EAAE;AAAEvB,IAAAA,OAAO,EAAE,SAAX;AAAsBD,IAAAA,mBAAmB,EAAE;AAA3C,GAAvE;AAA2IyB,EAAAA,KAAK,EAAE,CAAlJ;AAAqJC,EAAAA,IAAI,EAAE,CAA3J;AAA8JC,EAAAA,QAAQ,EAAE,SAASC,8BAAT,CAAwCC,EAAxC,EAA4CC,GAA5C,EAAiD,CAAG,CAA5N;AAA8NC,EAAAA,MAAM,EAAE,CAAC,iv8BAAD,CAAtO;AAAi+8BC,EAAAA,aAAa,EAAE;AAAh/8B,CAAzB,CAA3C;;AACAnC,qBAAqB,CAACoC,cAAtB,GAAuC;AAAA,SAAM,CACzC;AAAEX,IAAAA,IAAI,EAAExD,qDAAUA;AAAlB,GADyC,CAAN;AAAA,CAAvC;;AAGA+B,qBAAqB,CAACqC,cAAtB,GAAuC;AACnCjC,EAAAA,OAAO,EAAE,CAAC;AAAEqB,IAAAA,IAAI,EAAEvD,gDAAKA;AAAb,GAAD,CAD0B;AAEnCiC,EAAAA,mBAAmB,EAAE,CAAC;AAAEsB,IAAAA,IAAI,EAAEvD,gDAAKA;AAAb,GAAD;AAFc,CAAvC;;AAIA,CAAC,YAAY;AAAE,GAAC,OAAOoE,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDhE,+DAAA,CAAyB0B,qBAAzB,EAAgD,CAAC;AAC3GyB,IAAAA,IAAI,EAAE1D,oDADqG;AAE3GyE,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,QAAQ,EAAE,eADX;AAECX,MAAAA,QAAQ,EAAE,EAFX;AAGCK,MAAAA,aAAa,EAAEnE,iEAHhB,CAGuC;AAHvC;AAKCkE,MAAAA,MAAM,EAAE,CAAC,iv8BAAD;AALT,KAAD;AAFqG,GAAD,CAAhD,EAS1D,YAAY;AAAE,WAAO,CAAC;AAAET,MAAAA,IAAI,EAAEnD,qDAAiBL;AAAzB,KAAD,CAAP;AAAuC,GATK,EASH;AAAEmC,IAAAA,OAAO,EAAE,CAAC;AAC/DqB,MAAAA,IAAI,EAAEvD,gDAAKA;AADoD,KAAD,CAAX;AAEnDiC,IAAAA,mBAAmB,EAAE,CAAC;AACtBsB,MAAAA,IAAI,EAAEvD,gDAAKA;AADW,KAAD;AAF8B,GATG,CAAnD;AAaC,CAbhB;;IAeMyE;;;;;;;WACF,yBAAuBC,OAAvB,EAAgC;AAC5BvE,MAAAA,wEAAA,CAAAA,6DAAa,6JAASuE,OAAT,EAAb;AACH;;;;;;AAELD,kBAAkB,CAACxB,IAAnB,GAA0B,SAAS2B,0BAAT,CAAoCzB,CAApC,EAAuC;AAAE,SAAO,KAAKA,CAAC,IAAIsB,kBAAV,GAAP;AAAyC,CAA5G;;AACAA,kBAAkB,CAACI,IAAnB,GAA0B,aAAczE,8DAAA,CAAwB;AAAEmD,EAAAA,IAAI,EAAEkB;AAAR,CAAxB,CAAxC;AACAA,kBAAkB,CAACM,IAAnB,GAA0B,aAAc3E,8DAAA,CAAwB;AAAE6E,EAAAA,OAAO,EAAE,CAAC,EAAD;AAAX,CAAxB,CAAxC;;AACA,CAAC,YAAY;AAAE,GAAC,OAAOb,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDhE,+DAAA,CAAyBqE,kBAAzB,EAA6C,CAAC;AACxGlB,IAAAA,IAAI,EAAEtD,mDADkG;AAExGqE,IAAAA,IAAI,EAAE,CAAC;AACCY,MAAAA,YAAY,EAAE,CAACpD,qBAAD,CADf;AAECmD,MAAAA,OAAO,EAAE,EAFV;AAGCE,MAAAA,OAAO,EAAE,CAACrD,qBAAD;AAHV,KAAD;AAFkG,GAAD,CAA7C,EAO1D,IAP0D,EAOpD,IAPoD,CAAnD;AAOO,CAPtB;;AAQA,CAAC,YAAY;AAAE,GAAC,OAAOsD,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDhF,gEAAA,CAA0BqE,kBAA1B,EAA8C;AAAES,IAAAA,YAAY,EAAE,CAACpD,qBAAD,CAAhB;AAAyCqD,IAAAA,OAAO,EAAE,CAACrD,qBAAD;AAAlD,GAA9C,CAAnD;AAAgL,CAA/L;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnLA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;CAGA;AACA;;AACA,IAAIgE,cAAc;AAAG;AAAe,YAAY;AAC5C,WAASA,cAAT,CAAwBC,OAAxB,EAAiCC,mBAAjC,EAAsD;AAClD,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKC,mBAAL,GAA2BA,mBAA3B;AACH;;AACDF,EAAAA,cAAc,CAACvF,SAAf,CAAyB0F,MAAzB,GAAkC,YAAY;AAC1C,SAAKF,OAAL,CAAaG,QAAb,CAAsB;AAClB3C,MAAAA,IAAI,EAAE,qBADY;AAElB4C,MAAAA,QAAQ,EAAE,KAAKH,mBAAL,CAAyBG;AAFjB,KAAtB;AAIH,GALD;;AAMAL,EAAAA,cAAc,CAACvF,SAAf,CAAyB6F,OAAzB,GAAmC,YAAY;AAC3C,SAAKL,OAAL,CAAaG,QAAb,CAAsB;AAClB3C,MAAAA,IAAI,EAAE,qBADY;AAElB8C,MAAAA,SAAS,EAAE,CAAC,KAAKL,mBAAL,CAAyBG,QAA1B,CAFO;AAGlBG,MAAAA,SAAS,EAAE;AAHO,KAAtB;AAKH,GAND;;AAOAhG,EAAAA,MAAM,CAACiG,cAAP,CAAsBT,cAAc,CAACvF,SAArC,EAAgD,IAAhD,EAAsD;AAClDiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAKR,mBAAL,CAAyBS,QAAhC;AACH,KAHiD;AAIlDC,IAAAA,UAAU,EAAE,KAJsC;AAKlDC,IAAAA,YAAY,EAAE;AALoC,GAAtD;AAOArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBT,cAAc,CAACvF,SAArC,EAAgD,KAAhD,EAAuD;AACnDiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAKR,mBAAL,CAAyBY,IAAzB,CAA8BC,GAArC;AACH,KAHkD;AAInDH,IAAAA,UAAU,EAAE,KAJuC;AAKnDC,IAAAA,YAAY,EAAE;AALqC,GAAvD;AAOArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBT,cAAc,CAACvF,SAArC,EAAgD,QAAhD,EAA0D;AACtDiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAKR,mBAAL,CAAyBY,IAAzB,CAA8BE,MAArC,CADa,CACgC;AAChD,KAHqD;AAItDJ,IAAAA,UAAU,EAAE,KAJ0C;AAKtDC,IAAAA,YAAY,EAAE;AALwC,GAA1D;AAOA,SAAOb,cAAP;AACH,CAxCmC,EAApC;;AA0CA,SAASiB,aAAT,CAAuBC,EAAvB,EAA2B;AACvB,MAAIA,EAAE,CAACC,UAAP,EAAmB;AACfD,IAAAA,EAAE,CAACC,UAAH,CAAcC,WAAd,CAA0BF,EAA1B;AACH;AACJ,EACD;AACA;;;AACA,SAASG,cAAT,CAAwBH,EAAxB,EAA4BzC,QAA5B,EAAsC;AAClC,MAAIyC,EAAE,CAACI,OAAP,EAAgB;AACZ,WAAOJ,EAAE,CAACI,OAAH,CAAW7C,QAAX,CAAP,CADY,CAEZ;AACA;AACH;;AACD,MAAI,CAAC8C,QAAQ,CAACC,eAAT,CAAyBC,QAAzB,CAAkCP,EAAlC,CAAL,EAA4C;AACxC,WAAO,IAAP;AACH;;AACD,KAAG;AACC,QAAIQ,cAAc,CAACR,EAAD,EAAKzC,QAAL,CAAlB,EAAkC;AAC9B,aAAOyC,EAAP;AACH;;AACDA,IAAAA,EAAE,GAAIA,EAAE,CAACS,aAAH,IAAoBT,EAAE,CAACC,UAA7B;AACH,GALD,QAKSD,EAAE,KAAK,IAAP,IAAeA,EAAE,CAACU,QAAH,KAAgB,CALxC;;AAMA,SAAO,IAAP;AACH;;AACD,SAASF,cAAT,CAAwBR,EAAxB,EAA4BzC,QAA5B,EAAsC;AAClC,MAAIoD,MAAM,GAAGX,EAAE,CAACY,OAAH,IAAcZ,EAAE,CAACa,eAAjB,IAAoCb,EAAE,CAACc,iBAApD;AACA,SAAOH,MAAM,CAACxG,IAAP,CAAY6F,EAAZ,EAAgBzC,QAAhB,CAAP;AACH,EACD;AACA;AACA;;;AACA,SAASwD,YAAT,CAAsBC,SAAtB,EAAiCzD,QAAjC,EAA2C;AACvC,MAAI0D,UAAU,GAAGD,SAAS,YAAYE,WAArB,GAAmC,CAACF,SAAD,CAAnC,GAAiDA,SAAlE;AACA,MAAIG,UAAU,GAAG,EAAjB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,UAAU,CAACI,MAA/B,EAAuCD,CAAC,IAAI,CAA5C,EAA+C;AAC3C,QAAIR,OAAO,GAAGK,UAAU,CAACG,CAAD,CAAV,CAAcE,gBAAd,CAA+B/D,QAA/B,CAAd;;AACA,SAAK,IAAIgE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,OAAO,CAACS,MAA5B,EAAoCE,CAAC,IAAI,CAAzC,EAA4C;AACxCJ,MAAAA,UAAU,CAACxD,IAAX,CAAgBiD,OAAO,CAACW,CAAD,CAAvB;AACH;AACJ;;AACD,SAAOJ,UAAP;AACH,EACD;AACA;;;AACA,SAASK,kBAAT,CAA4BC,MAA5B,EAAoClE,QAApC,EAA8C;AAC1C,MAAImE,OAAO,GAAGD,MAAM,YAAYP,WAAlB,GAAgC,CAACO,MAAD,CAAhC,GAA2CA,MAAzD;AACA,MAAIN,UAAU,GAAG,EAAjB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,OAAO,CAACL,MAA5B,EAAoCD,CAAC,IAAI,CAAzC,EAA4C;AACxC,QAAIO,UAAU,GAAGD,OAAO,CAACN,CAAD,CAAP,CAAWQ,QAA5B,CADwC,CACF;;AACtC,SAAK,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGI,UAAU,CAACN,MAA/B,EAAuCE,CAAC,IAAI,CAA5C,EAA+C;AAC3C,UAAIM,SAAS,GAAGF,UAAU,CAACJ,CAAD,CAA1B;;AACA,UAAI,CAAChE,QAAD,IAAaiD,cAAc,CAACqB,SAAD,EAAYtE,QAAZ,CAA/B,EAAsD;AAClD4D,QAAAA,UAAU,CAACxD,IAAX,CAAgBkE,SAAhB;AACH;AACJ;AACJ;;AACD,SAAOV,UAAP;AACH,EACD;AACA;;;AACA,IAAIW,aAAa,GAAG,wCAApB;;AACA,SAASC,UAAT,CAAoB/B,EAApB,EAAwBgC,KAAxB,EAA+B;AAC3B,OAAK,IAAIC,QAAT,IAAqBD,KAArB,EAA4B;AACxBE,IAAAA,cAAc,CAAClC,EAAD,EAAKiC,QAAL,EAAeD,KAAK,CAACC,QAAD,CAApB,CAAd;AACH;AACJ;;AACD,SAASC,cAAT,CAAwBlC,EAAxB,EAA4BmC,IAA5B,EAAkClI,GAAlC,EAAuC;AACnC,MAAIA,GAAG,IAAI,IAAX,EAAiB;AACb+F,IAAAA,EAAE,CAACoC,KAAH,CAASD,IAAT,IAAiB,EAAjB;AACH,GAFD,MAGK,IAAI,OAAOlI,GAAP,KAAe,QAAf,IAA2B6H,aAAa,CAACO,IAAd,CAAmBF,IAAnB,CAA/B,EAAyD;AAC1DnC,IAAAA,EAAE,CAACoC,KAAH,CAASD,IAAT,IAAiBlI,GAAG,GAAG,IAAvB;AACH,GAFI,MAGA;AACD+F,IAAAA,EAAE,CAACoC,KAAH,CAASD,IAAT,IAAiBlI,GAAjB;AACH;AACJ,EACD;AACA;AACA;AACA;AACA;;;AACA,SAASqI,qBAAT,CAA+BC,EAA/B,EAAmC;AAC/B,MAAIC,EAAJ,EAAQC,EAAR;;AACA,SAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGD,EAAE,CAACG,YAAT,MAA2B,IAA3B,IAAmCF,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACrI,IAAH,CAAQoI,EAAR,EAAY,CAAZ,CAAlE,MAAsF,IAAtF,IAA8FE,EAAE,KAAK,KAAK,CAA1G,GAA8GA,EAA9G,GAAmHF,EAAE,CAACI,MAA7H;AACH,EAED;;;AACA,SAASC,cAAT,CAAwBL,EAAxB,EAA4B;AACxBA,EAAAA,EAAE,CAACK,cAAH;AACH,EACD;AACA;;;AACA,SAASC,sBAAT,CAAgCtF,QAAhC,EAA0CuF,OAA1C,EAAmD;AAC/C,SAAO,UAAUP,EAAV,EAAc;AACjB,QAAIQ,YAAY,GAAG5C,cAAc,CAACoC,EAAE,CAACI,MAAJ,EAAYpF,QAAZ,CAAjC;;AACA,QAAIwF,YAAJ,EAAkB;AACdD,MAAAA,OAAO,CAAC3I,IAAR,CAAa4I,YAAb,EAA2BR,EAA3B,EAA+BQ,YAA/B;AACH;AACJ,GALD;AAMH;;AACD,SAASC,gBAAT,CAA0BhC,SAA1B,EAAqCiC,SAArC,EAAgD1F,QAAhD,EAA0DuF,OAA1D,EAAmE;AAC/D,MAAII,eAAe,GAAGL,sBAAsB,CAACtF,QAAD,EAAWuF,OAAX,CAA5C;AACA9B,EAAAA,SAAS,CAACmC,gBAAV,CAA2BF,SAA3B,EAAsCC,eAAtC;AACA,SAAO,YAAY;AACflC,IAAAA,SAAS,CAACoC,mBAAV,CAA8BH,SAA9B,EAAyCC,eAAzC;AACH,GAFD;AAGH;;AACD,SAASG,uBAAT,CAAiCrC,SAAjC,EAA4CzD,QAA5C,EAAsD+F,YAAtD,EAAoEC,YAApE,EAAkF;AAC9E,MAAIC,mBAAJ;AACA,SAAOR,gBAAgB,CAAChC,SAAD,EAAY,WAAZ,EAAyBzD,QAAzB,EAAmC,UAAUkG,WAAV,EAAuBV,YAAvB,EAAqC;AAC3F,QAAIA,YAAY,KAAKS,mBAArB,EAA0C;AACtCA,MAAAA,mBAAmB,GAAGT,YAAtB;AACAO,MAAAA,YAAY,CAACG,WAAD,EAAcV,YAAd,CAAZ;;AACA,UAAIW,kBAAkB,GAAG,SAArBA,kBAAqB,CAAUC,YAAV,EAAwB;AAC7CH,QAAAA,mBAAmB,GAAG,IAAtB;AACAD,QAAAA,YAAY,CAACI,YAAD,EAAeZ,YAAf,CAAZ;AACAA,QAAAA,YAAY,CAACK,mBAAb,CAAiC,YAAjC,EAA+CM,kBAA/C;AACH,OAJD,CAHsC,CAQtC;;;AACAX,MAAAA,YAAY,CAACI,gBAAb,CAA8B,YAA9B,EAA4CO,kBAA5C;AACH;AACJ,GAZsB,CAAvB;AAaH,EACD;AACA;;;AACA,IAAIE,oBAAoB,GAAG,CACvB,qBADuB,EAEvB,gBAFuB,EAGvB,gBAHuB,EAIvB,iBAJuB,EAKvB,eALuB,CAA3B,EAOA;;AACA,SAASC,kBAAT,CAA4B7D,EAA5B,EAAgC8D,QAAhC,EAA0C;AACtC,MAAIC,YAAY,GAAG,SAAfA,YAAe,CAAUxB,EAAV,EAAc;AAC7BuB,IAAAA,QAAQ,CAACvB,EAAD,CAAR;AACAqB,IAAAA,oBAAoB,CAACI,OAArB,CAA6B,UAAUC,SAAV,EAAqB;AAC9CjE,MAAAA,EAAE,CAACoD,mBAAH,CAAuBa,SAAvB,EAAkCF,YAAlC;AACH,KAFD;AAGH,GALD;;AAMAH,EAAAA,oBAAoB,CAACI,OAArB,CAA6B,UAAUC,SAAV,EAAqB;AAC9CjE,IAAAA,EAAE,CAACmD,gBAAH,CAAoBc,SAApB,EAA+BF,YAA/B,EAD8C,CACA;AACjD,GAFD;AAGH;;AAED,IAAIG,UAAU,GAAG,CAAjB;;AACA,SAASC,IAAT,GAAgB;AACZD,EAAAA,UAAU,IAAI,CAAd;AACA,SAAOE,MAAM,CAACF,UAAD,CAAb;AACH;AACD;AACA;AACA;;;AACA,SAASG,aAAT,GAAyB;AACrBhE,EAAAA,QAAQ,CAACiE,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,gBAA5B;AACH,EACD;;;AACA,SAASC,YAAT,GAAwB;AACpBpE,EAAAA,QAAQ,CAACiE,IAAT,CAAcC,SAAd,CAAwBtF,MAAxB,CAA+B,gBAA/B;AACH;AACD;AACA;;;AACA,SAASyF,gBAAT,CAA0B1E,EAA1B,EAA8B;AAC1BA,EAAAA,EAAE,CAACuE,SAAH,CAAaC,GAAb,CAAiB,iBAAjB;AACAxE,EAAAA,EAAE,CAACmD,gBAAH,CAAoB,aAApB,EAAmCP,cAAnC;AACH;;AACD,SAAS+B,cAAT,CAAwB3E,EAAxB,EAA4B;AACxBA,EAAAA,EAAE,CAACuE,SAAH,CAAatF,MAAb,CAAoB,iBAApB;AACAe,EAAAA,EAAE,CAACoD,mBAAH,CAAuB,aAAvB,EAAsCR,cAAtC;AACH;AACD;AACA;;;AACA,SAASgC,kBAAT,CAA4B5E,EAA5B,EAAgC;AAC5BA,EAAAA,EAAE,CAACmD,gBAAH,CAAoB,aAApB,EAAmCP,cAAnC;AACH;;AACD,SAASiC,gBAAT,CAA0B7E,EAA1B,EAA8B;AAC1BA,EAAAA,EAAE,CAACoD,mBAAH,CAAuB,aAAvB,EAAsCR,cAAtC;AACH;;AACD,SAASkC,eAAT,CAAyBrL,KAAzB,EAAgC;AAC5B,MAAIsL,KAAK,GAAG,EAAZ;AACA,MAAIC,MAAM,GAAG,EAAb;AACA,MAAI5D,CAAJ;AACA,MAAI6D,KAAJ;;AACA,MAAI,OAAOxL,KAAP,KAAiB,QAArB,EAA+B;AAC3BuL,IAAAA,MAAM,GAAGvL,KAAK,CAACyL,KAAN,CAAY,SAAZ,CAAT;AACH,GAFD,MAGK,IAAI,OAAOzL,KAAP,KAAiB,UAArB,EAAiC;AAClCuL,IAAAA,MAAM,GAAG,CAACvL,KAAD,CAAT;AACH,GAFI,MAGA,IAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AAC3BuL,IAAAA,MAAM,GAAGvL,KAAT;AACH;;AACD,OAAK2H,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG4D,MAAM,CAAC3D,MAAvB,EAA+BD,CAAC,IAAI,CAApC,EAAuC;AACnC6D,IAAAA,KAAK,GAAGD,MAAM,CAAC5D,CAAD,CAAd;;AACA,QAAI,OAAO6D,KAAP,KAAiB,QAArB,EAA+B;AAC3BF,MAAAA,KAAK,CAACpH,IAAN,CAAWsH,KAAK,CAACE,MAAN,CAAa,CAAb,MAAoB,GAApB,GACP;AAAEC,QAAAA,KAAK,EAAEH,KAAK,CAACI,SAAN,CAAgB,CAAhB,CAAT;AAA6BC,QAAAA,KAAK,EAAE,CAAC;AAArC,OADO,GAEP;AAAEF,QAAAA,KAAK,EAAEH,KAAT;AAAgBK,QAAAA,KAAK,EAAE;AAAvB,OAFJ;AAGH,KAJD,MAKK,IAAI,OAAOL,KAAP,KAAiB,UAArB,EAAiC;AAClCF,MAAAA,KAAK,CAACpH,IAAN,CAAW;AAAEtD,QAAAA,IAAI,EAAE4K;AAAR,OAAX;AACH;AACJ;;AACD,SAAOF,KAAP;AACH;;AACD,SAASQ,mBAAT,CAA6BC,IAA7B,EAAmCC,IAAnC,EAAyCC,UAAzC,EAAqD;AACjD,MAAItE,CAAJ;AACA,MAAIuE,GAAJ;;AACA,OAAKvE,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGsE,UAAU,CAACrE,MAA3B,EAAmCD,CAAC,IAAI,CAAxC,EAA2C;AACvCuE,IAAAA,GAAG,GAAGC,kBAAkB,CAACJ,IAAD,EAAOC,IAAP,EAAaC,UAAU,CAACtE,CAAD,CAAvB,CAAxB;;AACA,QAAIuE,GAAJ,EAAS;AACL,aAAOA,GAAP;AACH;AACJ;;AACD,SAAO,CAAP;AACH;;AACD,SAASC,kBAAT,CAA4BJ,IAA5B,EAAkCC,IAAlC,EAAwCI,SAAxC,EAAmD;AAC/C,MAAIA,SAAS,CAACxL,IAAd,EAAoB;AAChB,WAAOwL,SAAS,CAACxL,IAAV,CAAemL,IAAf,EAAqBC,IAArB,CAAP;AACH;;AACD,SAAOK,eAAe,CAACN,IAAI,CAACK,SAAS,CAACT,KAAX,CAAL,EAAwBK,IAAI,CAACI,SAAS,CAACT,KAAX,CAA5B,CAAf,IACAS,SAAS,CAACP,KAAV,IAAmB,CADnB,CAAP;AAEH;;AACD,SAASQ,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AAC3B,MAAI,CAACD,CAAD,IAAM,CAACC,CAAX,EAAc;AACV,WAAO,CAAP;AACH;;AACD,MAAIA,CAAC,IAAI,IAAT,EAAe;AACX,WAAO,CAAC,CAAR;AACH;;AACD,MAAID,CAAC,IAAI,IAAT,EAAe;AACX,WAAO,CAAP;AACH;;AACD,MAAI,OAAOA,CAAP,KAAa,QAAb,IAAyB,OAAOC,CAAP,KAAa,QAA1C,EAAoD;AAChD,WAAO5B,MAAM,CAAC2B,CAAD,CAAN,CAAUE,aAAV,CAAwB7B,MAAM,CAAC4B,CAAD,CAA9B,CAAP;AACH;;AACD,SAAOD,CAAC,GAAGC,CAAX;AACH;AACD;AACA;;;AACA,SAASE,QAAT,CAAkBjM,GAAlB,EAAuBkM,GAAvB,EAA4B;AACxB,MAAIC,CAAC,GAAGhC,MAAM,CAACnK,GAAD,CAAd;AACA,SAAO,MAAMoM,MAAN,CAAa,CAAb,EAAgBF,GAAG,GAAGC,CAAC,CAAC/E,MAAxB,IAAkC+E,CAAzC;AACH;AACD;AACA;;;AACA,SAASE,cAAT,CAAwBP,CAAxB,EAA2BC,CAA3B,EAA8B;AAC1B,SAAOD,CAAC,GAAGC,CAAX;AACH;;AACD,SAASO,KAAT,CAAeC,CAAf,EAAkB;AACd,SAAOA,CAAC,GAAG,CAAJ,KAAU,CAAjB;AACH;AACD;AACA;;;AACA,SAASC,wBAAT,CAAkCC,MAAlC,EAA0C;AACtC,MAAIC,UAAU,GAAGD,MAAM,CAACE,aAAP,CAAqB,6BAArB,CAAjB;AACA,MAAIC,cAAc,GAAGH,MAAM,CAACE,aAAP,CAAqB,+BAArB,CAArB;;AACA,MAAI,CAACD,UAAL,EAAiB;AACb,UAAM,IAAIG,KAAJ,CAAU,4CAAV,CAAN,CADa,CACkD;AAClE;;AACD,MAAI,CAACD,cAAL,EAAqB;AACjB,UAAM,IAAIC,KAAJ,CAAU,8CAAV,CAAN;AACH;;AACD,SAAOJ,MAAM,CAACK,qBAAP,GAA+BC,KAA/B,GAAuCL,UAAU,CAACI,qBAAX,GAAmCC,KAA1E,GAAkF;AACrFH,EAAAA,cAAc,CAACE,qBAAf,GAAuCC,KAD3C;AAEH;;AAED,IAAIC,OAAO,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CAAd,EACA;;AACA,SAASC,QAAT,CAAkBC,CAAlB,EAAqBX,CAArB,EAAwB;AACpB,MAAIT,CAAC,GAAGqB,cAAc,CAACD,CAAD,CAAtB;AACApB,EAAAA,CAAC,CAAC,CAAD,CAAD,IAAQS,CAAC,GAAG,CAAZ;AACA,SAAOa,cAAc,CAACtB,CAAD,CAArB;AACH;;AACD,SAASuB,OAAT,CAAiBH,CAAjB,EAAoBX,CAApB,EAAuB;AACnB,MAAIT,CAAC,GAAGqB,cAAc,CAACD,CAAD,CAAtB;AACApB,EAAAA,CAAC,CAAC,CAAD,CAAD,IAAQS,CAAR;AACA,SAAOa,cAAc,CAACtB,CAAD,CAArB;AACH;;AACD,SAASwB,KAAT,CAAeJ,CAAf,EAAkBX,CAAlB,EAAqB;AACjB,MAAIT,CAAC,GAAGqB,cAAc,CAACD,CAAD,CAAtB;AACApB,EAAAA,CAAC,CAAC,CAAD,CAAD,IAAQS,CAAR;AACA,SAAOa,cAAc,CAACtB,CAAD,CAArB;AACH,EACD;AACA;;;AACA,SAASyB,SAAT,CAAmBC,EAAnB,EAAuBC,EAAvB,EAA2B;AACvB,SAAOC,QAAQ,CAACF,EAAD,EAAKC,EAAL,CAAR,GAAmB,CAA1B;AACH;;AACD,SAASC,QAAT,CAAkBF,EAAlB,EAAsBC,EAAtB,EAA0B;AACtB,SAAO,CAACA,EAAE,CAAC5N,OAAH,KAAe2N,EAAE,CAAC3N,OAAH,EAAhB,KAAiC,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAlD,CAAP;AACH;;AACD,SAAS8N,SAAT,CAAmBH,EAAnB,EAAuBC,EAAvB,EAA2B;AACvB,SAAO,CAACA,EAAE,CAAC5N,OAAH,KAAe2N,EAAE,CAAC3N,OAAH,EAAhB,KAAiC,OAAO,EAAP,GAAY,EAA7C,CAAP;AACH;;AACD,SAAS+N,WAAT,CAAqBJ,EAArB,EAAyBC,EAAzB,EAA6B;AACzB,SAAO,CAACA,EAAE,CAAC5N,OAAH,KAAe2N,EAAE,CAAC3N,OAAH,EAAhB,KAAiC,OAAO,EAAxC,CAAP;AACH;;AACD,SAASgO,WAAT,CAAqBL,EAArB,EAAyBC,EAAzB,EAA6B;AACzB,SAAO,CAACA,EAAE,CAAC5N,OAAH,KAAe2N,EAAE,CAAC3N,OAAH,EAAhB,IAAgC,IAAvC;AACH;;AACD,SAASiO,cAAT,CAAwBN,EAAxB,EAA4BC,EAA5B,EAAgC;AAC5B,MAAIM,KAAK,GAAGC,UAAU,CAACR,EAAD,CAAtB;AACA,MAAIS,KAAK,GAAGD,UAAU,CAACP,EAAD,CAAtB;AACA,SAAO;AACHS,IAAAA,KAAK,EAAE,CADJ;AAEHC,IAAAA,MAAM,EAAE,CAFL;AAGHC,IAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWZ,QAAQ,CAACK,KAAD,EAAQE,KAAR,CAAnB,CAHH;AAIHM,IAAAA,YAAY,EAAGd,EAAE,CAAC5N,OAAH,KAAeoO,KAAK,CAACpO,OAAN,EAAhB,IAAoC2N,EAAE,CAAC3N,OAAH,KAAekO,KAAK,CAAClO,OAAN,EAAnD;AAJX,GAAP;AAMH,EACD;;;AACA,SAAS2O,cAAT,CAAwBhB,EAAxB,EAA4BC,EAA5B,EAAgC;AAC5B,MAAIgB,CAAC,GAAGC,aAAa,CAAClB,EAAD,EAAKC,EAAL,CAArB;;AACA,MAAIgB,CAAC,KAAK,IAAN,IAAcA,CAAC,GAAG,CAAJ,KAAU,CAA5B,EAA+B;AAC3B,WAAOA,CAAC,GAAG,CAAX;AACH;;AACD,SAAO,IAAP;AACH;;AACD,SAASC,aAAT,CAAuBlB,EAAvB,EAA2BC,EAA3B,EAA+B;AAC3B,MAAIkB,QAAQ,CAACnB,EAAD,CAAR,KAAiBmB,QAAQ,CAAClB,EAAD,CAA7B,EAAmC;AAC/B,WAAOY,IAAI,CAACC,KAAL,CAAWZ,QAAQ,CAACF,EAAD,EAAKC,EAAL,CAAnB,CAAP;AACH;;AACD,SAAO,IAAP;AACH,EACD;;;AACA,SAASO,UAAT,CAAoBd,CAApB,EAAuB;AACnB,SAAOE,cAAc,CAAC,CAClBF,CAAC,CAAC0B,cAAF,EADkB,EAElB1B,CAAC,CAAC2B,WAAF,EAFkB,EAGlB3B,CAAC,CAAC4B,UAAF,EAHkB,CAAD,CAArB;AAKH;;AACD,SAASC,WAAT,CAAqB7B,CAArB,EAAwB;AACpB,SAAOE,cAAc,CAAC,CAClBF,CAAC,CAAC0B,cAAF,EADkB,EAElB1B,CAAC,CAAC2B,WAAF,EAFkB,EAGlB3B,CAAC,CAAC4B,UAAF,EAHkB,EAIlB5B,CAAC,CAAC8B,WAAF,EAJkB,CAAD,CAArB;AAMH;;AACD,SAASC,aAAT,CAAuB/B,CAAvB,EAA0B;AACtB,SAAOE,cAAc,CAAC,CAClBF,CAAC,CAAC0B,cAAF,EADkB,EAElB1B,CAAC,CAAC2B,WAAF,EAFkB,EAGlB3B,CAAC,CAAC4B,UAAF,EAHkB,EAIlB5B,CAAC,CAAC8B,WAAF,EAJkB,EAKlB9B,CAAC,CAACgC,aAAF,EALkB,CAAD,CAArB;AAOH;;AACD,SAASC,aAAT,CAAuBjC,CAAvB,EAA0B;AACtB,SAAOE,cAAc,CAAC,CAClBF,CAAC,CAAC0B,cAAF,EADkB,EAElB1B,CAAC,CAAC2B,WAAF,EAFkB,EAGlB3B,CAAC,CAAC4B,UAAF,EAHkB,EAIlB5B,CAAC,CAAC8B,WAAF,EAJkB,EAKlB9B,CAAC,CAACgC,aAAF,EALkB,EAMlBhC,CAAC,CAACkC,aAAF,EANkB,CAAD,CAArB;AAQH,EACD;;;AACA,SAASC,UAAT,CAAoBC,MAApB,EAA4BC,GAA5B,EAAiCC,GAAjC,EAAsC;AAClC,MAAIC,CAAC,GAAGH,MAAM,CAACV,cAAP,EAAR;AACA,MAAIc,CAAC,GAAGC,eAAe,CAACL,MAAD,EAASG,CAAT,EAAYF,GAAZ,EAAiBC,GAAjB,CAAvB;;AACA,MAAIE,CAAC,GAAG,CAAR,EAAW;AACP,WAAOC,eAAe,CAACL,MAAD,EAASG,CAAC,GAAG,CAAb,EAAgBF,GAAhB,EAAqBC,GAArB,CAAtB;AACH;;AACD,MAAII,KAAK,GAAGD,eAAe,CAACL,MAAD,EAASG,CAAC,GAAG,CAAb,EAAgBF,GAAhB,EAAqBC,GAArB,CAA3B;;AACA,MAAII,KAAK,IAAI,CAAb,EAAgB;AACZ,WAAOvB,IAAI,CAACwB,GAAL,CAASH,CAAT,EAAYE,KAAZ,CAAP;AACH;;AACD,SAAOF,CAAP;AACH;;AACD,SAASC,eAAT,CAAyBL,MAAzB,EAAiCQ,IAAjC,EAAuCP,GAAvC,EAA4CC,GAA5C,EAAiD;AAC7C,MAAIO,cAAc,GAAG3C,cAAc,CAAC,CAAC0C,IAAD,EAAO,CAAP,EAAU,IAAIE,eAAe,CAACF,IAAD,EAAOP,GAAP,EAAYC,GAAZ,CAA7B,CAAD,CAAnC;AACA,MAAIS,QAAQ,GAAGjC,UAAU,CAACsB,MAAD,CAAzB;AACA,MAAIlB,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWZ,QAAQ,CAACqC,cAAD,EAAiBE,QAAjB,CAAnB,CAAX;AACA,SAAO5B,IAAI,CAAC6B,KAAL,CAAW9B,IAAI,GAAG,CAAlB,IAAuB,CAA9B,CAJ6C,CAIZ;AACpC,EACD;;;AACA,SAAS4B,eAAT,CAAyBF,IAAzB,EAA+BP,GAA/B,EAAoCC,GAApC,EAAyC;AACrC;AACA,MAAIW,GAAG,GAAG,IAAIZ,GAAJ,GAAUC,GAApB,CAFqC,CAGrC;;AACA,MAAIY,KAAK,GAAG,CAAC,IAAIhD,cAAc,CAAC,CAAC0C,IAAD,EAAO,CAAP,EAAUK,GAAV,CAAD,CAAd,CAA+BE,SAA/B,EAAJ,GAAiDd,GAAlD,IAAyD,CAArE;AACA,SAAO,CAACa,KAAD,GAASD,GAAT,GAAe,CAAtB;AACH,EACD;;;AACA,SAASG,gBAAT,CAA0BC,IAA1B,EAAgC;AAC5B,SAAO,CACHA,IAAI,CAACC,WAAL,EADG,EAEHD,IAAI,CAACE,QAAL,EAFG,EAGHF,IAAI,CAACG,OAAL,EAHG,EAIHH,IAAI,CAACI,QAAL,EAJG,EAKHJ,IAAI,CAACK,UAAL,EALG,EAMHL,IAAI,CAACM,UAAL,EANG,EAOHN,IAAI,CAACO,eAAL,EAPG,CAAP;AASH;;AACD,SAASC,gBAAT,CAA0BjF,CAA1B,EAA6B;AACzB,SAAO,IAAIlM,IAAJ,CAASkM,CAAC,CAAC,CAAD,CAAV,EAAeA,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAvB,EAA0BA,CAAC,CAAC,CAAD,CAAD,IAAQ,IAAR,GAAe,CAAf,GAAmBA,CAAC,CAAC,CAAD,CAA9C,EAAmD;AAC1DA,EAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ,CADD,EACIA,CAAC,CAAC,CAAD,CAAD,IAAQ,CADZ,EACeA,CAAC,CAAC,CAAD,CAAD,IAAQ,CADvB,CAAP;AAEH;;AACD,SAASqB,cAAT,CAAwBoD,IAAxB,EAA8B;AAC1B,SAAO,CACHA,IAAI,CAAC3B,cAAL,EADG,EAEH2B,IAAI,CAAC1B,WAAL,EAFG,EAGH0B,IAAI,CAACzB,UAAL,EAHG,EAIHyB,IAAI,CAACvB,WAAL,EAJG,EAKHuB,IAAI,CAACrB,aAAL,EALG,EAMHqB,IAAI,CAACnB,aAAL,EANG,EAOHmB,IAAI,CAACS,kBAAL,EAPG,CAAP;AASH;;AACD,SAAS5D,cAAT,CAAwBtB,CAAxB,EAA2B;AACvB;AACA;AACA,MAAIA,CAAC,CAAC1E,MAAF,KAAa,CAAjB,EAAoB;AAChB0E,IAAAA,CAAC,GAAGA,CAAC,CAACmF,MAAF,CAAS,CAAC,CAAD,CAAT,CAAJ;AACH;;AACD,SAAO,IAAIrR,IAAJ,CAASA,IAAI,CAACsR,GAAL,CAASC,KAAT,CAAevR,IAAf,EAAqBkM,CAArB,CAAT,CAAP;AACH,EACD;;;AACA,SAASsF,WAAT,CAAqBlE,CAArB,EAAwB;AACpB,SAAO,CAACmE,KAAK,CAACnE,CAAC,CAACrN,OAAF,EAAD,CAAb;AACH;;AACD,SAAS8O,QAAT,CAAkBzB,CAAlB,EAAqB;AACjB,SAAOA,CAAC,CAAC8B,WAAF,KAAkB,IAAlB,GAAyB,EAAzB,GAA8B,EAA9B,GACH9B,CAAC,CAACgC,aAAF,KAAoB,IAApB,GAA2B,EADxB,GAEHhC,CAAC,CAACkC,aAAF,KAAoB,IAFjB,GAGHlC,CAAC,CAAC8D,kBAAF,EAHJ;AAIH;;AAED,SAASM,mBAAT,CAA6BC,KAA7B,EAAoCC,KAApC,EAA2CC,cAA3C,EAA2DC,YAA3D,EAAyE;AACrE,SAAO;AACHC,IAAAA,UAAU,EAAEzH,IAAI,EADb;AAEHqH,IAAAA,KAAK,EAAEA,KAFJ;AAGHC,IAAAA,KAAK,EAAEA,KAHJ;AAIHC,IAAAA,cAAc,EAAEA,cAAc,IAAI,IAAlB,GAAyB,IAAzB,GAAgCA,cAJ7C;AAKHC,IAAAA,YAAY,EAAEA,YAAY,IAAI,IAAhB,GAAuB,IAAvB,GAA8BA;AALzC,GAAP;AAOH;;AAED,IAAItS,cAAc,GAAGC,MAAM,CAACC,SAAP,CAAiBF,cAAtC,EACA;AACA;;AACA,SAASwS,UAAT,CAAoBC,QAApB,EAA8BC,eAA9B,EAA+C;AAC3C,MAAIC,IAAI,GAAG,EAAX;;AACA,MAAID,eAAJ,EAAqB;AACjB,SAAK,IAAIE,MAAT,IAAmBF,eAAnB,EAAoC;AAChC,UAAIG,WAAW,GAAG,EAAlB,CADgC,CAEhC;;AACA,WAAK,IAAI9K,CAAC,GAAG0K,QAAQ,CAACzK,MAAT,GAAkB,CAA/B,EAAkCD,CAAC,IAAI,CAAvC,EAA0CA,CAAC,IAAI,CAA/C,EAAkD;AAC9C,YAAInH,GAAG,GAAG6R,QAAQ,CAAC1K,CAAD,CAAR,CAAY6K,MAAZ,CAAV;;AACA,YAAI,OAAOhS,GAAP,KAAe,QAAf,IAA2BA,GAA/B,EAAoC;AAAE;AAClCiS,UAAAA,WAAW,CAACC,OAAZ,CAAoBlS,GAApB;AACH,SAFD,MAGK,IAAIA,GAAG,KAAKmS,SAAZ,EAAuB;AACxBJ,UAAAA,IAAI,CAACC,MAAD,CAAJ,GAAehS,GAAf,CADwB,CACJ;;AACpB;AACH;AACJ,OAZ+B,CAahC;;;AACA,UAAIiS,WAAW,CAAC7K,MAAhB,EAAwB;AACpB2K,QAAAA,IAAI,CAACC,MAAD,CAAJ,GAAeJ,UAAU,CAACK,WAAD,CAAzB;AACH;AACJ;AACJ,GArB0C,CAsB3C;;;AACA,OAAK,IAAI9K,CAAC,GAAG0K,QAAQ,CAACzK,MAAT,GAAkB,CAA/B,EAAkCD,CAAC,IAAI,CAAvC,EAA0CA,CAAC,IAAI,CAA/C,EAAkD;AAC9C,QAAIY,KAAK,GAAG8J,QAAQ,CAAC1K,CAAD,CAApB;;AACA,SAAK,IAAIiL,MAAT,IAAmBrK,KAAnB,EAA0B;AACtB,UAAI,EAAEqK,MAAM,IAAIL,IAAZ,CAAJ,EAAuB;AAAE;AACrBA,QAAAA,IAAI,CAACK,MAAD,CAAJ,GAAerK,KAAK,CAACqK,MAAD,CAApB;AACH;AACJ;AACJ;;AACD,SAAOL,IAAP;AACH;;AACD,SAASM,UAAT,CAAoBC,IAApB,EAA0BlS,IAA1B,EAAgC;AAC5B,MAAImS,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIjS,GAAT,IAAgBgS,IAAhB,EAAsB;AAClB,QAAIlS,IAAI,CAACkS,IAAI,CAAChS,GAAD,CAAL,EAAYA,GAAZ,CAAR,EAA0B;AACtBiS,MAAAA,QAAQ,CAACjS,GAAD,CAAR,GAAgBgS,IAAI,CAAChS,GAAD,CAApB;AACH;AACJ;;AACD,SAAOiS,QAAP;AACH;;AACD,SAASzS,OAAT,CAAiBwS,IAAjB,EAAuBlS,IAAvB,EAA6B;AACzB,MAAIoS,OAAO,GAAG,EAAd;;AACA,OAAK,IAAIlS,GAAT,IAAgBgS,IAAhB,EAAsB;AAClBE,IAAAA,OAAO,CAAClS,GAAD,CAAP,GAAeF,IAAI,CAACkS,IAAI,CAAChS,GAAD,CAAL,EAAYA,GAAZ,CAAnB;AACH;;AACD,SAAOkS,OAAP;AACH;;AACD,SAASC,WAAT,CAAqB3G,CAArB,EAAwB;AACpB,MAAIwG,IAAI,GAAG,EAAX;;AACA,OAAK,IAAII,EAAE,GAAG,CAAT,EAAYC,GAAG,GAAG7G,CAAvB,EAA0B4G,EAAE,GAAGC,GAAG,CAACvL,MAAnC,EAA2CsL,EAAE,EAA7C,EAAiD;AAC7C,QAAIE,IAAI,GAAGD,GAAG,CAACD,EAAD,CAAd;AACAJ,IAAAA,IAAI,CAACM,IAAD,CAAJ,GAAa,IAAb;AACH;;AACD,SAAON,IAAP;AACH;;AACD,SAASO,kBAAT,CAA4B/G,CAA5B,EAA+B1L,IAA/B,EAAqC;AACjC,MAAIkS,IAAI,GAAG,EAAX;;AACA,OAAK,IAAInL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2E,CAAC,CAAC1E,MAAtB,EAA8BD,CAAC,IAAI,CAAnC,EAAsC;AAClC,QAAI2L,KAAK,GAAG1S,IAAI,CAAC0L,CAAC,CAAC3E,CAAD,CAAF,EAAOA,CAAP,CAAhB;AACAmL,IAAAA,IAAI,CAACQ,KAAK,CAAC,CAAD,CAAN,CAAJ,GAAiBA,KAAK,CAAC,CAAD,CAAtB;AACH;;AACD,SAAOR,IAAP;AACH;;AACD,SAASS,iBAAT,CAA2BC,GAA3B,EAAgC;AAC5B,MAAIlH,CAAC,GAAG,EAAR;;AACA,OAAK,IAAIxL,GAAT,IAAgB0S,GAAhB,EAAqB;AACjBlH,IAAAA,CAAC,CAACpI,IAAF,CAAOsP,GAAG,CAAC1S,GAAD,CAAV;AACH;;AACD,SAAOwL,CAAP;AACH;;AACD,SAASmH,YAAT,CAAsB1H,IAAtB,EAA4BC,IAA5B,EAAkC;AAC9B,MAAID,IAAI,KAAKC,IAAb,EAAmB;AACf,WAAO,IAAP;AACH;;AACD,OAAK,IAAIlL,GAAT,IAAgBiL,IAAhB,EAAsB;AAClB,QAAInM,cAAc,CAACc,IAAf,CAAoBqL,IAApB,EAA0BjL,GAA1B,CAAJ,EAAoC;AAChC,UAAI,EAAEA,GAAG,IAAIkL,IAAT,CAAJ,EAAoB;AAChB,eAAO,KAAP;AACH;AACJ;AACJ;;AACD,OAAK,IAAIlL,GAAT,IAAgBkL,IAAhB,EAAsB;AAClB,QAAIpM,cAAc,CAACc,IAAf,CAAoBsL,IAApB,EAA0BlL,GAA1B,CAAJ,EAAoC;AAChC,UAAIiL,IAAI,CAACjL,GAAD,CAAJ,KAAckL,IAAI,CAAClL,GAAD,CAAtB,EAA6B;AACzB,eAAO,KAAP;AACH;AACJ;AACJ;;AACD,SAAO,IAAP;AACH;;AACD,SAAS4S,eAAT,CAAyB3H,IAAzB,EAA+BC,IAA/B,EAAqC;AACjC,MAAI7J,IAAI,GAAG,EAAX;;AACA,OAAK,IAAIrB,GAAT,IAAgBiL,IAAhB,EAAsB;AAClB,QAAInM,cAAc,CAACc,IAAf,CAAoBqL,IAApB,EAA0BjL,GAA1B,CAAJ,EAAoC;AAChC,UAAI,EAAEA,GAAG,IAAIkL,IAAT,CAAJ,EAAoB;AAChB7J,QAAAA,IAAI,CAAC+B,IAAL,CAAUpD,GAAV;AACH;AACJ;AACJ;;AACD,OAAK,IAAIA,GAAT,IAAgBkL,IAAhB,EAAsB;AAClB,QAAIpM,cAAc,CAACc,IAAf,CAAoBsL,IAApB,EAA0BlL,GAA1B,CAAJ,EAAoC;AAChC,UAAIiL,IAAI,CAACjL,GAAD,CAAJ,KAAckL,IAAI,CAAClL,GAAD,CAAtB,EAA6B;AACzBqB,QAAAA,IAAI,CAAC+B,IAAL,CAAUpD,GAAV;AACH;AACJ;AACJ;;AACD,SAAOqB,IAAP;AACH;;AACD,SAASwR,WAAT,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,aAAzC,EAAwD;AACpD,MAAIA,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,IAAAA,aAAa,GAAG,EAAhB;AAAqB;;AACrD,MAAIF,QAAQ,KAAKC,QAAjB,EAA2B;AACvB,WAAO,IAAP;AACH;;AACD,OAAK,IAAI/S,GAAT,IAAgB+S,QAAhB,EAA0B;AACtB,QAAI/S,GAAG,IAAI8S,QAAP,IAAmBG,cAAc,CAACH,QAAQ,CAAC9S,GAAD,CAAT,EAAgB+S,QAAQ,CAAC/S,GAAD,CAAxB,EAA+BgT,aAAa,CAAChT,GAAD,CAA5C,CAArC,EAAyF,CAAzF,KACK;AACD,aAAO,KAAP;AACH;AACJ,GAVmD,CAWpD;;;AACA,OAAK,IAAIA,GAAT,IAAgB8S,QAAhB,EAA0B;AACtB,QAAI,EAAE9S,GAAG,IAAI+S,QAAT,CAAJ,EAAwB;AACpB,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH;AACD;AACA;AACA;;;AACA,SAASE,cAAT,CAAwBC,IAAxB,EAA8BC,IAA9B,EAAoCC,UAApC,EAAgD;AAC5C,MAAIF,IAAI,KAAKC,IAAT,IAAiBC,UAAU,KAAK,IAApC,EAA0C;AACtC,WAAO,IAAP;AACH;;AACD,MAAIA,UAAJ,EAAgB;AACZ,WAAOA,UAAU,CAACF,IAAD,EAAOC,IAAP,CAAjB;AACH;;AACD,SAAO,KAAP;AACH;;AACD,SAASE,eAAT,CAAyBrB,IAAzB,EAA+BsB,UAA/B,EAA2CC,QAA3C,EAAqDC,IAArD,EAA2D;AACvD,MAAIF,UAAU,KAAK,KAAK,CAAxB,EAA2B;AAAEA,IAAAA,UAAU,GAAG,CAAb;AAAiB;;AAC9C,MAAIE,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,CAAP;AAAW;;AAClC,MAAIC,GAAG,GAAG,EAAV;;AACA,MAAIF,QAAQ,IAAI,IAAhB,EAAsB;AAClBA,IAAAA,QAAQ,GAAGxU,MAAM,CAACsC,IAAP,CAAY2Q,IAAZ,EAAkBlL,MAA7B;AACH;;AACD,OAAK,IAAID,CAAC,GAAGyM,UAAb,EAAyBzM,CAAC,GAAG0M,QAA7B,EAAuC1M,CAAC,IAAI2M,IAA5C,EAAkD;AAC9C,QAAI9T,GAAG,GAAGsS,IAAI,CAACnL,CAAD,CAAd;;AACA,QAAInH,GAAG,KAAKmS,SAAZ,EAAuB;AAAE;AACrB4B,MAAAA,GAAG,CAACrQ,IAAJ,CAAS1D,GAAT;AACH;AACJ;;AACD,SAAO+T,GAAP;AACH;;AAED,SAASC,cAAT,CAAwBC,OAAxB,EAAiCC,aAAjC,EAAgDC,OAAhD,EAAyDC,cAAzD,EAAyE;AACrE,OAAK,IAAIjN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiN,cAAc,CAAChN,MAAnC,EAA2CD,CAAC,IAAI,CAAhD,EAAmD;AAC/C,QAAIkN,MAAM,GAAGD,cAAc,CAACjN,CAAD,CAAd,CAAkBmN,KAAlB,CAAwBL,OAAxB,EAAiCE,OAAjC,CAAb;;AACA,QAAIE,MAAJ,EAAY;AACR,UAAIE,MAAM,GAAGN,OAAO,CAACM,MAArB;;AACA,UAAIA,MAAM,IAAI,IAAd,EAAoB;AAChBA,QAAAA,MAAM,GAAGL,aAAT;;AACA,YAAIK,MAAM,IAAI,IAAd,EAAoB;AAChBA,UAAAA,MAAM,GAAGF,MAAM,CAACG,WAAhB;;AACA,cAAID,MAAM,IAAI,IAAd,EAAoB;AAChBA,YAAAA,MAAM,GAAG,KAAT;AACH;AACJ;AACJ;;AACD,aAAO;AACHA,QAAAA,MAAM,EAAEA,MADL;AAEHE,QAAAA,QAAQ,EAAEJ,MAAM,CAACI,QAFd;AAGHC,QAAAA,QAAQ,EAAEL,MAAM,CAACK,QAHd;AAIHC,QAAAA,MAAM,EAAExN;AAJL,OAAP;AAMH;AACJ;;AACD,SAAO,IAAP;AACH;;AACD,SAASyN,eAAT,CAAyBC,UAAzB,EAAqCC,YAArC,EAAmDhQ,OAAnD,EAA4D;AACxD,MAAIqP,OAAO,GAAGrP,OAAO,CAACqP,OAAtB;AAAA,MAA+BY,WAAW,GAAGjQ,OAAO,CAACiQ,WAArD;AAAA,MAAkE9T,OAAO,GAAG6D,OAAO,CAAC7D,OAApF;AACA,MAAI+T,IAAI,GAAGH,UAAU,CAACG,IAAtB;AAAA,MAA4BC,SAAS,GAAGJ,UAAU,CAACI,SAAnD,CAFwD,CAGxD;AACA;;AACAA,EAAAA,SAAS,GAAG5C,UAAU,CAAC4C,SAAD,EAAY,UAAUC,QAAV,EAAoB;AAAE,WAAO,CAACF,IAAI,CAACE,QAAQ,CAAC3D,KAAV,CAAJ,CAAqB4D,YAA7B;AAA4C,GAA9E,CAAtB;;AACA,OAAK,IAAI5D,KAAT,IAAkByD,IAAlB,EAAwB;AACpB,QAAII,GAAG,GAAGJ,IAAI,CAACzD,KAAD,CAAd;;AACA,QAAI6D,GAAG,CAACD,YAAR,EAAsB;AAClB,UAAIV,QAAQ,GAAGW,GAAG,CAACD,YAAJ,CAAiBV,QAAhC;;AACA,UAAI,CAACA,QAAL,EAAe;AACXA,QAAAA,QAAQ,GAAGW,GAAG,CAACb,MAAJ,GACPtT,OAAO,CAACoU,0BADD,GAEPpU,OAAO,CAACqU,yBAFZ;AAGH;;AACD,UAAIC,MAAM,GAAGC,qBAAqB,CAACJ,GAAD,EAAMX,QAAN,EAAgBK,YAAhB,EAA8BX,OAA9B,EAAuCY,WAAW,CAACX,cAAnD,CAAlC;;AACA,WAAK,IAAI1B,EAAE,GAAG,CAAT,EAAY+C,QAAQ,GAAGF,MAA5B,EAAoC7C,EAAE,GAAG+C,QAAQ,CAACrO,MAAlD,EAA0DsL,EAAE,EAA5D,EAAgE;AAC5D,YAAIgD,KAAK,GAAGD,QAAQ,CAAC/C,EAAD,CAApB;AACA,YAAIwC,QAAQ,GAAG5D,mBAAmB,CAACC,KAAD,EAAQ;AACtCmE,UAAAA,KAAK,EAAEA,KAD+B;AAEtCC,UAAAA,GAAG,EAAExB,OAAO,CAAC5J,GAAR,CAAYmL,KAAZ,EAAmBjB,QAAnB;AAFiC,SAAR,CAAlC;AAIAQ,QAAAA,SAAS,CAACC,QAAQ,CAACvD,UAAV,CAAT,GAAiCuD,QAAjC;AACH;AACJ;AACJ;;AACD,SAAO;AAAEF,IAAAA,IAAI,EAAEA,IAAR;AAAcC,IAAAA,SAAS,EAAEA;AAAzB,GAAP;AACH;AACD;AACA;AACA;;;AACA,SAASO,qBAAT,CAA+BI,QAA/B,EAAyCnB,QAAzC,EAAmDK,YAAnD,EAAiEX,OAAjE,EAA0EC,cAA1E,EAA0F;AACtF,MAAIyB,OAAO,GAAGzB,cAAc,CAACwB,QAAQ,CAACT,YAAT,CAAsBR,MAAvB,CAA5B;AACA,MAAImB,OAAO,GAAGD,OAAO,CAACE,MAAR,CAAeH,QAAQ,CAACT,YAAT,CAAsBT,QAArC,EAA+C;AACzDgB,IAAAA,KAAK,EAAEvB,OAAO,CAAC6B,QAAR,CAAiBlB,YAAY,CAACY,KAA9B,EAAqCjB,QAArC,CADkD;AAEzDkB,IAAAA,GAAG,EAAEb,YAAY,CAACa;AAFuC,GAA/C,EAGXxB,OAHW,CAAd,CAFsF,CAMtF;;AACA,MAAIyB,QAAQ,CAACrB,MAAb,EAAqB;AACjBuB,IAAAA,OAAO,GAAGA,OAAO,CAACnW,GAAR,CAAYqO,UAAZ,CAAV;AACH;;AACD,SAAO8H,OAAP;AACH;;AAED,IAAIG,cAAc,GAAG,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,EAA4B,cAA5B,CAArB;AACA,IAAIC,QAAQ,GAAG,0DAAf,EACA;;AACA,SAASC,cAAT,CAAwB3W,KAAxB,EAA+B4W,IAA/B,EAAqC;AACjC,MAAI7N,EAAJ;;AACA,MAAI,OAAO/I,KAAP,KAAiB,QAArB,EAA+B;AAC3B,WAAO6W,WAAW,CAAC7W,KAAD,CAAlB;AACH;;AACD,MAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AACtC,WAAO8W,WAAW,CAAC9W,KAAD,CAAlB;AACH;;AACD,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,WAAO8W,WAAW,EAAE/N,EAAE,GAAG,EAAL,EAASA,EAAE,CAAC6N,IAAI,IAAI,cAAT,CAAF,GAA6B5W,KAAtC,EAA6C+I,EAA/C,EAAlB;AACH;;AACD,SAAO,IAAP;AACH;;AACD,SAAS8N,WAAT,CAAqBlK,CAArB,EAAwB;AACpB,MAAIe,CAAC,GAAGgJ,QAAQ,CAACK,IAAT,CAAcpK,CAAd,CAAR;;AACA,MAAIe,CAAJ,EAAO;AACH,QAAIsJ,IAAI,GAAGtJ,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAR,GAAY,CAAvB;AACA,WAAO;AACHgB,MAAAA,KAAK,EAAE,CADJ;AAEHC,MAAAA,MAAM,EAAE,CAFL;AAGHC,MAAAA,IAAI,EAAEoI,IAAI,IAAItJ,CAAC,CAAC,CAAD,CAAD,GAAOuJ,QAAQ,CAACvJ,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAAhC,CAHP;AAIHqB,MAAAA,YAAY,EAAEiI,IAAI,IAAI,CAACtJ,CAAC,CAAC,CAAD,CAAD,GAAOuJ,QAAQ,CAACvJ,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAA7B,IAAkC,EAAlC,GAAuC,EAAvC,GAA4C,IAA5C,GAAmD;AACrE,OAACA,CAAC,CAAC,CAAD,CAAD,GAAOuJ,QAAQ,CAACvJ,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAA7B,IAAkC,EAAlC,GAAuC,IADrB,GAC4B;AAC9C,OAACA,CAAC,CAAC,CAAD,CAAD,GAAOuJ,QAAQ,CAACvJ,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAA7B,IAAkC,IAFhB,KAEuB;AACxCA,MAAAA,CAAC,CAAC,CAAD,CAAD,GAAOuJ,QAAQ,CAACvJ,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAHX,CAAJ,CAGkB;AAHlB;AAJf,KAAP;AAUH;;AACD,SAAO,IAAP;AACH;;AACD,SAASoJ,WAAT,CAAqBtD,GAArB,EAA0B;AACtB,MAAIyB,QAAQ,GAAG;AACXvG,IAAAA,KAAK,EAAE8E,GAAG,CAAC9E,KAAJ,IAAa8E,GAAG,CAAClD,IAAjB,IAAyB,CADrB;AAEX3B,IAAAA,MAAM,EAAE6E,GAAG,CAAC7E,MAAJ,IAAc6E,GAAG,CAAC0D,KAAlB,IAA2B,CAFxB;AAGXtI,IAAAA,IAAI,EAAE4E,GAAG,CAAC5E,IAAJ,IAAY4E,GAAG,CAAC2D,GAAhB,IAAuB,CAHlB;AAIXpI,IAAAA,YAAY,EAAE,CAACyE,GAAG,CAAC4D,KAAJ,IAAa5D,GAAG,CAAC6D,IAAjB,IAAyB,CAA1B,IAA+B,EAA/B,GAAoC,EAApC,GAAyC,IAAzC,GAAgD;AAC1D,KAAC7D,GAAG,CAAC8D,OAAJ,IAAe9D,GAAG,CAAC+D,MAAnB,IAA6B,CAA9B,IAAmC,EAAnC,GAAwC,IAD9B,GACqC;AAC/C,KAAC/D,GAAG,CAACgE,OAAJ,IAAehE,GAAG,CAACiE,MAAnB,IAA6B,CAA9B,IAAmC,IAFzB,KAEgC;AACzCjE,IAAAA,GAAG,CAACzE,YAAJ,IAAoByE,GAAG,CAACkE,WAAxB,IAAuClE,GAAG,CAACmE,EAA3C,IAAiD,CAHxC,CAJH,CAO+C;;AAP/C,GAAf;AASA,MAAIC,KAAK,GAAGpE,GAAG,CAACoE,KAAJ,IAAapE,GAAG,CAACqE,IAA7B;;AACA,MAAID,KAAJ,EAAW;AACP3C,IAAAA,QAAQ,CAACrG,IAAT,IAAiBgJ,KAAK,GAAG,CAAzB;AACA3C,IAAAA,QAAQ,CAAC6C,cAAT,GAA0B,IAA1B;AACH;;AACD,SAAO7C,QAAP;AACH,EACD;;;AACA,SAAS8C,cAAT,CAAwBC,EAAxB,EAA4BC,EAA5B,EAAgC;AAC5B,SAAOD,EAAE,CAACtJ,KAAH,KAAauJ,EAAE,CAACvJ,KAAhB,IACHsJ,EAAE,CAACrJ,MAAH,KAAcsJ,EAAE,CAACtJ,MADd,IAEHqJ,EAAE,CAACpJ,IAAH,KAAYqJ,EAAE,CAACrJ,IAFZ,IAGHoJ,EAAE,CAACjJ,YAAH,KAAoBkJ,EAAE,CAAClJ,YAH3B;AAIH;;AACD,SAASmJ,WAAT,CAAqBC,GAArB,EAA0B;AACtB,MAAI,CAACA,GAAG,CAACzJ,KAAL,IAAc,CAACyJ,GAAG,CAACxJ,MAAnB,IAA6B,CAACwJ,GAAG,CAACpJ,YAAtC,EAAoD;AAChD,WAAOoJ,GAAG,CAACvJ,IAAX;AACH;;AACD,SAAO,CAAP;AACH,EACD;;;AACA,SAASwJ,YAAT,CAAsBJ,EAAtB,EAA0BC,EAA1B,EAA8B;AAC1B,SAAO;AACHvJ,IAAAA,KAAK,EAAEsJ,EAAE,CAACtJ,KAAH,GAAWuJ,EAAE,CAACvJ,KADlB;AAEHC,IAAAA,MAAM,EAAEqJ,EAAE,CAACrJ,MAAH,GAAYsJ,EAAE,CAACtJ,MAFpB;AAGHC,IAAAA,IAAI,EAAEoJ,EAAE,CAACpJ,IAAH,GAAUqJ,EAAE,CAACrJ,IAHhB;AAIHG,IAAAA,YAAY,EAAEiJ,EAAE,CAACjJ,YAAH,GAAkBkJ,EAAE,CAAClJ;AAJhC,GAAP;AAMH;;AACD,SAASsJ,iBAAT,CAA2BJ,EAA3B,EAA+BD,EAA/B,EAAmC;AAC/B,SAAO;AACHtJ,IAAAA,KAAK,EAAEuJ,EAAE,CAACvJ,KAAH,GAAWsJ,EAAE,CAACtJ,KADlB;AAEHC,IAAAA,MAAM,EAAEsJ,EAAE,CAACtJ,MAAH,GAAYqJ,EAAE,CAACrJ,MAFpB;AAGHC,IAAAA,IAAI,EAAEqJ,EAAE,CAACrJ,IAAH,GAAUoJ,EAAE,CAACpJ,IAHhB;AAIHG,IAAAA,YAAY,EAAEkJ,EAAE,CAAClJ,YAAH,GAAkBiJ,EAAE,CAACjJ;AAJhC,GAAP;AAMH;;AACD,SAASuJ,gBAAT,CAA0BrJ,CAA1B,EAA6BlC,CAA7B,EAAgC;AAC5B,SAAO;AACH2B,IAAAA,KAAK,EAAEO,CAAC,CAACP,KAAF,GAAU3B,CADd;AAEH4B,IAAAA,MAAM,EAAEM,CAAC,CAACN,MAAF,GAAW5B,CAFhB;AAGH6B,IAAAA,IAAI,EAAEK,CAAC,CAACL,IAAF,GAAS7B,CAHZ;AAIHgC,IAAAA,YAAY,EAAEE,CAAC,CAACF,YAAF,GAAiBhC;AAJ5B,GAAP;AAMH,EACD;AACA;;;AACA,SAASwL,YAAT,CAAsBJ,GAAtB,EAA2B;AACvB,SAAOK,WAAW,CAACL,GAAD,CAAX,GAAmB,GAA1B;AACH;;AACD,SAASM,aAAT,CAAuBN,GAAvB,EAA4B;AACxB,SAAOK,WAAW,CAACL,GAAD,CAAX,GAAmB,EAA1B;AACH;;AACD,SAASK,WAAT,CAAqBL,GAArB,EAA0B;AACtB,SAAOO,SAAS,CAACP,GAAD,CAAT,GAAiB,KAAxB;AACH;;AACD,SAASQ,cAAT,CAAwBR,GAAxB,EAA6B;AACzB,SAAOO,SAAS,CAACP,GAAD,CAAT,IAAkB,OAAO,EAAzB,CAAP;AACH;;AACD,SAASS,cAAT,CAAwBT,GAAxB,EAA6B;AACzB,SAAOO,SAAS,CAACP,GAAD,CAAT,GAAiB,IAAxB;AACH;;AACD,SAASO,SAAT,CAAmBP,GAAnB,EAAwB;AACpB,SAAOA,GAAG,CAACzJ,KAAJ,IAAa,MAAM,KAAnB,IACHyJ,GAAG,CAACxJ,MAAJ,IAAc,KAAK,KAAnB,CADG,GAEHwJ,GAAG,CAACvJ,IAAJ,GAAW,KAFR,GAGHuJ,GAAG,CAACpJ,YAHR;AAIH,EACD;;;AACA,SAAS8J,oBAAT,CAA8BC,SAA9B,EAAyCC,WAAzC,EAAsD;AAClD,MAAIxE,GAAG,GAAG,IAAV;;AACA,OAAK,IAAI5M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8O,cAAc,CAAC7O,MAAnC,EAA2CD,CAAC,IAAI,CAAhD,EAAmD;AAC/C,QAAIiP,IAAI,GAAGH,cAAc,CAAC9O,CAAD,CAAzB;;AACA,QAAIoR,WAAW,CAACnC,IAAD,CAAf,EAAuB;AACnB,UAAIoC,QAAQ,GAAGF,SAAS,CAAClC,IAAD,CAAT,GAAkBmC,WAAW,CAACnC,IAAD,CAA5C;;AACA,UAAI,CAAC9J,KAAK,CAACkM,QAAD,CAAN,IAAqBzE,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAKyE,QAAjD,EAA4D;AACxD,eAAO,IAAP;AACH;;AACDzE,MAAAA,GAAG,GAAGyE,QAAN;AACH,KAND,MAOK,IAAIF,SAAS,CAAClC,IAAD,CAAb,EAAqB;AACtB;AACA,aAAO,IAAP;AACH;AACJ;;AACD,SAAOrC,GAAP;AACH;;AACD,SAAS0E,2BAAT,CAAqCd,GAArC,EAA0C;AACtC,MAAIR,EAAE,GAAGQ,GAAG,CAACpJ,YAAb;;AACA,MAAI4I,EAAJ,EAAQ;AACJ,QAAIA,EAAE,GAAG,IAAL,KAAc,CAAlB,EAAqB;AACjB,aAAO;AAAEf,QAAAA,IAAI,EAAE,aAAR;AAAuBsC,QAAAA,KAAK,EAAEvB;AAA9B,OAAP;AACH;;AACD,QAAIA,EAAE,IAAI,OAAO,EAAX,CAAF,KAAqB,CAAzB,EAA4B;AACxB,aAAO;AAAEf,QAAAA,IAAI,EAAE,QAAR;AAAkBsC,QAAAA,KAAK,EAAEvB,EAAE,GAAG;AAA9B,OAAP;AACH;;AACD,QAAIA,EAAE,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAF,KAA0B,CAA9B,EAAiC;AAC7B,aAAO;AAAEf,QAAAA,IAAI,EAAE,QAAR;AAAkBsC,QAAAA,KAAK,EAAEvB,EAAE,IAAI,OAAO,EAAX;AAA3B,OAAP;AACH;;AACD,QAAIA,EAAJ,EAAQ;AACJ,aAAO;AAAEf,QAAAA,IAAI,EAAE,MAAR;AAAgBsC,QAAAA,KAAK,EAAEvB,EAAE,IAAI,OAAO,EAAP,GAAY,EAAhB;AAAzB,OAAP;AACH;AACJ;;AACD,MAAIQ,GAAG,CAACvJ,IAAR,EAAc;AACV,QAAIuJ,GAAG,CAACL,cAAJ,IAAsBK,GAAG,CAACvJ,IAAJ,GAAW,CAAX,KAAiB,CAA3C,EAA8C;AAC1C,aAAO;AAAEgI,QAAAA,IAAI,EAAE,MAAR;AAAgBsC,QAAAA,KAAK,EAAEf,GAAG,CAACvJ,IAAJ,GAAW;AAAlC,OAAP;AACH;;AACD,WAAO;AAAEgI,MAAAA,IAAI,EAAE,KAAR;AAAesC,MAAAA,KAAK,EAAEf,GAAG,CAACvJ;AAA1B,KAAP;AACH;;AACD,MAAIuJ,GAAG,CAACxJ,MAAR,EAAgB;AACZ,WAAO;AAAEiI,MAAAA,IAAI,EAAE,OAAR;AAAiBsC,MAAAA,KAAK,EAAEf,GAAG,CAACxJ;AAA5B,KAAP;AACH;;AACD,MAAIwJ,GAAG,CAACzJ,KAAR,EAAe;AACX,WAAO;AAAEkI,MAAAA,IAAI,EAAE,MAAR;AAAgBsC,MAAAA,KAAK,EAAEf,GAAG,CAACzJ;AAA3B,KAAP;AACH;;AACD,SAAO;AAAEkI,IAAAA,IAAI,EAAE,aAAR;AAAuBsC,IAAAA,KAAK,EAAE;AAA9B,GAAP;AACH,EAED;;;AACA,SAASC,cAAT,CAAwBrJ,MAAxB,EAAgCsJ,cAAhC,EAAgDC,aAAhD,EAA+D;AAC3D,MAAIA,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,IAAAA,aAAa,GAAG,KAAhB;AAAwB;;AACxD,MAAI1M,CAAC,GAAGmD,MAAM,CAACwJ,WAAP,EAAR;AACA3M,EAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAU,MAAV,EAAkB,EAAlB,CAAJ;;AACA,MAAIF,aAAJ,EAAmB;AACf1M,IAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAU,YAAV,EAAwB,EAAxB,CAAJ;AACH;;AACD,MAAI5M,CAAC,CAAC/E,MAAF,GAAW,EAAf,EAAmB;AAAE;AACjB,QAAIwR,cAAc,IAAI,IAAtB,EAA4B;AACxBzM,MAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAU,GAAV,EAAe,EAAf,CAAJ;AACH,KAFD,MAGK,IAAIH,cAAc,KAAK,CAAvB,EAA0B;AAC3BzM,MAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAU,GAAV,EAAeC,oBAAoB,CAACJ,cAAD,EAAiB,IAAjB,CAAnC,CAAJ;AACH,KANc,CAOf;;AACH;;AACD,SAAOzM,CAAP;AACH,EACD;AACA;AACA;;;AACA,SAAS8M,eAAT,CAAyB3J,MAAzB,EAAiC;AAC7B,SAAOA,MAAM,CAACwJ,WAAP,GAAqBC,OAArB,CAA6B,MAA7B,EAAqC,EAArC,CAAP;AACH,EACD;;;AACA,SAASG,mBAAT,CAA6B5J,MAA7B,EAAqC;AACjC,SAAOrD,QAAQ,CAACqD,MAAM,CAACN,WAAP,EAAD,EAAuB,CAAvB,CAAR,GAAoC,GAApC,GACH/C,QAAQ,CAACqD,MAAM,CAACJ,aAAP,EAAD,EAAyB,CAAzB,CADL,GACmC,GADnC,GAEHjD,QAAQ,CAACqD,MAAM,CAACF,aAAP,EAAD,EAAyB,CAAzB,CAFZ;AAGH;;AACD,SAAS4J,oBAAT,CAA8BlC,OAA9B,EAAuCqC,KAAvC,EAA8C;AAC1C,MAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,IAAAA,KAAK,GAAG,KAAR;AAAgB;;AACxC,MAAI3C,IAAI,GAAGM,OAAO,GAAG,CAAV,GAAc,GAAd,GAAoB,GAA/B;AACA,MAAIsC,GAAG,GAAG/K,IAAI,CAAC+K,GAAL,CAAStC,OAAT,CAAV;AACA,MAAIF,KAAK,GAAGvI,IAAI,CAAC6B,KAAL,CAAWkJ,GAAG,GAAG,EAAjB,CAAZ;AACA,MAAIC,IAAI,GAAGhL,IAAI,CAACC,KAAL,CAAW8K,GAAG,GAAG,EAAjB,CAAX;;AACA,MAAID,KAAJ,EAAW;AACP,WAAO3C,IAAI,GAAGvK,QAAQ,CAAC2K,KAAD,EAAQ,CAAR,CAAf,GAA4B,GAA5B,GAAkC3K,QAAQ,CAACoN,IAAD,EAAO,CAAP,CAAjD;AACH;;AACD,SAAO,QAAQ7C,IAAR,GAAeI,KAAf,IAAwByC,IAAI,GAAG,MAAMpN,QAAQ,CAACoN,IAAD,EAAO,CAAP,CAAjB,GAA6B,EAAzD,CAAP;AACH,EAED;;;AACA,SAASC,WAAT,CAAqBC,KAArB,EAA4BC,QAA5B,EAAsC;AAClC,MAAIC,SAAS,GAAG,CAAhB;AACA,MAAItS,CAAC,GAAG,CAAR;;AACA,SAAOA,CAAC,GAAGoS,KAAK,CAACnS,MAAjB,EAAyB;AACrB,QAAImS,KAAK,CAACpS,CAAD,CAAL,KAAaqS,QAAjB,EAA2B;AACvBD,MAAAA,KAAK,CAACG,MAAN,CAAavS,CAAb,EAAgB,CAAhB;AACAsS,MAAAA,SAAS,IAAI,CAAb;AACH,KAHD,MAIK;AACDtS,MAAAA,CAAC,IAAI,CAAL;AACH;AACJ;;AACD,SAAOsS,SAAP;AACH;;AACD,SAASE,aAAT,CAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BC,YAA/B,EAA6C;AACzC,MAAIF,EAAE,KAAKC,EAAX,EAAe;AACX,WAAO,IAAP;AACH;;AACD,MAAI3N,GAAG,GAAG0N,EAAE,CAACxS,MAAb;AACA,MAAID,CAAJ;;AACA,MAAI+E,GAAG,KAAK2N,EAAE,CAACzS,MAAf,EAAuB;AAAE;AACrB,WAAO,KAAP;AACH;;AACD,OAAKD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG+E,GAAhB,EAAqB/E,CAAC,IAAI,CAA1B,EAA6B;AACzB,QAAI,EAAE2S,YAAY,GAAGA,YAAY,CAACF,EAAE,CAACzS,CAAD,CAAH,EAAQ0S,EAAE,CAAC1S,CAAD,CAAV,CAAf,GAAgCyS,EAAE,CAACzS,CAAD,CAAF,KAAU0S,EAAE,CAAC1S,CAAD,CAA1D,CAAJ,EAAoE;AAChE,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH;;AAED,SAAS4S,OAAT,CAAiBC,UAAjB,EAA6BC,WAA7B,EAA0CC,YAA1C,EAAwD;AACpD,MAAIC,WAAJ;AACA,MAAIC,UAAJ;AACA,SAAO,YAAY;AACf,QAAIC,OAAO,GAAG,EAAd;;AACA,SAAK,IAAI3H,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1C2H,MAAAA,OAAO,CAAC3H,EAAD,CAAP,GAAc4H,SAAS,CAAC5H,EAAD,CAAvB;AACH;;AACD,QAAI,CAACyH,WAAL,EAAkB;AACdC,MAAAA,UAAU,GAAGJ,UAAU,CAAC7I,KAAX,CAAiB,IAAjB,EAAuBkJ,OAAvB,CAAb;AACH,KAFD,MAGK,IAAI,CAACV,aAAa,CAACQ,WAAD,EAAcE,OAAd,CAAlB,EAA0C;AAC3C,UAAIH,YAAJ,EAAkB;AACdA,QAAAA,YAAY,CAACE,UAAD,CAAZ;AACH;;AACD,UAAIrG,GAAG,GAAGiG,UAAU,CAAC7I,KAAX,CAAiB,IAAjB,EAAuBkJ,OAAvB,CAAV;;AACA,UAAI,CAACJ,WAAD,IAAgB,CAACA,WAAW,CAAClG,GAAD,EAAMqG,UAAN,CAAhC,EAAmD;AAC/CA,QAAAA,UAAU,GAAGrG,GAAb;AACH;AACJ;;AACDoG,IAAAA,WAAW,GAAGE,OAAd;AACA,WAAOD,UAAP;AACH,GAnBD;AAoBH;;AACD,SAASG,aAAT,CAAuBP,UAAvB,EAAmCC,WAAnC,EAAgDC,YAAhD,EAA8D;AAC1D,MAAIM,KAAK,GAAG,IAAZ;;AACA,MAAIC,UAAJ;AACA,MAAIL,UAAJ;AACA,SAAO,UAAUM,MAAV,EAAkB;AACrB,QAAI,CAACD,UAAL,EAAiB;AACbL,MAAAA,UAAU,GAAGJ,UAAU,CAAC9Z,IAAX,CAAgBsa,KAAhB,EAAuBE,MAAvB,CAAb;AACH,KAFD,MAGK,IAAI,CAACzH,YAAY,CAACwH,UAAD,EAAaC,MAAb,CAAjB,EAAuC;AACxC,UAAIR,YAAJ,EAAkB;AACdA,QAAAA,YAAY,CAACE,UAAD,CAAZ;AACH;;AACD,UAAIrG,GAAG,GAAGiG,UAAU,CAAC9Z,IAAX,CAAgBsa,KAAhB,EAAuBE,MAAvB,CAAV;;AACA,UAAI,CAACT,WAAD,IAAgB,CAACA,WAAW,CAAClG,GAAD,EAAMqG,UAAN,CAAhC,EAAmD;AAC/CA,QAAAA,UAAU,GAAGrG,GAAb;AACH;AACJ;;AACD0G,IAAAA,UAAU,GAAGC,MAAb;AACA,WAAON,UAAP;AACH,GAfD;AAgBH;;AACD,SAASO,gBAAT,EAA0B;AAC1BX,UADA,EACYC,WADZ,EACyBC,YADzB,EACuC;AACnC,MAAIM,KAAK,GAAG,IAAZ;;AACA,MAAII,cAAc,GAAG,EAArB;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,SAAO,UAAUC,UAAV,EAAsB;AACzB,QAAIC,UAAU,GAAGH,cAAc,CAACxT,MAAhC;AACA,QAAI4T,MAAM,GAAGF,UAAU,CAAC1T,MAAxB;AACA,QAAID,CAAC,GAAG,CAAR;;AACA,WAAOA,CAAC,GAAG4T,UAAX,EAAuB5T,CAAC,IAAI,CAA5B,EAA+B;AAC3B,UAAI,CAAC2T,UAAU,CAAC3T,CAAD,CAAf,EAAoB;AAAE;AAClB,YAAI+S,YAAJ,EAAkB;AACdA,UAAAA,YAAY,CAACW,cAAc,CAAC1T,CAAD,CAAf,CAAZ;AACH;AACJ,OAJD,MAKK,IAAI,CAACwS,aAAa,CAACiB,cAAc,CAACzT,CAAD,CAAf,EAAoB2T,UAAU,CAAC3T,CAAD,CAA9B,CAAlB,EAAsD;AACvD,YAAI+S,YAAJ,EAAkB;AACdA,UAAAA,YAAY,CAACW,cAAc,CAAC1T,CAAD,CAAf,CAAZ;AACH;;AACD,YAAI4M,GAAG,GAAGiG,UAAU,CAAC7I,KAAX,CAAiBqJ,KAAjB,EAAwBM,UAAU,CAAC3T,CAAD,CAAlC,CAAV;;AACA,YAAI,CAAC8S,WAAD,IAAgB,CAACA,WAAW,CAAClG,GAAD,EAAM8G,cAAc,CAAC1T,CAAD,CAApB,CAAhC,EAA0D;AACtD0T,UAAAA,cAAc,CAAC1T,CAAD,CAAd,GAAoB4M,GAApB;AACH;AACJ;AACJ;;AACD,WAAO5M,CAAC,GAAG6T,MAAX,EAAmB7T,CAAC,IAAI,CAAxB,EAA2B;AACvB0T,MAAAA,cAAc,CAAC1T,CAAD,CAAd,GAAoB6S,UAAU,CAAC7I,KAAX,CAAiBqJ,KAAjB,EAAwBM,UAAU,CAAC3T,CAAD,CAAlC,CAApB;AACH;;AACDyT,IAAAA,cAAc,GAAGE,UAAjB;AACAD,IAAAA,cAAc,CAACnB,MAAf,CAAsBsB,MAAtB,EAxByB,CAwBM;;AAC/B,WAAOH,cAAP;AACH,GA1BD;AA2BH;;AACD,SAASI,eAAT,EAAyB;AACzBjB,UADA,EACYC,WADZ,EACyBC,YADzB,EACuC;AACnC,MAAIM,KAAK,GAAG,IAAZ;;AACA,MAAIU,cAAc,GAAG,EAArB;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,SAAO,UAAUC,UAAV,EAAsB;AACzB,QAAIC,UAAU,GAAG,EAAjB;;AACA,SAAK,IAAI/a,GAAT,IAAgB8a,UAAhB,EAA4B;AACxB,UAAI,CAACD,cAAc,CAAC7a,GAAD,CAAnB,EAA0B;AACtB+a,QAAAA,UAAU,CAAC/a,GAAD,CAAV,GAAkB0Z,UAAU,CAAC7I,KAAX,CAAiBqJ,KAAjB,EAAwBY,UAAU,CAAC9a,GAAD,CAAlC,CAAlB;AACH,OAFD,MAGK,IAAI,CAACqZ,aAAa,CAACuB,cAAc,CAAC5a,GAAD,CAAf,EAAsB8a,UAAU,CAAC9a,GAAD,CAAhC,CAAlB,EAA0D;AAC3D,YAAI4Z,YAAJ,EAAkB;AACdA,UAAAA,YAAY,CAACiB,cAAc,CAAC7a,GAAD,CAAf,CAAZ;AACH;;AACD,YAAIyT,GAAG,GAAGiG,UAAU,CAAC7I,KAAX,CAAiBqJ,KAAjB,EAAwBY,UAAU,CAAC9a,GAAD,CAAlC,CAAV;AACA+a,QAAAA,UAAU,CAAC/a,GAAD,CAAV,GAAmB2Z,WAAW,IAAIA,WAAW,CAAClG,GAAD,EAAMoH,cAAc,CAAC7a,GAAD,CAApB,CAA3B,GACZ6a,cAAc,CAAC7a,GAAD,CADF,GAEZyT,GAFN;AAGH,OARI,MASA;AACDsH,QAAAA,UAAU,CAAC/a,GAAD,CAAV,GAAkB6a,cAAc,CAAC7a,GAAD,CAAhC;AACH;AACJ;;AACD4a,IAAAA,cAAc,GAAGE,UAAjB;AACAD,IAAAA,cAAc,GAAGE,UAAjB;AACA,WAAOA,UAAP;AACH,GAtBD;AAuBH;;AAED,IAAIC,gCAAgC,GAAG;AACnCjE,EAAAA,IAAI,EAAE,CAD6B;AAEnCkE,EAAAA,SAAS,EAAE,CAFwB;AAGnCC,EAAAA,cAAc,EAAE,CAHmB;AAInCC,EAAAA,QAAQ,EAAE,CAJyB;AAKnCC,EAAAA,UAAU,EAAE;AALuB,CAAvC;AAOA,IAAIC,6BAA6B,GAAG;AAChCC,EAAAA,YAAY,EAAE,CADkB;AAEhCC,EAAAA,GAAG,EAAE,CAF2B;AAGhC/L,EAAAA,IAAI,EAAE,CAH0B;AAIhC4G,EAAAA,KAAK,EAAE,CAJyB;AAKhCC,EAAAA,GAAG,EAAE,CAL2B;AAMhCmF,EAAAA,OAAO,EAAE,CANuB;AAOhCjF,EAAAA,IAAI,EAAE,CAP0B;AAQhCE,EAAAA,MAAM,EAAE,CARwB;AAShCE,EAAAA,MAAM,EAAE;AATwB,CAApC;AAWA,IAAI8E,WAAW,GAAG,mBAAlB,EAAuC;;AACvC,IAAIC,QAAQ,GAAG,IAAf,EAAqB;;AACrB,IAAIC,cAAc,GAAG,MAArB;AACA,IAAIC,MAAM,GAAG,SAAb,EAAwB;;AACxB,IAAIC,MAAM,GAAG,SAAb;;AACA,IAAIC,eAAe;AAAG;AAAe,YAAY;AAC7C,WAASA,eAAT,CAAyBC,cAAzB,EAAyC;AACrC,QAAIC,iBAAiB,GAAG,EAAxB;AACA,QAAIC,gBAAgB,GAAG,EAAvB;AACA,QAAIC,QAAQ,GAAG,CAAf;;AACA,SAAK,IAAIxK,MAAT,IAAmBqK,cAAnB,EAAmC;AAC/B,UAAIrK,MAAM,IAAIsJ,gCAAd,EAAgD;AAC5CiB,QAAAA,gBAAgB,CAACvK,MAAD,CAAhB,GAA2BqK,cAAc,CAACrK,MAAD,CAAzC;AACAwK,QAAAA,QAAQ,GAAGnO,IAAI,CAACoO,GAAL,CAASnB,gCAAgC,CAACtJ,MAAD,CAAzC,EAAmDwK,QAAnD,CAAX;AACH,OAHD,MAIK;AACDF,QAAAA,iBAAiB,CAACtK,MAAD,CAAjB,GAA4BqK,cAAc,CAACrK,MAAD,CAA1C;;AACA,YAAIA,MAAM,IAAI2J,6BAAd,EAA6C;AAAE;AAC3Ca,UAAAA,QAAQ,GAAGnO,IAAI,CAACoO,GAAL,CAASd,6BAA6B,CAAC3J,MAAD,CAAtC,EAAgDwK,QAAhD,CAAX;AACH;AACJ;AACJ;;AACD,SAAKF,iBAAL,GAAyBA,iBAAzB;AACA,SAAKC,gBAAL,GAAwBA,gBAAxB;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKE,mBAAL,GAA2B3C,OAAO,CAAC2C,mBAAD,CAAlC;AACH;;AACDN,EAAAA,eAAe,CAAC9c,SAAhB,CAA0BuG,MAA1B,GAAmC,UAAU0K,IAAV,EAAgBzL,OAAhB,EAAyB;AACxD,WAAO,KAAK4X,mBAAL,CAAyB,KAAKJ,iBAA9B,EAAiD,KAAKC,gBAAtD,EAAwEzX,OAAxE,EAAiFyL,IAAjF,CAAP;AACH,GAFD;;AAGA6L,EAAAA,eAAe,CAAC9c,SAAhB,CAA0Bqd,WAA1B,GAAwC,UAAUjH,KAAV,EAAiBC,GAAjB,EAAsB7Q,OAAtB,EAA+B8X,sBAA/B,EAAuD;AAC3F,QAAIrU,EAAE,GAAG,IAAT;AAAA,QAAe+T,iBAAiB,GAAG/T,EAAE,CAAC+T,iBAAtC;AAAA,QAAyDC,gBAAgB,GAAGhU,EAAE,CAACgU,gBAA/E;;AACA,QAAIM,YAAY,GAAGC,yBAAyB,CAACpH,KAAK,CAACpG,MAAP,EAAeqG,GAAG,CAACrG,MAAnB,EAA2BxK,OAAO,CAACiY,cAAnC,CAA5C;;AACA,QAAI,CAACF,YAAL,EAAmB;AACf,aAAO,KAAKhX,MAAL,CAAY6P,KAAZ,EAAmB5Q,OAAnB,CAAP;AACH;;AACD,QAAIkY,qBAAqB,GAAGH,YAA5B;;AACA,QAAIG,qBAAqB,GAAG,CAAxB,MAA6B;AAC5BV,IAAAA,iBAAiB,CAACxM,IAAlB,KAA2B,SAA3B,IAAwCwM,iBAAiB,CAACxM,IAAlB,KAA2B,SADpE,MAECwM,iBAAiB,CAAC5F,KAAlB,KAA4B,SAA5B,IAAyC4F,iBAAiB,CAAC5F,KAAlB,KAA4B,SAFtE,MAGC4F,iBAAiB,CAAC3F,GAAlB,KAA0B,SAA1B,IAAuC2F,iBAAiB,CAAC3F,GAAlB,KAA0B,SAHlE,CAAJ,EAGkF;AAC9EqG,MAAAA,qBAAqB,GAAG,CAAxB,CAD8E,CACnD;AAC9B;;AACD,QAAIC,KAAK,GAAG,KAAKpX,MAAL,CAAY6P,KAAZ,EAAmB5Q,OAAnB,CAAZ;AACA,QAAIoY,KAAK,GAAG,KAAKrX,MAAL,CAAY8P,GAAZ,EAAiB7Q,OAAjB,CAAZ;;AACA,QAAImY,KAAK,KAAKC,KAAd,EAAqB;AACjB,aAAOD,KAAP;AACH;;AACD,QAAIE,gBAAgB,GAAGC,+BAA+B,CAACd,iBAAD,EAAoBU,qBAApB,CAAtD;AACA,QAAIK,qBAAqB,GAAGX,mBAAmB,CAACS,gBAAD,EAAmBZ,gBAAnB,EAAqCzX,OAArC,CAA/C;AACA,QAAIwY,QAAQ,GAAGD,qBAAqB,CAAC3H,KAAD,CAApC;AACA,QAAI6H,QAAQ,GAAGF,qBAAqB,CAAC1H,GAAD,CAApC;AACA,QAAI6H,SAAS,GAAGC,mBAAmB,CAACR,KAAD,EAAQK,QAAR,EAAkBJ,KAAlB,EAAyBK,QAAzB,CAAnC;AACA,QAAIhC,SAAS,GAAGgB,gBAAgB,CAAChB,SAAjB,IAA8BqB,sBAA9B,IAAwD9X,OAAO,CAAC4Y,gBAAhE,IAAoF,EAApG;;AACA,QAAIF,SAAJ,EAAe;AACX,aAAOA,SAAS,CAACG,MAAV,GAAmBL,QAAnB,GAA8B/B,SAA9B,GAA0CgC,QAA1C,GAAqDC,SAAS,CAACI,KAAtE;AACH;;AACD,WAAOX,KAAK,GAAG1B,SAAR,GAAoB2B,KAA3B;AACH,GA5BD;;AA6BAd,EAAAA,eAAe,CAAC9c,SAAhB,CAA0Bue,cAA1B,GAA2C,YAAY;AACnD,YAAQ,KAAKrB,QAAb;AACI,WAAK,CAAL;AACA,WAAK,CAAL;AACA,WAAK,CAAL;AACI,eAAO,MAAP;;AACJ,WAAK,CAAL;AACI,eAAO,OAAP;;AACJ,WAAK,CAAL;AACI,eAAO,MAAP;;AACJ,WAAK,CAAL;AACI,eAAO,KAAP;;AACJ;AACI,eAAO,MAAP;AAAe;AAZvB;AAcH,GAfD;;AAgBA,SAAOJ,eAAP;AACH,CAvEoC,EAArC;;AAwEA,SAASM,mBAAT,CAA6BJ,iBAA7B,EAAgDC,gBAAhD,EAAkEzX,OAAlE,EAA2E;AACvE,MAAIgZ,mBAAmB,GAAGze,MAAM,CAACsC,IAAP,CAAY2a,iBAAZ,EAA+BlV,MAAzD;;AACA,MAAI0W,mBAAmB,KAAK,CAAxB,IAA6BxB,iBAAiB,CAACV,YAAlB,KAAmC,OAApE,EAA6E;AACzE,WAAO,UAAUrL,IAAV,EAAgB;AAAE,aAAQyI,oBAAoB,CAACzI,IAAI,CAACqI,cAAN,CAA5B;AAAqD,KAA9E;AACH;;AACD,MAAIkF,mBAAmB,KAAK,CAAxB,IAA6BvB,gBAAgB,CAAClF,IAAlD,EAAwD;AACpD,WAAO,UAAU9G,IAAV,EAAgB;AAAE,aAAQwN,gBAAgB,CAACjZ,OAAO,CAACkZ,iBAAR,CAA0BzN,IAAI,CAACjB,MAA/B,CAAD,EAAyCxK,OAAO,CAACmZ,QAAjD,EAA2DnZ,OAAO,CAACoZ,MAAnE,EAA2E3B,gBAAgB,CAAClF,IAA5F,CAAxB;AAA6H,KAAtJ;AACH;;AACD,SAAO8G,yBAAyB,CAAC7B,iBAAD,EAAoBC,gBAApB,EAAsCzX,OAAtC,CAAhC;AACH;;AACD,SAASqZ,yBAAT,CAAmC7B,iBAAnC,EAAsDC,gBAAtD,EAAwEzX,OAAxE,EAAiF;AAC7EwX,EAAAA,iBAAiB,GAAGjY,+CAAQ,CAAC,EAAD,EAAKiY,iBAAL,CAA5B,CAD6E,CACxB;;AACrDC,EAAAA,gBAAgB,GAAGlY,+CAAQ,CAAC,EAAD,EAAKkY,gBAAL,CAA3B,CAF6E,CAE1B;;AACnD6B,EAAAA,gBAAgB,CAAC9B,iBAAD,EAAoBC,gBAApB,CAAhB;AACAD,EAAAA,iBAAiB,CAAC+B,QAAlB,GAA6B,KAA7B,CAJ6E,CAIzC;;AACpC,MAAIC,YAAY,GAAG,IAAIC,IAAI,CAACC,cAAT,CAAwB1Z,OAAO,CAACoZ,MAAR,CAAeO,KAAvC,EAA8CnC,iBAA9C,CAAnB;AACA,MAAIoC,UAAJ,CAN6E,CAM7D;;AAChB,MAAInC,gBAAgB,CAACf,cAArB,EAAqC;AACjC,QAAImD,SAAS,GAAGta,+CAAQ,CAAC,EAAD,EAAKiY,iBAAL,CAAxB;;AACA,WAAOqC,SAAS,CAAC5H,MAAjB,CAFiC,CAER;;AACzB2H,IAAAA,UAAU,GAAG,IAAIH,IAAI,CAACC,cAAT,CAAwB1Z,OAAO,CAACoZ,MAAR,CAAeO,KAAvC,EAA8CE,SAA9C,CAAb;AACH;;AACD,SAAO,UAAUpO,IAAV,EAAgB;AACnB,QAAIjB,MAAM,GAAGiB,IAAI,CAACjB,MAAlB;AACA,QAAIzJ,MAAJ;;AACA,QAAI6Y,UAAU,IAAI,CAACpP,MAAM,CAACJ,aAAP,EAAnB,EAA2C;AACvCrJ,MAAAA,MAAM,GAAG6Y,UAAT;AACH,KAFD,MAGK;AACD7Y,MAAAA,MAAM,GAAGyY,YAAT;AACH;;AACD,QAAInS,CAAC,GAAGtG,MAAM,CAACA,MAAP,CAAcyJ,MAAd,CAAR;AACA,WAAOsP,WAAW,CAACzS,CAAD,EAAIoE,IAAJ,EAAU+L,iBAAV,EAA6BC,gBAA7B,EAA+CzX,OAA/C,CAAlB;AACH,GAXD;AAYH;;AACD,SAASsZ,gBAAT,CAA0B9B,iBAA1B,EAA6CC,gBAA7C,EAA+D;AAC3D;AACA;AACA,MAAID,iBAAiB,CAACV,YAAtB,EAAoC;AAChC,QAAI,CAACU,iBAAiB,CAACzF,IAAvB,EAA6B;AACzByF,MAAAA,iBAAiB,CAACzF,IAAlB,GAAyB,SAAzB;AACH;;AACD,QAAI,CAACyF,iBAAiB,CAACvF,MAAvB,EAA+B;AAC3BuF,MAAAA,iBAAiB,CAACvF,MAAlB,GAA2B,SAA3B;AACH;AACJ,GAV0D,CAW3D;;;AACA,MAAIuF,iBAAiB,CAACV,YAAlB,KAAmC,MAAvC,EAA+C;AAC3CU,IAAAA,iBAAiB,CAACV,YAAlB,GAAiC,OAAjC;AACH,GAd0D,CAe3D;;;AACA,MAAIW,gBAAgB,CAACf,cAAjB,KAAoCc,iBAAiB,CAACrF,MAAlB,IAA4BqF,iBAAiB,CAACpF,WAAlF,CAAJ,EAAoG;AAChG,WAAOqF,gBAAgB,CAACf,cAAxB;AACH;AACJ;;AACD,SAASoD,WAAT,CAAqBzS,CAArB,EAAwBoE,IAAxB,EAA8B+L,iBAA9B,EAAiDC,gBAAjD,EAAmEzX,OAAnE,EAA4E;AACxEqH,EAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAUmD,MAAV,EAAkB,EAAlB,CAAJ,CADwE,CAC7C;;AAC3B,MAAII,iBAAiB,CAACV,YAAlB,KAAmC,OAAvC,EAAgD;AAC5CzP,IAAAA,CAAC,GAAG0S,YAAY,CAAC1S,CAAD,EAAKrH,OAAO,CAACuZ,QAAR,KAAqB,KAArB,IAA8B9N,IAAI,CAACqI,cAAL,IAAuB,IAAtD,GAChB,KADgB,GACR;AACRI,IAAAA,oBAAoB,CAACzI,IAAI,CAACqI,cAAN,CAFR,CAAhB;AAGH;;AACD,MAAI2D,gBAAgB,CAACb,UAArB,EAAiC;AAC7BvP,IAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAUiD,QAAV,EAAoB,EAApB,EAAwB8C,IAAxB,EAAJ;AACH;;AACD,MAAIvC,gBAAgB,CAACf,cAArB,EAAqC;AACjCrP,IAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAU,KAAV,EAAiB,EAAjB,CAAJ,CADiC,CACP;AAC7B,GAZuE,CAaxE;AACA;;;AACA,MAAIwD,gBAAgB,CAACd,QAAjB,KAA8B,KAAlC,EAAyC;AACrCtP,IAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAUgD,WAAV,EAAuB,EAAvB,EAA2B+C,IAA3B,EAAJ;AACH,GAFD,MAGK,IAAIvC,gBAAgB,CAACd,QAAjB,KAA8B,QAAlC,EAA4C;AAAE;AAC/CtP,IAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAUgD,WAAV,EAAuB,UAAUvO,EAAV,EAAcC,EAAd,EAAkB;AAAE,aAAOA,EAAE,CAACsR,iBAAH,EAAP;AAAgC,KAA3E,CAAJ;AACH,GAFI,MAGA,IAAIxC,gBAAgB,CAACd,QAAjB,KAA8B,OAAlC,EAA2C;AAAE;AAC9CtP,IAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAUgD,WAAV,EAAuB,UAAUvO,EAAV,EAAcC,EAAd,EAAkB;AAAE,aAAOA,EAAE,CAACsR,iBAAH,KAAyB,GAAhC;AAAsC,KAAjF,CAAJ;AACH,GAFI,MAGA,IAAIxC,gBAAgB,CAACd,QAAjB,KAA8B,WAAlC,EAA+C;AAAE;AAClDtP,IAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAUgD,WAAV,EAAuB,UAAUvO,EAAV,EAAc;AAAE,aAAOA,EAAE,CAACuR,iBAAH,EAAP;AAAgC,KAAvE,CAAJ;AACH;;AACD5S,EAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAUkD,cAAV,EAA0B,GAA1B,CAAJ;AACA9P,EAAAA,CAAC,GAAGA,CAAC,CAAC2S,IAAF,EAAJ;AACA,SAAO3S,CAAP;AACH;;AACD,SAAS0S,YAAT,CAAsB1S,CAAtB,EAAyB6S,MAAzB,EAAiC;AAC7B,MAAIC,QAAQ,GAAG,KAAf;AACA9S,EAAAA,CAAC,GAAGA,CAAC,CAAC4M,OAAF,CAAUoD,MAAV,EAAkB,YAAY;AAC9B8C,IAAAA,QAAQ,GAAG,IAAX;AACA,WAAOD,MAAP;AACH,GAHG,CAAJ,CAF6B,CAM7B;;AACA,MAAI,CAACC,QAAL,EAAe;AACX9S,IAAAA,CAAC,IAAI,MAAM6S,MAAX;AACH;;AACD,SAAO7S,CAAP;AACH;;AACD,SAAS4R,gBAAT,CAA0BmB,GAA1B,EAA+BjB,QAA/B,EAAyCC,MAAzC,EAAiDiB,OAAjD,EAA0D;AACtD,MAAIC,KAAK,GAAG,EAAZ;;AACA,MAAID,OAAO,KAAK,QAAhB,EAA0B;AACtBC,IAAAA,KAAK,CAAC1b,IAAN,CAAWua,QAAX;AACH,GAFD,MAGK,IAAIkB,OAAO,KAAK,OAAhB,EAAyB;AAC1BC,IAAAA,KAAK,CAAC1b,IAAN,CAAWua,QAAX,EAAqB,GAArB;AACH,GAPqD,CAQtD;;;AACAmB,EAAAA,KAAK,CAAC1b,IAAN,CAAWwa,MAAM,CAACmB,kBAAP,CAA0BxZ,MAA1B,CAAiCqZ,GAAjC,CAAX;;AACA,MAAIhB,MAAM,CAACjd,OAAP,CAAeqe,SAAf,KAA6B,KAAjC,EAAwC;AAAE;AACtCF,IAAAA,KAAK,CAACG,OAAN;AACH;;AACD,SAAOH,KAAK,CAACI,IAAN,CAAW,EAAX,CAAP;AACH,EACD;AACA;AACA;AACA;;;AACA,SAAS1C,yBAAT,CAAmCtF,EAAnC,EAAuCC,EAAvC,EAA2CgI,EAA3C,EAA+C;AAC3C,MAAIA,EAAE,CAACC,aAAH,CAAiBlI,EAAjB,MAAyBiI,EAAE,CAACC,aAAH,CAAiBjI,EAAjB,CAA7B,EAAmD;AAC/C,WAAO,CAAP;AACH;;AACD,MAAIgI,EAAE,CAACE,cAAH,CAAkBnI,EAAlB,MAA0BiI,EAAE,CAACE,cAAH,CAAkBlI,EAAlB,CAA9B,EAAqD;AACjD,WAAO,CAAP;AACH;;AACD,MAAIgI,EAAE,CAACG,YAAH,CAAgBpI,EAAhB,MAAwBiI,EAAE,CAACG,YAAH,CAAgBnI,EAAhB,CAA5B,EAAiD;AAC7C,WAAO,CAAP;AACH;;AACD,MAAI9I,QAAQ,CAAC6I,EAAD,CAAR,KAAiB7I,QAAQ,CAAC8I,EAAD,CAA7B,EAAmC;AAC/B,WAAO,CAAP;AACH;;AACD,SAAO,CAAP;AACH;;AACD,SAAS2F,+BAAT,CAAyCnc,OAAzC,EAAkD4e,WAAlD,EAA+D;AAC3D,MAAIC,cAAc,GAAG,EAArB;;AACA,OAAK,IAAI1N,MAAT,IAAmBnR,OAAnB,EAA4B;AACxB,QAAI,EAAEmR,MAAM,IAAIuJ,6BAAZ,KAA8C;AAC9CA,IAAAA,6BAA6B,CAACvJ,MAAD,CAA7B,IAAyCyN,WAD7C,EAC0D;AACtDC,MAAAA,cAAc,CAAC1N,MAAD,CAAd,GAAyBnR,OAAO,CAACmR,MAAD,CAAhC;AACH;AACJ;;AACD,SAAO0N,cAAP;AACH;;AACD,SAASrC,mBAAT,CAA6BR,KAA7B,EAAoCK,QAApC,EAA8CJ,KAA9C,EAAqDK,QAArD,EAA+D;AAC3D,MAAIwC,EAAE,GAAG,CAAT;;AACA,SAAOA,EAAE,GAAG9C,KAAK,CAAC7V,MAAlB,EAA0B;AACtB,QAAI4Y,MAAM,GAAG/C,KAAK,CAACgD,OAAN,CAAc3C,QAAd,EAAwByC,EAAxB,CAAb;;AACA,QAAIC,MAAM,KAAK,CAAC,CAAhB,EAAmB;AACf;AACH;;AACD,QAAIE,OAAO,GAAGjD,KAAK,CAAC7Q,MAAN,CAAa,CAAb,EAAgB4T,MAAhB,CAAd;AACAD,IAAAA,EAAE,GAAGC,MAAM,GAAG1C,QAAQ,CAAClW,MAAvB;AACA,QAAI+Y,MAAM,GAAGlD,KAAK,CAAC7Q,MAAN,CAAa2T,EAAb,CAAb;AACA,QAAIK,EAAE,GAAG,CAAT;;AACA,WAAOA,EAAE,GAAGlD,KAAK,CAAC9V,MAAlB,EAA0B;AACtB,UAAIiZ,MAAM,GAAGnD,KAAK,CAAC+C,OAAN,CAAc1C,QAAd,EAAwB6C,EAAxB,CAAb;;AACA,UAAIC,MAAM,KAAK,CAAC,CAAhB,EAAmB;AACf;AACH;;AACD,UAAIC,OAAO,GAAGpD,KAAK,CAAC9Q,MAAN,CAAa,CAAb,EAAgBiU,MAAhB,CAAd;AACAD,MAAAA,EAAE,GAAGC,MAAM,GAAG9C,QAAQ,CAACnW,MAAvB;AACA,UAAImZ,MAAM,GAAGrD,KAAK,CAAC9Q,MAAN,CAAagU,EAAb,CAAb;;AACA,UAAIF,OAAO,KAAKI,OAAZ,IAAuBH,MAAM,KAAKI,MAAtC,EAA8C;AAC1C,eAAO;AACH5C,UAAAA,MAAM,EAAEuC,OADL;AAEHtC,UAAAA,KAAK,EAAEuC;AAFJ,SAAP;AAIH;AACJ;AACJ;;AACD,SAAO,IAAP;AACH;;AAED,SAASK,iBAAT,CAA2BC,QAA3B,EAAqC1D,cAArC,EAAqD;AACjD,MAAIjR,CAAC,GAAGiR,cAAc,CAAC2D,aAAf,CAA6BD,QAAQ,CAACnR,MAAtC,CAAR;AACA,SAAO;AACHA,IAAAA,MAAM,EAAEmR,QAAQ,CAACnR,MADd;AAEHsJ,IAAAA,cAAc,EAAE6H,QAAQ,CAAC7H,cAFtB;AAGHW,IAAAA,KAAK,EAAEzN,CAHJ;AAIHgE,IAAAA,IAAI,EAAEhE,CAAC,CAAC,CAAD,CAJJ;AAKH4K,IAAAA,KAAK,EAAE5K,CAAC,CAAC,CAAD,CALL;AAMH6K,IAAAA,GAAG,EAAE7K,CAAC,CAAC,CAAD,CANH;AAOH+K,IAAAA,IAAI,EAAE/K,CAAC,CAAC,CAAD,CAPJ;AAQHiL,IAAAA,MAAM,EAAEjL,CAAC,CAAC,CAAD,CARN;AASHmL,IAAAA,MAAM,EAAEnL,CAAC,CAAC,CAAD,CATN;AAUHoL,IAAAA,WAAW,EAAEpL,CAAC,CAAC,CAAD;AAVX,GAAP;AAYH;;AAED,SAAS6U,0BAAT,CAAoCjL,KAApC,EAA2CC,GAA3C,EAAgD7Q,OAAhD,EAAyD8X,sBAAzD,EAAiF;AAC7E,MAAIgE,SAAS,GAAGJ,iBAAiB,CAAC9K,KAAD,EAAQ5Q,OAAO,CAACiY,cAAhB,CAAjC;AACA,MAAI8D,OAAO,GAAGlL,GAAG,GAAG6K,iBAAiB,CAAC7K,GAAD,EAAM7Q,OAAO,CAACiY,cAAd,CAApB,GAAoD,IAArE;AACA,SAAO;AACHxM,IAAAA,IAAI,EAAEqQ,SADH;AAEHlL,IAAAA,KAAK,EAAEkL,SAFJ;AAGHjL,IAAAA,GAAG,EAAEkL,OAHF;AAIHxC,IAAAA,QAAQ,EAAEvZ,OAAO,CAACuZ,QAJf;AAKHyC,IAAAA,WAAW,EAAEhc,OAAO,CAACoZ,MAAR,CAAeO,KALzB;AAMHf,IAAAA,gBAAgB,EAAEd,sBAAsB,IAAI9X,OAAO,CAAC4Y;AANjD,GAAP;AAQH;AAED;AACA;AACA;;AACA;AACA;AACA;AACA;;;AACA,IAAIqD,YAAY;AAAG;AAAe,YAAY;AAC1C,WAASA,YAAT,CAAsBC,MAAtB,EAA8B;AAC1B,SAAKA,MAAL,GAAcA,MAAd;AACH;;AACDD,EAAAA,YAAY,CAACzhB,SAAb,CAAuBuG,MAAvB,GAAgC,UAAU0K,IAAV,EAAgBzL,OAAhB,EAAyB8X,sBAAzB,EAAiD;AAC7E,WAAO9X,OAAO,CAACmc,YAAR,CAAqB,KAAKD,MAA1B,EAAkCL,0BAA0B,CAACpQ,IAAD,EAAO,IAAP,EAAazL,OAAb,EAAsB8X,sBAAtB,CAA5D,CAAP;AACH,GAFD;;AAGAmE,EAAAA,YAAY,CAACzhB,SAAb,CAAuBqd,WAAvB,GAAqC,UAAUjH,KAAV,EAAiBC,GAAjB,EAAsB7Q,OAAtB,EAA+B8X,sBAA/B,EAAuD;AACxF,WAAO9X,OAAO,CAACmc,YAAR,CAAqB,KAAKD,MAA1B,EAAkCL,0BAA0B,CAACjL,KAAD,EAAQC,GAAR,EAAa7Q,OAAb,EAAsB8X,sBAAtB,CAA5D,CAAP;AACH,GAFD;;AAGA,SAAOmE,YAAP;AACH,CAXiC,EAAlC;;AAaA,IAAIG,aAAa;AAAG;AAAe,YAAY;AAC3C,WAASA,aAAT,CAAuB9gB,IAAvB,EAA6B;AACzB,SAAKA,IAAL,GAAYA,IAAZ;AACH;;AACD8gB,EAAAA,aAAa,CAAC5hB,SAAd,CAAwBuG,MAAxB,GAAiC,UAAU0K,IAAV,EAAgBzL,OAAhB,EAAyB8X,sBAAzB,EAAiD;AAC9E,WAAO,KAAKxc,IAAL,CAAUugB,0BAA0B,CAACpQ,IAAD,EAAO,IAAP,EAAazL,OAAb,EAAsB8X,sBAAtB,CAApC,CAAP;AACH,GAFD;;AAGAsE,EAAAA,aAAa,CAAC5hB,SAAd,CAAwBqd,WAAxB,GAAsC,UAAUjH,KAAV,EAAiBC,GAAjB,EAAsB7Q,OAAtB,EAA+B8X,sBAA/B,EAAuD;AACzF,WAAO,KAAKxc,IAAL,CAAUugB,0BAA0B,CAACjL,KAAD,EAAQC,GAAR,EAAa7Q,OAAb,EAAsB8X,sBAAtB,CAApC,CAAP;AACH,GAFD;;AAGA,SAAOsE,aAAP;AACH,CAXkC,EAAnC;;AAaA,SAASC,eAAT,CAAyB3hB,KAAzB,EAAgC;AAC5B,MAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AACtC,WAAO,IAAI4c,eAAJ,CAAoB5c,KAApB,CAAP;AACH;;AACD,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,WAAO,IAAIuhB,YAAJ,CAAiBvhB,KAAjB,CAAP;AACH;;AACD,MAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC;AAC7B,WAAO,IAAI0hB,aAAJ,CAAkB1hB,KAAlB,CAAP;AACH;;AACD,SAAO,IAAP;AACH,EAED;AACA;;;AACA,IAAI4hB,oBAAoB,GAAG;AACvBC,EAAAA,eAAe,EAAEC,QADM;AAEvBC,EAAAA,gBAAgB,EAAED,QAFK;AAGvB7M,EAAAA,QAAQ,EAAE0B,cAHa;AAIvBqL,EAAAA,oBAAoB,EAAEF,QAJC;AAKvBG,EAAAA,WAAW,EAAEH,QALU;AAMvBI,EAAAA,aAAa,EAAEJ,QANQ;AAOvBjM,EAAAA,0BAA0B,EAAEc,cAPL;AAQvBb,EAAAA,yBAAyB,EAAEa,cARJ;AASvBwL,EAAAA,gBAAgB,EAAExL,cATK;AAUvByL,EAAAA,UAAU,EAAEzL,cAVW;AAWvB0L,EAAAA,eAAe,EAAEC,OAXM;AAYvBC,EAAAA,WAAW,EAAE5L,cAZU;AAavB6L,EAAAA,WAAW,EAAE7L,cAbU;AAcvB8L,EAAAA,gBAAgB,EAAEd,eAdK;AAevBe,EAAAA,YAAY,EAAE/L,cAfS;AAgBvBgM,EAAAA,YAAY,EAAEhM,cAhBS;AAiBvB3V,EAAAA,aAAa,EAAE8gB,QAjBQ;AAkBvB7gB,EAAAA,aAAa,EAAE6gB,QAlBQ;AAmBvBc,EAAAA,qBAAqB,EAAEjY,MAnBA;AAoBvBkY,EAAAA,mBAAmB,EAAElY,MApBE;AAqBvBmY,EAAAA,kBAAkB,EAAER,OArBG;AAsBvBS,EAAAA,UAAU,EAAET,OAtBW;AAuBvBU,EAAAA,eAAe,EAAErB,eAvBM;AAwBvBsB,EAAAA,mBAAmB,EAAEnB,QAxBE;AAyBvBoB,EAAAA,gBAAgB,EAAEpB,QAzBK;AA0BvBqB,EAAAA,iBAAiB,EAAErB,QA1BI;AA2BvBsB,EAAAA,oBAAoB,EAAEtB,QA3BC;AA4BvBuB,EAAAA,iBAAiB,EAAEvB,QA5BI;AA6BvBwB,EAAAA,cAAc,EAAExB,QA7BO;AA8BvByB,EAAAA,eAAe,EAAEzB,QA9BM;AA+BvB0B,EAAAA,kBAAkB,EAAE1B,QA/BG;AAgCvB2B,EAAAA,WAAW,EAAE9Y,MAhCU;AAiCvB+Y,EAAAA,WAAW,EAAEC,MAjCU;AAkCvBC,EAAAA,QAAQ,EAAEtB,OAlCa;AAmCvBuB,EAAAA,qBAAqB,EAAE/B,QAnCA;AAoCvBgC,EAAAA,WAAW,EAAExB,OApCU;AAqCvByB,EAAAA,oBAAoB,EAAEjC,QArCC;AAsCvBkC,EAAAA,iBAAiB,EAAElC,QAtCI;AAuCvBmC,EAAAA,kBAAkB,EAAEnC,QAvCG;AAwCvBoC,EAAAA,qBAAqB,EAAEpC,QAxCA;AAyCvBqC,EAAAA,QAAQ,EAAE7B,OAzCa;AA0CvB8B,EAAAA,cAAc,EAAEtC,QA1CO;AA2CvBuC,EAAAA,YAAY,EAAEvC,QA3CS;AA4CvBwC,EAAAA,eAAe,EAAExC,QA5CM;AA6CvByC,EAAAA,YAAY,EAAEjC,OA7CS;AA8CvBkC,EAAAA,sBAAsB,EAAE1C,QA9CD;AA+CvB2C,EAAAA,mBAAmB,EAAE3C,QA/CE;AAgDvB4C,EAAAA,oBAAoB,EAAE5C,QAhDC;AAiDvB6C,EAAAA,uBAAuB,EAAE7C,QAjDF;AAkDvB8C,EAAAA,mBAAmB,EAAEtC,OAlDE;AAmDvBuC,EAAAA,YAAY,EAAEvC,OAnDS;AAoDvBwC,EAAAA,UAAU,EAAEna,MApDW;AAqDvBoa,EAAAA,QAAQ,EAAEpa,MArDa;AAsDvBqa,EAAAA,aAAa,EAAEra,MAtDQ;AAuDvBkU,EAAAA,QAAQ,EAAElU,MAvDa;AAwDvBsa,EAAAA,OAAO,EAAEnD,QAxDc;AAyDvBpD,EAAAA,MAAM,EAAEoD,QAzDe;AA0DvBoD,EAAAA,WAAW,EAAEva,MA1DU;AA2DvBwa,EAAAA,kBAAkB,EAAExB,MA3DG;AA4DvByB,EAAAA,UAAU,EAAE9C,OA5DW;AA6DvB+C,EAAAA,sBAAsB,EAAE/C,OA7DD;AA8DvBgD,EAAAA,YAAY,EAAEhD,OA9DS;AA+DvBiD,EAAAA,UAAU,EAAEzD,QA/DW;AAgEvB0D,EAAAA,UAAU,EAAEna,eAhEW;AAiEvBoa,EAAAA,gBAAgB,EAAEnD,OAjEK;AAkEvBoD,EAAAA,kBAAkB,EAAEpD,OAlEG;AAmEvBqD,EAAAA,iBAAiB,EAAEhC,MAnEI;AAoEvBiC,EAAAA,cAAc,EAAEjC,MApEO;AAqEvBkC,EAAAA,oBAAoB,EAAElC,MArEC;AAsEvBmC,EAAAA,UAAU,EAAExD,OAtEW;AAuEvByD,EAAAA,MAAM,EAAEjE,QAvEe;AAwEvBkE,EAAAA,aAAa,EAAElE,QAxEQ;AAyEvBhC,EAAAA,SAAS,EAAEnV,MAzEY;AA0EvBsb,EAAAA,gBAAgB,EAAEtE,eA1EK;AA2EvBuE,EAAAA,uBAAuB,EAAE5D,OA3EF;AA4EvB6D,EAAAA,gBAAgB,EAAE7D,OA5EK;AA6EvB8D,EAAAA,eAAe,EAAE9D,OA7EM;AA8EvB7D,EAAAA,QAAQ,EAAE9T,MA9Ea;AA+EvB0b,EAAAA,yBAAyB,EAAE/D,OA/EJ;AAgFvBgE,EAAAA,aAAa,EAAExE,QAhFQ;AAiFvByE,EAAAA,WAAW,EAAEzE,QAjFU;AAkFvB0E,EAAAA,GAAG,EAAE1E,QAlFkB;AAmFvB2E,EAAAA,kBAAkB,EAAE3E,QAnFG;AAoFvB4E,EAAAA,iBAAiB,EAAE5E,QApFI;AAqFvB6E,EAAAA,qBAAqB,EAAE7E,QArFA;AAsFvB8E,EAAAA,UAAU,EAAE9E,QAtFW;AAuFvBpN,EAAAA,aAAa,EAAE4N,OAvFQ;AAwFvBuE,EAAAA,kBAAkB,EAAE/E,QAxFG;AAyFvBgF,EAAAA,kBAAkB,EAAEhF,QAzFG;AA0FvBiF,EAAAA,YAAY,EAAEpc,MA1FS;AA2FvBqc,EAAAA,kBAAkB,EAAE1E,OA3FG;AA4FvB2E,EAAAA,qBAAqB,EAAE3E,OA5FA;AA6FvB4E,EAAAA,YAAY,EAAEpF,QA7FS;AA8FvBqF,EAAAA,eAAe,EAAErF,QA9FM;AA+FvBsF,EAAAA,UAAU,EAAEtF,QA/FW;AAgGvBuF,EAAAA,oBAAoB,EAAE1c,MAhGC;AAiGvB2c,EAAAA,gBAAgB,EAAE3c,MAjGK;AAkGvB4c,EAAAA,cAAc,EAAE5c,MAlGO;AAmGvB6c,EAAAA,UAAU,EAAE7c,MAnGW;AAoGvB8c,EAAAA,eAAe,EAAE3F,QApGM;AAqGvB4F,EAAAA,YAAY,EAAE5F,QArGS;AAsGvB6F,EAAAA,aAAa,EAAE7F,QAtGQ;AAuGvB8F,EAAAA,gBAAgB,EAAE9F,QAvGK;AAwGvB+F,EAAAA,gBAAgB,EAAE/F,QAxGK;AAyGvBgG,EAAAA,aAAa,EAAEhG,QAzGQ;AA0GvBiG,EAAAA,WAAW,EAAEjG,QA1GU;AA2GvBkG,EAAAA,SAAS,EAAE1F,OA3GY;AA4GvB2F,EAAAA,cAAc,EAAEtd,MA5GO;AA6GvBud,EAAAA,eAAe,EAAEpG,QA7GM;AA8GvBqG,EAAAA,kBAAkB,EAAErG,QA9GG;AA+GvBsG,EAAAA,eAAe,EAAEtG,QA/GM;AAgHvBuG,EAAAA,gBAAgB,EAAEvG,QAhHK;AAiHvBwG,EAAAA,mBAAmB,EAAExG,QAjHE;AAkHvByG,EAAAA,mBAAmB,EAAEzG,QAlHE;AAmHvB0G,EAAAA,gBAAgB,EAAE1G,QAnHK;AAoHvB2G,EAAAA,iBAAiB,EAAE3G,QApHI;AAqHvB4G,EAAAA,oBAAoB,EAAE5G,QArHC;AAsHvB6G,EAAAA,YAAY,EAAE7G,QAtHS;AAuHvB8G,EAAAA,eAAe,EAAE9G,QAvHM;AAwHvB+G,EAAAA,WAAW,EAAElF,MAxHU;AAyHvBmF,EAAAA,iBAAiB,EAAEnS,cAzHI;AA0HvBoS,EAAAA,UAAU,EAAEpe,MA1HW;AA2HvBqe,EAAAA,gBAAgB,EAAElH,QA3HK;AA4HvBmH,EAAAA,aAAa,EAAEnH,QA5HQ;AA6HvBoH,EAAAA,cAAc,EAAEpH,QA7HO;AA8HvBqH,EAAAA,iBAAiB,EAAErH,QA9HI;AA+HvBsH,EAAAA,YAAY,EAAEzF,MA/HS;AAgIvB0F,EAAAA,QAAQ,EAAE/G,OAhIa;AAiIvBgH,EAAAA,eAAe,EAAE3H,eAjIM;AAkIvB4H,EAAAA,aAAa,EAAE5F,MAlIQ;AAmIvB6F,EAAAA,YAAY,EAAE1H,QAnIS;AAoIvB2H,EAAAA,iBAAiB,EAAE9F,MApII;AAqIvB+F,EAAAA,UAAU,EAAEpH,OArIW;AAsIvBqH,EAAAA,oBAAoB,EAAEhG,MAtIC;AAuIvBiG,EAAAA,mBAAmB,EAAEjG,MAvIE;AAwIvBkG,EAAAA,YAAY,EAAEvH,OAxIS;AAyIvBwH,EAAAA,aAAa,EAAEnG,MAzIQ;AA0IvBoG,EAAAA,cAAc,EAAEpG,MA1IO;AA2IvBqG,EAAAA,aAAa,EAAErG,MA3IQ;AA4IvBsG,EAAAA,gBAAgB,EAAEtG,MA5IK;AA6IvBuG,EAAAA,gBAAgB,EAAE5H,OA7IK;AA8IvBre,EAAAA,OAAO,EAAE6d,QA9Ic;AA+IvBqI,EAAAA,QAAQ,EAAExG,MA/Ia;AAgJvByG,EAAAA,QAAQ,EAAEzG,MAhJa;AAiJvB0G,EAAAA,aAAa,EAAE1f,MAjJQ;AAkJvB2f,EAAAA,aAAa,EAAE3T,cAlJQ;AAmJvB4T,EAAAA,UAAU,EAAEzI,QAnJW;AAoJvB0I,EAAAA,SAAS,EAAElI,OApJY;AAqJvBmI,EAAAA,cAAc,EAAEnI,OArJO;AAsJvBoI,EAAAA,UAAU,EAAE5I,QAtJW;AAuJvB6I,EAAAA,YAAY,EAAE7I,QAvJS;AAwJvB8I,EAAAA,WAAW,EAAE9I,QAxJU;AAyJvB;AACA+I,EAAAA,YAAY,EAAElgB,MA1JS;AA2JvBmgB,EAAAA,aAAa,EAAEhJ,QA3JQ;AA4JvBiJ,EAAAA,kBAAkB,EAAEjJ,QA5JG;AA6JvBkJ,EAAAA,eAAe,EAAElJ,QA7JM;AA8JvBmJ,EAAAA,gBAAgB,EAAEnJ,QA9JK;AA+JvBoJ,EAAAA,mBAAmB,EAAEpJ;AA/JE,CAA3B,EAiKA;AACA;;AACA,IAAIqJ,oBAAoB,GAAG;AACvBpE,EAAAA,YAAY,EAAE,MADS;AAEvBnE,EAAAA,qBAAqB,EAAE,KAFA;AAGvBC,EAAAA,mBAAmB,EAAE,UAHE;AAIvB/M,EAAAA,yBAAyB,EAAE,UAJJ;AAKvBD,EAAAA,0BAA0B,EAAE;AAAEsB,IAAAA,GAAG,EAAE;AAAP,GALL;AAMvB2L,EAAAA,kBAAkB,EAAE,KANG;AAOvBX,EAAAA,gBAAgB,EAAE,UAPK;AAQvBY,EAAAA,UAAU,EAAE,IARW;AASvBU,EAAAA,WAAW,EAAE,EATU;AAUvBC,EAAAA,WAAW,EAAE,IAVU;AAWvB1iB,EAAAA,aAAa,EAAE;AACXkV,IAAAA,KAAK,EAAE,OADI;AAEXkV,IAAAA,MAAM,EAAE,EAFG;AAGXjV,IAAAA,GAAG,EAAE;AAHM,GAXQ;AAgBvByN,EAAAA,QAAQ,EAAE,IAhBa;AAiBvBE,EAAAA,WAAW,EAAE,KAjBU;AAkBvBD,EAAAA,qBAAqB,EAAE,OAlBA;AAmBvBM,EAAAA,QAAQ,EAAE,KAnBa;AAoBvBI,EAAAA,YAAY,EAAE,KApBS;AAqBvBnC,EAAAA,UAAU,EAAE,UArBW;AAsBvBC,EAAAA,eAAe,EAAE,IAtBM;AAuBvBE,EAAAA,WAAW,EAAE,UAvBU;AAwBvBC,EAAAA,WAAW,EAAE,UAxBU;AAyBvBoC,EAAAA,mBAAmB,EAAE,IAzBE;AA0BvBC,EAAAA,YAAY,EAAE,IA1BS;AA2BvBC,EAAAA,UAAU,EAAE,OA3BW;AA4BvBC,EAAAA,QAAQ,EAAE,KA5Ba;AA6BvBC,EAAAA,aAAa,EAAE,UA7BQ;AA8BvBnG,EAAAA,QAAQ,EAAE,OA9Ba;AA+BvBoG,EAAAA,OAAO,EAAE,EA/Bc;AAgCvBvG,EAAAA,MAAM,EAAE,EAhCe;AAiCvBwG,EAAAA,WAAW,EAAE,UAjCU;AAkCvBC,EAAAA,kBAAkB,EAAE,GAlCG;AAmCvBC,EAAAA,UAAU,EAAE,IAnCW;AAoCvBC,EAAAA,sBAAsB,EAAE,KApCD;AAqCvBC,EAAAA,YAAY,EAAE,IArCS;AAsCvBC,EAAAA,UAAU,EAAE,GAtCW;AAuCvBC,EAAAA,UAAU,EAAE,8BAvCW;AAwCvB/C,EAAAA,gBAAgB,EAAE;AAAEvL,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,GAAG,EAAE,SAAtB;AAAiC7G,IAAAA,IAAI,EAAE;AAAvC,GAxCK;AAyCvBoV,EAAAA,kBAAkB,EAAE,IAzCG;AA0CvBC,EAAAA,iBAAiB,EAAE,GA1CI;AA2CvBC,EAAAA,cAAc,EAAE,IA3CO;AA4CvBC,EAAAA,oBAAoB,EAAE,CA5CC;AA6CvBC,EAAAA,UAAU,EAAE,KA7CW;AA8CvBuD,EAAAA,QAAQ,EAAE,KA9Ca;AA+CvBK,EAAAA,UAAU,EAAE,KA/CW;AAgDvBK,EAAAA,cAAc,EAAE,EAhDO;AAiDvBC,EAAAA,aAAa,EAAE,EAjDQ;AAkDvBC,EAAAA,gBAAgB,EAAE;AAlDK,CAA3B,EAoDA;AACA;;AACA,IAAIoB,0BAA0B,GAAG;AAC7BC,EAAAA,QAAQ,EAAExJ,QADmB;AAE7ByJ,EAAAA,SAAS,EAAEzJ,QAFkB;AAG7B0J,EAAAA,QAAQ,EAAE1J,QAHmB;AAI7B2J,EAAAA,WAAW,EAAE3J,QAJgB;AAK7B4J,EAAAA,WAAW,EAAE5J,QALgB;AAM7B6J,EAAAA,YAAY,EAAE7J,QANe;AAO7B8J,EAAAA,UAAU,EAAE9J,QAPiB;AAQ7B+J,EAAAA,eAAe,EAAE/J,QARY;AAS7BgK,EAAAA,eAAe,EAAEhK,QATY;AAU7BiK,EAAAA,MAAM,EAAEjK,QAVqB;AAW7BkK,EAAAA,QAAQ,EAAElK,QAXmB;AAY7BmK,EAAAA,OAAO,EAAEnK,QAZoB;AAa7B;AACAoK,EAAAA,QAAQ,EAAEpK,QAdmB;AAe7BqK,EAAAA,YAAY,EAAErK,QAfe;AAgB7BsK,EAAAA,WAAW,EAAEtK,QAhBgB;AAiB7BuK,EAAAA,YAAY,EAAEvK,QAjBe;AAkB7BwK,EAAAA,cAAc,EAAExK,QAlBa;AAmB7ByK,EAAAA,OAAO,EAAEzK,QAnBoB;AAoB7B0K,EAAAA,cAAc,EAAE1K;AApBa,CAAjC,EAsBA;AACA;;AACA,IAAI2K,wBAAwB,GAAG;AAC3BC,EAAAA,UAAU,EAAE5K,QADe;AAE3B6K,EAAAA,KAAK,EAAE7K,QAFoB;AAG3B7d,EAAAA,OAAO,EAAE6d,QAHkB;AAI3B8K,EAAAA,aAAa,EAAE9K,QAJY;AAK3B5gB,EAAAA,MAAM,EAAE4gB,QALmB;AAM3B3gB,EAAAA,YAAY,EAAE2gB;AANa,CAA/B;AAQA,IAAI+K,0BAA0B,GAAG;AAC7B7rB,EAAAA,aAAa,EAAE8rB,kBADc;AAE7B7rB,EAAAA,aAAa,EAAE6rB,kBAFc;AAG7BJ,EAAAA,UAAU,EAAEI,kBAHiB;AAI7B7K,EAAAA,WAAW,EAAE6K;AAJgB,CAAjC;;AAMA,SAASA,kBAAT,CAA4BxgB,CAA5B,EAA+BC,CAA/B,EAAkC;AAC9B,MAAI,OAAOD,CAAP,KAAa,QAAb,IAAyB,OAAOC,CAAP,KAAa,QAAtC,IAAkDD,CAAlD,IAAuDC,CAA3D,EAA8D;AAAE;AAC5D,WAAOkH,YAAY,CAACnH,CAAD,EAAIC,CAAJ,CAAnB;AACH;;AACD,SAAOD,CAAC,KAAKC,CAAb;AACH,EACD;AACA;;;AACA,IAAIwgB,oBAAoB,GAAG;AACvBjqB,EAAAA,IAAI,EAAE6H,MADiB;AAEvBqiB,EAAAA,SAAS,EAAElL,QAFY;AAGvB4K,EAAAA,UAAU,EAAE/hB,MAHW;AAIvBsiB,EAAAA,aAAa,EAAEtiB,MAJQ;AAKvBuiB,EAAAA,yBAAyB,EAAEpL,QALJ;AAMvBqL,EAAAA,cAAc,EAAE7K,OANO;AAOvB8K,EAAAA,UAAU,EAAEtL,QAPW;AAQvBuL,EAAAA,OAAO,EAAEvL,QARc;AASvBwL,EAAAA,QAAQ,EAAExL,QATa;AAUvByL,EAAAA,WAAW,EAAEzL;AAVU,CAA3B,EAYA;AACA;;AACA,SAAS0L,eAAT,CAAyBC,UAAzB,EAAqC;AACjC,SAAOrb,UAAU,CAACqb,UAAD,EAAaZ,0BAAb,CAAjB;AACH;;AACD,SAASa,WAAT,CAAqB1tB,KAArB,EAA4B2tB,QAA5B,EAAsC;AAClC,MAAIlZ,OAAO,GAAG,EAAd;AACA,MAAImZ,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIplB,QAAT,IAAqBmlB,QAArB,EAA+B;AAC3B,QAAInlB,QAAQ,IAAIxI,KAAhB,EAAuB;AACnByU,MAAAA,OAAO,CAACjM,QAAD,CAAP,GAAoBmlB,QAAQ,CAACnlB,QAAD,CAAR,CAAmBxI,KAAK,CAACwI,QAAD,CAAxB,CAApB;AACH;AACJ;;AACD,OAAK,IAAIA,QAAT,IAAqBxI,KAArB,EAA4B;AACxB,QAAI,EAAEwI,QAAQ,IAAImlB,QAAd,CAAJ,EAA6B;AACzBC,MAAAA,KAAK,CAACplB,QAAD,CAAL,GAAkBxI,KAAK,CAACwI,QAAD,CAAvB;AACH;AACJ;;AACD,SAAO;AAAEiM,IAAAA,OAAO,EAAEA,OAAX;AAAoBmZ,IAAAA,KAAK,EAAEA;AAA3B,GAAP;AACH;;AACD,SAAS9L,QAAT,CAAkB+L,GAAlB,EAAuB;AACnB,SAAOA,GAAP;AACH;;AAED,SAASC,WAAT,CAAqBC,SAArB,EAAgCC,WAAhC,EAA6C1oB,OAA7C,EAAsD2oB,cAAtD,EAAsE;AAClE,MAAI5Y,UAAU,GAAG6Y,qBAAqB,EAAtC;AACA,MAAIC,aAAa,GAAGC,kBAAkB,CAAC9oB,OAAD,CAAtC;;AACA,OAAK,IAAI4N,EAAE,GAAG,CAAT,EAAYmb,WAAW,GAAGN,SAA/B,EAA0C7a,EAAE,GAAGmb,WAAW,CAACzmB,MAA3D,EAAmEsL,EAAE,EAArE,EAAyE;AACrE,QAAIob,QAAQ,GAAGD,WAAW,CAACnb,EAAD,CAA1B;AACA,QAAII,KAAK,GAAGib,UAAU,CAACD,QAAD,EAAWN,WAAX,EAAwB1oB,OAAxB,EAAiC2oB,cAAjC,EAAiDE,aAAjD,CAAtB;;AACA,QAAI7a,KAAJ,EAAW;AACPkb,MAAAA,iBAAiB,CAAClb,KAAD,EAAQ+B,UAAR,CAAjB;AACH;AACJ;;AACD,SAAOA,UAAP;AACH;;AACD,SAASmZ,iBAAT,CAA2Blb,KAA3B,EAAkC+B,UAAlC,EAA8C;AAC1C,MAAIA,UAAU,KAAK,KAAK,CAAxB,EAA2B;AAAEA,IAAAA,UAAU,GAAG6Y,qBAAqB,EAAlC;AAAuC;;AACpE7Y,EAAAA,UAAU,CAACG,IAAX,CAAgBlC,KAAK,CAACsC,GAAN,CAAU7D,KAA1B,IAAmCuB,KAAK,CAACsC,GAAzC;;AACA,MAAItC,KAAK,CAACoC,QAAV,EAAoB;AAChBL,IAAAA,UAAU,CAACI,SAAX,CAAqBnC,KAAK,CAACoC,QAAN,CAAevD,UAApC,IAAkDmB,KAAK,CAACoC,QAAxD;AACH;;AACD,SAAOL,UAAP;AACH,EACD;AACA;AACA;;;AACA,SAASoZ,iBAAT,CAA2BpZ,UAA3B,EAAuClD,UAAvC,EAAmD;AAC/C,MAAIuD,QAAQ,GAAGL,UAAU,CAACI,SAAX,CAAqBtD,UAArB,CAAf;;AACA,MAAIuD,QAAJ,EAAc;AACV,QAAIgZ,KAAK,GAAGrZ,UAAU,CAACG,IAAX,CAAgBE,QAAQ,CAAC3D,KAAzB,CAAZ,CADU,CAEV;;AACA,QAAI4c,QAAQ,GAAGC,oBAAoB,CAACvZ,UAAD,EAAa,UAAUwZ,OAAV,EAAmB;AAAE,aAAOC,kBAAkB,CAACJ,KAAD,EAAQG,OAAR,CAAzB;AAA4C,KAA9E,CAAnC,CAHU,CAIV;AACA;;AACAF,IAAAA,QAAQ,CAACnZ,IAAT,CAAckZ,KAAK,CAAC3c,KAApB,IAA6B2c,KAA7B;AACAC,IAAAA,QAAQ,CAAClZ,SAAT,CAAmBC,QAAQ,CAACvD,UAA5B,IAA0CuD,QAA1C;AACA,WAAOiZ,QAAP;AACH;;AACD,SAAOT,qBAAqB,EAA5B;AACH;;AACD,SAASY,kBAAT,CAA4BC,IAA5B,EAAkCC,IAAlC,EAAwC;AACpC,SAAO1M,OAAO,CAACyM,IAAI,CAACE,OAAL,IAAgBF,IAAI,CAACE,OAAL,KAAiBD,IAAI,CAACC,OAAvC,CAAd;AACH;;AACD,SAASf,qBAAT,GAAiC;AAC7B,SAAO;AAAE1Y,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,SAAS,EAAE;AAAvB,GAAP;AACH;;AACD,SAASyZ,gBAAT,CAA0BC,MAA1B,EAAkCC,MAAlC,EAA0C;AACtC,SAAO;AACH5Z,IAAAA,IAAI,EAAE3Q,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKsqB,MAAM,CAAC3Z,IAAZ,CAAT,EAA4B4Z,MAAM,CAAC5Z,IAAnC,CADX;AAEHC,IAAAA,SAAS,EAAE5Q,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKsqB,MAAM,CAAC1Z,SAAZ,CAAT,EAAiC2Z,MAAM,CAAC3Z,SAAxC;AAFhB,GAAP;AAIH;;AACD,SAASmZ,oBAAT,CAA8BvZ,UAA9B,EAA0Cga,UAA1C,EAAsD;AAClD,MAAI7Z,IAAI,GAAG3C,UAAU,CAACwC,UAAU,CAACG,IAAZ,EAAkB6Z,UAAlB,CAArB;AACA,MAAI5Z,SAAS,GAAG5C,UAAU,CAACwC,UAAU,CAACI,SAAZ,EAAuB,UAAUC,QAAV,EAAoB;AAAE,WAAQF,IAAI,CAACE,QAAQ,CAAC3D,KAAV,CAAZ,CAA6B;AAA7B;AACnE,GADsB,CAA1B;AAEA,SAAO;AAAEyD,IAAAA,IAAI,EAAEA,IAAR;AAAcC,IAAAA,SAAS,EAAEA;AAAzB,GAAP;AACH;;AACD,SAAS6Z,oBAAT,CAA8BC,MAA9B,EAAsCC,GAAtC,EAA2C;AACvC,MAAIha,IAAI,GAAG+Z,MAAM,CAAC/Z,IAAlB;AAAA,MAAwBC,SAAS,GAAG8Z,MAAM,CAAC9Z,SAA3C;AACA,MAAIga,YAAY,GAAG,EAAnB;AACA,MAAIC,iBAAiB,GAAG,EAAxB;;AACA,OAAK,IAAI3d,KAAT,IAAkByD,IAAlB,EAAwB;AACpB,QAAI,CAACga,GAAG,CAACha,IAAJ,CAASzD,KAAT,CAAL,EAAsB;AAAE;AACpB0d,MAAAA,YAAY,CAAC1d,KAAD,CAAZ,GAAsByD,IAAI,CAACzD,KAAD,CAA1B;AACH;AACJ;;AACD,OAAK,IAAII,UAAT,IAAuBsD,SAAvB,EAAkC;AAC9B,QAAI,CAAC+Z,GAAG,CAAC/Z,SAAJ,CAActD,UAAd,CAAD,IAA8B;AAC9Bsd,IAAAA,YAAY,CAACha,SAAS,CAACtD,UAAD,CAAT,CAAsBJ,KAAvB,CADhB,CAC8C;AAD9C,MAEE;AACE2d,MAAAA,iBAAiB,CAACvd,UAAD,CAAjB,GAAgCsD,SAAS,CAACtD,UAAD,CAAzC;AACH;AACJ;;AACD,SAAO;AACHqD,IAAAA,IAAI,EAAEia,YADH;AAEHha,IAAAA,SAAS,EAAEia;AAFR,GAAP;AAIH;;AAED,SAASC,mBAAT,CAA6B3vB,KAA7B,EAAoCsF,OAApC,EAA6C;AACzC,MAAIrF,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AACtB,WAAO8tB,WAAW,CAAC9tB,KAAD,EAAQ,IAAR,EAAcsF,OAAd,EAAuB,IAAvB,CAAlB,CADsB,CAC0B;AACnD;;AACD,MAAI,OAAOtF,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AACtC,WAAO8tB,WAAW,CAAC,CAAC9tB,KAAD,CAAD,EAAU,IAAV,EAAgBsF,OAAhB,EAAyB,IAAzB,CAAlB,CADoC,CACc;AACrD;;AACD,MAAItF,KAAK,IAAI,IAAb,EAAmB;AACf,WAAO2K,MAAM,CAAC3K,KAAD,CAAb;AACH;;AACD,SAAO,IAAP;AACH;;AAED,SAAS4vB,eAAT,CAAyB/B,GAAzB,EAA8B;AAC1B,MAAI5tB,KAAK,CAACC,OAAN,CAAc2tB,GAAd,CAAJ,EAAwB;AACpB,WAAOA,GAAP;AACH;;AACD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,WAAOA,GAAG,CAACpiB,KAAJ,CAAU,KAAV,CAAP;AACH;;AACD,SAAO,EAAP;AACH,EAED;AACA;AACA;;;AACA,IAAIokB,iBAAiB,GAAG;AACpBlQ,EAAAA,OAAO,EAAEhV,MADW;AAEpBwZ,EAAAA,QAAQ,EAAE7B,OAFU;AAGpBwN,EAAAA,aAAa,EAAExN,OAHK;AAIpByN,EAAAA,gBAAgB,EAAEzN,OAJE;AAKpB0N,EAAAA,UAAU,EAAElO,QALQ;AAMpBmO,EAAAA,OAAO,EAAEnO,QANW;AAOpBoO,EAAAA,KAAK,EAAEpO,QAPa;AAQpBqO,EAAAA,SAAS,EAAEP,eARS;AASpBxC,EAAAA,UAAU,EAAEwC,eATQ;AAUpBQ,EAAAA,KAAK,EAAEzlB,MAVa;AAWpB0lB,EAAAA,eAAe,EAAE1lB,MAXG;AAYpB2lB,EAAAA,WAAW,EAAE3lB,MAZO;AAapB4lB,EAAAA,SAAS,EAAE5lB;AAbS,CAAxB;AAeA,IAAI6lB,cAAc,GAAG;AACjB7Q,EAAAA,OAAO,EAAE,IADQ;AAEjBmQ,EAAAA,aAAa,EAAE,IAFE;AAGjBC,EAAAA,gBAAgB,EAAE,IAHD;AAIjBU,EAAAA,WAAW,EAAE,EAJI;AAKjBR,EAAAA,OAAO,EAAE,IALQ;AAMjBS,EAAAA,MAAM,EAAE,EANS;AAOjBL,EAAAA,eAAe,EAAE,EAPA;AAQjBC,EAAAA,WAAW,EAAE,EARI;AASjBC,EAAAA,SAAS,EAAE,EATM;AAUjBnD,EAAAA,UAAU,EAAE;AAVK,CAArB;;AAYA,SAASuD,aAAT,CAAuBlc,OAAvB,EAAgCnP,OAAhC,EAAyC;AACrC,MAAI0qB,UAAU,GAAGL,mBAAmB,CAAClb,OAAO,CAACub,UAAT,EAAqB1qB,OAArB,CAApC;AACA,SAAO;AACHqa,IAAAA,OAAO,EAAElL,OAAO,CAACkL,OAAR,IAAmB,IADzB;AAEHmQ,IAAAA,aAAa,EAAErb,OAAO,CAACqb,aAAR,IAAyB,IAAzB,GAAgCrb,OAAO,CAACqb,aAAxC,GAAwDrb,OAAO,CAAC0P,QAF5E;AAGH4L,IAAAA,gBAAgB,EAAEtb,OAAO,CAACsb,gBAAR,IAA4B,IAA5B,GAAmCtb,OAAO,CAACsb,gBAA3C,GAA8Dtb,OAAO,CAAC0P,QAHrF;AAIHsM,IAAAA,WAAW,EAAET,UAAU,IAAI,IAAd,GAAqB,CAACA,UAAD,CAArB,GAAoC,EAJ9C;AAKHC,IAAAA,OAAO,EAAExb,OAAO,CAACwb,OAAR,IAAmB,IAAnB,GAA0Bxb,OAAO,CAACwb,OAAlC,GAA4C,IALlD;AAMHS,IAAAA,MAAM,EAAEjc,OAAO,CAACyb,KAAR,IAAiB,IAAjB,GAAwB,CAACzb,OAAO,CAACyb,KAAT,CAAxB,GAA0C,EAN/C;AAOHG,IAAAA,eAAe,EAAE5b,OAAO,CAAC4b,eAAR,IAA2B5b,OAAO,CAAC2b,KAAnC,IAA4C,EAP1D;AAQHE,IAAAA,WAAW,EAAE7b,OAAO,CAAC6b,WAAR,IAAuB7b,OAAO,CAAC2b,KAA/B,IAAwC,EARlD;AASHG,IAAAA,SAAS,EAAE9b,OAAO,CAAC8b,SAAR,IAAqB,EAT7B;AAUHnD,IAAAA,UAAU,EAAE,CAAC3Y,OAAO,CAAC0b,SAAR,IAAqB,EAAtB,EAA0B1e,MAA1B,CAAiCgD,OAAO,CAAC2Y,UAAR,IAAsB,EAAvD,CAVT,CAUqE;;AAVrE,GAAP;AAYH,EACD;;;AACA,SAASwD,eAAT,CAAyBC,GAAzB,EAA8B;AAC1B,SAAOA,GAAG,CAACC,MAAJ,CAAWC,kBAAX,EAA+BP,cAA/B,CAAP;AACH;;AACD,SAASO,kBAAT,CAA4BC,KAA5B,EAAmCC,KAAnC,EAA0C;AACtC,SAAO;AACHtR,IAAAA,OAAO,EAAEsR,KAAK,CAACtR,OAAN,IAAiB,IAAjB,GAAwBsR,KAAK,CAACtR,OAA9B,GAAwCqR,KAAK,CAACrR,OADpD;AAEHmQ,IAAAA,aAAa,EAAEmB,KAAK,CAACnB,aAAN,IAAuB,IAAvB,GAA8BmB,KAAK,CAACnB,aAApC,GAAoDkB,KAAK,CAAClB,aAFtE;AAGHC,IAAAA,gBAAgB,EAAEkB,KAAK,CAAClB,gBAAN,IAA0B,IAA1B,GAAiCkB,KAAK,CAAClB,gBAAvC,GAA0DiB,KAAK,CAACjB,gBAH/E;AAIHU,IAAAA,WAAW,EAAEO,KAAK,CAACP,WAAN,CAAkBhf,MAAlB,CAAyBwf,KAAK,CAACR,WAA/B,CAJV;AAKHR,IAAAA,OAAO,EAAE,OAAOgB,KAAK,CAAChB,OAAb,KAAyB,SAAzB,GAAqCgB,KAAK,CAAChB,OAA3C,GAAqDe,KAAK,CAACf,OALjE;AAMHS,IAAAA,MAAM,EAAEM,KAAK,CAACN,MAAN,CAAajf,MAAb,CAAoBwf,KAAK,CAACP,MAA1B,CANL;AAOHL,IAAAA,eAAe,EAAEY,KAAK,CAACZ,eAAN,IAAyBW,KAAK,CAACX,eAP7C;AAQHC,IAAAA,WAAW,EAAEW,KAAK,CAACX,WAAN,IAAqBU,KAAK,CAACV,WARrC;AASHC,IAAAA,SAAS,EAAEU,KAAK,CAACV,SAAN,IAAmBS,KAAK,CAACT,SATjC;AAUHnD,IAAAA,UAAU,EAAE4D,KAAK,CAAC5D,UAAN,CAAiB3b,MAAjB,CAAwBwf,KAAK,CAAC7D,UAA9B;AAVT,GAAP;AAYH;;AAED,IAAI8D,uBAAuB,GAAG;AAC1BC,EAAAA,EAAE,EAAExmB,MADsB;AAE1BskB,EAAAA,OAAO,EAAEtkB,MAFiB;AAG1BymB,EAAAA,KAAK,EAAEzmB,MAHmB;AAI1BvE,EAAAA,GAAG,EAAEuE;AAJqB,CAA9B;AAMA,IAAI0mB,mBAAmB,GAAG;AACtBnb,EAAAA,KAAK,EAAE4L,QADe;AAEtB3L,EAAAA,GAAG,EAAE2L,QAFiB;AAGtB/Q,EAAAA,IAAI,EAAE+Q,QAHgB;AAItB/M,EAAAA,MAAM,EAAEuN;AAJc,CAA1B;;AAMA,IAAIgP,cAAc,GAAGzsB,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKqsB,uBAAL,CAAT,EAAwCG,mBAAxC,CAAT,EAAuE;AAAEE,EAAAA,aAAa,EAAEzP;AAAjB,CAAvE,CAA7B;;AACA,SAASyM,UAAT,CAAoBV,GAApB,EAAyBG,WAAzB,EAAsC1oB,OAAtC,EAA+C2oB,cAA/C,EAA+DN,QAA/D,EAAyE;AACrE,MAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,IAAAA,QAAQ,GAAGS,kBAAkB,CAAC9oB,OAAD,CAA7B;AAAyC;;AACpE,MAAIyD,EAAE,GAAGyoB,cAAc,CAAC3D,GAAD,EAAMvoB,OAAN,EAAeqoB,QAAf,CAAvB;AAAA,MAAiDlZ,OAAO,GAAG1L,EAAE,CAAC0L,OAA9D;AAAA,MAAuEmZ,KAAK,GAAG7kB,EAAE,CAAC6kB,KAAlF;;AACA,MAAIlZ,aAAa,GAAG+c,sBAAsB,CAACzD,WAAD,EAAc1oB,OAAd,CAA1C;AACA,MAAIosB,YAAY,GAAGld,cAAc,CAACC,OAAD,EAAUC,aAAV,EAAyBpP,OAAO,CAACqP,OAAjC,EAA0CrP,OAAO,CAACiQ,WAAR,CAAoBX,cAA9D,CAAjC;;AACA,MAAI8c,YAAJ,EAAkB;AACd,QAAI9b,GAAG,GAAG+b,aAAa,CAACld,OAAD,EAAUmZ,KAAV,EAAiBI,WAAW,GAAGA,WAAW,CAACtoB,QAAf,GAA0B,EAAtD,EAA0DgsB,YAAY,CAAC3c,MAAvE,EAA+EuN,OAAO,CAACoP,YAAY,CAACzc,QAAd,CAAtF,EAA+G3P,OAA/G,CAAvB;AACAsQ,IAAAA,GAAG,CAACD,YAAJ,GAAmB;AACfR,MAAAA,MAAM,EAAEuc,YAAY,CAACvc,MADN;AAEfD,MAAAA,QAAQ,EAAEwc,YAAY,CAACxc,QAFR;AAGfD,MAAAA,QAAQ,EAAEyc,YAAY,CAACzc;AAHR,KAAnB;AAKA,WAAO;AAAEW,MAAAA,GAAG,EAAEA,GAAP;AAAYF,MAAAA,QAAQ,EAAE;AAAtB,KAAP;AACH;;AACD,MAAIkc,SAAS,GAAGC,WAAW,CAACpd,OAAD,EAAUC,aAAV,EAAyBpP,OAAzB,EAAkC2oB,cAAlC,CAA3B;;AACA,MAAI2D,SAAJ,EAAe;AACX,QAAIhc,GAAG,GAAG+b,aAAa,CAACld,OAAD,EAAUmZ,KAAV,EAAiBI,WAAW,GAAGA,WAAW,CAACtoB,QAAf,GAA0B,EAAtD,EAA0DksB,SAAS,CAAC7c,MAApE,EAA4E6c,SAAS,CAACE,MAAtF,EAA8FxsB,OAA9F,CAAvB;AACA,QAAIoQ,QAAQ,GAAG5D,mBAAmB,CAAC8D,GAAG,CAAC7D,KAAL,EAAY6f,SAAS,CAAC5f,KAAtB,EAA6B4f,SAAS,CAAC3f,cAAvC,EAAuD2f,SAAS,CAAC1f,YAAjE,CAAlC;AACA,WAAO;AAAE0D,MAAAA,GAAG,EAAEA,GAAP;AAAYF,MAAAA,QAAQ,EAAEA;AAAtB,KAAP;AACH;;AACD,SAAO,IAAP;AACH;;AACD,SAAS8b,cAAT,CAAwB3D,GAAxB,EAA6BvoB,OAA7B,EAAsCqoB,QAAtC,EAAgD;AAC5C,MAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,IAAAA,QAAQ,GAAGS,kBAAkB,CAAC9oB,OAAD,CAA7B;AAAyC;;AACpE,SAAOooB,WAAW,CAACG,GAAD,EAAMF,QAAN,CAAlB;AACH;;AACD,SAASS,kBAAT,CAA4B9oB,OAA5B,EAAqC;AACjC,SAAOT,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKgrB,iBAAL,CAAT,EAAkCyB,cAAlC,CAAT,EAA4DhsB,OAAO,CAACiQ,WAAR,CAAoB4Y,aAAhF,CAAf;AACH;AACD;AACA;AACA;AACA;;;AACA,SAASwD,aAAT,CAAuBld,OAAvB,EAAgCmZ,KAAhC,EAAuCloB,QAAvC,EAAiDqP,MAAjD,EAAyD+c,MAAzD,EAAiExsB,OAAjE,EAA0E;AACtE,MAAIsQ,GAAG,GAAG;AACNwb,IAAAA,KAAK,EAAE3c,OAAO,CAAC2c,KAAR,IAAiB,EADlB;AAENnC,IAAAA,OAAO,EAAExa,OAAO,CAACwa,OAAR,IAAmB,EAFtB;AAGNjpB,IAAAA,QAAQ,EAAEyO,OAAO,CAAC0c,EAAR,IAAc,EAHlB;AAIN/qB,IAAAA,GAAG,EAAEqO,OAAO,CAACrO,GAAR,IAAe,EAJd;AAKNuP,IAAAA,YAAY,EAAE,IALR;AAMN5D,IAAAA,KAAK,EAAErH,IAAI,EANL;AAONhF,IAAAA,QAAQ,EAAEA,QAPJ;AAQNqP,IAAAA,MAAM,EAAEA,MARF;AASN+c,IAAAA,MAAM,EAAEA,MATF;AAUNC,IAAAA,EAAE,EAAEpB,aAAa,CAAClc,OAAD,EAAUnP,OAAV,CAVX;AAWNisB,IAAAA,aAAa,EAAE1sB,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAM4P,OAAO,CAAC8c,aAAR,IAAyB,EAA/B,CAAT,EAA8C3D,KAA9C;AAXjB,GAAV;;AAaA,OAAK,IAAI1a,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGzD,OAAO,CAACiQ,WAAR,CAAoByc,oBAA1C,EAAgE9e,EAAE,GAAGnK,EAAE,CAACnB,MAAxE,EAAgFsL,EAAE,EAAlF,EAAsF;AAClF,QAAI+e,WAAW,GAAGlpB,EAAE,CAACmK,EAAD,CAApB;;AACArO,IAAAA,+CAAQ,CAAC+Q,GAAD,EAAMqc,WAAW,CAACxd,OAAD,CAAjB,CAAR;AACH,GAjBqE,CAkBtE;;;AACA5U,EAAAA,MAAM,CAACqyB,MAAP,CAActc,GAAG,CAACmc,EAAJ,CAAO3E,UAArB;AACAvtB,EAAAA,MAAM,CAACqyB,MAAP,CAActc,GAAG,CAAC2b,aAAlB;AACA,SAAO3b,GAAP;AACH;;AACD,SAASic,WAAT,CAAqBpd,OAArB,EAA8BC,aAA9B,EAA6CpP,OAA7C,EAAsD2oB,cAAtD,EAAsE;AAClE,MAAIlZ,MAAM,GAAGN,OAAO,CAACM,MAArB;AACA,MAAIod,SAAJ;AACA,MAAIC,WAAW,GAAG,IAAlB;AACA,MAAIN,MAAM,GAAG,KAAb;AACA,MAAIO,OAAJ;AACA,MAAIC,SAAS,GAAG,IAAhB;AACA,MAAIC,UAAU,GAAG9d,OAAO,CAACyB,KAAR,IAAiB,IAAjB,GAAwBzB,OAAO,CAACyB,KAAhC,GAAwCzB,OAAO,CAAC1D,IAAjE;AACAohB,EAAAA,SAAS,GAAG7sB,OAAO,CAACqP,OAAR,CAAgB6d,gBAAhB,CAAiCD,UAAjC,CAAZ;;AACA,MAAIJ,SAAJ,EAAe;AACXC,IAAAA,WAAW,GAAGD,SAAS,CAACriB,MAAxB;AACH,GAFD,MAGK,IAAI,CAACme,cAAL,EAAqB;AACtB,WAAO,IAAP;AACH;;AACD,MAAIxZ,OAAO,CAAC0B,GAAR,IAAe,IAAnB,EAAyB;AACrBkc,IAAAA,OAAO,GAAG/sB,OAAO,CAACqP,OAAR,CAAgB6d,gBAAhB,CAAiC/d,OAAO,CAAC0B,GAAzC,CAAV;AACH;;AACD,MAAIpB,MAAM,IAAI,IAAd,EAAoB;AAChB,QAAIL,aAAa,IAAI,IAArB,EAA2B;AACvBK,MAAAA,MAAM,GAAGL,aAAT;AACH,KAFD,MAGK;AACD;AACAK,MAAAA,MAAM,GAAG,CAAC,CAACod,SAAD,IAAcA,SAAS,CAACM,iBAAzB,MACJ,CAACJ,OAAD,IAAYA,OAAO,CAACI,iBADhB,CAAT;AAEH;AACJ;;AACD,MAAI1d,MAAM,IAAIqd,WAAd,EAA2B;AACvBA,IAAAA,WAAW,GAAG5jB,UAAU,CAAC4jB,WAAD,CAAxB;AACH;;AACD,MAAIC,OAAJ,EAAa;AACTC,IAAAA,SAAS,GAAGD,OAAO,CAACviB,MAApB;;AACA,QAAIiF,MAAJ,EAAY;AACRud,MAAAA,SAAS,GAAG9jB,UAAU,CAAC8jB,SAAD,CAAtB;AACH;;AACD,QAAIF,WAAW,IAAIE,SAAS,IAAIF,WAAhC,EAA6C;AACzCE,MAAAA,SAAS,GAAG,IAAZ;AACH;AACJ;;AACD,MAAIA,SAAJ,EAAe;AACXR,IAAAA,MAAM,GAAG,IAAT;AACH,GAFD,MAGK,IAAI,CAAC7D,cAAL,EAAqB;AACtB6D,IAAAA,MAAM,GAAGxsB,OAAO,CAAC7D,OAAR,CAAgBqhB,kBAAhB,IAAsC,KAA/C;AACAwP,IAAAA,SAAS,GAAGhtB,OAAO,CAACqP,OAAR,CAAgB5J,GAAhB,CAAoBqnB,WAApB,EAAiCrd,MAAM,GAC/CzP,OAAO,CAAC7D,OAAR,CAAgBoU,0BAD+B,GAE/CvQ,OAAO,CAAC7D,OAAR,CAAgBqU,yBAFR,CAAZ;AAGH;;AACD,SAAO;AACHf,IAAAA,MAAM,EAAEA,MADL;AAEH+c,IAAAA,MAAM,EAAEA,MAFL;AAGH9f,IAAAA,KAAK,EAAE;AAAEkE,MAAAA,KAAK,EAAEkc,WAAT;AAAsBjc,MAAAA,GAAG,EAAEmc;AAA3B,KAHJ;AAIHrgB,IAAAA,cAAc,EAAEkgB,SAAS,GAAGA,SAAS,CAACO,SAAb,GAAyB,IAJ/C;AAKHxgB,IAAAA,YAAY,EAAEmgB,OAAO,GAAGA,OAAO,CAACK,SAAX,GAAuB;AALzC,GAAP;AAOH;;AACD,SAASjB,sBAAT,CAAgCzD,WAAhC,EAA6C1oB,OAA7C,EAAsD;AAClD,MAAIiP,GAAG,GAAG,IAAV;;AACA,MAAIyZ,WAAJ,EAAiB;AACbzZ,IAAAA,GAAG,GAAGyZ,WAAW,CAACtZ,aAAlB;AACH;;AACD,MAAIH,GAAG,IAAI,IAAX,EAAiB;AACbA,IAAAA,GAAG,GAAGjP,OAAO,CAAC7D,OAAR,CAAgBiT,aAAtB;AACH;;AACD,SAAOH,GAAP;AACH;AAED;AACA;AACA;AACA;;;AACA,SAASoe,sBAAT,CAAgCC,UAAhC,EAA4C;AACxC,MAAIC,MAAM,GAAGhkB,IAAI,CAAC6B,KAAL,CAAWxC,QAAQ,CAAC0kB,UAAU,CAAC1c,KAAZ,EAAmB0c,UAAU,CAACzc,GAA9B,CAAnB,KAA0D,CAAvE;AACA,MAAID,KAAK,GAAG1H,UAAU,CAACokB,UAAU,CAAC1c,KAAZ,CAAtB;AACA,MAAIC,GAAG,GAAGtI,OAAO,CAACqI,KAAD,EAAQ2c,MAAR,CAAjB;AACA,SAAO;AAAE3c,IAAAA,KAAK,EAAEA,KAAT;AAAgBC,IAAAA,GAAG,EAAEA;AAArB,GAAP;AACH,EACD;AACA;;;AACA,SAAS2c,sBAAT,CAAgCF,UAAhC,EAA4CzQ,gBAA5C,EAA8D;AAC1D,MAAIA,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAEA,IAAAA,gBAAgB,GAAGxL,cAAc,CAAC,CAAD,CAAjC;AAAuC;;AAC1E,MAAIoc,QAAQ,GAAG,IAAf;AACA,MAAIC,MAAM,GAAG,IAAb;;AACA,MAAIJ,UAAU,CAACzc,GAAf,EAAoB;AAChB6c,IAAAA,MAAM,GAAGxkB,UAAU,CAACokB,UAAU,CAACzc,GAAZ,CAAnB;AACA,QAAI8c,SAAS,GAAGL,UAAU,CAACzc,GAAX,CAAe9V,OAAf,KAA2B2yB,MAAM,CAAC3yB,OAAP,EAA3C,CAFgB,CAE6C;AAC7D;AACA;AACA;;AACA,QAAI4yB,SAAS,IAAIA,SAAS,IAAIva,SAAS,CAACyJ,gBAAD,CAAvC,EAA2D;AACvD6Q,MAAAA,MAAM,GAAGnlB,OAAO,CAACmlB,MAAD,EAAS,CAAT,CAAhB;AACH;AACJ;;AACD,MAAIJ,UAAU,CAAC1c,KAAf,EAAsB;AAClB6c,IAAAA,QAAQ,GAAGvkB,UAAU,CAACokB,UAAU,CAAC1c,KAAZ,CAArB,CADkB,CACuB;AACzC;;AACA,QAAI8c,MAAM,IAAIA,MAAM,IAAID,QAAxB,EAAkC;AAC9BC,MAAAA,MAAM,GAAGnlB,OAAO,CAACklB,QAAD,EAAW,CAAX,CAAhB;AACH;AACJ;;AACD,SAAO;AAAE7c,IAAAA,KAAK,EAAE6c,QAAT;AAAmB5c,IAAAA,GAAG,EAAE6c;AAAxB,GAAP;AACH,EACD;;;AACA,SAASE,eAAT,CAAyBlhB,KAAzB,EAAgC;AAC5B,MAAI2Y,YAAY,GAAGmI,sBAAsB,CAAC9gB,KAAD,CAAzC;AACA,SAAO9D,QAAQ,CAACyc,YAAY,CAACzU,KAAd,EAAqByU,YAAY,CAACxU,GAAlC,CAAR,GAAiD,CAAxD;AACH;;AACD,SAASgd,SAAT,CAAmBC,KAAnB,EAA0BC,KAA1B,EAAiC1e,OAAjC,EAA0C2e,SAA1C,EAAqD;AACjD,MAAIA,SAAS,KAAK,MAAlB,EAA0B;AACtB,WAAO3c,cAAc,CAAChC,OAAO,CAAC4e,cAAR,CAAuBH,KAAvB,EAA8BC,KAA9B,CAAD,EAAuC,MAAvC,CAArB;AACH;;AACD,MAAIC,SAAS,KAAK,OAAlB,EAA2B;AACvB,WAAO3c,cAAc,CAAChC,OAAO,CAAC6e,eAAR,CAAwBJ,KAAxB,EAA+BC,KAA/B,CAAD,EAAwC,OAAxC,CAArB;AACH;;AACD,SAAO/kB,cAAc,CAAC8kB,KAAD,EAAQC,KAAR,CAArB,CAPiD,CAOZ;AACxC;;AAED,SAASI,UAAT,CAAoBzzB,KAApB,EAA2B2U,OAA3B,EAAoC;AAChC,MAAIuB,KAAK,GAAG,IAAZ;AACA,MAAIC,GAAG,GAAG,IAAV;;AACA,MAAInW,KAAK,CAACkW,KAAV,EAAiB;AACbA,IAAAA,KAAK,GAAGvB,OAAO,CAAC+e,YAAR,CAAqB1zB,KAAK,CAACkW,KAA3B,CAAR;AACH;;AACD,MAAIlW,KAAK,CAACmW,GAAV,EAAe;AACXA,IAAAA,GAAG,GAAGxB,OAAO,CAAC+e,YAAR,CAAqB1zB,KAAK,CAACmW,GAA3B,CAAN;AACH;;AACD,MAAI,CAACD,KAAD,IAAU,CAACC,GAAf,EAAoB;AAChB,WAAO,IAAP;AACH;;AACD,MAAID,KAAK,IAAIC,GAAT,IAAgBA,GAAG,GAAGD,KAA1B,EAAiC;AAC7B,WAAO,IAAP;AACH;;AACD,SAAO;AAAEA,IAAAA,KAAK,EAAEA,KAAT;AAAgBC,IAAAA,GAAG,EAAEA;AAArB,GAAP;AACH,EACD;AACA;;;AACA,SAASwd,YAAT,CAAsBC,MAAtB,EAA8BC,eAA9B,EAA+C;AAC3C,MAAIC,cAAc,GAAG,EAArB;AACA,MAAI5d,KAAK,GAAG2d,eAAe,CAAC3d,KAA5B,CAF2C,CAER;;AACnC,MAAIvO,CAAJ;AACA,MAAIosB,SAAJ,CAJ2C,CAK3C;;AACAH,EAAAA,MAAM,CAACI,IAAP,CAAYC,aAAZ;;AACA,OAAKtsB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGisB,MAAM,CAAChsB,MAAvB,EAA+BD,CAAC,IAAI,CAApC,EAAuC;AACnCosB,IAAAA,SAAS,GAAGH,MAAM,CAACjsB,CAAD,CAAlB,CADmC,CAEnC;;AACA,QAAIosB,SAAS,CAAC7d,KAAV,GAAkBA,KAAtB,EAA6B;AAAE;AAC3B4d,MAAAA,cAAc,CAAC5vB,IAAf,CAAoB;AAAEgS,QAAAA,KAAK,EAAEA,KAAT;AAAgBC,QAAAA,GAAG,EAAE4d,SAAS,CAAC7d;AAA/B,OAApB;AACH;;AACD,QAAI6d,SAAS,CAAC5d,GAAV,GAAgBD,KAApB,EAA2B;AACvBA,MAAAA,KAAK,GAAG6d,SAAS,CAAC5d,GAAlB;AACH;AACJ,GAhB0C,CAiB3C;;;AACA,MAAID,KAAK,GAAG2d,eAAe,CAAC1d,GAA5B,EAAiC;AAAE;AAC/B2d,IAAAA,cAAc,CAAC5vB,IAAf,CAAoB;AAAEgS,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,GAAG,EAAE0d,eAAe,CAAC1d;AAArC,KAApB;AACH;;AACD,SAAO2d,cAAP;AACH;;AACD,SAASG,aAAT,CAAuBC,MAAvB,EAA+BC,MAA/B,EAAuC;AACnC,SAAOD,MAAM,CAAChe,KAAP,CAAa7V,OAAb,KAAyB8zB,MAAM,CAACje,KAAP,CAAa7V,OAAb,EAAhC,CADmC,CACqB;AAC3D;;AACD,SAAS+zB,eAAT,CAAyBF,MAAzB,EAAiCC,MAAjC,EAAyC;AACrC,MAAIje,KAAK,GAAGge,MAAM,CAAChe,KAAnB;AAAA,MAA0BC,GAAG,GAAG+d,MAAM,CAAC/d,GAAvC;AACA,MAAIke,QAAQ,GAAG,IAAf;;AACA,MAAIF,MAAM,CAACje,KAAP,KAAiB,IAArB,EAA2B;AACvB,QAAIA,KAAK,KAAK,IAAd,EAAoB;AAChBA,MAAAA,KAAK,GAAGie,MAAM,CAACje,KAAf;AACH,KAFD,MAGK;AACDA,MAAAA,KAAK,GAAG,IAAI9V,IAAJ,CAASyO,IAAI,CAACoO,GAAL,CAAS/G,KAAK,CAAC7V,OAAN,EAAT,EAA0B8zB,MAAM,CAACje,KAAP,CAAa7V,OAAb,EAA1B,CAAT,CAAR;AACH;AACJ;;AACD,MAAI8zB,MAAM,CAAChe,GAAP,IAAc,IAAlB,EAAwB;AACpB,QAAIA,GAAG,KAAK,IAAZ,EAAkB;AACdA,MAAAA,GAAG,GAAGge,MAAM,CAAChe,GAAb;AACH,KAFD,MAGK;AACDA,MAAAA,GAAG,GAAG,IAAI/V,IAAJ,CAASyO,IAAI,CAACwB,GAAL,CAAS8F,GAAG,CAAC9V,OAAJ,EAAT,EAAwB8zB,MAAM,CAAChe,GAAP,CAAW9V,OAAX,EAAxB,CAAT,CAAN;AACH;AACJ;;AACD,MAAI6V,KAAK,KAAK,IAAV,IAAkBC,GAAG,KAAK,IAA1B,IAAkCD,KAAK,GAAGC,GAA9C,EAAmD;AAC/Cke,IAAAA,QAAQ,GAAG;AAAEne,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,GAAG,EAAEA;AAArB,KAAX;AACH;;AACD,SAAOke,QAAP;AACH;;AACD,SAASC,WAAT,CAAqBJ,MAArB,EAA6BC,MAA7B,EAAqC;AACjC,SAAO,CAACD,MAAM,CAAChe,KAAP,KAAiB,IAAjB,GAAwB,IAAxB,GAA+Bge,MAAM,CAAChe,KAAP,CAAa7V,OAAb,EAAhC,OAA6D8zB,MAAM,CAACje,KAAP,KAAiB,IAAjB,GAAwB,IAAxB,GAA+Bie,MAAM,CAACje,KAAP,CAAa7V,OAAb,EAA5F,KACH,CAAC6zB,MAAM,CAAC/d,GAAP,KAAe,IAAf,GAAsB,IAAtB,GAA6B+d,MAAM,CAAC/d,GAAP,CAAW9V,OAAX,EAA9B,OAAyD8zB,MAAM,CAAChe,GAAP,KAAe,IAAf,GAAsB,IAAtB,GAA6Bge,MAAM,CAAChe,GAAP,CAAW9V,OAAX,EAAtF,CADJ;AAEH;;AACD,SAASk0B,eAAT,CAAyBL,MAAzB,EAAiCC,MAAjC,EAAyC;AACrC,SAAO,CAACD,MAAM,CAAC/d,GAAP,KAAe,IAAf,IAAuBge,MAAM,CAACje,KAAP,KAAiB,IAAxC,IAAgDge,MAAM,CAAC/d,GAAP,GAAage,MAAM,CAACje,KAArE,MACFge,MAAM,CAAChe,KAAP,KAAiB,IAAjB,IAAyBie,MAAM,CAAChe,GAAP,KAAe,IAAxC,IAAgD+d,MAAM,CAAChe,KAAP,GAAeie,MAAM,CAAChe,GADpE,CAAP;AAEH;;AACD,SAASqe,kBAAT,CAA4BC,UAA5B,EAAwCC,UAAxC,EAAoD;AAChD,SAAO,CAACD,UAAU,CAACve,KAAX,KAAqB,IAArB,IAA8Bwe,UAAU,CAACxe,KAAX,KAAqB,IAArB,IAA6Bwe,UAAU,CAACxe,KAAX,IAAoBue,UAAU,CAACve,KAA3F,MACFue,UAAU,CAACte,GAAX,KAAmB,IAAnB,IAA4Bue,UAAU,CAACve,GAAX,KAAmB,IAAnB,IAA2Bue,UAAU,CAACve,GAAX,IAAkBse,UAAU,CAACte,GADlF,CAAP;AAEH;;AACD,SAASwe,mBAAT,CAA6B3iB,KAA7B,EAAoCjB,IAApC,EAA0C;AACtC,SAAO,CAACiB,KAAK,CAACkE,KAAN,KAAgB,IAAhB,IAAwBnF,IAAI,IAAIiB,KAAK,CAACkE,KAAvC,MACFlE,KAAK,CAACmE,GAAN,KAAc,IAAd,IAAsBpF,IAAI,GAAGiB,KAAK,CAACmE,GADjC,CAAP;AAEH,EACD;AACA;;;AACA,SAASye,sBAAT,CAAgC7jB,IAAhC,EAAsCiB,KAAtC,EAA6C;AACzC,MAAIA,KAAK,CAACkE,KAAN,IAAe,IAAf,IAAuBnF,IAAI,GAAGiB,KAAK,CAACkE,KAAxC,EAA+C;AAC3C,WAAOlE,KAAK,CAACkE,KAAb;AACH;;AACD,MAAIlE,KAAK,CAACmE,GAAN,IAAa,IAAb,IAAqBpF,IAAI,IAAIiB,KAAK,CAACmE,GAAvC,EAA4C;AACxC,WAAO,IAAI/V,IAAJ,CAAS4R,KAAK,CAACmE,GAAN,CAAU9V,OAAV,KAAsB,CAA/B,CAAP;AACH;;AACD,SAAO0Q,IAAP;AACH;AAED;AACA;AACA;;;AACA,SAAS8jB,eAAT,CAAyBxf,UAAzB,EAAqCyf,YAArC,EAAmDxf,YAAnD,EAAiE6M,gBAAjE,EAAmF;AAC/E,MAAI4S,kBAAkB,GAAG,EAAzB;AACA,MAAIC,gBAAgB,GAAG,EAAvB;AACA,MAAIC,YAAY,GAAG,EAAnB;AACA,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,QAAQ,GAAGC,eAAe,CAAChgB,UAAU,CAACG,IAAZ,EAAkBsf,YAAlB,CAA9B;;AACA,OAAK,IAAI/iB,KAAT,IAAkBsD,UAAU,CAACG,IAA7B,EAAmC;AAC/B,QAAII,GAAG,GAAGP,UAAU,CAACG,IAAX,CAAgBzD,KAAhB,CAAV;AACA,QAAIggB,EAAE,GAAGqD,QAAQ,CAACxf,GAAG,CAAC7D,KAAL,CAAjB;;AACA,QAAIggB,EAAE,CAACpS,OAAH,KAAe,oBAAnB,EAAyC;AACrC,UAAI/J,GAAG,CAACqZ,OAAR,EAAiB;AACb8F,QAAAA,kBAAkB,CAACnf,GAAG,CAACqZ,OAAL,CAAlB,GAAkC,EAAlC;;AACA,YAAI,CAACgG,YAAY,CAACrf,GAAG,CAACqZ,OAAL,CAAjB,EAAgC;AAC5BgG,UAAAA,YAAY,CAACrf,GAAG,CAACqZ,OAAL,CAAZ,GAA4BrZ,GAA5B;AACH;AACJ,OALD,MAMK;AACDof,QAAAA,gBAAgB,CAACjjB,KAAD,CAAhB,GAA0B,EAA1B;AACH;AACJ;AACJ;;AACD,OAAK,IAAII,UAAT,IAAuBkD,UAAU,CAACI,SAAlC,EAA6C;AACzC,QAAIC,QAAQ,GAAGL,UAAU,CAACI,SAAX,CAAqBtD,UAArB,CAAf;AACA,QAAIyD,GAAG,GAAGP,UAAU,CAACG,IAAX,CAAgBE,QAAQ,CAAC3D,KAAzB,CAAV;AACA,QAAIggB,EAAE,GAAGqD,QAAQ,CAACxf,GAAG,CAAC7D,KAAL,CAAjB;AACA,QAAIujB,SAAS,GAAG5f,QAAQ,CAAC1D,KAAzB;AACA,QAAIujB,WAAW,GAAI,CAAC3f,GAAG,CAACb,MAAL,IAAeoN,gBAAhB,GACd2Q,sBAAsB,CAACwC,SAAD,EAAYnT,gBAAZ,CADR,GAEdmT,SAFJ;AAGA,QAAIE,WAAW,GAAGpB,eAAe,CAACmB,WAAD,EAAcjgB,YAAd,CAAjC;;AACA,QAAIkgB,WAAJ,EAAiB;AACb,UAAIzD,EAAE,CAACpS,OAAH,KAAe,oBAAnB,EAAyC;AACrC,YAAI/J,GAAG,CAACqZ,OAAR,EAAiB;AACb8F,UAAAA,kBAAkB,CAACnf,GAAG,CAACqZ,OAAL,CAAlB,CAAgC/qB,IAAhC,CAAqCsxB,WAArC;AACH,SAFD,MAGK;AACDR,UAAAA,gBAAgB,CAACtf,QAAQ,CAAC3D,KAAV,CAAhB,CAAiC7N,IAAjC,CAAsCsxB,WAAtC;AACH;AACJ,OAPD,MAQK,IAAIzD,EAAE,CAACpS,OAAH,KAAe,MAAnB,EAA2B;AAC5B,SAACoS,EAAE,CAACpS,OAAH,KAAe,YAAf,GAA8BuV,QAA9B,GAAyCC,QAA1C,EAAoDjxB,IAApD,CAAyD;AACrD0R,UAAAA,GAAG,EAAEA,GADgD;AAErDmc,UAAAA,EAAE,EAAEA,EAFiD;AAGrDrc,UAAAA,QAAQ,EAAEA,QAH2C;AAIrD1D,UAAAA,KAAK,EAAEwjB,WAJ8C;AAKrDC,UAAAA,OAAO,EAAEF,WAAW,CAACrf,KAAZ,IAAqBqf,WAAW,CAACrf,KAAZ,CAAkB7V,OAAlB,OAAgCm1B,WAAW,CAACtf,KAAZ,CAAkB7V,OAAlB,EALT;AAMrDq1B,UAAAA,KAAK,EAAEH,WAAW,CAACpf,GAAZ,IAAmBof,WAAW,CAACpf,GAAZ,CAAgB9V,OAAhB,OAA8Bm1B,WAAW,CAACrf,GAAZ,CAAgB9V,OAAhB;AANH,SAAzD;AAQH;AACJ;AACJ;;AACD,OAAK,IAAI4uB,OAAT,IAAoB8F,kBAApB,EAAwC;AAAE;AACtC,QAAInB,MAAM,GAAGmB,kBAAkB,CAAC9F,OAAD,CAA/B;AACA,QAAI6E,cAAc,GAAGH,YAAY,CAACC,MAAD,EAASte,YAAT,CAAjC;;AACA,SAAK,IAAIpC,EAAE,GAAG,CAAT,EAAYyiB,gBAAgB,GAAG7B,cAApC,EAAoD5gB,EAAE,GAAGyiB,gBAAgB,CAAC/tB,MAA1E,EAAkFsL,EAAE,EAApF,EAAwF;AACpF,UAAI0iB,aAAa,GAAGD,gBAAgB,CAACziB,EAAD,CAApC;AACA,UAAI0C,GAAG,GAAGqf,YAAY,CAAChG,OAAD,CAAtB;AACA,UAAI8C,EAAE,GAAGqD,QAAQ,CAACxf,GAAG,CAAC7D,KAAL,CAAjB;AACAmjB,MAAAA,QAAQ,CAAChxB,IAAT,CAAc;AACV0R,QAAAA,GAAG,EAAEA,GADK;AAEVmc,QAAAA,EAAE,EAAEA,EAFM;AAGVrc,QAAAA,QAAQ,EAAE,IAHA;AAIV1D,QAAAA,KAAK,EAAE4jB,aAJG;AAKVH,QAAAA,OAAO,EAAE,KALC;AAMVC,QAAAA,KAAK,EAAE;AANG,OAAd;AAQH;AACJ;;AACD,OAAK,IAAI3jB,KAAT,IAAkBijB,gBAAlB,EAAoC;AAChC,QAAIpB,MAAM,GAAGoB,gBAAgB,CAACjjB,KAAD,CAA7B;AACA,QAAI+hB,cAAc,GAAGH,YAAY,CAACC,MAAD,EAASte,YAAT,CAAjC;;AACA,SAAK,IAAIvM,EAAE,GAAG,CAAT,EAAY8sB,gBAAgB,GAAG/B,cAApC,EAAoD/qB,EAAE,GAAG8sB,gBAAgB,CAACjuB,MAA1E,EAAkFmB,EAAE,EAApF,EAAwF;AACpF,UAAI6sB,aAAa,GAAGC,gBAAgB,CAAC9sB,EAAD,CAApC;AACAmsB,MAAAA,QAAQ,CAAChxB,IAAT,CAAc;AACV0R,QAAAA,GAAG,EAAEP,UAAU,CAACG,IAAX,CAAgBzD,KAAhB,CADK;AAEVggB,QAAAA,EAAE,EAAEqD,QAAQ,CAACrjB,KAAD,CAFF;AAGV2D,QAAAA,QAAQ,EAAE,IAHA;AAIV1D,QAAAA,KAAK,EAAE4jB,aAJG;AAKVH,QAAAA,OAAO,EAAE,KALC;AAMVC,QAAAA,KAAK,EAAE;AANG,OAAd;AAQH;AACJ;;AACD,SAAO;AAAEI,IAAAA,EAAE,EAAEZ,QAAN;AAAgBa,IAAAA,EAAE,EAAEZ;AAApB,GAAP;AACH;;AACD,SAASa,cAAT,CAAwBpgB,GAAxB,EAA6B;AACzB,SAAOA,GAAG,CAACmc,EAAJ,CAAOpS,OAAP,KAAmB,YAAnB,IAAmC/J,GAAG,CAACmc,EAAJ,CAAOpS,OAAP,KAAmB,oBAA7D;AACH;;AACD,SAASsW,QAAT,CAAkB1vB,EAAlB,EAAsB2vB,GAAtB,EAA2B;AACvB3vB,EAAAA,EAAE,CAAC4vB,KAAH,GAAWD,GAAX;AACH;;AACD,SAASE,QAAT,CAAkB7vB,EAAlB,EAAsB;AAClB,SAAOA,EAAE,CAAC4vB,KAAH,IACH5vB,EAAE,CAACC,UAAH,CAAc2vB,KADX,IACoB;AACvB,MAFJ;AAGH,EACD;;;AACA,SAASd,eAAT,CAAyBgB,SAAzB,EAAoCvB,YAApC,EAAkD;AAC9C,SAAOx0B,OAAO,CAAC+1B,SAAD,EAAY,UAAUjgB,QAAV,EAAoB;AAAE,WAAOkgB,cAAc,CAAClgB,QAAD,EAAW0e,YAAX,CAArB;AAAgD,GAAlF,CAAd;AACH;;AACD,SAASwB,cAAT,CAAwBlgB,QAAxB,EAAkC0e,YAAlC,EAAgD;AAC5C,MAAIjE,GAAG,GAAG,EAAV;;AACA,MAAIiE,YAAY,CAAC,EAAD,CAAhB,EAAsB;AAClBjE,IAAAA,GAAG,CAAC3sB,IAAJ,CAAS4wB,YAAY,CAAC,EAAD,CAArB;AACH;;AACD,MAAIA,YAAY,CAAC1e,QAAQ,CAACrE,KAAV,CAAhB,EAAkC;AAC9B8e,IAAAA,GAAG,CAAC3sB,IAAJ,CAAS4wB,YAAY,CAAC1e,QAAQ,CAACrE,KAAV,CAArB;AACH;;AACD8e,EAAAA,GAAG,CAAC3sB,IAAJ,CAASkS,QAAQ,CAAC2b,EAAlB;AACA,SAAOnB,eAAe,CAACC,GAAD,CAAtB;AACH;;AACD,SAAS0F,aAAT,CAAuBC,IAAvB,EAA6BC,eAA7B,EAA8C;AAC1C,MAAIC,IAAI,GAAGF,IAAI,CAACr2B,GAAL,CAASw2B,kBAAT,CAAX;AACAD,EAAAA,IAAI,CAAC1C,IAAL,CAAU,UAAUjoB,IAAV,EAAgBC,IAAhB,EAAsB;AAAE,WAAOF,mBAAmB,CAACC,IAAD,EAAOC,IAAP,EAAayqB,eAAb,CAA1B;AAA0D,GAA5F;AACA,SAAOC,IAAI,CAACv2B,GAAL,CAAS,UAAUy2B,CAAV,EAAa;AAAE,WAAOA,CAAC,CAACC,IAAT;AAAgB,GAAxC,CAAP;AACH,EACD;;;AACA,SAASF,kBAAT,CAA4BT,GAA5B,EAAiC;AAC7B,MAAIY,UAAU,GAAGZ,GAAG,CAACY,UAArB;AACA,MAAI1gB,QAAQ,GAAG0gB,UAAU,CAAClhB,GAA1B;AACA,MAAI5D,KAAK,GAAG8kB,UAAU,CAACphB,QAAX,GAAsBohB,UAAU,CAACphB,QAAX,CAAoB1D,KAA1C,GAAkD8kB,UAAU,CAAC9kB,KAAzE;AACA,MAAIkE,KAAK,GAAGlE,KAAK,CAACkE,KAAN,GAAclE,KAAK,CAACkE,KAAN,CAAY7V,OAAZ,EAAd,GAAsC,CAAlD,CAJ6B,CAIwB;;AACrD,MAAI8V,GAAG,GAAGnE,KAAK,CAACmE,GAAN,GAAYnE,KAAK,CAACmE,GAAN,CAAU9V,OAAV,EAAZ,GAAkC,CAA5C,CAL6B,CAKkB;;AAC/C,SAAOwE,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKuR,QAAQ,CAACmb,aAAd,CAAT,EAAuCnb,QAAvC,CAAT,EAA2D;AAAE+a,IAAAA,EAAE,EAAE/a,QAAQ,CAACpQ,QAAf;AAAyBkQ,IAAAA,KAAK,EAAEA,KAAhC;AACtEC,IAAAA,GAAG,EAAEA,GADiE;AAC5DlB,IAAAA,QAAQ,EAAEkB,GAAG,GAAGD,KAD4C;AACrCnB,IAAAA,MAAM,EAAE4O,MAAM,CAACvN,QAAQ,CAACrB,MAAV,CADuB;AACJ8hB,IAAAA,IAAI,EAAEX;AADF,GAA3D,CAAf;AAEH;;AACD,SAASa,mBAAT,CAA6Bb,GAA7B,EAAkC5wB,OAAlC,EAA2C;AACvC,MAAIiQ,WAAW,GAAGjQ,OAAO,CAACiQ,WAA1B;AACA,MAAIyhB,YAAY,GAAGzhB,WAAW,CAAC0hB,uBAA/B;AACA,MAAIluB,EAAE,GAAGmtB,GAAG,CAACY,UAAb;AAAA,MAAyBlhB,GAAG,GAAG7M,EAAE,CAAC6M,GAAlC;AAAA,MAAuCmc,EAAE,GAAGhpB,EAAE,CAACgpB,EAA/C;AACA,MAAIvxB,GAAG,GAAGuxB,EAAE,CAACjC,aAAb;;AACA,OAAK,IAAI5c,EAAE,GAAG,CAAT,EAAYgkB,cAAc,GAAGF,YAAlC,EAAgD9jB,EAAE,GAAGgkB,cAAc,CAACtvB,MAApE,EAA4EsL,EAAE,EAA9E,EAAkF;AAC9E,QAAIikB,WAAW,GAAGD,cAAc,CAAChkB,EAAD,CAAhC;AACA1S,IAAAA,GAAG,GAAG22B,WAAW,CAAC32B,GAAD,EAAMoV,GAAN,EAAWmc,EAAX,EAAezsB,OAAf,CAAjB;AACH;;AACD,SAAO9E,GAAP;AACH;;AACD,SAAS42B,wBAAT,CAAkClB,GAAlC,EAAuC5wB,OAAvC,EAAgD;AAC5C,SAAO4wB,GAAG,CAACT,OAAJ,IAAeS,GAAG,CAACY,UAAJ,CAAe/E,EAAf,CAAkBhC,gBAAjC,IAAqDzqB,OAAO,CAAC7D,OAAR,CAAgBykB,uBAA5E;AACH;;AACD,SAASmR,sBAAT,CAAgCnB,GAAhC,EAAqC5wB,OAArC,EAA8C;AAC1C,SAAO4wB,GAAG,CAACR,KAAJ,IAAaQ,GAAG,CAACY,UAAJ,CAAe/E,EAAf,CAAkBhC,gBAAtC;AACH;;AACD,SAASuH,gBAAT,CAA0BpB,GAA1B,EAA+BqB,UAA/B,EAA2CjyB,OAA3C,EAAoDkyB,uBAApD,EAA6E;AAC7EC,sBADA,EACwB;AACxBC,aAFA,EAEeC,WAFf,EAE4B;AACxB,MAAIhjB,OAAO,GAAGrP,OAAO,CAACqP,OAAtB;AAAA,MAA+BlT,OAAO,GAAG6D,OAAO,CAAC7D,OAAjD;AACA,MAAI0kB,gBAAgB,GAAG1kB,OAAO,CAAC0kB,gBAA/B;AAAA,MAAiDC,eAAe,GAAG3kB,OAAO,CAAC2kB,eAA3E;AACA,MAAIhQ,QAAQ,GAAG8f,GAAG,CAACY,UAAJ,CAAelhB,GAA9B;AACA,MAAIgiB,aAAa,GAAG1B,GAAG,CAACY,UAAJ,CAAephB,QAAnC;;AACA,MAAIyQ,gBAAgB,IAAI,IAAxB,EAA8B;AAC1BA,IAAAA,gBAAgB,GAAGqR,uBAAuB,KAAK,KAA/C;AACH;;AACD,MAAIpR,eAAe,IAAI,IAAvB,EAA6B;AACzBA,IAAAA,eAAe,GAAGqR,sBAAsB,KAAK,KAA7C;AACH;;AACD,MAAII,eAAe,GAAGD,aAAa,CAAC5lB,KAAd,CAAoBkE,KAA1C;AACA,MAAI4hB,aAAa,GAAGF,aAAa,CAAC5lB,KAAd,CAAoBmE,GAAxC;AACA,MAAI4hB,QAAQ,GAAGL,aAAa,IAAIxB,GAAG,CAAChgB,KAArB,IAA8BggB,GAAG,CAACY,UAAJ,CAAe9kB,KAAf,CAAqBkE,KAAlE;AACA,MAAI8hB,MAAM,GAAGL,WAAW,IAAIzB,GAAG,CAAC/f,GAAnB,IAA0B+f,GAAG,CAACY,UAAJ,CAAe9kB,KAAf,CAAqBmE,GAA5D;AACA,MAAI8hB,UAAU,GAAGzpB,UAAU,CAACqpB,eAAD,CAAV,CAA4Bx3B,OAA5B,OAA0CmO,UAAU,CAACupB,QAAD,CAAV,CAAqB13B,OAArB,EAA3D;AACA,MAAI63B,QAAQ,GAAG1pB,UAAU,CAACV,KAAK,CAACgqB,aAAD,EAAgB,CAAC,CAAjB,CAAN,CAAV,CAAqCz3B,OAArC,OAAmDmO,UAAU,CAACV,KAAK,CAACkqB,MAAD,EAAS,CAAC,CAAV,CAAN,CAAV,CAA8B33B,OAA9B,EAAlE;;AACA,MAAI8lB,gBAAgB,IAAI,CAAC/P,QAAQ,CAACrB,MAA9B,KAAyCkjB,UAAU,IAAIC,QAAvD,CAAJ,EAAsE;AAClEH,IAAAA,QAAQ,GAAGE,UAAU,GAAGJ,eAAH,GAAqBE,QAA1C;AACAC,IAAAA,MAAM,GAAGE,QAAQ,GAAGJ,aAAH,GAAmBE,MAApC;;AACA,QAAI5R,eAAe,IAAIhQ,QAAQ,CAAC0b,MAAhC,EAAwC;AACpC,aAAOnd,OAAO,CAACwI,WAAR,CAAoB4a,QAApB,EAA8BC,MAA9B,EAAsCT,UAAtC,EAAkD;AACrDtlB,QAAAA,cAAc,EAAEylB,aAAa,GAAG,IAAH,GAAUE,aAAa,CAAC3lB,cADA;AAErDC,QAAAA,YAAY,EAAEylB,WAAW,GAAG,IAAH,GAAUC,aAAa,CAAC1lB;AAFI,OAAlD,CAAP;AAIH;;AACD,WAAOyC,OAAO,CAACtO,MAAR,CAAe0xB,QAAf,EAAyBR,UAAzB,EAAqC;AACxC7E,MAAAA,SAAS,EAAEgF,aAAa,GAAG,IAAH,GAAUE,aAAa,CAAC3lB,cADR,CACwB;;AADxB,KAArC,CAAP;AAGH;;AACD,SAAO,EAAP;AACH;;AACD,SAASkmB,UAAT,CAAoBjC,GAApB,EAAyBkC,UAAzB,EAAqCC,OAArC,EAA8C;AAC1C,MAAIC,QAAQ,GAAGpC,GAAG,CAACY,UAAJ,CAAe9kB,KAA9B;AACA,SAAO;AACHumB,IAAAA,MAAM,EAAED,QAAQ,CAACniB,GAAT,IAAgBkiB,OAAO,IAAID,UAAU,CAACliB,KAAtC,CADL;AAEHsiB,IAAAA,QAAQ,EAAEF,QAAQ,CAACpiB,KAAT,KAAmBmiB,OAAO,IAAID,UAAU,CAACjiB,GAAzC,CAFP;AAGHsiB,IAAAA,OAAO,EAAEL,UAAU,IAAIzD,mBAAmB,CAACyD,UAAD,EAAaE,QAAQ,CAACpiB,KAAtB;AAHvC,GAAP;AAKH;;AACD,SAASwiB,kBAAT,CAA4BnwB,KAA5B,EAAmC;AAC/B,MAAI6kB,UAAU,GAAG,CAAC,UAAD,CAAjB;;AACA,MAAI7kB,KAAK,CAACowB,QAAV,EAAoB;AAChBvL,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,iBAAhB;AACH;;AACD,MAAIqE,KAAK,CAACqwB,WAAV,EAAuB;AACnBxL,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,oBAAhB;AACH;;AACD,MAAIqE,KAAK,CAACswB,gBAAN,IAA0BtwB,KAAK,CAACuwB,cAApC,EAAoD;AAChD1L,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,oBAAhB;AACH;;AACD,MAAIqE,KAAK,CAACwwB,UAAV,EAAsB;AAClB3L,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,mBAAhB;AACH;;AACD,MAAIqE,KAAK,CAACywB,UAAV,EAAsB;AAClB5L,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,mBAAhB;AACH;;AACD,MAAIqE,KAAK,CAAC0wB,UAAV,EAAsB;AAClB7L,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,mBAAhB;AACH;;AACD,MAAIqE,KAAK,CAACktB,OAAV,EAAmB;AACfrI,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,gBAAhB;AACH;;AACD,MAAIqE,KAAK,CAACmtB,KAAV,EAAiB;AACbtI,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,cAAhB;AACH;;AACD,MAAIqE,KAAK,CAACgwB,MAAV,EAAkB;AACdnL,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,eAAhB;AACH;;AACD,MAAIqE,KAAK,CAACkwB,OAAV,EAAmB;AACfrL,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,gBAAhB;AACH;;AACD,MAAIqE,KAAK,CAACiwB,QAAV,EAAoB;AAChBpL,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,iBAAhB;AACH;;AACD,SAAOkpB,UAAP;AACH;;AACD,SAAS8L,kBAAT,CAA4BpC,UAA5B,EAAwC;AACpC,SAAOA,UAAU,CAACphB,QAAX,GACDohB,UAAU,CAACphB,QAAX,CAAoBvD,UADnB,GAED2kB,UAAU,CAAClhB,GAAX,CAAe7D,KAAf,GAAuB,GAAvB,GAA6B+kB,UAAU,CAAC9kB,KAAX,CAAiBkE,KAAjB,CAAuBoD,WAAvB,EAFnC,CADoC,CAIpC;AACH;;AAED,IAAI6f,cAAc,GAAG;AACjBjjB,EAAAA,KAAK,EAAE4L,QADU;AAEjB3L,EAAAA,GAAG,EAAE2L,QAFY;AAGjB/M,EAAAA,MAAM,EAAEuN;AAHS,CAArB;;AAKA,SAAS8W,aAAT,CAAuBvL,GAAvB,EAA4BlZ,OAA5B,EAAqC0kB,eAArC,EAAsD;AAClD,MAAIC,IAAI,GAAGC,iBAAiB,CAAC1L,GAAD,EAAMlZ,OAAN,CAA5B;AACA,MAAI3C,KAAK,GAAGsnB,IAAI,CAACtnB,KAAjB;;AACA,MAAI,CAACA,KAAK,CAACkE,KAAX,EAAkB;AACd,WAAO,IAAP;AACH;;AACD,MAAI,CAAClE,KAAK,CAACmE,GAAX,EAAgB;AACZ,QAAIkjB,eAAe,IAAI,IAAvB,EAA6B;AACzB,aAAO,IAAP;AACH;;AACDrnB,IAAAA,KAAK,CAACmE,GAAN,GAAYxB,OAAO,CAAC5J,GAAR,CAAYiH,KAAK,CAACkE,KAAlB,EAAyBmjB,eAAzB,CAAZ;AACH;;AACD,SAAOC,IAAP;AACH;AACD;AACA;AACA;AACA;;;AACA,SAASC,iBAAT,CAA2B1L,GAA3B,EAAgClZ,OAAhC,EAAyC;AACrC,MAAI5L,EAAE,GAAG2kB,WAAW,CAACG,GAAD,EAAMsL,cAAN,CAApB;AAAA,MAA2CK,aAAa,GAAGzwB,EAAE,CAAC0L,OAA9D;AAAA,MAAuEmZ,KAAK,GAAG7kB,EAAE,CAAC6kB,KAAlF;;AACA,MAAIuE,SAAS,GAAGqH,aAAa,CAACtjB,KAAd,GAAsBvB,OAAO,CAAC6d,gBAAR,CAAyBgH,aAAa,CAACtjB,KAAvC,CAAtB,GAAsE,IAAtF;AACA,MAAImc,OAAO,GAAGmH,aAAa,CAACrjB,GAAd,GAAoBxB,OAAO,CAAC6d,gBAAR,CAAyBgH,aAAa,CAACrjB,GAAvC,CAApB,GAAkE,IAAhF;AACA,MAAIpB,MAAM,GAAGykB,aAAa,CAACzkB,MAA3B;;AACA,MAAIA,MAAM,IAAI,IAAd,EAAoB;AAChBA,IAAAA,MAAM,GAAIod,SAAS,IAAIA,SAAS,CAACM,iBAAxB,KACJ,CAACJ,OAAD,IAAYA,OAAO,CAACI,iBADhB,CAAT;AAEH;;AACD,SAAO5tB,+CAAQ,CAAC;AAAEmN,IAAAA,KAAK,EAAE;AACjBkE,MAAAA,KAAK,EAAEic,SAAS,GAAGA,SAAS,CAACriB,MAAb,GAAsB,IADrB;AAEjBqG,MAAAA,GAAG,EAAEkc,OAAO,GAAGA,OAAO,CAACviB,MAAX,GAAoB;AAFf,KAAT;AAGTiF,IAAAA,MAAM,EAAEA;AAHC,GAAD,EAGU6Y,KAHV,CAAf;AAIH;;AACD,SAAS6L,gBAAT,CAA0BC,KAA1B,EAAiCC,KAAjC,EAAwC;AACpC,SAAOrF,WAAW,CAACoF,KAAK,CAAC1nB,KAAP,EAAc2nB,KAAK,CAAC3nB,KAApB,CAAX,IACH0nB,KAAK,CAAC3kB,MAAN,KAAiB4kB,KAAK,CAAC5kB,MADpB,IAEH6kB,gBAAgB,CAACF,KAAD,EAAQC,KAAR,CAFpB;AAGH,EACD;;;AACA,SAASC,gBAAT,CAA0BF,KAA1B,EAAiCC,KAAjC,EAAwC;AACpC,OAAK,IAAInxB,QAAT,IAAqBmxB,KAArB,EAA4B;AACxB,QAAInxB,QAAQ,KAAK,OAAb,IAAwBA,QAAQ,KAAK,QAAzC,EAAmD;AAC/C,UAAIkxB,KAAK,CAAClxB,QAAD,CAAL,KAAoBmxB,KAAK,CAACnxB,QAAD,CAA7B,EAAyC;AACrC,eAAO,KAAP;AACH;AACJ;AACJ,GAPmC,CAQpC;AACA;;;AACA,OAAK,IAAIA,QAAT,IAAqBkxB,KAArB,EAA4B;AACxB,QAAI,EAAElxB,QAAQ,IAAImxB,KAAd,CAAJ,EAA0B;AACtB,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH;;AACD,SAASE,gBAAT,CAA0BP,IAA1B,EAAgC3kB,OAAhC,EAAyC;AACrC,SAAO9P,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKi1B,aAAa,CAACR,IAAI,CAACtnB,KAAN,EAAa2C,OAAb,EAAsB2kB,IAAI,CAACvkB,MAA3B,CAAlB,CAAT,EAAgE;AAAEA,IAAAA,MAAM,EAAEukB,IAAI,CAACvkB;AAAf,GAAhE,CAAf;AACH;;AACD,SAASglB,yBAAT,CAAmC/nB,KAAnC,EAA0C2C,OAA1C,EAAmDqlB,QAAnD,EAA6D;AACzD,SAAOn1B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKi1B,aAAa,CAAC9nB,KAAD,EAAQ2C,OAAR,EAAiBqlB,QAAjB,CAAlB,CAAT,EAAwD;AAAEnb,IAAAA,QAAQ,EAAElK,OAAO,CAACkK;AAApB,GAAxD,CAAf;AACH;;AACD,SAASib,aAAT,CAAuB9nB,KAAvB,EAA8B2C,OAA9B,EAAuCqlB,QAAvC,EAAiD;AAC7C,SAAO;AACH9jB,IAAAA,KAAK,EAAEvB,OAAO,CAACslB,MAAR,CAAejoB,KAAK,CAACkE,KAArB,CADJ;AAEHC,IAAAA,GAAG,EAAExB,OAAO,CAACslB,MAAR,CAAejoB,KAAK,CAACmE,GAArB,CAFF;AAGH+jB,IAAAA,QAAQ,EAAEvlB,OAAO,CAACwlB,SAAR,CAAkBnoB,KAAK,CAACkE,KAAxB,EAA+B;AAAE8jB,MAAAA,QAAQ,EAAEA;AAAZ,KAA/B,CAHP;AAIHI,IAAAA,MAAM,EAAEzlB,OAAO,CAACwlB,SAAR,CAAkBnoB,KAAK,CAACmE,GAAxB,EAA6B;AAAE6jB,MAAAA,QAAQ,EAAEA;AAAZ,KAA7B;AAJL,GAAP;AAMH;;AACD,SAASK,mBAAT,CAA6BC,QAA7B,EAAuCxF,YAAvC,EAAqDxvB,OAArD,EAA8D;AAC1D,MAAIiP,GAAG,GAAGid,cAAc,CAAC;AAAErN,IAAAA,QAAQ,EAAE;AAAZ,GAAD,EAAsB7e,OAAtB,CAAxB;AACA,MAAIsQ,GAAG,GAAG+b,aAAa,CAACpd,GAAG,CAACE,OAAL,EAAcF,GAAG,CAACqZ,KAAlB,EAAyB,EAAzB,EAA6B;AACpD0M,EAAAA,QAAQ,CAACvlB,MADc,EACN,IADM,EACA;AACvBzP,EAAAA,OAFuB,CAAvB;AAGA,SAAO;AACHsQ,IAAAA,GAAG,EAAEA,GADF;AAEHmc,IAAAA,EAAE,EAAEuE,cAAc,CAAC1gB,GAAD,EAAMkf,YAAN,CAFf;AAGHpf,IAAAA,QAAQ,EAAE5D,mBAAmB,CAAC8D,GAAG,CAAC7D,KAAL,EAAYuoB,QAAQ,CAACtoB,KAArB,CAH1B;AAIHA,IAAAA,KAAK,EAAEsoB,QAAQ,CAACtoB,KAJb;AAKHyjB,IAAAA,OAAO,EAAE,IALN;AAMHC,IAAAA,KAAK,EAAE;AANJ,GAAP;AAQH;;AAED,SAAS6E,iBAAT,CAA2BC,SAA3B,EAAsCC,GAAtC,EAA2Cn1B,OAA3C,EAAoD;AAChDA,EAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,QAAxB,EAAkC91B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK+1B,2BAA2B,CAACJ,SAAD,EAAYl1B,OAAZ,CAAhC,CAAT,EAAgE;AAAEu1B,IAAAA,OAAO,EAAEJ,GAAG,GAAGA,GAAG,CAACK,SAAP,GAAmB,IAAjC;AAAuCC,IAAAA,IAAI,EAAEz1B,OAAO,CAAC01B,OAAR,IAAmB11B,OAAO,CAAC21B,WAAR,CAAoBF;AAApF,GAAhE,CAA1C;AACH;;AACD,SAASG,mBAAT,CAA6BT,GAA7B,EAAkCn1B,OAAlC,EAA2C;AACvCA,EAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,UAAxB,EAAoC;AAChCE,IAAAA,OAAO,EAAEJ,GAAG,GAAGA,GAAG,CAACK,SAAP,GAAmB,IADC;AAEhCC,IAAAA,IAAI,EAAEz1B,OAAO,CAAC01B,OAAR,IAAmB11B,OAAO,CAAC21B,WAAR,CAAoBF;AAFb,GAApC;AAIH;;AACD,SAASH,2BAAT,CAAqCN,QAArC,EAA+Ch1B,OAA/C,EAAwD;AACpD,MAAIiD,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAI2K,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGzD,OAAO,CAACiQ,WAAR,CAAoB4lB,kBAA1C,EAA8DjoB,EAAE,GAAGnK,EAAE,CAACnB,MAAtE,EAA8EsL,EAAE,EAAhF,EAAoF;AAChF,QAAIkoB,SAAS,GAAGryB,EAAE,CAACmK,EAAD,CAAlB;;AACArO,IAAAA,+CAAQ,CAAC0D,KAAD,EAAQ6yB,SAAS,CAACd,QAAD,EAAWh1B,OAAX,CAAjB,CAAR;AACH;;AACDT,EAAAA,+CAAQ,CAAC0D,KAAD,EAAQsxB,gBAAgB,CAACS,QAAD,EAAWh1B,OAAO,CAACqP,OAAnB,CAAxB,CAAR;;AACA,SAAOpM,KAAP;AACH,EACD;AACA;;;AACA,SAAS8yB,kBAAT,CAA4BtmB,MAA5B,EAAoCjF,MAApC,EAA4CxK,OAA5C,EAAqD;AACjD,MAAIqP,OAAO,GAAGrP,OAAO,CAACqP,OAAtB;AAAA,MAA+BlT,OAAO,GAAG6D,OAAO,CAAC7D,OAAjD;AACA,MAAI0U,GAAG,GAAGrG,MAAV;;AACA,MAAIiF,MAAJ,EAAY;AACRoB,IAAAA,GAAG,GAAG3H,UAAU,CAAC2H,GAAD,CAAhB;AACAA,IAAAA,GAAG,GAAGxB,OAAO,CAAC5J,GAAR,CAAYoL,GAAZ,EAAiB1U,OAAO,CAACoU,0BAAzB,CAAN;AACH,GAHD,MAIK;AACDM,IAAAA,GAAG,GAAGxB,OAAO,CAAC5J,GAAR,CAAYoL,GAAZ,EAAiB1U,OAAO,CAACqU,yBAAzB,CAAN;AACH;;AACD,SAAOK,GAAP;AACH,EAED;;;AACA,SAASmlB,yBAAT,CAAmCjmB,UAAnC,EAA+CkmB,eAA/C,EAAgEC,QAAhE,EAA0El2B,OAA1E,EAAmF;AAC/E,MAAIm2B,YAAY,GAAGpG,eAAe,CAAChgB,UAAU,CAACG,IAAZ,EAAkB+lB,eAAlB,CAAlC;AACA,MAAIhpB,IAAI,GAAG2b,qBAAqB,EAAhC;;AACA,OAAK,IAAInc,KAAT,IAAkBsD,UAAU,CAACG,IAA7B,EAAmC;AAC/B,QAAII,GAAG,GAAGP,UAAU,CAACG,IAAX,CAAgBzD,KAAhB,CAAV;AACAQ,IAAAA,IAAI,CAACiD,IAAL,CAAUzD,KAAV,IAAmB2pB,uBAAuB,CAAC9lB,GAAD,EAAM6lB,YAAY,CAAC1pB,KAAD,CAAlB,EAA2BypB,QAA3B,EAAqCl2B,OAArC,CAA1C;AACH;;AACD,OAAK,IAAI6M,UAAT,IAAuBkD,UAAU,CAACI,SAAlC,EAA6C;AACzC,QAAIC,QAAQ,GAAGL,UAAU,CAACI,SAAX,CAAqBtD,UAArB,CAAf;AACA,QAAIyD,GAAG,GAAGrD,IAAI,CAACiD,IAAL,CAAUE,QAAQ,CAAC3D,KAAnB,CAAV,CAFyC,CAEJ;;AACrCQ,IAAAA,IAAI,CAACkD,SAAL,CAAetD,UAAf,IAA6BwpB,4BAA4B,CAACjmB,QAAD,EAAWE,GAAX,EAAgB6lB,YAAY,CAAC/lB,QAAQ,CAAC3D,KAAV,CAA5B,EAA8CypB,QAA9C,EAAwDl2B,OAAxD,CAAzD;AACH;;AACD,SAAOiN,IAAP;AACH;;AACD,SAASmpB,uBAAT,CAAiCtlB,QAAjC,EAA2CwlB,WAA3C,EAAwDJ,QAAxD,EAAkEl2B,OAAlE,EAA2E;AACvE,MAAIk0B,aAAa,GAAGgC,QAAQ,CAAChC,aAAT,IAA0B,EAA9C,CADuE,CAEvE;AACA;AACA;;AACA,MAAIA,aAAa,CAAC1H,MAAd,IAAwB,IAAxB,IACA8J,WAAW,CAAC7L,gBADZ,KAECyL,QAAQ,CAACK,UAAT,IAAuBL,QAAQ,CAACM,QAFjC,CAAJ,EAEgD;AAC5CtC,IAAAA,aAAa,CAAC1H,MAAd,GAAuB,IAAvB,CAD4C,CACf;AAChC;;AACD,MAAIiK,IAAI,GAAGl3B,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKuR,QAAL,CAAT,EAAyBojB,aAAzB,CAAT,EAAkD;AAAEzH,IAAAA,EAAE,EAAEltB,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKuR,QAAQ,CAAC2b,EAAd,CAAT,EAA4ByH,aAAa,CAACzH,EAA1C;AAAd,GAAlD,CAAnB;;AACA,MAAIyJ,QAAQ,CAACjK,aAAb,EAA4B;AACxBwK,IAAAA,IAAI,CAACxK,aAAL,GAAqB1sB,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKk3B,IAAI,CAACxK,aAAV,CAAT,EAAmCiK,QAAQ,CAACjK,aAA5C,CAA7B;AACH;;AACD,OAAK,IAAIre,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGzD,OAAO,CAACiQ,WAAR,CAAoBymB,wBAA1C,EAAoE9oB,EAAE,GAAGnK,EAAE,CAACnB,MAA5E,EAAoFsL,EAAE,EAAtF,EAA0F;AACtF,QAAI+oB,OAAO,GAAGlzB,EAAE,CAACmK,EAAD,CAAhB;AACA+oB,IAAAA,OAAO,CAACF,IAAD,EAAOP,QAAP,EAAiBl2B,OAAjB,CAAP;AACH;;AACD,MAAI,CAACy2B,IAAI,CAACjK,MAAN,IAAgBxsB,OAAO,CAAC7D,OAAR,CAAgBqhB,kBAApC,EAAwD;AACpDiZ,IAAAA,IAAI,CAACjK,MAAL,GAAc,IAAd;AACH;;AACD,SAAOiK,IAAP;AACH;;AACD,SAASJ,4BAAT,CAAsC/D,aAAtC,EAAqDxhB,QAArD,EAA+D;AAC/DwlB,WADA,EACaJ,QADb,EACuBl2B,OADvB,EACgC;AAC5B,MAAIqP,OAAO,GAAGrP,OAAO,CAACqP,OAAtB;AACA,MAAIunB,WAAW,GAAGV,QAAQ,CAAChC,aAAT,IAA0BgC,QAAQ,CAAChC,aAAT,CAAuBzkB,MAAvB,KAAkC,IAA9E;AACA,MAAIonB,QAAQ,GAAGX,QAAQ,CAAChC,aAAT,IAA0BgC,QAAQ,CAAChC,aAAT,CAAuB1H,MAAvB,KAAkC,KAA3E;;AACA,MAAIiK,IAAI,GAAGl3B,+CAAQ,CAAC,EAAD,EAAK+yB,aAAL,CAAnB;;AACA,MAAIsE,WAAJ,EAAiB;AACbH,IAAAA,IAAI,CAAC/pB,KAAL,GAAa2gB,sBAAsB,CAACoJ,IAAI,CAAC/pB,KAAN,CAAnC;AACH;;AACD,MAAIwpB,QAAQ,CAACY,UAAT,IAAuBR,WAAW,CAAC9L,aAAvC,EAAsD;AAClDiM,IAAAA,IAAI,CAAC/pB,KAAL,GAAa;AACTkE,MAAAA,KAAK,EAAEvB,OAAO,CAAC5J,GAAR,CAAYgxB,IAAI,CAAC/pB,KAAL,CAAWkE,KAAvB,EAA8BslB,QAAQ,CAACY,UAAvC,CADE;AAETjmB,MAAAA,GAAG,EAAExB,OAAO,CAAC5J,GAAR,CAAYgxB,IAAI,CAAC/pB,KAAL,CAAWmE,GAAvB,EAA4BqlB,QAAQ,CAACY,UAArC;AAFI,KAAb;AAIH;;AACD,MAAIZ,QAAQ,CAACK,UAAT,IAAuBD,WAAW,CAAC7L,gBAAvC,EAAyD;AACrDgM,IAAAA,IAAI,CAAC/pB,KAAL,GAAa;AACTkE,MAAAA,KAAK,EAAEvB,OAAO,CAAC5J,GAAR,CAAYgxB,IAAI,CAAC/pB,KAAL,CAAWkE,KAAvB,EAA8BslB,QAAQ,CAACK,UAAvC,CADE;AAET1lB,MAAAA,GAAG,EAAE4lB,IAAI,CAAC/pB,KAAL,CAAWmE;AAFP,KAAb;AAIH;;AACD,MAAIqlB,QAAQ,CAACM,QAAT,IAAqBF,WAAW,CAAC7L,gBAArC,EAAuD;AACnDgM,IAAAA,IAAI,CAAC/pB,KAAL,GAAa;AACTkE,MAAAA,KAAK,EAAE6lB,IAAI,CAAC/pB,KAAL,CAAWkE,KADT;AAETC,MAAAA,GAAG,EAAExB,OAAO,CAAC5J,GAAR,CAAYgxB,IAAI,CAAC/pB,KAAL,CAAWmE,GAAvB,EAA4BqlB,QAAQ,CAACM,QAArC;AAFI,KAAb;AAIH;;AACD,MAAIK,QAAJ,EAAc;AACVJ,IAAAA,IAAI,CAAC/pB,KAAL,GAAa;AACTkE,MAAAA,KAAK,EAAE6lB,IAAI,CAAC/pB,KAAL,CAAWkE,KADT;AAETC,MAAAA,GAAG,EAAEklB,kBAAkB,CAACjlB,QAAQ,CAACrB,MAAV,EAAkBgnB,IAAI,CAAC/pB,KAAL,CAAWkE,KAA7B,EAAoC5Q,OAApC;AAFd,KAAb;AAIH,GA/B2B,CAgC5B;AACA;;;AACA,MAAI8Q,QAAQ,CAACrB,MAAb,EAAqB;AACjBgnB,IAAAA,IAAI,CAAC/pB,KAAL,GAAa;AACTkE,MAAAA,KAAK,EAAE1H,UAAU,CAACutB,IAAI,CAAC/pB,KAAL,CAAWkE,KAAZ,CADR;AAETC,MAAAA,GAAG,EAAE3H,UAAU,CAACutB,IAAI,CAAC/pB,KAAL,CAAWmE,GAAZ;AAFN,KAAb;AAIH,GAvC2B,CAwC5B;;;AACA,MAAI4lB,IAAI,CAAC/pB,KAAL,CAAWmE,GAAX,GAAiB4lB,IAAI,CAAC/pB,KAAL,CAAWkE,KAAhC,EAAuC;AACnC6lB,IAAAA,IAAI,CAAC/pB,KAAL,CAAWmE,GAAX,GAAiBklB,kBAAkB,CAACjlB,QAAQ,CAACrB,MAAV,EAAkBgnB,IAAI,CAAC/pB,KAAL,CAAWkE,KAA7B,EAAoC5Q,OAApC,CAAnC;AACH;;AACD,SAAOy2B,IAAP;AACH,EAED;AACA;;;AACA,IAAIM,OAAO;AAAG;AAAe,YAAY;AACrC,WAASA,OAAT,CAAiBv5B,IAAjB,EAAuBw5B,cAAvB,EAAuC3nB,OAAvC,EAAgD;AAC5C,SAAK7R,IAAL,GAAYA,IAAZ;AACA,SAAKw5B,cAAL,GAAsBA,cAAtB;AACA,SAAK3nB,OAAL,GAAeA,OAAf;AACH;;AACD9U,EAAAA,MAAM,CAACiG,cAAP,CAAsBu2B,OAAO,CAACv8B,SAA9B,EAAyC,UAAzC,EAAqD;AACjDiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAKu2B,cAAL,GAAsBrB,WAA7B;AACH,KAHgD;AAIjDh1B,IAAAA,UAAU,EAAE,KAJqC;AAKjDC,IAAAA,YAAY,EAAE;AALmC,GAArD;AAOArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBu2B,OAAO,CAACv8B,SAA9B,EAAyC,OAAzC,EAAkD;AAC9CiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAKu2B,cAAL,GAAsBC,SAA7B;AACH,KAH6C;AAI9Ct2B,IAAAA,UAAU,EAAE,KAJkC;AAK9CC,IAAAA,YAAY,EAAE;AALgC,GAAlD;AAOArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBu2B,OAAO,CAACv8B,SAA9B,EAAyC,aAAzC,EAAwD;AACpDiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAK4O,OAAL,CAAaslB,MAAb,CAAoB,KAAKqC,cAAL,GAAsBE,WAAtB,CAAkCC,WAAlC,CAA8CvmB,KAAlE,CAAP;AACH,KAHmD;AAIpDjQ,IAAAA,UAAU,EAAE,KAJwC;AAKpDC,IAAAA,YAAY,EAAE;AALsC,GAAxD;AAOArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBu2B,OAAO,CAACv8B,SAA9B,EAAyC,WAAzC,EAAsD;AAClDiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAK4O,OAAL,CAAaslB,MAAb,CAAoB,KAAKqC,cAAL,GAAsBE,WAAtB,CAAkCC,WAAlC,CAA8CtmB,GAAlE,CAAP;AACH,KAHiD;AAIlDlQ,IAAAA,UAAU,EAAE,KAJsC;AAKlDC,IAAAA,YAAY,EAAE;AALoC,GAAtD;AAOArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBu2B,OAAO,CAACv8B,SAA9B,EAAyC,cAAzC,EAAyD;AACrDiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAK4O,OAAL,CAAaslB,MAAb,CAAoB,KAAKqC,cAAL,GAAsBE,WAAtB,CAAkCE,YAAlC,CAA+CxmB,KAAnE,CAAP;AACH,KAHoD;AAIrDjQ,IAAAA,UAAU,EAAE,KAJyC;AAKrDC,IAAAA,YAAY,EAAE;AALuC,GAAzD;AAOArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBu2B,OAAO,CAACv8B,SAA9B,EAAyC,YAAzC,EAAuD;AACnDiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAK4O,OAAL,CAAaslB,MAAb,CAAoB,KAAKqC,cAAL,GAAsBE,WAAtB,CAAkCE,YAAlC,CAA+CvmB,GAAnE,CAAP;AACH,KAHkD;AAInDlQ,IAAAA,UAAU,EAAE,KAJuC;AAKnDC,IAAAA,YAAY,EAAE;AALqC,GAAvD;;AAOAm2B,EAAAA,OAAO,CAACv8B,SAAR,CAAkB68B,SAAlB,GAA8B,UAAUj0B,IAAV,EAAgB;AAC1C,WAAO,KAAK4zB,cAAL,GAAsB76B,OAAtB,CAA8BiH,IAA9B,CAAP,CAD0C,CACE;AAC/C,GAFD;;AAGA,SAAO2zB,OAAP;AACH,CApD4B,EAA7B;;AAsDA,IAAIO,qBAAqB,GAAG;AACxBzL,EAAAA,EAAE,EAAExmB,MADoB;AAExB+J,EAAAA,aAAa,EAAE4N,OAFS;AAGxBlc,EAAAA,GAAG,EAAEuE,MAHmB;AAIxBtE,EAAAA,MAAM,EAAEsE,MAJgB;AAKxBzJ,EAAAA,MAAM,EAAE4gB,QALgB;AAMxB2E,EAAAA,kBAAkB,EAAE3E,QANI;AAOxB;AACA+a,EAAAA,OAAO,EAAE/a,QARe;AASxBgb,EAAAA,OAAO,EAAEhb;AATe,CAA5B;;AAWA,SAASib,gBAAT,CAA0BlP,GAA1B,EAA+BvoB,OAA/B,EAAwCqoB,QAAxC,EAAkD;AAC9C,MAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,IAAAA,QAAQ,GAAGqP,wBAAwB,CAAC13B,OAAD,CAAnC;AAA+C;;AAC1E,MAAI23B,MAAJ;;AACA,MAAI,OAAOpP,GAAP,KAAe,QAAnB,EAA6B;AACzBoP,IAAAA,MAAM,GAAG;AAAE72B,MAAAA,GAAG,EAAEynB;AAAP,KAAT;AACH,GAFD,MAGK,IAAI,OAAOA,GAAP,KAAe,UAAf,IAA6B5tB,KAAK,CAACC,OAAN,CAAc2tB,GAAd,CAAjC,EAAqD;AACtDoP,IAAAA,MAAM,GAAG;AAAE/7B,MAAAA,MAAM,EAAE2sB;AAAV,KAAT;AACH,GAFI,MAGA,IAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAA/B,EAAoC;AAAE;AACvCoP,IAAAA,MAAM,GAAGpP,GAAT;AACH;;AACD,MAAIoP,MAAJ,EAAY;AACR,QAAIl0B,EAAE,GAAG2kB,WAAW,CAACuP,MAAD,EAAStP,QAAT,CAApB;AAAA,QAAwClZ,OAAO,GAAG1L,EAAE,CAAC0L,OAArD;AAAA,QAA8DmZ,KAAK,GAAG7kB,EAAE,CAAC6kB,KAAzE;;AACA,QAAIsP,OAAO,GAAGC,oBAAoB,CAAC1oB,OAAD,EAAUnP,OAAV,CAAlC;;AACA,QAAI43B,OAAJ,EAAa;AACT,aAAO;AACHE,QAAAA,IAAI,EAAEvP,GADH;AAEHwP,QAAAA,UAAU,EAAE,KAFT;AAGHC,QAAAA,aAAa,EAAE,EAHZ;AAIHC,QAAAA,UAAU,EAAE,IAJT;AAKH7oB,QAAAA,aAAa,EAAED,OAAO,CAACC,aALpB;AAMH+R,QAAAA,kBAAkB,EAAEhS,OAAO,CAACgS,kBANzB;AAOHoW,QAAAA,OAAO,EAAEpoB,OAAO,CAACooB,OAPd;AAQHC,QAAAA,OAAO,EAAEroB,OAAO,CAACqoB,OARd;AASH92B,QAAAA,QAAQ,EAAEyO,OAAO,CAAC0c,EAAR,IAAc,EATrB;AAUHzrB,QAAAA,QAAQ,EAAEgF,IAAI,EAVX;AAWH8yB,QAAAA,WAAW,EAAEN,OAAO,CAACM,WAXlB;AAYHr3B,QAAAA,IAAI,EAAE+2B,OAAO,CAAC/2B,IAZX;AAaH4rB,QAAAA,EAAE,EAAEpB,aAAa,CAAClc,OAAD,EAAUnP,OAAV,CAbd;AAcHisB,QAAAA,aAAa,EAAE3D;AAdZ,OAAP;AAgBH;AACJ;;AACD,SAAO,IAAP;AACH;;AACD,SAASoP,wBAAT,CAAkC13B,OAAlC,EAA2C;AACvC,SAAOT,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKgrB,iBAAL,CAAT,EAAkC+M,qBAAlC,CAAT,EAAmEt3B,OAAO,CAACiQ,WAAR,CAAoBkoB,mBAAvF,CAAf;AACH;;AACD,SAASN,oBAAT,CAA8BtP,GAA9B,EAAmCvoB,OAAnC,EAA4C;AACxC,MAAIkQ,IAAI,GAAGlQ,OAAO,CAACiQ,WAAR,CAAoBmoB,eAA/B;;AACA,OAAK,IAAI/1B,CAAC,GAAG6N,IAAI,CAAC5N,MAAL,GAAc,CAA3B,EAA8BD,CAAC,IAAI,CAAnC,EAAsCA,CAAC,IAAI,CAA3C,EAA8C;AAAE;AAC5C,QAAIiO,GAAG,GAAGJ,IAAI,CAAC7N,CAAD,CAAd;AACA,QAAIxB,IAAI,GAAGyP,GAAG,CAAC+nB,SAAJ,CAAc9P,GAAd,CAAX;;AACA,QAAI1nB,IAAJ,EAAU;AACN,aAAO;AAAEq3B,QAAAA,WAAW,EAAE71B,CAAf;AAAkBxB,QAAAA,IAAI,EAAEA;AAAxB,OAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH;;AAED,SAASy3B,iBAAT,CAA2BC,WAA3B,EAAwCC,MAAxC,EAAgD;AAC5C,UAAQA,MAAM,CAACh7B,IAAf;AACI,SAAK,aAAL;AACI,aAAOg7B,MAAM,CAACC,UAAd;;AACJ;AACI,aAAOF,WAAP;AAJR;AAMH;;AACD,SAASG,cAAT,CAAwBv8B,OAAxB,EAAiCkT,OAAjC,EAA0C;AACtC,MAAIspB,gBAAgB,GAAGx8B,OAAO,CAAC8kB,WAA/B,CADsC,CAEtC;;AACA,MAAI0X,gBAAgB,IAAI,IAAxB,EAA8B;AAC1B,WAAOtpB,OAAO,CAAC+e,YAAR,CAAqBuK,gBAArB,CAAP;AACH;;AACD,SAAOC,MAAM,CAACz8B,OAAO,CAAC+kB,GAAT,EAAc7R,OAAd,CAAb,CANsC,CAMD;AACxC;;AACD,SAASupB,MAAT,CAAgBC,QAAhB,EAA0BxpB,OAA1B,EAAmC;AAC/B,MAAI,OAAOwpB,QAAP,KAAoB,UAAxB,EAAoC;AAChCA,IAAAA,QAAQ,GAAGA,QAAQ,EAAnB;AACH;;AACD,MAAIA,QAAQ,IAAI,IAAhB,EAAsB;AAClB,WAAOxpB,OAAO,CAACypB,eAAR,EAAP;AACH;;AACD,SAAOzpB,OAAO,CAAC+e,YAAR,CAAqByK,QAArB,CAAP;AACH;;AAED,IAAIE,WAAW;AAAG;AAAe,YAAY;AACzC,WAASA,WAAT,GAAuB,CACtB;;AACDA,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBw8B,cAAtB,GAAuC,YAAY;AAC/C,WAAO,KAAKgC,kBAAL,CAAwBhC,cAAxB,EAAP;AACH,GAFD;;AAGA+B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB2F,QAAtB,GAAiC,UAAUq4B,MAAV,EAAkB;AAC/C,WAAO,KAAKQ,kBAAL,CAAwB74B,QAAxB,CAAiCq4B,MAAjC,CAAP;AACH,GAFD;;AAGAj+B,EAAAA,MAAM,CAACiG,cAAP,CAAsBu4B,WAAW,CAACv+B,SAAlC,EAA6C,MAA7C,EAAqD;AACjDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKu2B,cAAL,GAAsBtB,OAA7B;AAAuC,KADT,CACU;AADV;AAGjD/0B,IAAAA,UAAU,EAAE,KAHqC;AAIjDC,IAAAA,YAAY,EAAE;AAJmC,GAArD;;AAMAm4B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBy+B,cAAtB,GAAuC,UAAUl0B,QAAV,EAAoB;AACvDA,IAAAA,QAAQ;AACX,GAFD;;AAGAg0B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB0+B,UAAtB,GAAmC,YAAY;AAC3C,SAAK7D,OAAL,CAAa,SAAb,EAAwB,IAAxB;AACH,GAFD,CAlByC,CAqBzC;AACA;;;AACA0D,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB2+B,SAAtB,GAAkC,UAAU/1B,IAAV,EAAgBlI,GAAhB,EAAqB;AACnD,SAAKiF,QAAL,CAAc;AACV3C,MAAAA,IAAI,EAAE,YADI;AAEVnB,MAAAA,UAAU,EAAE+G,IAFF;AAGVg2B,MAAAA,cAAc,EAAEl+B;AAHN,KAAd;AAKH,GAND;;AAOA69B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB68B,SAAtB,GAAkC,UAAUj0B,IAAV,EAAgB;AAC9C,WAAO,KAAK41B,kBAAL,CAAwBK,2BAAxB,CAAoDj2B,IAApD,CAAP;AACH,GAFD;;AAGA21B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB8+B,uBAAtB,GAAgD,YAAY;AACxD,WAAO/+B,MAAM,CAACsC,IAAP,CAAY,KAAKm6B,cAAL,GAAsBuC,mBAAlC,CAAP;AACH,GAFD,CAjCyC,CAoCzC;AACA;;;AACAR,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBg/B,EAAtB,GAA2B,UAAUC,WAAV,EAAuB11B,OAAvB,EAAgC;AACvD,QAAIi1B,kBAAkB,GAAG,KAAKA,kBAA9B;;AACA,QAAIA,kBAAkB,CAACU,8BAAnB,CAAkDD,WAAlD,CAAJ,EAAoE;AAChET,MAAAA,kBAAkB,CAAC5D,OAAnB,CAA2BoE,EAA3B,CAA8BC,WAA9B,EAA2C11B,OAA3C;AACH,KAFD,MAGK;AACD41B,MAAAA,OAAO,CAACC,IAAR,CAAa,4BAA4BH,WAA5B,GAA0C,GAAvD;AACH;AACJ,GARD;;AASAV,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBq/B,GAAtB,GAA4B,UAAUJ,WAAV,EAAuB11B,OAAvB,EAAgC;AACxD,SAAKi1B,kBAAL,CAAwB5D,OAAxB,CAAgCyE,GAAhC,CAAoCJ,WAApC,EAAiD11B,OAAjD;AACH,GAFD,CA/CyC,CAkDzC;;;AACAg1B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB66B,OAAtB,GAAgC,UAAUoE,WAAV,EAAuB;AACnD,QAAIh2B,EAAJ;;AACA,QAAIlF,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIqP,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CrP,MAAAA,IAAI,CAACqP,EAAE,GAAG,CAAN,CAAJ,GAAe4H,SAAS,CAAC5H,EAAD,CAAxB;AACH;;AACD,KAACnK,EAAE,GAAG,KAAKu1B,kBAAL,CAAwB5D,OAA9B,EAAuCC,OAAvC,CAA+ChpB,KAA/C,CAAqD5I,EAArD,EAAyDjE,oDAAa,CAAC,CAACi6B,WAAD,CAAD,EAAgBl7B,IAAhB,CAAtE;AACH,GAPD,CAnDyC,CA2DzC;AACA;;;AACAw6B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBs/B,UAAtB,GAAmC,UAAUC,QAAV,EAAoBC,WAApB,EAAiC;AAChE,QAAItkB,KAAK,GAAG,IAAZ;;AACA,SAAKujB,cAAL,CAAoB,YAAY;AAC5BvjB,MAAAA,KAAK,CAACgR,QAAN;;AACA,UAAIsT,WAAJ,EAAiB;AACb,YAAIA,WAAW,CAACppB,KAAZ,IAAqBopB,WAAW,CAACnpB,GAArC,EAA0C;AAAE;AACxC6E,UAAAA,KAAK,CAACvV,QAAN,CAAe;AACX3C,YAAAA,IAAI,EAAE,kBADK;AAEXu8B,YAAAA,QAAQ,EAAEA;AAFC,WAAf;;AAIArkB,UAAAA,KAAK,CAACvV,QAAN,CAAe;AACX3C,YAAAA,IAAI,EAAE,YADK;AAEXnB,YAAAA,UAAU,EAAE,cAFD;AAGX+8B,YAAAA,cAAc,EAAEY;AAHL,WAAf;AAKH,SAVD,MAWK;AACD,cAAI3qB,OAAO,GAAGqG,KAAK,CAACshB,cAAN,GAAuB3nB,OAArC;;AACAqG,UAAAA,KAAK,CAACvV,QAAN,CAAe;AACX3C,YAAAA,IAAI,EAAE,kBADK;AAEXu8B,YAAAA,QAAQ,EAAEA,QAFC;AAGXtB,YAAAA,UAAU,EAAEppB,OAAO,CAAC+e,YAAR,CAAqB4L,WAArB;AAHD,WAAf;AAKH;AACJ,OApBD,MAqBK;AACDtkB,QAAAA,KAAK,CAACvV,QAAN,CAAe;AACX3C,UAAAA,IAAI,EAAE,kBADK;AAEXu8B,UAAAA,QAAQ,EAAEA;AAFC,SAAf;AAIH;AACJ,KA7BD;AA8BH,GAhCD,CA7DyC,CA8FzC;AACA;AACA;;;AACAhB,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBy/B,MAAtB,GAA+B,UAAUxB,UAAV,EAAsBsB,QAAtB,EAAgC;AAC3D,QAAIG,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,QAAImD,IAAJ;AACAJ,IAAAA,QAAQ,GAAGA,QAAQ,IAAI,KAAvB,CAH2D,CAG7B;;AAC9BI,IAAAA,IAAI,GAAGD,KAAK,CAACE,SAAN,CAAgBL,QAAhB,KAA6B,KAAKM,eAAL,CAAqBN,QAArB,CAApC;AACA,SAAKrT,QAAL;;AACA,QAAIyT,IAAJ,EAAU;AACN,WAAKh6B,QAAL,CAAc;AACV3C,QAAAA,IAAI,EAAE,kBADI;AAEVu8B,QAAAA,QAAQ,EAAEI,IAAI,CAAC38B,IAFL;AAGVi7B,QAAAA,UAAU,EAAEA;AAHF,OAAd;AAKH,KAND,MAOK;AACD,WAAKt4B,QAAL,CAAc;AACV3C,QAAAA,IAAI,EAAE,aADI;AAEVi7B,QAAAA,UAAU,EAAEA;AAFF,OAAd;AAIH;AACJ,GAnBD,CAjGyC,CAqHzC;AACA;;;AACAM,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB6/B,eAAtB,GAAwC,UAAU/oB,IAAV,EAAgB;AACpD,QAAI7N,EAAE,GAAG,KAAKuzB,cAAL,EAAT;AAAA,QAAgCoD,SAAS,GAAG32B,EAAE,CAAC22B,SAA/C;AAAA,QAA0DE,aAAa,GAAG72B,EAAE,CAAC62B,aAA7E;;AACA,QAAIC,SAAS,GAAG,GAAGpuB,MAAH,CAAUmuB,aAAa,CAACE,gBAAxB,CAAhB;AACA,QAAIn4B,CAAJ;AACA,QAAI83B,IAAJ;;AACA,SAAK,IAAIJ,QAAT,IAAqBK,SAArB,EAAgC;AAC5BG,MAAAA,SAAS,CAAC37B,IAAV,CAAem7B,QAAf;AACH;;AACD,SAAK13B,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGk4B,SAAS,CAACj4B,MAA1B,EAAkCD,CAAC,IAAI,CAAvC,EAA0C;AACtC83B,MAAAA,IAAI,GAAGC,SAAS,CAACG,SAAS,CAACl4B,CAAD,CAAV,CAAhB;;AACA,UAAI83B,IAAJ,EAAU;AACN,YAAIA,IAAI,CAACM,UAAL,KAAoBnpB,IAAxB,EAA8B;AAC1B,iBAAO6oB,IAAP;AACH;AACJ;AACJ;;AACD,WAAO,IAAP;AACH,GAjBD,CAvHyC,CAyIzC;AACA;;;AACApB,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBkgC,IAAtB,GAA6B,YAAY;AACrC,SAAKhU,QAAL;AACA,SAAKvmB,QAAL,CAAc;AAAE3C,MAAAA,IAAI,EAAE;AAAR,KAAd;AACH,GAHD;;AAIAu7B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBmgC,IAAtB,GAA6B,YAAY;AACrC,SAAKjU,QAAL;AACA,SAAKvmB,QAAL,CAAc;AAAE3C,MAAAA,IAAI,EAAE;AAAR,KAAd;AACH,GAHD;;AAIAu7B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBogC,QAAtB,GAAiC,YAAY;AACzC,QAAIV,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,SAAKtQ,QAAL;AACA,SAAKvmB,QAAL,CAAc;AACV3C,MAAAA,IAAI,EAAE,aADI;AAEVi7B,MAAAA,UAAU,EAAEyB,KAAK,CAAC7qB,OAAN,CAAcwrB,QAAd,CAAuBX,KAAK,CAAC3B,WAA7B,EAA0C,CAAC,CAA3C;AAFF,KAAd;AAIH,GAPD;;AAQAQ,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBsgC,QAAtB,GAAiC,YAAY;AACzC,QAAIZ,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,SAAKtQ,QAAL;AACA,SAAKvmB,QAAL,CAAc;AACV3C,MAAAA,IAAI,EAAE,aADI;AAEVi7B,MAAAA,UAAU,EAAEyB,KAAK,CAAC7qB,OAAN,CAAcwrB,QAAd,CAAuBX,KAAK,CAAC3B,WAA7B,EAA0C,CAA1C;AAFF,KAAd;AAIH,GAPD;;AAQAQ,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBugC,KAAtB,GAA8B,YAAY;AACtC,QAAIb,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,SAAKtQ,QAAL;AACA,SAAKvmB,QAAL,CAAc;AACV3C,MAAAA,IAAI,EAAE,aADI;AAEVi7B,MAAAA,UAAU,EAAEG,MAAM,CAACsB,KAAK,CAACc,eAAN,CAAsB9Z,GAAvB,EAA4BgZ,KAAK,CAAC7qB,OAAlC;AAFR,KAAd;AAIH,GAPD;;AAQA0pB,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBygC,QAAtB,GAAiC,UAAUC,cAAV,EAA0B;AACvD,QAAIhB,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,SAAKtQ,QAAL;AACA,SAAKvmB,QAAL,CAAc;AACV3C,MAAAA,IAAI,EAAE,aADI;AAEVi7B,MAAAA,UAAU,EAAEyB,KAAK,CAAC7qB,OAAN,CAAc+e,YAAd,CAA2B8M,cAA3B;AAFF,KAAd;AAIH,GAPD;;AAQAnC,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB2gC,aAAtB,GAAsC,UAAUC,UAAV,EAAsB;AACxD,QAAIlB,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,QAAIqE,KAAK,GAAGhqB,cAAc,CAAC+pB,UAAD,CAA1B;;AACA,QAAIC,KAAJ,EAAW;AAAE;AACT,WAAK3U,QAAL;AACA,WAAKvmB,QAAL,CAAc;AACV3C,QAAAA,IAAI,EAAE,aADI;AAEVi7B,QAAAA,UAAU,EAAEyB,KAAK,CAAC7qB,OAAN,CAAc5J,GAAd,CAAkBy0B,KAAK,CAAC3B,WAAxB,EAAqC8C,KAArC;AAFF,OAAd;AAIH;AACJ,GAVD,CAnLyC,CA8LzC;;;AACAtC,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBoR,OAAtB,GAAgC,YAAY;AACxC,QAAIsuB,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,WAAOkD,KAAK,CAAC7qB,OAAN,CAAcslB,MAAd,CAAqBuF,KAAK,CAAC3B,WAA3B,CAAP;AACH,GAHD,CA/LyC,CAmMzC;AACA;;;AACAQ,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB8gC,UAAtB,GAAmC,UAAU3xB,CAAV,EAAa4xB,SAAb,EAAwB;AACvD,QAAIlsB,OAAO,GAAG,KAAK2nB,cAAL,GAAsB3nB,OAApC;AACA,WAAOA,OAAO,CAACtO,MAAR,CAAesO,OAAO,CAAC+e,YAAR,CAAqBzkB,CAArB,CAAf,EAAwC0S,eAAe,CAACkf,SAAD,CAAvD,CAAP;AACH,GAHD,CArMyC,CAyMzC;;;AACAxC,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBqd,WAAtB,GAAoC,UAAUnF,EAAV,EAAcC,EAAd,EAAkB6oB,QAAlB,EAA4B;AAC5D,QAAInsB,OAAO,GAAG,KAAK2nB,cAAL,GAAsB3nB,OAApC;AACA,WAAOA,OAAO,CAACwI,WAAR,CAAoBxI,OAAO,CAAC+e,YAAR,CAAqB1b,EAArB,CAApB,EAA8CrD,OAAO,CAAC+e,YAAR,CAAqBzb,EAArB,CAA9C,EAAwE0J,eAAe,CAACmf,QAAD,CAAvF,EAAmGA,QAAnG,CAAP;AACH,GAHD;;AAIAzC,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBq6B,SAAtB,GAAkC,UAAUlrB,CAAV,EAAa+qB,QAAb,EAAuB;AACrD,QAAIrlB,OAAO,GAAG,KAAK2nB,cAAL,GAAsB3nB,OAApC;AACA,WAAOA,OAAO,CAACwlB,SAAR,CAAkBxlB,OAAO,CAAC+e,YAAR,CAAqBzkB,CAArB,CAAlB,EAA2C;AAAE+qB,MAAAA,QAAQ,EAAEA;AAAZ,KAA3C,CAAP;AACH,GAHD,CA9MyC,CAkNzC;AACA;AACA;AACA;;;AACAqE,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBisB,MAAtB,GAA+B,UAAUgV,SAAV,EAAqBC,OAArB,EAA8B;AACzD,QAAIC,cAAJ;;AACA,QAAID,OAAO,IAAI,IAAf,EAAqB;AACjB,UAAID,SAAS,CAAC7qB,KAAV,IAAmB,IAAvB,EAA6B;AACzB+qB,QAAAA,cAAc,GAAGF,SAAjB;AACH,OAFD,MAGK;AACDE,QAAAA,cAAc,GAAG;AACb/qB,UAAAA,KAAK,EAAE6qB,SADM;AAEb5qB,UAAAA,GAAG,EAAE;AAFQ,SAAjB;AAIH;AACJ,KAVD,MAWK;AACD8qB,MAAAA,cAAc,GAAG;AACb/qB,QAAAA,KAAK,EAAE6qB,SADM;AAEb5qB,QAAAA,GAAG,EAAE6qB;AAFQ,OAAjB;AAIH;;AACD,QAAIxB,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,QAAI9B,SAAS,GAAGpB,aAAa,CAAC6H,cAAD,EAAiBzB,KAAK,CAAC7qB,OAAvB,EAAgCgC,cAAc,CAAC;AAAE/H,MAAAA,IAAI,EAAE;AAAR,KAAD,CAA9C,CAA7B;;AACA,QAAI4rB,SAAJ,EAAe;AAAE;AACb,WAAK/0B,QAAL,CAAc;AAAE3C,QAAAA,IAAI,EAAE,cAAR;AAAwB03B,QAAAA,SAAS,EAAEA;AAAnC,OAAd;AACAD,MAAAA,iBAAiB,CAACC,SAAD,EAAY,IAAZ,EAAkBgF,KAAlB,CAAjB;AACH;AACJ,GAzBD,CAtNyC,CAgPzC;;;AACAnB,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBksB,QAAtB,GAAiC,UAAUyO,GAAV,EAAe;AAC5C,QAAI+E,KAAK,GAAG,KAAKlD,cAAL,EAAZ;;AACA,QAAIkD,KAAK,CAAC0B,aAAV,EAAyB;AACrB,WAAKz7B,QAAL,CAAc;AAAE3C,QAAAA,IAAI,EAAE;AAAR,OAAd;AACAo4B,MAAAA,mBAAmB,CAACT,GAAD,EAAM+E,KAAN,CAAnB;AACH;AACJ,GAND,CAjPyC,CAwPzC;AACA;;;AACAnB,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBqhC,QAAtB,GAAiC,UAAUC,UAAV,EAAsBC,WAAtB,EAAmC;AAChE,QAAID,UAAU,YAAYE,QAA1B,EAAoC;AAChC,UAAI1rB,GAAG,GAAGwrB,UAAU,CAACG,IAArB;AACA,UAAI7rB,QAAQ,GAAG0rB,UAAU,CAACI,SAA1B;AACA,UAAIC,WAAW,GAAG,KAAKnF,cAAL,EAAlB,CAHgC,CAIhC;;AACA,UAAI,CAACmF,WAAW,CAACpsB,UAAZ,CAAuBG,IAAvB,CAA4BI,GAAG,CAAC7D,KAAhC,CAAL,EAA6C;AACzC,aAAKtM,QAAL,CAAc;AACV3C,UAAAA,IAAI,EAAE,YADI;AAEVuS,UAAAA,UAAU,EAAEmZ,iBAAiB,CAAC;AAAE5Y,YAAAA,GAAG,EAAEA,GAAP;AAAYF,YAAAA,QAAQ,EAAEA;AAAtB,WAAD,CAFnB,CAEuD;;AAFvD,SAAd;AAIA,aAAKgsB,eAAL,CAAqBN,UAArB;AACH;;AACD,aAAOA,UAAP;AACH;;AACD,QAAI5B,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,QAAItO,WAAJ;;AACA,QAAIqT,WAAW,YAAYh8B,cAA3B,EAA2C;AACvC2oB,MAAAA,WAAW,GAAGqT,WAAW,CAAC97B,mBAA1B;AACH,KAFD,MAGK,IAAI,OAAO87B,WAAP,KAAuB,SAA3B,EAAsC;AACvC,UAAIA,WAAJ,EAAiB;AAAE;AACfrT,QAAAA,WAAW,GAAGza,iBAAiB,CAACisB,KAAK,CAACr+B,YAAP,CAAjB,CAAsC,CAAtC,CAAd;AACH;AACJ,KAJI,MAKA,IAAIkgC,WAAW,IAAI,IAAnB,EAAyB;AAAE;AAC5B,UAAIM,SAAS,GAAG,KAAKC,kBAAL,CAAwBP,WAAxB,CAAhB,CAD0B,CAC4B;;AACtD,UAAI,CAACM,SAAL,EAAgB;AACZ1C,QAAAA,OAAO,CAACC,IAAR,CAAa,8CAA8CmC,WAA9C,GAA4D,IAAzE,EADY,CACoE;;AAChF,eAAO,IAAP;AACH;;AACDrT,MAAAA,WAAW,GAAG2T,SAAS,CAACp8B,mBAAxB;AACH;;AACD,QAAI+N,KAAK,GAAGib,UAAU,CAAC6S,UAAD,EAAapT,WAAb,EAA0BwR,KAA1B,EAAiC,KAAjC,CAAtB;;AACA,QAAIlsB,KAAJ,EAAW;AACP,UAAIuuB,WAAW,GAAG,IAAIP,QAAJ,CAAa9B,KAAb,EAAoBlsB,KAAK,CAACsC,GAA1B,EAA+BtC,KAAK,CAACsC,GAAN,CAAUD,YAAV,GAAyB,IAAzB,GAAgCrC,KAAK,CAACoC,QAArE,CAAlB;AACA,WAAKjQ,QAAL,CAAc;AACV3C,QAAAA,IAAI,EAAE,YADI;AAEVuS,QAAAA,UAAU,EAAEmZ,iBAAiB,CAAClb,KAAD;AAFnB,OAAd;AAIA,WAAKouB,eAAL,CAAqBG,WAArB;AACA,aAAOA,WAAP;AACH;;AACD,WAAO,IAAP;AACH,GA5CD;;AA6CAxD,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB4hC,eAAtB,GAAwC,UAAUI,QAAV,EAAoB;AACxD,QAAI9mB,KAAK,GAAG,IAAZ;;AACA,QAAI0f,OAAO,GAAG,KAAK4B,cAAL,GAAsB5B,OAApC;AACAA,IAAAA,OAAO,CAACC,OAAR,CAAgB,UAAhB,EAA4B;AACxBoH,MAAAA,KAAK,EAAED,QADiB;AAExBE,MAAAA,aAAa,EAAE,EAFS;AAGxBC,MAAAA,MAAM,EAAE,kBAAY;AAChBjnB,QAAAA,KAAK,CAACvV,QAAN,CAAe;AACX3C,UAAAA,IAAI,EAAE,eADK;AAEXuS,UAAAA,UAAU,EAAE6sB,eAAe,CAACJ,QAAD;AAFhB,SAAf;AAIH;AARuB,KAA5B;AAUH,GAbD,CAvSyC,CAqTzC;;;AACAzD,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBqiC,YAAtB,GAAqC,UAAUhR,EAAV,EAAc;AAC/C,QAAIqO,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,QAAIvzB,EAAE,GAAGy2B,KAAK,CAACnqB,UAAf;AAAA,QAA2BG,IAAI,GAAGzM,EAAE,CAACyM,IAArC;AAAA,QAA2CC,SAAS,GAAG1M,EAAE,CAAC0M,SAA1D;AACA0b,IAAAA,EAAE,GAAGxmB,MAAM,CAACwmB,EAAD,CAAX;;AACA,SAAK,IAAIpf,KAAT,IAAkByD,IAAlB,EAAwB;AACpB,UAAII,GAAG,GAAGJ,IAAI,CAACzD,KAAD,CAAd;;AACA,UAAI6D,GAAG,CAAC5P,QAAJ,KAAiBmrB,EAArB,EAAyB;AACrB,YAAIvb,GAAG,CAACD,YAAR,EAAsB;AAClB,iBAAO,IAAI2rB,QAAJ,CAAa9B,KAAb,EAAoB5pB,GAApB,EAAyB,IAAzB,CAAP;AACH;;AACD,aAAK,IAAIzD,UAAT,IAAuBsD,SAAvB,EAAkC;AAC9B,cAAIC,QAAQ,GAAGD,SAAS,CAACtD,UAAD,CAAxB;;AACA,cAAIuD,QAAQ,CAAC3D,KAAT,KAAmB6D,GAAG,CAAC7D,KAA3B,EAAkC;AAC9B,mBAAO,IAAIuvB,QAAJ,CAAa9B,KAAb,EAAoB5pB,GAApB,EAAyBF,QAAzB,CAAP;AACH;AACJ;AACJ;AACJ;;AACD,WAAO,IAAP;AACH,GAnBD;;AAoBA2oB,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBsiC,SAAtB,GAAkC,YAAY;AAC1C,QAAIX,WAAW,GAAG,KAAKnF,cAAL,EAAlB;AACA,WAAO+F,cAAc,CAACZ,WAAW,CAACpsB,UAAb,EAAyBosB,WAAzB,CAArB;AACH,GAHD;;AAIApD,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBwiC,eAAtB,GAAwC,YAAY;AAChD,SAAK78B,QAAL,CAAc;AAAE3C,MAAAA,IAAI,EAAE;AAAR,KAAd;AACH,GAFD,CA9UyC,CAiVzC;AACA;;;AACAu7B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsByiC,eAAtB,GAAwC,YAAY;AAChD,QAAI/C,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,QAAIkG,UAAU,GAAGhD,KAAK,CAACr+B,YAAvB;AACA,QAAIshC,UAAU,GAAG,EAAjB;;AACA,SAAK,IAAIC,UAAT,IAAuBF,UAAvB,EAAmC;AAC/BC,MAAAA,UAAU,CAACv+B,IAAX,CAAgB,IAAImB,cAAJ,CAAmBm6B,KAAnB,EAA0BgD,UAAU,CAACE,UAAD,CAApC,CAAhB;AACH;;AACD,WAAOD,UAAP;AACH,GARD;;AASApE,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB8hC,kBAAtB,GAA2C,UAAUzQ,EAAV,EAAc;AACrD,QAAIqO,KAAK,GAAG,KAAKlD,cAAL,EAAZ;AACA,QAAIkG,UAAU,GAAGhD,KAAK,CAACr+B,YAAvB;AACAgwB,IAAAA,EAAE,GAAGxmB,MAAM,CAACwmB,EAAD,CAAX;;AACA,SAAK,IAAIzrB,QAAT,IAAqB88B,UAArB,EAAiC;AAC7B,UAAIA,UAAU,CAAC98B,QAAD,CAAV,CAAqBM,QAArB,KAAkCmrB,EAAtC,EAA0C;AACtC,eAAO,IAAI9rB,cAAJ,CAAmBm6B,KAAnB,EAA0BgD,UAAU,CAAC98B,QAAD,CAApC,CAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAVD;;AAWA24B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB6iC,cAAtB,GAAuC,UAAUtB,WAAV,EAAuB;AAC1D,QAAI7B,KAAK,GAAG,KAAKlD,cAAL,EAAZ;;AACA,QAAI+E,WAAW,YAAYh8B,cAA3B,EAA2C;AACvC;AACA,UAAI,CAACm6B,KAAK,CAACr+B,YAAN,CAAmBkgC,WAAW,CAAC97B,mBAAZ,CAAgCG,QAAnD,CAAL,EAAmE;AAC/D,aAAKD,QAAL,CAAc;AACV3C,UAAAA,IAAI,EAAE,mBADI;AAEV8/B,UAAAA,OAAO,EAAE,CAACvB,WAAW,CAAC97B,mBAAb;AAFC,SAAd;AAIH;;AACD,aAAO87B,WAAP;AACH;;AACD,QAAIrT,WAAW,GAAG+O,gBAAgB,CAACsE,WAAD,EAAc7B,KAAd,CAAlC;;AACA,QAAIxR,WAAJ,EAAiB;AAAE;AACf,WAAKvoB,QAAL,CAAc;AAAE3C,QAAAA,IAAI,EAAE,mBAAR;AAA6B8/B,QAAAA,OAAO,EAAE,CAAC5U,WAAD;AAAtC,OAAd;AACA,aAAO,IAAI3oB,cAAJ,CAAmBm6B,KAAnB,EAA0BxR,WAA1B,CAAP;AACH;;AACD,WAAO,IAAP;AACH,GAlBD;;AAmBAqQ,EAAAA,WAAW,CAACv+B,SAAZ,CAAsB+iC,qBAAtB,GAA8C,YAAY;AACtD,SAAKp9B,QAAL,CAAc;AAAE3C,MAAAA,IAAI,EAAE;AAAR,KAAd;AACH,GAFD;;AAGAu7B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBgjC,aAAtB,GAAsC,YAAY;AAC9C,SAAKr9B,QAAL,CAAc;AAAE3C,MAAAA,IAAI,EAAE,qBAAR;AAA+B+C,MAAAA,SAAS,EAAE;AAA1C,KAAd;AACH,GAFD,CA7XyC,CAgYzC;AACA;;;AACAw4B,EAAAA,WAAW,CAACv+B,SAAZ,CAAsBijC,YAAtB,GAAqC,UAAUC,SAAV,EAAqB;AACtD,QAAIC,IAAI,GAAGtsB,cAAc,CAACqsB,SAAD,CAAzB;;AACA,QAAIC,IAAJ,EAAU;AACN,WAAKtI,OAAL,CAAa,gBAAb,EAA+B;AAAEsI,QAAAA,IAAI,EAAEA;AAAR,OAA/B;AACH;AACJ,GALD;;AAMA,SAAO5E,WAAP;AACH,CAzYgC,EAAjC;;AA2YA,IAAIiD,QAAQ;AAAG;AAAe,YAAY;AACtC;AACA;AACA,WAASA,QAAT,CAAkBh8B,OAAlB,EAA2BsQ,GAA3B,EAAgCF,QAAhC,EAA0C;AACtC,SAAKwtB,QAAL,GAAgB59B,OAAhB;AACA,SAAKi8B,IAAL,GAAY3rB,GAAZ;AACA,SAAK4rB,SAAL,GAAiB9rB,QAAQ,IAAI,IAA7B;AACH;AACD;AACJ;AACA;;;AACI4rB,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBqjC,OAAnB,GAA6B,UAAUz6B,IAAV,EAAgBlI,GAAhB,EAAqB;AAC9C,QAAIuI,EAAJ,EAAQC,EAAR;;AACA,QAAIN,IAAI,IAAI2oB,mBAAZ,EAAiC;AAC7B4N,MAAAA,OAAO,CAACC,IAAR,CAAa,wFAAb,EAD6B,CAE7B;AACH,KAHD,MAIK,IAAIx2B,IAAI,KAAK,IAAb,EAAmB;AACpBlI,MAAAA,GAAG,GAAG0wB,uBAAuB,CAACxoB,IAAD,CAAvB,CAA8BlI,GAA9B,CAAN;AACA,WAAK4iC,MAAL,CAAY;AACR5J,QAAAA,aAAa,EAAE;AAAExzB,UAAAA,QAAQ,EAAExF;AAAZ,SADP,CAC0B;;AAD1B,OAAZ;AAGH,KALI,MAMA,IAAIkI,IAAI,IAAIwoB,uBAAZ,EAAqC;AACtC1wB,MAAAA,GAAG,GAAG0wB,uBAAuB,CAACxoB,IAAD,CAAvB,CAA8BlI,GAA9B,CAAN;AACA,WAAK4iC,MAAL,CAAY;AACR5J,QAAAA,aAAa,GAAGzwB,EAAE,GAAG,EAAL,EAASA,EAAE,CAACL,IAAD,CAAF,GAAWlI,GAApB,EAAyBuI,EAA5B;AADL,OAAZ;AAGH,KALI,MAMA,IAAIL,IAAI,IAAImnB,iBAAZ,EAA+B;AAChC,UAAIkC,EAAE,GAAGlC,iBAAiB,CAACnnB,IAAD,CAAjB,CAAwBlI,GAAxB,CAAT;;AACA,UAAIkI,IAAI,KAAK,OAAb,EAAsB;AAClBqpB,QAAAA,EAAE,GAAG;AAAE1B,UAAAA,eAAe,EAAE7vB,GAAnB;AAAwB8vB,UAAAA,WAAW,EAAE9vB;AAArC,SAAL;AACH,OAFD,MAGK,IAAIkI,IAAI,KAAK,UAAb,EAAyB;AAC1BqpB,QAAAA,EAAE,GAAG;AAAEjC,UAAAA,aAAa,EAAEtvB,GAAjB;AAAsBuvB,UAAAA,gBAAgB,EAAEvvB;AAAxC,SAAL;AACH,OAFI,MAGA;AACDuxB,QAAAA,EAAE,IAAI/oB,EAAE,GAAG,EAAL,EAASA,EAAE,CAACN,IAAD,CAAF,GAAWlI,GAApB,EAAyBwI,EAA7B,CAAF;AACH;;AACD,WAAKo6B,MAAL,CAAY;AACR5J,QAAAA,aAAa,EAAE;AAAEzH,UAAAA,EAAE,EAAEA;AAAN;AADP,OAAZ;AAGH,KAdI,MAeA;AACDkN,MAAAA,OAAO,CAACC,IAAR,CAAa,yBAAyBx2B,IAAzB,GAAgC,iCAA7C;AACH;AACJ,GApCD;;AAqCA44B,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBujC,eAAnB,GAAqC,UAAU36B,IAAV,EAAgBlI,GAAhB,EAAqB;AACtD,QAAIuI,EAAJ;;AACA,SAAKq6B,MAAL,CAAY;AACR7R,MAAAA,aAAa,GAAGxoB,EAAE,GAAG,EAAL,EAASA,EAAE,CAACL,IAAD,CAAF,GAAWlI,GAApB,EAAyBuI,EAA5B;AADL,KAAZ;AAGH,GALD;;AAMAu4B,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBwjC,QAAnB,GAA8B,UAAU/Q,UAAV,EAAsB9wB,OAAtB,EAA+B;AACzD,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,MAAAA,OAAO,GAAG,EAAV;AAAe;;AACzC,QAAIkT,OAAO,GAAG,KAAKuuB,QAAL,CAAcvuB,OAA5B;AACA,QAAIuB,KAAK,GAAGvB,OAAO,CAAC+e,YAAR,CAAqBnB,UAArB,CAAZ;;AACA,QAAIrc,KAAK,IAAI,KAAKsrB,SAAlB,EAA6B;AAAE;AAC3B,UAAI+B,aAAa,GAAG,KAAK/B,SAAL,CAAexvB,KAAnC;AACA,UAAI6pB,UAAU,GAAG1I,SAAS,CAACoQ,aAAa,CAACrtB,KAAf,EAAsBA,KAAtB,EAA6BvB,OAA7B,EAAsClT,OAAO,CAAC+hC,WAA9C,CAA1B,CAFyB,CAE6D;;AACtF,UAAI/hC,OAAO,CAACgiC,gBAAZ,EAA8B;AAC1B,aAAKL,MAAL,CAAY;AAAEhH,UAAAA,UAAU,EAAEP;AAAd,SAAZ;AACH,OAFD,MAGK;AACD,aAAKuH,MAAL,CAAY;AAAEvH,UAAAA,UAAU,EAAEA;AAAd,SAAZ;AACH;AACJ;AACJ,GAdD;;AAeAyF,EAAAA,QAAQ,CAACxhC,SAAT,CAAmB4jC,MAAnB,GAA4B,UAAUC,QAAV,EAAoBliC,OAApB,EAA6B;AACrD,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,MAAAA,OAAO,GAAG,EAAV;AAAe;;AACzC,QAAIkT,OAAO,GAAG,KAAKuuB,QAAL,CAAcvuB,OAA5B;AACA,QAAIwB,GAAJ;;AACA,QAAIwtB,QAAQ,IAAI,IAAhB,EAAsB;AAClBxtB,MAAAA,GAAG,GAAGxB,OAAO,CAAC+e,YAAR,CAAqBiQ,QAArB,CAAN;;AACA,UAAI,CAACxtB,GAAL,EAAU;AACN,eADM,CACE;AACX;AACJ;;AACD,QAAI,KAAKqrB,SAAT,EAAoB;AAChB,UAAIrrB,GAAJ,EAAS;AACL,YAAI2lB,QAAQ,GAAG3I,SAAS,CAAC,KAAKqO,SAAL,CAAexvB,KAAf,CAAqBmE,GAAtB,EAA2BA,GAA3B,EAAgCxB,OAAhC,EAAyClT,OAAO,CAAC+hC,WAAjD,CAAxB;AACA,aAAKJ,MAAL,CAAY;AAAEtH,UAAAA,QAAQ,EAAEA;AAAZ,SAAZ;AACH,OAHD,MAIK;AACD,aAAKsH,MAAL,CAAY;AAAE5J,UAAAA,aAAa,EAAE;AAAE1H,YAAAA,MAAM,EAAE;AAAV;AAAjB,SAAZ;AACH;AACJ;AACJ,GAnBD;;AAoBAwP,EAAAA,QAAQ,CAACxhC,SAAT,CAAmB8jC,QAAnB,GAA8B,UAAUrR,UAAV,EAAsBoR,QAAtB,EAAgCliC,OAAhC,EAAyC;AACnE,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,MAAAA,OAAO,GAAG,EAAV;AAAe;;AACzC,QAAIkT,OAAO,GAAG,KAAKuuB,QAAL,CAAcvuB,OAA5B;AACA,QAAI6kB,aAAa,GAAG;AAAEzkB,MAAAA,MAAM,EAAEtT,OAAO,CAACsT;AAAlB,KAApB;AACA,QAAImB,KAAK,GAAGvB,OAAO,CAAC+e,YAAR,CAAqBnB,UAArB,CAAZ;AACA,QAAIpc,GAAJ;;AACA,QAAI,CAACD,KAAL,EAAY;AACR,aADQ,CACA;AACX;;AACD,QAAIytB,QAAQ,IAAI,IAAhB,EAAsB;AAClBxtB,MAAAA,GAAG,GAAGxB,OAAO,CAAC+e,YAAR,CAAqBiQ,QAArB,CAAN;;AACA,UAAI,CAACxtB,GAAL,EAAU;AAAE;AACR;AACH;AACJ;;AACD,QAAI,KAAKqrB,SAAT,EAAoB;AAChB,UAAI+B,aAAa,GAAG,KAAK/B,SAAL,CAAexvB,KAAnC,CADgB,CAEhB;AACA;;AACA,UAAIvQ,OAAO,CAACsT,MAAR,KAAmB,IAAvB,EAA6B;AACzBwuB,QAAAA,aAAa,GAAG5Q,sBAAsB,CAAC4Q,aAAD,CAAtC;AACH;;AACD,UAAI1H,UAAU,GAAG1I,SAAS,CAACoQ,aAAa,CAACrtB,KAAf,EAAsBA,KAAtB,EAA6BvB,OAA7B,EAAsClT,OAAO,CAAC+hC,WAA9C,CAA1B;;AACA,UAAIrtB,GAAJ,EAAS;AACL,YAAI2lB,QAAQ,GAAG3I,SAAS,CAACoQ,aAAa,CAACptB,GAAf,EAAoBA,GAApB,EAAyBxB,OAAzB,EAAkClT,OAAO,CAAC+hC,WAA1C,CAAxB;;AACA,YAAIzrB,cAAc,CAAC8jB,UAAD,EAAaC,QAAb,CAAlB,EAA0C;AACtC,eAAKsH,MAAL,CAAY;AAAEhH,YAAAA,UAAU,EAAEP,UAAd;AAA0BrC,YAAAA,aAAa,EAAEA;AAAzC,WAAZ;AACH,SAFD,MAGK;AACD,eAAK4J,MAAL,CAAY;AAAEvH,YAAAA,UAAU,EAAEA,UAAd;AAA0BC,YAAAA,QAAQ,EAAEA,QAApC;AAA8CtC,YAAAA,aAAa,EAAEA;AAA7D,WAAZ;AACH;AACJ,OARD,MASK;AAAE;AACHA,QAAAA,aAAa,CAAC1H,MAAd,GAAuB,KAAvB;AACA,aAAKsR,MAAL,CAAY;AAAEhH,UAAAA,UAAU,EAAEP,UAAd;AAA0BrC,UAAAA,aAAa,EAAEA;AAAzC,SAAZ;AACH;AACJ;AACJ,GArCD;;AAsCA8H,EAAAA,QAAQ,CAACxhC,SAAT,CAAmB+jC,SAAnB,GAA+B,UAAUnD,UAAV,EAAsB;AACjD,QAAIC,KAAK,GAAGhqB,cAAc,CAAC+pB,UAAD,CAA1B;;AACA,QAAIC,KAAJ,EAAW;AAAE;AACT,WAAKyC,MAAL,CAAY;AAAEvH,QAAAA,UAAU,EAAE8E;AAAd,OAAZ;AACH;AACJ,GALD;;AAMAW,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBgkC,OAAnB,GAA6B,UAAUpD,UAAV,EAAsB;AAC/C,QAAIC,KAAK,GAAGhqB,cAAc,CAAC+pB,UAAD,CAA1B;;AACA,QAAIC,KAAJ,EAAW;AAAE;AACT,WAAKyC,MAAL,CAAY;AAAEtH,QAAAA,QAAQ,EAAE6E;AAAZ,OAAZ;AACH;AACJ,GALD;;AAMAW,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBikC,SAAnB,GAA+B,UAAUrD,UAAV,EAAsB;AACjD,QAAIC,KAAK,GAAGhqB,cAAc,CAAC+pB,UAAD,CAA1B;;AACA,QAAIC,KAAJ,EAAW;AAAE;AACT,WAAKyC,MAAL,CAAY;AAAEhH,QAAAA,UAAU,EAAEuE;AAAd,OAAZ;AACH;AACJ,GALD;;AAMAW,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBkkC,SAAnB,GAA+B,UAAUjvB,MAAV,EAAkBtT,OAAlB,EAA2B;AACtD,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,MAAAA,OAAO,GAAG,EAAV;AAAe;;AACzC,QAAI+3B,aAAa,GAAG;AAAEzkB,MAAAA,MAAM,EAAEA;AAAV,KAApB;AACA,QAAI0uB,gBAAgB,GAAGhiC,OAAO,CAACgiC,gBAA/B;;AACA,QAAIA,gBAAgB,IAAI,IAAxB,EAA8B;AAC1BA,MAAAA,gBAAgB,GAAG,KAAKP,QAAL,CAAczhC,OAAd,CAAsB4jB,sBAAzC;AACH;;AACD,QAAI,KAAKkc,IAAL,CAAUxsB,MAAV,KAAqBA,MAAzB,EAAiC;AAC7BykB,MAAAA,aAAa,CAAC1H,MAAd,GAAuB2R,gBAAvB;AACH;;AACD,SAAKL,MAAL,CAAY;AAAE5J,MAAAA,aAAa,EAAEA;AAAjB,KAAZ;AACH,GAXD;;AAYA8H,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBqd,WAAnB,GAAiC,UAAU8mB,WAAV,EAAuB;AACpD,QAAItvB,OAAO,GAAG,KAAKuuB,QAAL,CAAcvuB,OAA5B;AACA,QAAIe,QAAQ,GAAG,KAAK8rB,SAApB;AACA,QAAIX,SAAS,GAAGlf,eAAe,CAACsiB,WAAD,CAA/B;;AACA,QAAI,KAAK1C,IAAL,CAAUzP,MAAd,EAAsB;AAClB,aAAOnd,OAAO,CAACwI,WAAR,CAAoBzH,QAAQ,CAAC1D,KAAT,CAAekE,KAAnC,EAA0CR,QAAQ,CAAC1D,KAAT,CAAemE,GAAzD,EAA8D0qB,SAA9D,EAAyE;AAC5E5uB,QAAAA,cAAc,EAAEyD,QAAQ,CAACzD,cADmD;AAE5EC,QAAAA,YAAY,EAAEwD,QAAQ,CAACxD;AAFqD,OAAzE,CAAP;AAIH;;AACD,WAAOyC,OAAO,CAACtO,MAAR,CAAeqP,QAAQ,CAAC1D,KAAT,CAAekE,KAA9B,EAAqC2qB,SAArC,EAAgD;AACnDnO,MAAAA,SAAS,EAAEhd,QAAQ,CAACzD;AAD+B,KAAhD,CAAP;AAGH,GAbD;;AAcAqvB,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBsjC,MAAnB,GAA4B,UAAU5H,QAAV,EAAoB;AAC5C,QAAI9lB,QAAQ,GAAG,KAAK8rB,SAApB;;AACA,QAAI9rB,QAAJ,EAAc;AACV,UAAIE,GAAG,GAAG,KAAK2rB,IAAf;AACA,UAAI2C,SAAS,GAAG,KAAKhB,QAArB;AACA,UAAIiB,YAAY,GAAGD,SAAS,CAAC5H,cAAV,GAA2BjnB,UAA9C;AACA,UAAI+uB,cAAc,GAAG3V,iBAAiB,CAAC0V,YAAD,EAAezuB,QAAQ,CAACvD,UAAxB,CAAtC;AACA,UAAIopB,eAAe,GAAG;AAClB,YAAI;AACA5b,UAAAA,OAAO,EAAE,EADT;AAEAmQ,UAAAA,aAAa,EAAE,IAFf;AAGAC,UAAAA,gBAAgB,EAAE,IAHlB;AAIAU,UAAAA,WAAW,EAAE,EAJb;AAKAR,UAAAA,OAAO,EAAE,IALT;AAMAS,UAAAA,MAAM,EAAE,EANR;AAOAL,UAAAA,eAAe,EAAE,EAPjB;AAQAC,UAAAA,WAAW,EAAE,EARb;AASAC,UAAAA,SAAS,EAAE,EATX;AAUAnD,UAAAA,UAAU,EAAE;AAVZ;AADc,OAAtB;AAcAgX,MAAAA,cAAc,GAAG9I,yBAAyB,CAAC8I,cAAD,EAAiB7I,eAAjB,EAAkCC,QAAlC,EAA4C0I,SAA5C,CAA1C;AACA,UAAIG,QAAQ,GAAG,IAAI/C,QAAJ,CAAa4C,SAAb,EAAwBtuB,GAAxB,EAA6BF,QAA7B,CAAf,CApBU,CAoB6C;;AACvD,WAAK6rB,IAAL,GAAY6C,cAAc,CAAC5uB,IAAf,CAAoBI,GAAG,CAAC7D,KAAxB,CAAZ;AACA,WAAKyvB,SAAL,GAAiB4C,cAAc,CAAC3uB,SAAf,CAAyBC,QAAQ,CAACvD,UAAlC,CAAjB;AACA+xB,MAAAA,SAAS,CAACz+B,QAAV,CAAmB;AACf3C,QAAAA,IAAI,EAAE,cADS;AAEfuS,QAAAA,UAAU,EAAE+uB;AAFG,OAAnB;AAIAF,MAAAA,SAAS,CAACxJ,OAAV,CAAkBC,OAAlB,CAA0B,aAA1B,EAAyC;AACrC0J,QAAAA,QAAQ,EAAEA,QAD2B;AAErCtC,QAAAA,KAAK,EAAE,IAF8B;AAGrCC,QAAAA,aAAa,EAAEK,cAAc,CAAC+B,cAAD,EAAiBF,SAAjB,EAA4BxuB,QAA5B,CAHQ;AAIrCusB,QAAAA,MAAM,EAAE,kBAAY;AAChBiC,UAAAA,SAAS,CAACz+B,QAAV,CAAmB;AACf3C,YAAAA,IAAI,EAAE,cADS;AAEfuS,YAAAA,UAAU,EAAE8uB;AAFG,WAAnB;AAIH;AAToC,OAAzC;AAWH;AACJ,GAzCD;;AA0CA7C,EAAAA,QAAQ,CAACxhC,SAAT,CAAmB0F,MAAnB,GAA4B,YAAY;AACpC,QAAIF,OAAO,GAAG,KAAK49B,QAAnB;AACA,QAAIoB,OAAO,GAAGpC,eAAe,CAAC,IAAD,CAA7B;AACA58B,IAAAA,OAAO,CAACG,QAAR,CAAiB;AACb3C,MAAAA,IAAI,EAAE,eADO;AAEbuS,MAAAA,UAAU,EAAEivB;AAFC,KAAjB;AAIAh/B,IAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,aAAxB,EAAuC;AACnCoH,MAAAA,KAAK,EAAE,IAD4B;AAEnCC,MAAAA,aAAa,EAAE,EAFoB;AAGnCC,MAAAA,MAAM,EAAE,kBAAY;AAChB38B,QAAAA,OAAO,CAACG,QAAR,CAAiB;AACb3C,UAAAA,IAAI,EAAE,cADO;AAEbuS,UAAAA,UAAU,EAAEivB;AAFC,SAAjB;AAIH;AARkC,KAAvC;AAUH,GAjBD;;AAkBAzkC,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,QAA1C,EAAoD;AAChDiG,IAAAA,GAAG,EAAE,eAAY;AACb,UAAIL,QAAQ,GAAG,KAAK67B,IAAL,CAAU77B,QAAzB;;AACA,UAAIA,QAAJ,EAAc;AACV,eAAO,IAAIL,cAAJ,CAAmB,KAAK69B,QAAxB,EAAkC,KAAKA,QAAL,CAAc5G,cAAd,GAA+Bn7B,YAA/B,CAA4CuE,QAA5C,CAAlC,CAAP;AACH;;AACD,aAAO,IAAP;AACH,KAP+C;AAQhDO,IAAAA,UAAU,EAAE,KARoC;AAShDC,IAAAA,YAAY,EAAE;AATkC,GAApD;AAWArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,OAA1C,EAAmD;AAC/CiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAKy7B,SAAL,GACH,KAAK0B,QAAL,CAAcvuB,OAAd,CAAsBslB,MAAtB,CAA6B,KAAKuH,SAAL,CAAexvB,KAAf,CAAqBkE,KAAlD,CADG,GAEH,IAFJ;AAGH,KAL8C;AAM/CjQ,IAAAA,UAAU,EAAE,KANmC;AAO/CC,IAAAA,YAAY,EAAE;AAPiC,GAAnD;AASArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,KAA1C,EAAiD;AAC7CiG,IAAAA,GAAG,EAAE,eAAY;AACb,aAAQ,KAAKy7B,SAAL,IAAkB,KAAKD,IAAL,CAAUzP,MAA7B,GACH,KAAKoR,QAAL,CAAcvuB,OAAd,CAAsBslB,MAAtB,CAA6B,KAAKuH,SAAL,CAAexvB,KAAf,CAAqBmE,GAAlD,CADG,GAEH,IAFJ;AAGH,KAL4C;AAM7ClQ,IAAAA,UAAU,EAAE,KANiC;AAO7CC,IAAAA,YAAY,EAAE;AAP+B,GAAjD;AASArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,UAA1C,EAAsD;AAClDiG,IAAAA,GAAG,EAAE,eAAY;AACb,UAAI2P,QAAQ,GAAG,KAAK8rB,SAApB;;AACA,UAAI9rB,QAAJ,EAAc;AACV,eAAO,KAAKwtB,QAAL,CAAcvuB,OAAd,CAAsBwlB,SAAtB,CAAgCzkB,QAAQ,CAAC1D,KAAT,CAAekE,KAA/C,EAAsD;AACzD8jB,UAAAA,QAAQ,EAAE,KAAKuH,IAAL,CAAUxsB,MADqC;AAEzD2d,UAAAA,SAAS,EAAEhd,QAAQ,CAACzD;AAFqC,SAAtD,CAAP;AAIH;;AACD,aAAO,EAAP;AACH,KAViD;AAWlDhM,IAAAA,UAAU,EAAE,KAXsC;AAYlDC,IAAAA,YAAY,EAAE;AAZoC,GAAtD;AAcArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,QAA1C,EAAoD;AAChDiG,IAAAA,GAAG,EAAE,eAAY;AACb,UAAI2P,QAAQ,GAAG,KAAK8rB,SAApB;;AACA,UAAI9rB,QAAQ,IAAI,KAAK6rB,IAAL,CAAUzP,MAA1B,EAAkC;AAC9B,eAAO,KAAKoR,QAAL,CAAcvuB,OAAd,CAAsBwlB,SAAtB,CAAgCzkB,QAAQ,CAAC1D,KAAT,CAAemE,GAA/C,EAAoD;AACvD6jB,UAAAA,QAAQ,EAAE,KAAKuH,IAAL,CAAUxsB,MADmC;AAEvD2d,UAAAA,SAAS,EAAEhd,QAAQ,CAACxD;AAFmC,SAApD,CAAP;AAIH;;AACD,aAAO,EAAP;AACH,KAV+C;AAWhDjM,IAAAA,UAAU,EAAE,KAXoC;AAYhDC,IAAAA,YAAY,EAAE;AAZkC,GAApD;AAcArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,IAA1C,EAAgD;AAC5C;AACA;AACAiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUv7B,QAAjB;AAA4B,KAHH;AAI5CC,IAAAA,UAAU,EAAE,KAJgC;AAK5CC,IAAAA,YAAY,EAAE;AAL8B,GAAhD;AAOArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,SAA1C,EAAqD;AACjDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUtS,OAAjB;AAA2B,KADG;AAEjDhpB,IAAAA,UAAU,EAAE,KAFqC;AAGjDC,IAAAA,YAAY,EAAE;AAHmC,GAArD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,QAA1C,EAAoD;AAChDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxsB,MAAjB;AAA0B,KADG;AAEhD9O,IAAAA,UAAU,EAAE,KAFoC;AAGhDC,IAAAA,YAAY,EAAE;AAHkC,GAApD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,OAA1C,EAAmD;AAC/CiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUnQ,KAAjB;AAAyB,KADG;AAE/CnrB,IAAAA,UAAU,EAAE,KAFmC;AAG/CC,IAAAA,YAAY,EAAE;AAHiC,GAAnD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,KAA1C,EAAiD;AAC7CiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUn7B,GAAjB;AAAuB,KADG;AAE7CH,IAAAA,UAAU,EAAE,KAFiC;AAG7CC,IAAAA,YAAY,EAAE;AAH+B,GAAjD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,SAA1C,EAAqD;AACjDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAapS,OAAb,IAAwB,MAA/B;AAAwC,KADV,CACW;AADX;AAGjD1Z,IAAAA,UAAU,EAAE,KAHqC;AAIjDC,IAAAA,YAAY,EAAE;AAJmC,GAArD;AAMArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,eAA1C,EAA2D;AACvDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAajC,aAApB;AAAoC,KADA;AAEvD7pB,IAAAA,UAAU,EAAE,KAF2C;AAGvDC,IAAAA,YAAY,EAAE;AAHyC,GAA3D;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,kBAA1C,EAA8D;AAC1DiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAahC,gBAApB;AAAuC,KADA;AAE1D9pB,IAAAA,UAAU,EAAE,KAF8C;AAG1DC,IAAAA,YAAY,EAAE;AAH4C,GAA9D;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,YAA1C,EAAwD;AACpDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAatB,WAAb,CAAyB,CAAzB,KAA+B,IAAtC;AAA6C,KADZ;AAEpDxqB,IAAAA,UAAU,EAAE,KAFwC;AAGpDC,IAAAA,YAAY,EAAE;AAHsC,GAAxD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,SAA1C,EAAqD;AACjDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAa9B,OAApB;AAA8B,KADA;AAEjDhqB,IAAAA,UAAU,EAAE,KAFqC;AAGjDC,IAAAA,YAAY,EAAE;AAHmC,GAArD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,OAA1C,EAAmD;AAC/CiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAarB,MAAb,CAAoB,CAApB,KAA0B,IAAjC;AAAwC,KADZ;AAE/CzqB,IAAAA,UAAU,EAAE,KAFmC;AAG/CC,IAAAA,YAAY,EAAE;AAHiC,GAAnD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,iBAA1C,EAA6D;AACzDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAa1B,eAApB;AAAsC,KADA;AAEzDpqB,IAAAA,UAAU,EAAE,KAF6C;AAGzDC,IAAAA,YAAY,EAAE;AAH2C,GAA7D;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,aAA1C,EAAyD;AACrDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAazB,WAApB;AAAkC,KADA;AAErDrqB,IAAAA,UAAU,EAAE,KAFyC;AAGrDC,IAAAA,YAAY,EAAE;AAHuC,GAAzD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,WAA1C,EAAuD;AACnDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAaxB,SAApB;AAAgC,KADA;AAEnDtqB,IAAAA,UAAU,EAAE,KAFuC;AAGnDC,IAAAA,YAAY,EAAE;AAHqC,GAAvD;AAKArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,YAA1C,EAAwD;AACpD;AACAiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUxP,EAAV,CAAa3E,UAApB;AAAiC,KAFA;AAGpDnnB,IAAAA,UAAU,EAAE,KAHwC;AAIpDC,IAAAA,YAAY,EAAE;AAJsC,GAAxD;AAMArG,EAAAA,MAAM,CAACiG,cAAP,CAAsBw7B,QAAQ,CAACxhC,SAA/B,EAA0C,eAA1C,EAA2D;AACvDiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAKw7B,IAAL,CAAUhQ,aAAjB;AAAiC,KADG;AAEvDtrB,IAAAA,UAAU,EAAE,KAF2C;AAGvDC,IAAAA,YAAY,EAAE;AAHyC,GAA3D;;AAKAo7B,EAAAA,QAAQ,CAACxhC,SAAT,CAAmBykC,aAAnB,GAAmC,UAAUzD,QAAV,EAAoB;AACnD,QAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,MAAAA,QAAQ,GAAG,EAAX;AAAgB;;AAC3C,QAAIlrB,GAAG,GAAG,KAAK2rB,IAAf;AACA,QAAIxP,EAAE,GAAGnc,GAAG,CAACmc,EAAb;;AACA,QAAIhpB,EAAE,GAAG,IAAT;AAAA,QAAemxB,QAAQ,GAAGnxB,EAAE,CAACmxB,QAA7B;AAAA,QAAuCE,MAAM,GAAGrxB,EAAE,CAACqxB,MAAnD;;AACA,QAAI7lB,GAAG,GAAG,EAAV;;AACA,QAAIqB,GAAG,CAACwb,KAAR,EAAe;AACX7c,MAAAA,GAAG,CAAC6c,KAAJ,GAAYxb,GAAG,CAACwb,KAAhB;AACH;;AACD,QAAI8I,QAAJ,EAAc;AACV3lB,MAAAA,GAAG,CAAC2B,KAAJ,GAAYgkB,QAAZ;AACH;;AACD,QAAIE,MAAJ,EAAY;AACR7lB,MAAAA,GAAG,CAAC4B,GAAJ,GAAUikB,MAAV;AACH;;AACD,QAAIxkB,GAAG,CAAC5P,QAAR,EAAkB;AACduO,MAAAA,GAAG,CAAC4c,EAAJ,GAASvb,GAAG,CAAC5P,QAAb;AACH;;AACD,QAAI4P,GAAG,CAACqZ,OAAR,EAAiB;AACb1a,MAAAA,GAAG,CAAC0a,OAAJ,GAAcrZ,GAAG,CAACqZ,OAAlB;AACH;;AACD,QAAIrZ,GAAG,CAACxP,GAAR,EAAa;AACTmO,MAAAA,GAAG,CAACnO,GAAJ,GAAUwP,GAAG,CAACxP,GAAd;AACH;;AACD,QAAI2rB,EAAE,CAACpS,OAAH,IAAcoS,EAAE,CAACpS,OAAH,KAAe,MAAjC,EAAyC;AACrCpL,MAAAA,GAAG,CAACoL,OAAJ,GAAcoS,EAAE,CAACpS,OAAjB;AACH,KA1BkD,CA2BnD;AACA;;;AACA,QAAImhB,QAAQ,CAAC0D,aAAT,IAA0BzS,EAAE,CAAC1B,eAA7B,IAAgD0B,EAAE,CAAC1B,eAAH,KAAuB0B,EAAE,CAACzB,WAA9E,EAA2F;AACvF/b,MAAAA,GAAG,CAAC6b,KAAJ,GAAY2B,EAAE,CAAC1B,eAAf;AACH,KAFD,MAGK;AACD,UAAI0B,EAAE,CAAC1B,eAAP,EAAwB;AACpB9b,QAAAA,GAAG,CAAC8b,eAAJ,GAAsB0B,EAAE,CAAC1B,eAAzB;AACH;;AACD,UAAI0B,EAAE,CAACzB,WAAP,EAAoB;AAChB/b,QAAAA,GAAG,CAAC+b,WAAJ,GAAkByB,EAAE,CAACzB,WAArB;AACH;AACJ;;AACD,QAAIyB,EAAE,CAACxB,SAAP,EAAkB;AACdhc,MAAAA,GAAG,CAACgc,SAAJ,GAAgBwB,EAAE,CAACxB,SAAnB;AACH;;AACD,QAAIwB,EAAE,CAAC3E,UAAH,CAAcxlB,MAAlB,EAA0B;AACtB2M,MAAAA,GAAG,CAAC6Y,UAAJ,GAAiB2E,EAAE,CAAC3E,UAApB;AACH;;AACD,QAAIvtB,MAAM,CAACsC,IAAP,CAAYyT,GAAG,CAAC2b,aAAhB,EAA+B3pB,MAAnC,EAA2C;AACvC,UAAIk5B,QAAQ,CAAC2D,qBAAb,EAAoC;AAChC5/B,QAAAA,+CAAQ,CAAC0P,GAAD,EAAMqB,GAAG,CAAC2b,aAAV,CAAR;AACH,OAFD,MAGK;AACDhd,QAAAA,GAAG,CAACgd,aAAJ,GAAoB3b,GAAG,CAAC2b,aAAxB;AACH;AACJ;;AACD,WAAOhd,GAAP;AACH,GAvDD;;AAwDA+sB,EAAAA,QAAQ,CAACxhC,SAAT,CAAmB4kC,MAAnB,GAA4B,YAAY;AACpC,WAAO,KAAKH,aAAL,EAAP;AACH,GAFD;;AAGA,SAAOjD,QAAP;AACH,CAhb6B,EAA9B;;AAibA,SAASY,eAAT,CAAyBJ,QAAzB,EAAmC;AAC/B,MAAI/4B,EAAJ,EAAQC,EAAR;;AACA,MAAI4M,GAAG,GAAGksB,QAAQ,CAACP,IAAnB;AACA,MAAI7rB,QAAQ,GAAGosB,QAAQ,CAACN,SAAxB;AACA,SAAO;AACHhsB,IAAAA,IAAI,GAAGzM,EAAE,GAAG,EAAL,EAASA,EAAE,CAAC6M,GAAG,CAAC7D,KAAL,CAAF,GAAgB6D,GAAzB,EAA8B7M,EAAjC,CADD;AAEH0M,IAAAA,SAAS,EAAEC,QAAQ,IACZ1M,EAAE,GAAG,EAAL,EAASA,EAAE,CAAC0M,QAAQ,CAACvD,UAAV,CAAF,GAA0BuD,QAAnC,EAA6C1M,EADjC,IACuC;AAHvD,GAAP;AAKH;;AACD,SAASq5B,cAAT,CAAwBhtB,UAAxB,EAAoC/P,OAApC,EAA6Cq/B,eAA7C,EAA8D;AAC1D,MAAInvB,IAAI,GAAGH,UAAU,CAACG,IAAtB;AAAA,MAA4BC,SAAS,GAAGJ,UAAU,CAACI,SAAnD;AACA,MAAImvB,SAAS,GAAG,EAAhB;AACA,MAAIC,iBAAiB,GAAGF,eAAe,GAAGA,eAAe,CAACxyB,UAAnB,GAAgC,EAAvE;;AACA,OAAK,IAAIgf,EAAT,IAAe1b,SAAf,EAA0B;AACtB,QAAIC,QAAQ,GAAGD,SAAS,CAAC0b,EAAD,CAAxB;AACA,QAAIvb,GAAG,GAAGJ,IAAI,CAACE,QAAQ,CAAC3D,KAAV,CAAd;;AACA,QAAI2D,QAAQ,CAACvD,UAAT,KAAwB0yB,iBAA5B,EAA+C;AAC3CD,MAAAA,SAAS,CAAC1gC,IAAV,CAAe,IAAIo9B,QAAJ,CAAah8B,OAAb,EAAsBsQ,GAAtB,EAA2BF,QAA3B,CAAf;AACH;AACJ;;AACD,SAAOkvB,SAAP;AACH;;AAED,IAAIE,sBAAsB,GAAG,EAA7B;;AACA,SAASC,sBAAT,CAAgCr8B,IAAhC,EAAsCs8B,QAAtC,EAAgD;AAC5CF,EAAAA,sBAAsB,CAACp8B,IAAD,CAAtB,GAA+Bs8B,QAA/B;AACH;;AACD,SAASC,oBAAT,CAA8Bv8B,IAA9B,EAAoC;AAChC,SAAO,IAAIo8B,sBAAsB,CAACp8B,IAAD,CAA1B,EAAP;AACH;;AACD,IAAIw8B,uBAAuB;AAAG;AAAe,YAAY;AACrD,WAASA,uBAAT,GAAmC,CAClC;;AACDA,EAAAA,uBAAuB,CAACplC,SAAxB,CAAkCogB,aAAlC,GAAkD,UAAUjR,CAAV,EAAa;AAC3D,WAAOA,CAAC,CAACG,cAAF,EAAP;AACH,GAFD;;AAGA81B,EAAAA,uBAAuB,CAACplC,SAAxB,CAAkCqgB,cAAlC,GAAmD,UAAUlR,CAAV,EAAa;AAC5D,WAAOA,CAAC,CAACI,WAAF,EAAP;AACH,GAFD;;AAGA61B,EAAAA,uBAAuB,CAACplC,SAAxB,CAAkCsgB,YAAlC,GAAiD,UAAUnR,CAAV,EAAa;AAC1D,WAAOA,CAAC,CAACK,UAAF,EAAP;AACH,GAFD;;AAGA41B,EAAAA,uBAAuB,CAACplC,SAAxB,CAAkCqlC,aAAlC,GAAkD,UAAUC,GAAV,EAAe;AAC7D,WAAOx3B,cAAc,CAACw3B,GAAD,CAArB;AACH,GAFD;;AAGAF,EAAAA,uBAAuB,CAACplC,SAAxB,CAAkCohB,aAAlC,GAAkD,UAAUpR,MAAV,EAAkB;AAChE,WAAOnC,cAAc,CAACmC,MAAD,CAArB;AACH,GAFD;;AAGA,SAAOo1B,uBAAP;AACH,CAnB4C,EAA7C;;AAoBAH,sBAAsB,CAAC,SAAD,EAAYG,uBAAZ,CAAtB;AAEA,IAAIG,MAAM,GAAG,mHAAb;;AACA,SAASvwB,KAAT,CAAewwB,GAAf,EAAoB;AAChB,MAAI53B,CAAC,GAAG23B,MAAM,CAACtuB,IAAP,CAAYuuB,GAAZ,CAAR;;AACA,MAAI53B,CAAJ,EAAO;AACH,QAAIoC,MAAM,GAAG,IAAI1P,IAAJ,CAASA,IAAI,CAACsR,GAAL,CAASiS,MAAM,CAACjW,CAAC,CAAC,CAAD,CAAF,CAAf,EAAuBA,CAAC,CAAC,CAAD,CAAD,GAAOiW,MAAM,CAACjW,CAAC,CAAC,CAAD,CAAF,CAAN,GAAe,CAAtB,GAA0B,CAAjD,EAAoDiW,MAAM,CAACjW,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,CAA1D,EAAuEiW,MAAM,CAACjW,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,CAA7E,EAA0FiW,MAAM,CAACjW,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,CAAhG,EAA6GiW,MAAM,CAACjW,CAAC,CAAC,EAAD,CAAD,IAAS,CAAV,CAAnH,EAAiIA,CAAC,CAAC,EAAD,CAAD,GAAQiW,MAAM,CAAC,OAAOjW,CAAC,CAAC,EAAD,CAAT,CAAN,GAAuB,IAA/B,GAAsC,CAAvK,CAAT,CAAb;;AACA,QAAIkE,WAAW,CAAC9B,MAAD,CAAf,EAAyB;AACrB,UAAIsJ,cAAc,GAAG,IAArB;;AACA,UAAI1L,CAAC,CAAC,EAAD,CAAL,EAAW;AACP0L,QAAAA,cAAc,GAAG,CAAC1L,CAAC,CAAC,EAAD,CAAD,KAAU,GAAV,GAAgB,CAAC,CAAjB,GAAqB,CAAtB,KAA4BiW,MAAM,CAACjW,CAAC,CAAC,EAAD,CAAD,IAAS,CAAV,CAAN,GAAqB,EAArB,GACzCiW,MAAM,CAACjW,CAAC,CAAC,EAAD,CAAD,IAAS,CAAV,CADO,CAAjB;AAEH;;AACD,aAAO;AACHoC,QAAAA,MAAM,EAAEA,MADL;AAEH2iB,QAAAA,iBAAiB,EAAE,CAAC/kB,CAAC,CAAC,CAAD,CAFlB;AAGH0L,QAAAA,cAAc,EAAEA;AAHb,OAAP;AAKH;AACJ;;AACD,SAAO,IAAP;AACH;;AAED,IAAImsB,OAAO;AAAG;AAAe,YAAY;AACrC,WAASA,OAAT,CAAiBzE,QAAjB,EAA2B;AACvB,QAAIjiB,QAAQ,GAAG,KAAKA,QAAL,GAAgBiiB,QAAQ,CAACjiB,QAAxC;AACA,QAAI2mB,eAAe,GAAG3mB,QAAQ,KAAK,OAAb,IAAwBA,QAAQ,KAAK,KAA3D;;AACA,QAAIiiB,QAAQ,CAAC2E,iBAAT,IAA8BD,eAAlC,EAAmD;AAC/C,WAAKC,iBAAL,GAAyB,IAAI3E,QAAQ,CAAC2E,iBAAb,CAA+B5mB,QAA/B,CAAzB;AACH;;AACD,SAAK6mB,gBAAL,GAAwBpjB,OAAO,CAAC,CAACkjB,eAAD,IAAoB,KAAKC,iBAA1B,CAA/B;AACA,SAAKloB,cAAL,GAAsB0nB,oBAAoB,CAACnE,QAAQ,CAACvjB,cAAV,CAA1C;AACA,SAAKmB,MAAL,GAAcoiB,QAAQ,CAACpiB,MAAvB;AACA,SAAKinB,OAAL,GAAe7E,QAAQ,CAACpiB,MAAT,CAAgB7G,IAAhB,CAAqB9H,GAApC;AACA,SAAK61B,OAAL,GAAe9E,QAAQ,CAACpiB,MAAT,CAAgB7G,IAAhB,CAAqB7H,GAApC;;AACA,QAAI8wB,QAAQ,CAACjd,qBAAT,KAAmC,KAAvC,EAA8C;AAC1C,WAAK8hB,OAAL,GAAe,CAAf;AACA,WAAKC,OAAL,GAAe,CAAf;AACH;;AACD,QAAI,OAAO9E,QAAQ,CAAC3W,QAAhB,KAA6B,QAAjC,EAA2C;AACvC,WAAKwb,OAAL,GAAe7E,QAAQ,CAAC3W,QAAxB;AACH;;AACD,QAAI,OAAO2W,QAAQ,CAACjd,qBAAhB,KAA0C,UAA9C,EAA0D;AACtD,WAAKgiB,cAAL,GAAsB/E,QAAQ,CAACjd,qBAA/B;AACH;;AACD,SAAKpF,QAAL,GAAgBqiB,QAAQ,CAACriB,QAAT,IAAqB,IAArB,GAA4BqiB,QAAQ,CAACriB,QAArC,GAAgDqiB,QAAQ,CAACpiB,MAAT,CAAgBjd,OAAhB,CAAwBgd,QAAxF;AACA,SAAKgD,YAAL,GAAoBqf,QAAQ,CAACrf,YAA7B;AACA,SAAKvD,gBAAL,GAAwB4iB,QAAQ,CAAC5iB,gBAAjC;AACH,GAzBoC,CA0BrC;;;AACAqnB,EAAAA,OAAO,CAACzlC,SAAR,CAAkB4zB,YAAlB,GAAiC,UAAU1zB,KAAV,EAAiB;AAC9C,QAAImG,IAAI,GAAG,KAAKqsB,gBAAL,CAAsBxyB,KAAtB,CAAX;;AACA,QAAImG,IAAI,KAAK,IAAb,EAAmB;AACf,aAAO,IAAP;AACH;;AACD,WAAOA,IAAI,CAAC2J,MAAZ;AACH,GAND;;AAOAy1B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBs+B,eAAlB,GAAoC,YAAY;AAC5C,QAAI,KAAKsH,gBAAT,EAA2B;AACvB,aAAO,KAAKI,iBAAL,CAAuB,IAAI1lC,IAAJ,GAAWC,OAAX,EAAvB,CAAP;AACH,KAH2C,CAI5C;AACA;;;AACA,WAAOuN,cAAc,CAACkD,gBAAgB,CAAC,IAAI1Q,IAAJ,EAAD,CAAjB,CAArB;AACH,GAPD;;AAQAmlC,EAAAA,OAAO,CAACzlC,SAAR,CAAkB0yB,gBAAlB,GAAqC,UAAUxyB,KAAV,EAAiB;AAClD,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,aAAO,KAAK8U,KAAL,CAAW9U,KAAX,CAAP;AACH;;AACD,QAAI8P,MAAM,GAAG,IAAb;;AACA,QAAI,OAAO9P,KAAP,KAAiB,QAArB,EAA+B;AAC3B8P,MAAAA,MAAM,GAAG,KAAKg2B,iBAAL,CAAuB9lC,KAAvB,CAAT;AACH,KAFD,MAGK,IAAIA,KAAK,YAAYI,IAArB,EAA2B;AAC5BJ,MAAAA,KAAK,GAAGA,KAAK,CAACK,OAAN,EAAR;;AACA,UAAI,CAACwR,KAAK,CAAC7R,KAAD,CAAV,EAAmB;AACf8P,QAAAA,MAAM,GAAG,KAAKg2B,iBAAL,CAAuB9lC,KAAvB,CAAT;AACH;AACJ,KALI,MAMA,IAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AAC3B8P,MAAAA,MAAM,GAAGlC,cAAc,CAAC5N,KAAD,CAAvB;AACH;;AACD,QAAI8P,MAAM,KAAK,IAAX,IAAmB,CAAC8B,WAAW,CAAC9B,MAAD,CAAnC,EAA6C;AACzC,aAAO,IAAP;AACH;;AACD,WAAO;AAAEA,MAAAA,MAAM,EAAEA,MAAV;AAAkB2iB,MAAAA,iBAAiB,EAAE,KAArC;AAA4CC,MAAAA,SAAS,EAAE;AAAvD,KAAP;AACH,GArBD;;AAsBA6S,EAAAA,OAAO,CAACzlC,SAAR,CAAkBgV,KAAlB,GAA0B,UAAUnI,CAAV,EAAa;AACnC,QAAIiT,KAAK,GAAG9K,KAAK,CAACnI,CAAD,CAAjB;;AACA,QAAIiT,KAAK,KAAK,IAAd,EAAoB;AAChB,aAAO,IAAP;AACH;;AACD,QAAI9P,MAAM,GAAG8P,KAAK,CAAC9P,MAAnB;AACA,QAAI4iB,SAAS,GAAG,IAAhB;;AACA,QAAI9S,KAAK,CAACxG,cAAN,KAAyB,IAA7B,EAAmC;AAC/B,UAAI,KAAKssB,gBAAT,EAA2B;AACvB51B,QAAAA,MAAM,GAAG,KAAKg2B,iBAAL,CAAuBh2B,MAAM,CAACzP,OAAP,KAAmBuf,KAAK,CAACxG,cAAN,GAAuB,EAAvB,GAA4B,IAAtE,CAAT;AACH,OAFD,MAGK;AACDsZ,QAAAA,SAAS,GAAG9S,KAAK,CAACxG,cAAlB;AACH;AACJ;;AACD,WAAO;AAAEtJ,MAAAA,MAAM,EAAEA,MAAV;AAAkB2iB,MAAAA,iBAAiB,EAAE7S,KAAK,CAAC6S,iBAA3C;AAA8DC,MAAAA,SAAS,EAAEA;AAAzE,KAAP;AACH,GAhBD,CAhEqC,CAiFrC;;;AACA6S,EAAAA,OAAO,CAACzlC,SAAR,CAAkBimC,OAAlB,GAA4B,UAAUj2B,MAAV,EAAkB;AAC1C,WAAO,KAAKyN,cAAL,CAAoB2C,aAApB,CAAkCpQ,MAAlC,CAAP;AACH,GAFD;;AAGAy1B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBmR,QAAlB,GAA6B,UAAUnB,MAAV,EAAkB;AAC3C,WAAO,KAAKyN,cAAL,CAAoB4C,cAApB,CAAmCrQ,MAAnC,CAAP;AACH,GAFD,CArFqC,CAwFrC;;;AACAy1B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBiL,GAAlB,GAAwB,UAAU+E,MAAV,EAAkBqI,GAAlB,EAAuB;AAC3C,QAAI7L,CAAC,GAAG,KAAKiR,cAAL,CAAoB2D,aAApB,CAAkCpR,MAAlC,CAAR;AACAxD,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ6L,GAAG,CAACzJ,KAAZ;AACApC,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ6L,GAAG,CAACxJ,MAAZ;AACArC,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ6L,GAAG,CAACvJ,IAAZ;AACAtC,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ6L,GAAG,CAACpJ,YAAZ;AACA,WAAO,KAAKwO,cAAL,CAAoB4nB,aAApB,CAAkC74B,CAAlC,CAAP;AACH,GAPD;;AAQAi5B,EAAAA,OAAO,CAACzlC,SAAR,CAAkB0W,QAAlB,GAA6B,UAAU1G,MAAV,EAAkBqI,GAAlB,EAAuB;AAChD,QAAI7L,CAAC,GAAG,KAAKiR,cAAL,CAAoB2D,aAApB,CAAkCpR,MAAlC,CAAR;AACAxD,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ6L,GAAG,CAACzJ,KAAZ;AACApC,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ6L,GAAG,CAACxJ,MAAZ;AACArC,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ6L,GAAG,CAACvJ,IAAZ;AACAtC,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQ6L,GAAG,CAACpJ,YAAZ;AACA,WAAO,KAAKwO,cAAL,CAAoB4nB,aAApB,CAAkC74B,CAAlC,CAAP;AACH,GAPD;;AAQAi5B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBqgC,QAAlB,GAA6B,UAAUrwB,MAAV,EAAkB/C,CAAlB,EAAqB;AAC9C,QAAIT,CAAC,GAAG,KAAKiR,cAAL,CAAoB2D,aAApB,CAAkCpR,MAAlC,CAAR;AACAxD,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQS,CAAR;AACA,WAAO,KAAKwQ,cAAL,CAAoB4nB,aAApB,CAAkC74B,CAAlC,CAAP;AACH,GAJD;;AAKAi5B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBkmC,SAAlB,GAA8B,UAAUl2B,MAAV,EAAkB/C,CAAlB,EAAqB;AAC/C,QAAIT,CAAC,GAAG,KAAKiR,cAAL,CAAoB2D,aAApB,CAAkCpR,MAAlC,CAAR;AACAxD,IAAAA,CAAC,CAAC,CAAD,CAAD,IAAQS,CAAR;AACA,WAAO,KAAKwQ,cAAL,CAAoB4nB,aAApB,CAAkC74B,CAAlC,CAAP;AACH,GAJD,CA9GqC,CAmHrC;;;AACAi5B,EAAAA,OAAO,CAACzlC,SAAR,CAAkByzB,cAAlB,GAAmC,UAAUvlB,EAAV,EAAcC,EAAd,EAAkB;AACjD,QAAIsP,cAAc,GAAG,KAAKA,cAA1B;;AACA,QAAIpO,QAAQ,CAACnB,EAAD,CAAR,KAAiBmB,QAAQ,CAAClB,EAAD,CAAzB,IACAsP,cAAc,CAAC6C,YAAf,CAA4BpS,EAA5B,MAAoCuP,cAAc,CAAC6C,YAAf,CAA4BnS,EAA5B,CADpC,IAEAsP,cAAc,CAAC4C,cAAf,CAA8BnS,EAA9B,MAAsCuP,cAAc,CAAC4C,cAAf,CAA8BlS,EAA9B,CAF1C,EAE6E;AACzE,aAAOsP,cAAc,CAAC2C,aAAf,CAA6BjS,EAA7B,IAAmCsP,cAAc,CAAC2C,aAAf,CAA6BlS,EAA7B,CAA1C;AACH;;AACD,WAAO,IAAP;AACH,GARD;;AASAu3B,EAAAA,OAAO,CAACzlC,SAAR,CAAkB0zB,eAAlB,GAAoC,UAAUxlB,EAAV,EAAcC,EAAd,EAAkB;AAClD,QAAIsP,cAAc,GAAG,KAAKA,cAA1B;;AACA,QAAIpO,QAAQ,CAACnB,EAAD,CAAR,KAAiBmB,QAAQ,CAAClB,EAAD,CAAzB,IACAsP,cAAc,CAAC6C,YAAf,CAA4BpS,EAA5B,MAAoCuP,cAAc,CAAC6C,YAAf,CAA4BnS,EAA5B,CADxC,EACyE;AACrE,aAAQsP,cAAc,CAAC4C,cAAf,CAA8BlS,EAA9B,IAAoCsP,cAAc,CAAC4C,cAAf,CAA8BnS,EAA9B,CAArC,GACH,CAACuP,cAAc,CAAC2C,aAAf,CAA6BjS,EAA7B,IAAmCsP,cAAc,CAAC2C,aAAf,CAA6BlS,EAA7B,CAApC,IAAwE,EAD5E;AAEH;;AACD,WAAO,IAAP;AACH,GARD,CA7HqC,CAsIrC;;;AACAu3B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBmmC,iBAAlB,GAAsC,UAAUj4B,EAAV,EAAcC,EAAd,EAAkB;AACpD,QAAIlB,CAAC,GAAG,KAAKwmB,cAAL,CAAoBvlB,EAApB,EAAwBC,EAAxB,CAAR;;AACA,QAAIlB,CAAC,KAAK,IAAV,EAAgB;AACZ,aAAO;AAAE6J,QAAAA,IAAI,EAAE,MAAR;AAAgBsC,QAAAA,KAAK,EAAEnM;AAAvB,OAAP;AACH;;AACDA,IAAAA,CAAC,GAAG,KAAKymB,eAAL,CAAqBxlB,EAArB,EAAyBC,EAAzB,CAAJ;;AACA,QAAIlB,CAAC,KAAK,IAAV,EAAgB;AACZ,aAAO;AAAE6J,QAAAA,IAAI,EAAE,OAAR;AAAiBsC,QAAAA,KAAK,EAAEnM;AAAxB,OAAP;AACH;;AACDA,IAAAA,CAAC,GAAGiC,cAAc,CAAChB,EAAD,EAAKC,EAAL,CAAlB;;AACA,QAAIlB,CAAC,KAAK,IAAV,EAAgB;AACZ,aAAO;AAAE6J,QAAAA,IAAI,EAAE,MAAR;AAAgBsC,QAAAA,KAAK,EAAEnM;AAAvB,OAAP;AACH;;AACDA,IAAAA,CAAC,GAAGmC,aAAa,CAAClB,EAAD,EAAKC,EAAL,CAAjB;;AACA,QAAIlB,CAAC,KAAK,IAAV,EAAgB;AACZ,aAAO;AAAE6J,QAAAA,IAAI,EAAE,KAAR;AAAesC,QAAAA,KAAK,EAAEnM;AAAtB,OAAP;AACH;;AACDA,IAAAA,CAAC,GAAGoB,SAAS,CAACH,EAAD,EAAKC,EAAL,CAAb;;AACA,QAAInB,KAAK,CAACC,CAAD,CAAT,EAAc;AACV,aAAO;AAAE6J,QAAAA,IAAI,EAAE,MAAR;AAAgBsC,QAAAA,KAAK,EAAEnM;AAAvB,OAAP;AACH;;AACDA,IAAAA,CAAC,GAAGqB,WAAW,CAACJ,EAAD,EAAKC,EAAL,CAAf;;AACA,QAAInB,KAAK,CAACC,CAAD,CAAT,EAAc;AACV,aAAO;AAAE6J,QAAAA,IAAI,EAAE,QAAR;AAAkBsC,QAAAA,KAAK,EAAEnM;AAAzB,OAAP;AACH;;AACDA,IAAAA,CAAC,GAAGsB,WAAW,CAACL,EAAD,EAAKC,EAAL,CAAf;;AACA,QAAInB,KAAK,CAACC,CAAD,CAAT,EAAc;AACV,aAAO;AAAE6J,QAAAA,IAAI,EAAE,QAAR;AAAkBsC,QAAAA,KAAK,EAAEnM;AAAzB,OAAP;AACH;;AACD,WAAO;AAAE6J,MAAAA,IAAI,EAAE,aAAR;AAAuBsC,MAAAA,KAAK,EAAEjL,EAAE,CAAC5N,OAAH,KAAe2N,EAAE,CAAC3N,OAAH;AAA7C,KAAP;AACH,GA9BD;;AA+BAklC,EAAAA,OAAO,CAACzlC,SAAR,CAAkBomC,qBAAlB,GAA0C,UAAUl4B,EAAV,EAAcC,EAAd,EAAkBgB,CAAlB,EAAqB;AAC3D;AACA,QAAIk3B,IAAJ;;AACA,QAAIl3B,CAAC,CAACP,KAAN,EAAa;AACTy3B,MAAAA,IAAI,GAAG,KAAK5S,cAAL,CAAoBvlB,EAApB,EAAwBC,EAAxB,CAAP;;AACA,UAAIk4B,IAAI,KAAK,IAAb,EAAmB;AACf,eAAOA,IAAI,GAAG5tB,YAAY,CAACtJ,CAAD,CAA1B;AACH;AACJ;;AACD,QAAIA,CAAC,CAACN,MAAN,EAAc;AACVw3B,MAAAA,IAAI,GAAG,KAAK3S,eAAL,CAAqBxlB,EAArB,EAAyBC,EAAzB,CAAP;;AACA,UAAIk4B,IAAI,KAAK,IAAb,EAAmB;AACf,eAAOA,IAAI,GAAG1tB,aAAa,CAACxJ,CAAD,CAA3B;AACH;AACJ;;AACD,QAAIA,CAAC,CAACL,IAAN,EAAY;AACRu3B,MAAAA,IAAI,GAAGj3B,aAAa,CAAClB,EAAD,EAAKC,EAAL,CAApB;;AACA,UAAIk4B,IAAI,KAAK,IAAb,EAAmB;AACf,eAAOA,IAAI,GAAG3tB,WAAW,CAACvJ,CAAD,CAAzB;AACH;AACJ;;AACD,WAAO,CAAChB,EAAE,CAAC5N,OAAH,KAAe2N,EAAE,CAAC3N,OAAH,EAAhB,IAAgCqY,SAAS,CAACzJ,CAAD,CAAhD;AACH,GAtBD,CAtKqC,CA6LrC;AACA;;;AACAs2B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBsmC,OAAlB,GAA4B,UAAU14B,CAAV,EAAakJ,IAAb,EAAmB;AAC3C,QAAIA,IAAI,KAAK,MAAb,EAAqB;AACjB,aAAO,KAAKyvB,WAAL,CAAiB34B,CAAjB,CAAP;AACH;;AACD,QAAIkJ,IAAI,KAAK,OAAb,EAAsB;AAClB,aAAO,KAAK0vB,YAAL,CAAkB54B,CAAlB,CAAP;AACH;;AACD,QAAIkJ,IAAI,KAAK,MAAb,EAAqB;AACjB,aAAO,KAAK2vB,WAAL,CAAiB74B,CAAjB,CAAP;AACH;;AACD,QAAIkJ,IAAI,KAAK,KAAb,EAAoB;AAChB,aAAOpI,UAAU,CAACd,CAAD,CAAjB;AACH;;AACD,QAAIkJ,IAAI,KAAK,MAAb,EAAqB;AACjB,aAAOrH,WAAW,CAAC7B,CAAD,CAAlB;AACH;;AACD,QAAIkJ,IAAI,KAAK,QAAb,EAAuB;AACnB,aAAOnH,aAAa,CAAC/B,CAAD,CAApB;AACH;;AACD,QAAIkJ,IAAI,KAAK,QAAb,EAAuB;AACnB,aAAOjH,aAAa,CAACjC,CAAD,CAApB;AACH;;AACD,WAAO,IAAP;AACH,GAvBD;;AAwBA63B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBumC,WAAlB,GAAgC,UAAU34B,CAAV,EAAa;AACzC,WAAO,KAAK6P,cAAL,CAAoB4nB,aAApB,CAAkC,CACrC,KAAK5nB,cAAL,CAAoB2C,aAApB,CAAkCxS,CAAlC,CADqC,CAAlC,CAAP;AAGH,GAJD;;AAKA63B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBwmC,YAAlB,GAAiC,UAAU54B,CAAV,EAAa;AAC1C,WAAO,KAAK6P,cAAL,CAAoB4nB,aAApB,CAAkC,CACrC,KAAK5nB,cAAL,CAAoB2C,aAApB,CAAkCxS,CAAlC,CADqC,EAErC,KAAK6P,cAAL,CAAoB4C,cAApB,CAAmCzS,CAAnC,CAFqC,CAAlC,CAAP;AAIH,GALD;;AAMA63B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBymC,WAAlB,GAAgC,UAAU74B,CAAV,EAAa;AACzC,WAAO,KAAK6P,cAAL,CAAoB4nB,aAApB,CAAkC,CACrC,KAAK5nB,cAAL,CAAoB2C,aAApB,CAAkCxS,CAAlC,CADqC,EAErC,KAAK6P,cAAL,CAAoB4C,cAApB,CAAmCzS,CAAnC,CAFqC,EAGrCA,CAAC,CAAC4B,UAAF,KAAkB,CAAC5B,CAAC,CAACmD,SAAF,KAAgB,KAAK80B,OAArB,GAA+B,CAAhC,IAAqC,CAHlB,CAAlC,CAAP;AAKH,GAND,CAlOqC,CAyOrC;;;AACAJ,EAAAA,OAAO,CAACzlC,SAAR,CAAkB0e,iBAAlB,GAAsC,UAAU1O,MAAV,EAAkB;AACpD,QAAI,KAAK+1B,cAAT,EAAyB;AACrB,aAAO,KAAKA,cAAL,CAAoB,KAAK5L,MAAL,CAAYnqB,MAAZ,CAApB,CAAP;AACH;;AACD,WAAOD,UAAU,CAACC,MAAD,EAAS,KAAK61B,OAAd,EAAuB,KAAKC,OAA5B,CAAjB;AACH,GALD,CA1OqC,CAgPrC;;;AACAL,EAAAA,OAAO,CAACzlC,SAAR,CAAkBuG,MAAlB,GAA2B,UAAUyJ,MAAV,EAAkB+wB,SAAlB,EAA6B2F,WAA7B,EAA0C;AACjE,QAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,MAAAA,WAAW,GAAG,EAAd;AAAmB;;AACjD,WAAO3F,SAAS,CAACx6B,MAAV,CAAiB;AACpByJ,MAAAA,MAAM,EAAEA,MADY;AAEpBsJ,MAAAA,cAAc,EAAEotB,WAAW,CAAC9T,SAAZ,IAAyB,IAAzB,GACZ8T,WAAW,CAAC9T,SADA,GAEZ,KAAK+T,eAAL,CAAqB32B,MAArB;AAJgB,KAAjB,EAKJ,IALI,CAAP;AAMH,GARD;;AASAy1B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBqd,WAAlB,GAAgC,UAAUjH,KAAV,EAAiBC,GAAjB,EAAsB0qB,SAAtB,EAAiC2F,WAAjC,EAA8C;AAC1E,QAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,MAAAA,WAAW,GAAG,EAAd;AAAmB;;AACjD,QAAIA,WAAW,CAACE,cAAhB,EAAgC;AAC5BvwB,MAAAA,GAAG,GAAGrI,KAAK,CAACqI,GAAD,EAAM,CAAC,CAAP,CAAX;AACH;;AACD,WAAO0qB,SAAS,CAAC1jB,WAAV,CAAsB;AACzBrN,MAAAA,MAAM,EAAEoG,KADiB;AAEzBkD,MAAAA,cAAc,EAAEotB,WAAW,CAACv0B,cAAZ,IAA8B,IAA9B,GACZu0B,WAAW,CAACv0B,cADA,GAEZ,KAAKw0B,eAAL,CAAqBvwB,KAArB;AAJqB,KAAtB,EAKJ;AACCpG,MAAAA,MAAM,EAAEqG,GADT;AAECiD,MAAAA,cAAc,EAAEotB,WAAW,CAACt0B,YAAZ,IAA4B,IAA5B,GACZs0B,WAAW,CAACt0B,YADA,GAEZ,KAAKu0B,eAAL,CAAqBtwB,GAArB;AAJL,KALI,EAUJ,IAVI,EAUEqwB,WAAW,CAACtoB,gBAVd,CAAP;AAWH,GAhBD;AAiBA;AACJ;AACA;AACA;;;AACIqnB,EAAAA,OAAO,CAACzlC,SAAR,CAAkBq6B,SAAlB,GAA8B,UAAUrqB,MAAV,EAAkB62B,YAAlB,EAAgC;AAC1D,QAAIA,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,MAAAA,YAAY,GAAG,EAAf;AAAoB;;AACnD,QAAIvtB,cAAc,GAAG,IAArB;;AACA,QAAI,CAACutB,YAAY,CAACC,kBAAlB,EAAsC;AAClC,UAAID,YAAY,CAACjU,SAAb,IAA0B,IAA9B,EAAoC;AAChCtZ,QAAAA,cAAc,GAAGutB,YAAY,CAACjU,SAA9B;AACH,OAFD,MAGK;AACDtZ,QAAAA,cAAc,GAAG,KAAKqtB,eAAL,CAAqB32B,MAArB,CAAjB;AACH;AACJ;;AACD,WAAOqJ,cAAc,CAACrJ,MAAD,EAASsJ,cAAT,EAAyButB,YAAY,CAAC3M,QAAtC,CAArB;AACH,GAZD,CA/QqC,CA4RrC;;;AACAuL,EAAAA,OAAO,CAACzlC,SAAR,CAAkBgmC,iBAAlB,GAAsC,UAAUnuB,EAAV,EAAc;AAChD,QAAI,KAAKkH,QAAL,KAAkB,OAAtB,EAA+B;AAC3B,aAAOjR,cAAc,CAACkD,gBAAgB,CAAC,IAAI1Q,IAAJ,CAASuX,EAAT,CAAD,CAAjB,CAArB;AACH;;AACD,QAAI,KAAKkH,QAAL,KAAkB,KAAlB,IAA2B,CAAC,KAAK4mB,iBAArC,EAAwD;AACpD,aAAO,IAAIrlC,IAAJ,CAASuX,EAAT,CAAP;AACH;;AACD,WAAO/J,cAAc,CAAC,KAAK63B,iBAAL,CAAuBoB,gBAAvB,CAAwClvB,EAAxC,CAAD,CAArB;AACH,GARD;;AASA4tB,EAAAA,OAAO,CAACzlC,SAAR,CAAkB2mC,eAAlB,GAAoC,UAAU/4B,CAAV,EAAa;AAC7C,QAAI,KAAKmR,QAAL,KAAkB,OAAtB,EAA+B;AAC3B,aAAO,CAACtN,gBAAgB,CAAC5D,cAAc,CAACD,CAAD,CAAf,CAAhB,CAAoCo5B,iBAApC,EAAR,CAD2B,CACsC;AACpE;;AACD,QAAI,KAAKjoB,QAAL,KAAkB,KAAtB,EAA6B;AACzB,aAAO,CAAP;AACH;;AACD,QAAI,KAAK4mB,iBAAT,EAA4B;AACxB,aAAO,KAAKA,iBAAL,CAAuBsB,cAAvB,CAAsCp5B,cAAc,CAACD,CAAD,CAApD,CAAP;AACH;;AACD,WAAO,IAAP;AACH,GAXD,CAtSqC,CAkTrC;;;AACA63B,EAAAA,OAAO,CAACzlC,SAAR,CAAkBm6B,MAAlB,GAA2B,UAAUvsB,CAAV,EAAaglB,SAAb,EAAwB;AAC/C,QAAI,KAAK7T,QAAL,KAAkB,OAAtB,EAA+B;AAC3B,aAAOtN,gBAAgB,CAAC5D,cAAc,CAACD,CAAD,CAAf,CAAvB;AACH;;AACD,QAAI,KAAKmR,QAAL,KAAkB,KAAtB,EAA6B;AACzB,aAAO,IAAIze,IAAJ,CAASsN,CAAC,CAACrN,OAAF,EAAT,CAAP,CADyB,CACK;AACjC;;AACD,QAAI,CAAC,KAAKolC,iBAAV,EAA6B;AACzB,aAAO,IAAIrlC,IAAJ,CAASsN,CAAC,CAACrN,OAAF,MAAeqyB,SAAS,IAAI,CAA5B,CAAT,CAAP;AACH;;AACD,WAAO,IAAItyB,IAAJ,CAASsN,CAAC,CAACrN,OAAF,KACZ,KAAKolC,iBAAL,CAAuBsB,cAAvB,CAAsCp5B,cAAc,CAACD,CAAD,CAApD,IAA2D,IAA3D,GAAkE,EAD/D,CAAP;AAEH,GAZD;;AAaA,SAAO63B,OAAP;AACH,CAjU4B,EAA7B;;AAmUA,IAAIyB,aAAa,GAAG,EAApB;AAEA,IAAIC,aAAa,GAAG;AAChBC,EAAAA,IAAI,EAAE,IADU;AAEhBrvB,EAAAA,IAAI,EAAE;AACF9H,IAAAA,GAAG,EAAE,CADH;AAEFC,IAAAA,GAAG,EAAE,CAFH,CAEM;;AAFN,GAFU;AAMhB8P,EAAAA,SAAS,EAAE,KANK;AAOhB4M,EAAAA,UAAU,EAAE;AACRsT,IAAAA,IAAI,EAAE,MADE;AAERC,IAAAA,IAAI,EAAE,MAFE;AAGRC,IAAAA,QAAQ,EAAE,WAHF;AAIRE,IAAAA,QAAQ,EAAE,WAJF;AAKR9vB,IAAAA,IAAI,EAAE,MALE;AAMR+vB,IAAAA,KAAK,EAAE,OANC;AAORnpB,IAAAA,KAAK,EAAE,OAPC;AAQRW,IAAAA,IAAI,EAAE,MARE;AASRV,IAAAA,GAAG,EAAE,KATG;AAURgwB,IAAAA,IAAI,EAAE;AAVE,GAPI;AAmBhB1oB,EAAAA,QAAQ,EAAE,GAnBM;AAoBhBsK,EAAAA,UAAU,EAAE,SApBI;AAqBhBS,EAAAA,YAAY,EAAE,MArBE;AAsBhBqB,EAAAA,YAAY,EAAE;AAtBE,CAApB;;AAwBA,SAASuc,kBAAT,CAA4BC,kBAA5B,EAAgD;AAC5C,MAAIC,WAAW,GAAGD,kBAAkB,CAACz/B,MAAnB,GAA4B,CAA5B,GAAgCy/B,kBAAkB,CAAC,CAAD,CAAlB,CAAsBH,IAAtD,GAA6D,IAA/E;AACA,MAAIK,aAAa,GAAGP,aAAa,CAACv1B,MAAd,CAAqB41B,kBAArB,CAApB;AACA,MAAIG,YAAY,GAAG;AACfC,IAAAA,EAAE,EAAER,aADW,CACI;;AADJ,GAAnB;;AAGA,OAAK,IAAI/zB,EAAE,GAAG,CAAT,EAAYw0B,eAAe,GAAGH,aAAnC,EAAkDr0B,EAAE,GAAGw0B,eAAe,CAAC9/B,MAAvE,EAA+EsL,EAAE,EAAjF,EAAqF;AACjF,QAAIy0B,SAAS,GAAGD,eAAe,CAACx0B,EAAD,CAA/B;AACAs0B,IAAAA,YAAY,CAACG,SAAS,CAACT,IAAX,CAAZ,GAA+BS,SAA/B;AACH;;AACD,SAAO;AACHxnC,IAAAA,GAAG,EAAEqnC,YADF;AAEHF,IAAAA,WAAW,EAAEA;AAFV,GAAP;AAIH;;AACD,SAASM,WAAT,CAAqBC,aAArB,EAAoCC,SAApC,EAA+C;AAC3C,MAAI,OAAOD,aAAP,KAAyB,QAAzB,IAAqC,CAAC5nC,KAAK,CAACC,OAAN,CAAc2nC,aAAd,CAA1C,EAAwE;AACpE,WAAOE,WAAW,CAACF,aAAa,CAACX,IAAf,EAAqB,CAACW,aAAa,CAACX,IAAf,CAArB,EAA2CW,aAA3C,CAAlB;AACH;;AACD,SAAOG,WAAW,CAACH,aAAD,EAAgBC,SAAhB,CAAlB;AACH;;AACD,SAASE,WAAT,CAAqBC,OAArB,EAA8BH,SAA9B,EAAyC;AACrC,MAAI7oB,KAAK,GAAG,GAAGxN,MAAH,CAAUw2B,OAAO,IAAI,EAArB,CAAZ,CADqC,CACC;;AACtC,MAAIpa,GAAG,GAAGqa,cAAc,CAACjpB,KAAD,EAAQ6oB,SAAR,CAAd,IAAoCb,aAA9C;AACA,SAAOc,WAAW,CAACE,OAAD,EAAUhpB,KAAV,EAAiB4O,GAAjB,CAAlB;AACH;;AACD,SAASqa,cAAT,CAAwBjpB,KAAxB,EAA+B6oB,SAA/B,EAA0C;AACtC,OAAK,IAAIngC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsX,KAAK,CAACrX,MAA1B,EAAkCD,CAAC,IAAI,CAAvC,EAA0C;AACtC,QAAIiY,KAAK,GAAGX,KAAK,CAACtX,CAAD,CAAL,CAAS4X,iBAAT,GAA6B9T,KAA7B,CAAmC,GAAnC,CAAZ;;AACA,SAAK,IAAI3D,CAAC,GAAG8X,KAAK,CAAChY,MAAnB,EAA2BE,CAAC,GAAG,CAA/B,EAAkCA,CAAC,IAAI,CAAvC,EAA0C;AACtC,UAAIqgC,QAAQ,GAAGvoB,KAAK,CAACnf,KAAN,CAAY,CAAZ,EAAeqH,CAAf,EAAkBkY,IAAlB,CAAuB,GAAvB,CAAf;;AACA,UAAI8nB,SAAS,CAACK,QAAD,CAAb,EAAyB;AACrB,eAAOL,SAAS,CAACK,QAAD,CAAhB;AACH;AACJ;AACJ;;AACD,SAAO,IAAP;AACH;;AACD,SAASJ,WAAT,CAAqBE,OAArB,EAA8BhpB,KAA9B,EAAqC4O,GAArC,EAA0C;AACtC,MAAIua,MAAM,GAAGh2B,UAAU,CAAC,CAAC60B,aAAD,EAAgBpZ,GAAhB,CAAD,EAAuB,CAAC,YAAD,CAAvB,CAAvB;AACA,SAAOua,MAAM,CAAClB,IAAd,CAFsC,CAElB;;AACpB,MAAIrvB,IAAI,GAAGuwB,MAAM,CAACvwB,IAAlB;AACA,SAAOuwB,MAAM,CAACvwB,IAAd;AACA,SAAO;AACHowB,IAAAA,OAAO,EAAEA,OADN;AAEHhpB,IAAAA,KAAK,EAAEA,KAFJ;AAGHpH,IAAAA,IAAI,EAAEA,IAHH;AAIHgI,IAAAA,kBAAkB,EAAE,IAAId,IAAI,CAACspB,YAAT,CAAsBJ,OAAtB,CAJjB;AAKHxmC,IAAAA,OAAO,EAAE2mC;AALN,GAAP;AAOH;;AAED,SAASxH,UAAT,CAAoB0H,SAApB,EAA+B7mC,OAA/B,EAAwC;AACpC,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,IAAAA,OAAO,GAAG,EAAV;AAAe;;AACzC,MAAIkT,OAAO,GAAG4zB,cAAc,CAAC9mC,OAAD,CAA5B;AACA,MAAIo/B,SAAS,GAAGlf,eAAe,CAAClgB,OAAD,CAA/B;AACA,MAAI+mC,QAAQ,GAAG7zB,OAAO,CAAC6d,gBAAR,CAAyB8V,SAAzB,CAAf;;AACA,MAAI,CAACE,QAAL,EAAe;AAAE;AACb,WAAO,EAAP;AACH;;AACD,SAAO7zB,OAAO,CAACtO,MAAR,CAAemiC,QAAQ,CAAC14B,MAAxB,EAAgC+wB,SAAhC,EAA2C;AAC9CnO,IAAAA,SAAS,EAAE8V,QAAQ,CAAC9V;AAD0B,GAA3C,CAAP;AAGH;;AACD,SAASvV,WAAT,CAAqBoV,UAArB,EAAiCoR,QAAjC,EAA2CliC,OAA3C,EAAoD;AAChD,MAAIkT,OAAO,GAAG4zB,cAAc,CAAC,OAAO9mC,OAAP,KAAmB,QAAnB,IAA+BA,OAA/B,GAAyCA,OAAzC,GAAmD,EAApD,CAA5B,CADgD,CACqC;;AACrF,MAAIo/B,SAAS,GAAGlf,eAAe,CAAClgB,OAAD,CAA/B;AACA,MAAI0wB,SAAS,GAAGxd,OAAO,CAAC6d,gBAAR,CAAyBD,UAAzB,CAAhB;AACA,MAAIF,OAAO,GAAG1d,OAAO,CAAC6d,gBAAR,CAAyBmR,QAAzB,CAAd;;AACA,MAAI,CAACxR,SAAD,IAAc,CAACE,OAAnB,EAA4B;AAAE;AAC1B,WAAO,EAAP;AACH;;AACD,SAAO1d,OAAO,CAACwI,WAAR,CAAoBgV,SAAS,CAACriB,MAA9B,EAAsCuiB,OAAO,CAACviB,MAA9C,EAAsD+wB,SAAtD,EAAiE;AACpE5uB,IAAAA,cAAc,EAAEkgB,SAAS,CAACO,SAD0C;AAEpExgB,IAAAA,YAAY,EAAEmgB,OAAO,CAACK,SAF8C;AAGpEgU,IAAAA,cAAc,EAAEjlC,OAAO,CAACilC,cAH4C;AAIpExoB,IAAAA,gBAAgB,EAAEiN,oBAAoB,CAACvI;AAJ6B,GAAjE,CAAP;AAMH,EACD;;;AACA,SAAS2lB,cAAT,CAAwBzH,QAAxB,EAAkC;AAC9B,MAAIpiB,MAAM,GAAGkpB,WAAW,CAAC9G,QAAQ,CAACpiB,MAAT,IAAmB,IAApB,EAA0B0oB,kBAAkB,CAAC,EAAD,CAAlB,CAAuBjnC,GAAjD,CAAxB,CAD8B,CACiD;;AAC/E,SAAO,IAAIolC,OAAJ,CAAY1gC,+CAAQ,CAACA,+CAAQ,CAAC;AAAEga,IAAAA,QAAQ,EAAEsM,oBAAoB,CAACtM,QAAjC;AAA2CtB,IAAAA,cAAc,EAAE;AAA3D,GAAD,EAAyEujB,QAAzE,CAAT,EAA6F;AAAEpiB,IAAAA,MAAM,EAAEA;AAAV,GAA7F,CAApB,CAAP;AACH;;AAED,IAAI+pB,YAAY,GAAG;AACfC,EAAAA,SAAS,EAAE,OADI;AAEfC,EAAAA,OAAO,EAAE,OAFM;AAGfC,EAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHG;AAIfjpB,EAAAA,OAAO,EAAE,oBAJM;AAKfyN,EAAAA,UAAU,EAAE,iBALG;AAMf6B,EAAAA,OAAO,EAAE,gBANM,CAMY;;AANZ,CAAnB;AAQA;AACA;AACA;;AACA,SAAS4Z,kBAAT,CAA4B7oC,KAA5B,EAAmCsF,OAAnC,EAA4C;AACxC,SAAOwoB,WAAW,CAACgb,YAAY,CAAC9oC,KAAD,CAAb,EAAsB,IAAtB,EAA4BsF,OAA5B,CAAlB;AACH;;AACD,SAASwjC,YAAT,CAAsB9oC,KAAtB,EAA6B;AACzB,MAAI+oC,OAAJ;;AACA,MAAI/oC,KAAK,KAAK,IAAd,EAAoB;AAChB+oC,IAAAA,OAAO,GAAG,CAAC,EAAD,CAAV,CADgB,CACA;AACnB,GAFD,MAGK,IAAI9oC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AAC3B;AACA+oC,IAAAA,OAAO,GAAG/oC,KAAK,CAACgpC,MAAN,CAAa,UAAUC,MAAV,EAAkB;AAAE,aAAOA,MAAM,CAACL,UAAd;AAA2B,KAA5D,CAAV;AACH,GAHI,MAIA,IAAI,OAAO5oC,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AAC3C+oC,IAAAA,OAAO,GAAG,CAAC/oC,KAAD,CAAV;AACH,GAFI,MAGA;AAAE;AACH+oC,IAAAA,OAAO,GAAG,EAAV;AACH;;AACDA,EAAAA,OAAO,GAAGA,OAAO,CAAC5oC,GAAR,CAAY,UAAU8oC,MAAV,EAAkB;AAAE,WAAQpkC,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK4jC,YAAL,CAAT,EAA6BQ,MAA7B,CAAhB;AAAwD,GAAxF,CAAV;AACA,SAAOF,OAAP;AACH;;AAED,SAASG,eAAT,CAAyBC,KAAzB,EAAgCC,IAAhC,EAAsC;AAClC,SAAOD,KAAK,CAACE,IAAN,IAAcD,IAAI,CAACC,IAAnB,IACHF,KAAK,CAACE,IAAN,GAAaD,IAAI,CAACE,KADf,IAEHH,KAAK,CAACI,GAAN,IAAaH,IAAI,CAACG,GAFf,IAGHJ,KAAK,CAACI,GAAN,GAAYH,IAAI,CAACI,MAHrB;AAIH,EACD;;;AACA,SAASC,cAAT,CAAwBC,KAAxB,EAA+BC,KAA/B,EAAsC;AAClC,MAAIp1B,GAAG,GAAG;AACN80B,IAAAA,IAAI,EAAEx6B,IAAI,CAACoO,GAAL,CAASysB,KAAK,CAACL,IAAf,EAAqBM,KAAK,CAACN,IAA3B,CADA;AAENC,IAAAA,KAAK,EAAEz6B,IAAI,CAACwB,GAAL,CAASq5B,KAAK,CAACJ,KAAf,EAAsBK,KAAK,CAACL,KAA5B,CAFD;AAGNC,IAAAA,GAAG,EAAE16B,IAAI,CAACoO,GAAL,CAASysB,KAAK,CAACH,GAAf,EAAoBI,KAAK,CAACJ,GAA1B,CAHC;AAINC,IAAAA,MAAM,EAAE36B,IAAI,CAACwB,GAAL,CAASq5B,KAAK,CAACF,MAAf,EAAuBG,KAAK,CAACH,MAA7B;AAJF,GAAV;;AAMA,MAAIj1B,GAAG,CAAC80B,IAAJ,GAAW90B,GAAG,CAAC+0B,KAAf,IAAwB/0B,GAAG,CAACg1B,GAAJ,GAAUh1B,GAAG,CAACi1B,MAA1C,EAAkD;AAC9C,WAAOj1B,GAAP;AACH;;AACD,SAAO,KAAP;AACH;;AACD,SAASq1B,aAAT,CAAuBR,IAAvB,EAA6BS,MAA7B,EAAqCC,MAArC,EAA6C;AACzC,SAAO;AACHT,IAAAA,IAAI,EAAED,IAAI,CAACC,IAAL,GAAYQ,MADf;AAEHP,IAAAA,KAAK,EAAEF,IAAI,CAACE,KAAL,GAAaO,MAFjB;AAGHN,IAAAA,GAAG,EAAEH,IAAI,CAACG,GAAL,GAAWO,MAHb;AAIHN,IAAAA,MAAM,EAAEJ,IAAI,CAACI,MAAL,GAAcM;AAJnB,GAAP;AAMH,EACD;;;AACA,SAASC,cAAT,CAAwBZ,KAAxB,EAA+BC,IAA/B,EAAqC;AACjC,SAAO;AACHC,IAAAA,IAAI,EAAEx6B,IAAI,CAACwB,GAAL,CAASxB,IAAI,CAACoO,GAAL,CAASksB,KAAK,CAACE,IAAf,EAAqBD,IAAI,CAACC,IAA1B,CAAT,EAA0CD,IAAI,CAACE,KAA/C,CADH;AAEHC,IAAAA,GAAG,EAAE16B,IAAI,CAACwB,GAAL,CAASxB,IAAI,CAACoO,GAAL,CAASksB,KAAK,CAACI,GAAf,EAAoBH,IAAI,CAACG,GAAzB,CAAT,EAAwCH,IAAI,CAACI,MAA7C;AAFF,GAAP;AAIH,EACD;;;AACA,SAASQ,aAAT,CAAuBZ,IAAvB,EAA6B;AACzB,SAAO;AACHC,IAAAA,IAAI,EAAE,CAACD,IAAI,CAACC,IAAL,GAAYD,IAAI,CAACE,KAAlB,IAA2B,CAD9B;AAEHC,IAAAA,GAAG,EAAE,CAACH,IAAI,CAACG,GAAL,GAAWH,IAAI,CAACI,MAAjB,IAA2B;AAF7B,GAAP;AAIH,EACD;;;AACA,SAASS,UAAT,CAAoBC,MAApB,EAA4BC,MAA5B,EAAoC;AAChC,SAAO;AACHd,IAAAA,IAAI,EAAEa,MAAM,CAACb,IAAP,GAAcc,MAAM,CAACd,IADxB;AAEHE,IAAAA,GAAG,EAAEW,MAAM,CAACX,GAAP,GAAaY,MAAM,CAACZ;AAFtB,GAAP;AAIH;;AAED,IAAIa,kBAAJ;;AACA,SAASC,qBAAT,GAAiC;AAC7B,MAAID,kBAAkB,IAAI,IAA1B,EAAgC;AAC5BA,IAAAA,kBAAkB,GAAGE,yBAAyB,EAA9C;AACH;;AACD,SAAOF,kBAAP;AACH;;AACD,SAASE,yBAAT,GAAqC;AACjC;AACA;AACA,MAAI,OAAO1jC,QAAP,KAAoB,WAAxB,EAAqC;AACjC,WAAO,IAAP;AACH;;AACD,MAAIL,EAAE,GAAGK,QAAQ,CAAC1B,aAAT,CAAuB,KAAvB,CAAT;AACAqB,EAAAA,EAAE,CAACoC,KAAH,CAAS4hC,QAAT,GAAoB,UAApB;AACAhkC,EAAAA,EAAE,CAACoC,KAAH,CAAS4gC,GAAT,GAAe,KAAf;AACAhjC,EAAAA,EAAE,CAACoC,KAAH,CAAS0gC,IAAT,GAAgB,KAAhB;AACA9iC,EAAAA,EAAE,CAACikC,SAAH,GAAe,8CAAf;AACAjkC,EAAAA,EAAE,CAAC4G,aAAH,CAAiB,OAAjB,EAA0BxE,KAA1B,CAAgCod,MAAhC,GAAyC,OAAzC;AACAxf,EAAAA,EAAE,CAAC4G,aAAH,CAAiB,KAAjB,EAAwBxE,KAAxB,CAA8Bod,MAA9B,GAAuC,MAAvC;AACAnf,EAAAA,QAAQ,CAACiE,IAAT,CAAc4/B,WAAd,CAA0BlkC,EAA1B;AACA,MAAImkC,GAAG,GAAGnkC,EAAE,CAAC4G,aAAH,CAAiB,KAAjB,CAAV;AACA,MAAIw9B,QAAQ,GAAGD,GAAG,CAACE,YAAJ,GAAmB,CAAlC;AACAhkC,EAAAA,QAAQ,CAACiE,IAAT,CAAcpE,WAAd,CAA0BF,EAA1B;AACA,SAAOokC,QAAP;AACH;;AAED,IAAIE,iBAAiB,GAAG3c,qBAAqB,EAA7C,EAAiD;;AACjD,IAAI4c,QAAQ;AAAG;AAAe,YAAY;AACtC,WAASA,QAAT,GAAoB;AAChB,SAAKC,mBAAL,GAA2BxwB,OAAO,CAAC,KAAKywB,oBAAN,CAAlC;AACA,SAAKC,kBAAL,GAA0B1wB,OAAO,CAAC,KAAK2wB,cAAN,CAAjC;AACA,SAAKC,eAAL,GAAuB5wB,OAAO,CAAC,KAAK6wB,gBAAN,CAA9B;AACA,SAAKC,iBAAL,GAAyB9wB,OAAO,CAAC,KAAK+wB,kBAAN,CAAhC;AACA,SAAKC,cAAL,GAAsBhxB,OAAO,CAAC,KAAKixB,iBAAN,CAA7B;AACA,SAAKC,gBAAL,GAAwBlxB,OAAO,CAAC,KAAKixB,iBAAN,CAA/B;AACA,SAAKE,eAAL,GAAuB,EAAvB,CAPgB,CAOW;AAC9B;;AACDZ,EAAAA,QAAQ,CAAChrC,SAAT,CAAmB6rC,UAAnB,GAAgC,UAAUpjC,KAAV,EAAiB;AAC7C,QAAIyS,KAAK,GAAG,IAAZ;;AACA,QAAI4wB,QAAQ,GAAG,KAAKC,UAAL,CAAgBtjC,KAAhB,CAAf;AACA,QAAIujC,OAAO,GAAG,KAAKf,mBAAL,CAAyBxiC,KAAK,CAAC8M,UAA/B,CAAd;AACA,QAAI02B,cAAc,GAAG,KAAKd,kBAAL,CAAwB1iC,KAAK,CAAC24B,aAA9B,CAArB;AACA,QAAI8K,YAAY,GAAG,KAAKX,iBAAL,CAAuB9iC,KAAK,CAACusB,YAA7B,EAA2CgX,OAA3C,CAAnB,CAL6C,CAK2B;;AACxE,QAAIG,WAAW,GAAG,KAAKd,eAAL,CAAqB5iC,KAAK,CAAC8M,UAA3B,EAAuCy2B,OAAvC,CAAlB;AACA,QAAII,UAAU,GAAG,KAAKX,cAAL,CAAoBhjC,KAAK,CAAC4jC,SAA1B,CAAjB;AACA,QAAIC,YAAY,GAAG,KAAKX,gBAAL,CAAsBljC,KAAK,CAAC8jC,WAA5B,CAAnB;AACA,QAAIV,UAAU,GAAG,EAAjB;AACA,SAAKD,eAAL,GAAuBprC,OAAO,CAACsrC,QAAD,EAAW,UAAUU,IAAV,EAAgBxrC,GAAhB,EAAqB;AAAE,aAAOka,KAAK,CAAC0wB,eAAN,CAAsB5qC,GAAtB,KAA8ByZ,OAAO,CAACgyB,kBAAD,CAA5C;AAAmE,KAArG,CAA9B;;AACA,SAAK,IAAIzrC,GAAT,IAAgB8qC,QAAhB,EAA0B;AACtB,UAAIY,OAAO,GAAGZ,QAAQ,CAAC9qC,GAAD,CAAtB;AACA,UAAIuU,UAAU,GAAG42B,WAAW,CAACnrC,GAAD,CAAX,IAAoB+pC,iBAArC;AACA,UAAI4B,YAAY,GAAG,KAAKf,eAAL,CAAqB5qC,GAArB,CAAnB;AACA6qC,MAAAA,UAAU,CAAC7qC,GAAD,CAAV,GAAkB;AACdwlB,QAAAA,aAAa,EAAEkmB,OAAO,CAAClmB,aAAR,IAAyB/d,KAAK,CAAC+d,aADhC;AAEd4a,QAAAA,aAAa,EAAE6K,cAAc,CAACjrC,GAAD,CAAd,IAAuB,IAFxB;AAGduU,QAAAA,UAAU,EAAEA,UAHE;AAIdyf,QAAAA,YAAY,EAAE2X,YAAY,CAAClkC,KAAK,CAACusB,YAAN,CAAmB,EAAnB,CAAD,EAAyB0X,OAAO,CAACza,EAAjC,EAAqCia,YAAY,CAAClrC,GAAD,CAAjD,CAJZ;AAKd4rC,QAAAA,cAAc,EAAEr3B,UAAU,CAACI,SAAX,CAAqBlN,KAAK,CAACmkC,cAA3B,IAA6CnkC,KAAK,CAACmkC,cAAnD,GAAoE,EALtE;AAMdP,QAAAA,SAAS,EAAED,UAAU,CAACprC,GAAD,CAAV,IAAmB,IANhB;AAOdurC,QAAAA,WAAW,EAAED,YAAY,CAACtrC,GAAD,CAAZ,IAAqB;AAPpB,OAAlB;AASH;;AACD,WAAO6qC,UAAP;AACH,GA1BD;;AA2BAb,EAAAA,QAAQ,CAAChrC,SAAT,CAAmBorC,cAAnB,GAAoC,UAAU5Q,QAAV,EAAoB;AACpD,QAAIqS,SAAS,GAAG,EAAhB;;AACA,QAAIrS,QAAJ,EAAc;AACV,UAAIn4B,IAAI,GAAG,KAAKyqC,kBAAL,CAAwBtS,QAAxB,CAAX;;AACA,WAAK,IAAIpnB,EAAE,GAAG,CAAT,EAAY25B,MAAM,GAAG1qC,IAA1B,EAAgC+Q,EAAE,GAAG25B,MAAM,CAACjlC,MAA5C,EAAoDsL,EAAE,EAAtD,EAA0D;AACtD,YAAIpS,GAAG,GAAG+rC,MAAM,CAAC35B,EAAD,CAAhB;AACAy5B,QAAAA,SAAS,CAAC7rC,GAAD,CAAT,GAAiBw5B,QAAjB;AACH;AACJ;;AACD,WAAOqS,SAAP;AACH,GAVD;;AAWA7B,EAAAA,QAAQ,CAAChrC,SAAT,CAAmBkrC,oBAAnB,GAA0C,UAAU31B,UAAV,EAAsB;AAC5D,QAAI2F,KAAK,GAAG,IAAZ;;AACA,WAAO1a,OAAO,CAAC+U,UAAU,CAACG,IAAZ,EAAkB,UAAUY,QAAV,EAAoB;AAAE,aAAO4E,KAAK,CAAC8xB,kBAAN,CAAyB12B,QAAzB,CAAP;AAA4C,KAApF,CAAd;AACH,GAHD;;AAIA00B,EAAAA,QAAQ,CAAChrC,SAAT,CAAmBsrC,gBAAnB,GAAsC,UAAU/1B,UAAV,EAAsBy2B,OAAtB,EAA+B;AACjE,QAAIt2B,IAAI,GAAGH,UAAU,CAACG,IAAtB;AAAA,QAA4BC,SAAS,GAAGJ,UAAU,CAACI,SAAnD;AACA,QAAIs3B,WAAW,GAAG,EAAlB;;AACA,SAAK,IAAIh7B,KAAT,IAAkByD,IAAlB,EAAwB;AACpB,WAAK,IAAItC,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG+iC,OAAO,CAAC/5B,KAAD,CAA7B,EAAsCmB,EAAE,GAAGnK,EAAE,CAACnB,MAA9C,EAAsDsL,EAAE,EAAxD,EAA4D;AACxD,YAAIpS,GAAG,GAAGiI,EAAE,CAACmK,EAAD,CAAZ;;AACA,YAAI,CAAC65B,WAAW,CAACjsC,GAAD,CAAhB,EAAuB;AACnBisC,UAAAA,WAAW,CAACjsC,GAAD,CAAX,GAAmBotB,qBAAqB,EAAxC;AACH;;AACD6e,QAAAA,WAAW,CAACjsC,GAAD,CAAX,CAAiB0U,IAAjB,CAAsBzD,KAAtB,IAA+ByD,IAAI,CAACzD,KAAD,CAAnC;AACH;AACJ;;AACD,SAAK,IAAII,UAAT,IAAuBsD,SAAvB,EAAkC;AAC9B,UAAIC,QAAQ,GAAGD,SAAS,CAACtD,UAAD,CAAxB;;AACA,WAAK,IAAInJ,EAAE,GAAG,CAAT,EAAYgkC,EAAE,GAAGlB,OAAO,CAACp2B,QAAQ,CAAC3D,KAAV,CAA7B,EAA+C/I,EAAE,GAAGgkC,EAAE,CAACplC,MAAvD,EAA+DoB,EAAE,EAAjE,EAAqE;AACjE,YAAIlI,GAAG,GAAGksC,EAAE,CAAChkC,EAAD,CAAZ;;AACA,YAAI+jC,WAAW,CAACjsC,GAAD,CAAf,EAAsB;AAAE;AACpBisC,UAAAA,WAAW,CAACjsC,GAAD,CAAX,CAAiB2U,SAAjB,CAA2BtD,UAA3B,IAAyCuD,QAAzC;AACH;AACJ;AACJ;;AACD,WAAOq3B,WAAP;AACH,GAtBD;;AAuBAjC,EAAAA,QAAQ,CAAChrC,SAAT,CAAmBwrC,kBAAnB,GAAwC,UAAUxW,YAAV,EAAwBgX,OAAxB,EAAiC;AACrE,QAAImB,WAAW,GAAG,EAAlB;;AACA,SAAK,IAAIl7B,KAAT,IAAkB+iB,YAAlB,EAAgC;AAC5B,UAAI/iB,KAAJ,EAAW;AAAE;AACT,aAAK,IAAImB,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG+iC,OAAO,CAAC/5B,KAAD,CAA7B,EAAsCmB,EAAE,GAAGnK,EAAE,CAACnB,MAA9C,EAAsDsL,EAAE,EAAxD,EAA4D;AACxD,cAAIpS,GAAG,GAAGiI,EAAE,CAACmK,EAAD,CAAZ;;AACA,cAAI,CAAC+5B,WAAW,CAACnsC,GAAD,CAAhB,EAAuB;AACnBmsC,YAAAA,WAAW,CAACnsC,GAAD,CAAX,GAAmB,EAAnB;AACH;;AACDmsC,UAAAA,WAAW,CAACnsC,GAAD,CAAX,CAAiBiR,KAAjB,IAA0B+iB,YAAY,CAAC/iB,KAAD,CAAtC;AACH;AACJ;AACJ;;AACD,WAAOk7B,WAAP;AACH,GAdD;;AAeAnC,EAAAA,QAAQ,CAAChrC,SAAT,CAAmB0rC,iBAAnB,GAAuC,UAAU0B,WAAV,EAAuB;AAC1D,QAAIC,WAAW,GAAG,EAAlB;;AACA,QAAID,WAAJ,EAAiB;AACb,UAAIE,gBAAgB,GAAG,KAAKhC,gBAAL,CAAsB8B,WAAW,CAACG,cAAlC,EAAkD,KAAKrC,oBAAL,CAA0BkC,WAAW,CAACG,cAAtC,CAAlD,CAAvB,CADa,CAEb;;;AACA,UAAIC,kBAAkB,GAAG,KAAKtC,oBAAL,CAA0BkC,WAAW,CAACK,aAAtC,CAAzB;;AACA,UAAIC,eAAe,GAAG,KAAKpC,gBAAL,CAAsB8B,WAAW,CAACK,aAAlC,EAAiDD,kBAAjD,CAAtB;;AACA,UAAIG,QAAQ,GAAG,SAAXA,QAAW,CAAU3sC,GAAV,EAAe;AAC1B,YAAI,CAACqsC,WAAW,CAACrsC,GAAD,CAAhB,EAAuB;AACnBqsC,UAAAA,WAAW,CAACrsC,GAAD,CAAX,GAAmB;AACfusC,YAAAA,cAAc,EAAED,gBAAgB,CAACtsC,GAAD,CAAhB,IAAyB+pC,iBAD1B;AAEf0C,YAAAA,aAAa,EAAEC,eAAe,CAAC1sC,GAAD,CAAf,IAAwB+pC,iBAFxB;AAGf6C,YAAAA,OAAO,EAAER,WAAW,CAACQ;AAHN,WAAnB;AAKH;AACJ,OARD;;AASA,WAAK,IAAI5sC,GAAT,IAAgBssC,gBAAhB,EAAkC;AAC9BK,QAAAA,QAAQ,CAAC3sC,GAAD,CAAR;AACH;;AACD,WAAK,IAAIA,GAAT,IAAgB0sC,eAAhB,EAAiC;AAC7BC,QAAAA,QAAQ,CAAC3sC,GAAD,CAAR;AACH;AACJ;;AACD,WAAOqsC,WAAP;AACH,GAxBD;;AAyBA,SAAOrC,QAAP;AACH,CApH6B,EAA9B;;AAqHA,SAASyB,kBAAT,CAA4BoB,KAA5B,EAAmCC,aAAnC,EAAkD5B,YAAlD,EAAgE;AAC5D,MAAI6B,SAAS,GAAG,EAAhB;;AACA,MAAIF,KAAJ,EAAW;AACPE,IAAAA,SAAS,CAAC3pC,IAAV,CAAeypC,KAAf;AACH;;AACD,MAAIC,aAAJ,EAAmB;AACfC,IAAAA,SAAS,CAAC3pC,IAAV,CAAe0pC,aAAf;AACH;;AACD,MAAIE,KAAK,GAAG;AACR,QAAIld,eAAe,CAACid,SAAD;AADX,GAAZ;;AAGA,MAAI7B,YAAJ,EAAkB;AACdnnC,IAAAA,+CAAQ,CAACipC,KAAD,EAAQ9B,YAAR,CAAR;AACH;;AACD,SAAO8B,KAAP;AACH;;AAED,SAASC,WAAT,CAAqBh9B,IAArB,EAA2BqnB,UAA3B,EAAuCC,OAAvC,EAAgDmE,WAAhD,EAA6D;AACzD,SAAO;AACHzsB,IAAAA,GAAG,EAAEgB,IAAI,CAACF,SAAL,EADF;AAEHm9B,IAAAA,UAAU,EAAE1rB,OAAO,CAACka,WAAW,IAAI,CAAC7H,mBAAmB,CAAC6H,WAAW,CAACC,WAAb,EAA0B1rB,IAA1B,CAApC,CAFhB;AAGHk9B,IAAAA,OAAO,EAAE3rB,OAAO,CAACka,WAAW,IAAI,CAAC7H,mBAAmB,CAAC6H,WAAW,CAACE,YAAb,EAA2B3rB,IAA3B,CAApC,CAHb;AAIH0nB,IAAAA,OAAO,EAAEnW,OAAO,CAAC8V,UAAU,IAAIzD,mBAAmB,CAACyD,UAAD,EAAarnB,IAAb,CAAlC,CAJb;AAKHwnB,IAAAA,MAAM,EAAEjW,OAAO,CAAC+V,OAAO,GAAItnB,IAAI,GAAGsnB,OAAX,GAAsBD,UAAU,GAAIrnB,IAAI,GAAGqnB,UAAU,CAACliB,KAAtB,GAA+B,KAAvE,CALZ;AAMHsiB,IAAAA,QAAQ,EAAElW,OAAO,CAAC+V,OAAO,GAAItnB,IAAI,GAAGsnB,OAAX,GAAsBD,UAAU,GAAIrnB,IAAI,IAAIqnB,UAAU,CAACjiB,GAAvB,GAA8B,KAAtE;AANd,GAAP;AAQH;;AACD,SAAS+3B,gBAAT,CAA0B/nC,IAA1B,EAAgCgoC,KAAhC,EAAuC;AACnC,MAAI/gB,UAAU,GAAG,CACb,QADa,EAEb,YAAY5f,OAAO,CAACrH,IAAI,CAAC4J,GAAN,CAFN,CAAjB;;AAIA,MAAI5J,IAAI,CAAC6nC,UAAT,EAAqB;AACjB5gB,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,iBAAhB;AACH,GAFD,MAGK;AACD,QAAIiC,IAAI,CAACsyB,OAAT,EAAkB;AACdrL,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,cAAhB;AACAkpB,MAAAA,UAAU,CAAClpB,IAAX,CAAgBiqC,KAAK,CAACC,QAAN,CAAe,OAAf,CAAhB;AACH;;AACD,QAAIjoC,IAAI,CAACoyB,MAAT,EAAiB;AACbnL,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,aAAhB;AACH;;AACD,QAAIiC,IAAI,CAACqyB,QAAT,EAAmB;AACfpL,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,eAAhB;AACH;;AACD,QAAIiC,IAAI,CAAC8nC,OAAT,EAAkB;AACd7gB,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,cAAhB;AACH;AACJ;;AACD,SAAOkpB,UAAP;AACH;;AACD,SAASihB,iBAAT,CAA2BloC,IAA3B,EAAiCgoC,KAAjC,EAAwC;AACpC,MAAI/gB,UAAU,GAAG,CACb,SADa,EAEb,aAAa5f,OAAO,CAACrH,IAAI,CAAC4J,GAAN,CAFP,CAAjB;;AAIA,MAAI5J,IAAI,CAAC6nC,UAAT,EAAqB;AACjB5gB,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,kBAAhB;AACH,GAFD,MAGK;AACD,QAAIiC,IAAI,CAACsyB,OAAT,EAAkB;AACdrL,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,eAAhB;AACAkpB,MAAAA,UAAU,CAAClpB,IAAX,CAAgBiqC,KAAK,CAACC,QAAN,CAAe,OAAf,CAAhB;AACH;;AACD,QAAIjoC,IAAI,CAACoyB,MAAT,EAAiB;AACbnL,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,cAAhB;AACH;;AACD,QAAIiC,IAAI,CAACqyB,QAAT,EAAmB;AACfpL,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,gBAAhB;AACH;AACJ;;AACD,SAAOkpB,UAAP;AACH;;AAED,SAASkhB,gBAAT,CAA0Bv9B,IAA1B,EAAgCjO,IAAhC,EAAsC;AAClC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,KAAP;AAAe;;AACtC,SAAOyrC,IAAI,CAACC,SAAL,CAAe;AAClBz9B,IAAAA,IAAI,EAAE0I,eAAe,CAAC1I,IAAD,CADH;AAElBjO,IAAAA,IAAI,EAAEA;AAFY,GAAf,CAAP;AAIH;;AAED,IAAI2rC,qBAAqB,GAAG,IAA5B;;AACA,SAASC,uBAAT,GAAmC;AAC/B,MAAID,qBAAqB,KAAK,IAA9B,EAAoC;AAChCA,IAAAA,qBAAqB,GAAGE,2BAA2B,EAAnD;AACH;;AACD,SAAOF,qBAAP;AACH;;AACD,SAASE,2BAAT,GAAuC;AACnC,MAAIC,OAAO,GAAGhoC,QAAQ,CAAC1B,aAAT,CAAuB,KAAvB,CAAd;AACAoD,EAAAA,UAAU,CAACsmC,OAAD,EAAU;AAChBrE,IAAAA,QAAQ,EAAE,UADM;AAEhBhB,IAAAA,GAAG,EAAE,CAAC,IAFU;AAGhBF,IAAAA,IAAI,EAAE,CAHU;AAIhBwF,IAAAA,MAAM,EAAE,CAJQ;AAKhBC,IAAAA,OAAO,EAAE,CALO;AAMhBC,IAAAA,QAAQ,EAAE,QANM;AAOhBjvB,IAAAA,SAAS,EAAE;AAPK,GAAV,CAAV;AASA8uB,EAAAA,OAAO,CAACpE,SAAR,GAAoB,aAApB;AACA5jC,EAAAA,QAAQ,CAACiE,IAAT,CAAc4/B,WAAd,CAA0BmE,OAA1B;AACA,MAAII,OAAO,GAAGJ,OAAO,CAACK,UAAtB;AACA,MAAI16B,GAAG,GAAGy6B,OAAO,CAAC1hC,qBAAR,GAAgC+7B,IAAhC,GAAuCuF,OAAO,CAACthC,qBAAR,GAAgC+7B,IAAjF;AACA/iC,EAAAA,aAAa,CAACsoC,OAAD,CAAb;AACA,SAAOr6B,GAAP;AACH;;AAED,IAAI26B,gBAAJ;;AACA,SAASC,kBAAT,GAA8B;AAC1B,MAAI,CAACD,gBAAL,EAAuB;AACnBA,IAAAA,gBAAgB,GAAGE,sBAAsB,EAAzC;AACH;;AACD,SAAOF,gBAAP;AACH;;AACD,SAASE,sBAAT,GAAkC;AAC9B,MAAI7oC,EAAE,GAAGK,QAAQ,CAAC1B,aAAT,CAAuB,KAAvB,CAAT;AACAqB,EAAAA,EAAE,CAACoC,KAAH,CAASomC,QAAT,GAAoB,QAApB;AACAxoC,EAAAA,EAAE,CAACoC,KAAH,CAAS4hC,QAAT,GAAoB,UAApB;AACAhkC,EAAAA,EAAE,CAACoC,KAAH,CAAS4gC,GAAT,GAAe,SAAf;AACAhjC,EAAAA,EAAE,CAACoC,KAAH,CAAS0gC,IAAT,GAAgB,SAAhB;AACAziC,EAAAA,QAAQ,CAACiE,IAAT,CAAc4/B,WAAd,CAA0BlkC,EAA1B;AACA,MAAIgO,GAAG,GAAG86B,2BAA2B,CAAC9oC,EAAD,CAArC;AACAK,EAAAA,QAAQ,CAACiE,IAAT,CAAcpE,WAAd,CAA0BF,EAA1B;AACA,SAAOgO,GAAP;AACH,EACD;;;AACA,SAAS86B,2BAAT,CAAqC9oC,EAArC,EAAyC;AACrC,SAAO;AACH+oC,IAAAA,CAAC,EAAE/oC,EAAE,CAACqkC,YAAH,GAAkBrkC,EAAE,CAACgpC,YADrB;AAEHt/B,IAAAA,CAAC,EAAE1J,EAAE,CAACipC,WAAH,GAAiBjpC,EAAE,CAACkpC;AAFpB,GAAP;AAIH;;AAED,SAASC,YAAT,CAAsBnpC,EAAtB,EAA0BopC,UAA1B,EAAsC;AAClC,MAAIA,UAAU,KAAK,KAAK,CAAxB,EAA2B;AAAEA,IAAAA,UAAU,GAAG,KAAb;AAAqB;;AAClD,MAAIC,aAAa,GAAGC,MAAM,CAACC,gBAAP,CAAwBvpC,EAAxB,CAApB;AACA,MAAIwpC,UAAU,GAAG94B,QAAQ,CAAC24B,aAAa,CAACI,eAAf,EAAgC,EAAhC,CAAR,IAA+C,CAAhE;AACA,MAAIC,WAAW,GAAGh5B,QAAQ,CAAC24B,aAAa,CAACM,gBAAf,EAAiC,EAAjC,CAAR,IAAgD,CAAlE;AACA,MAAIC,SAAS,GAAGl5B,QAAQ,CAAC24B,aAAa,CAACQ,cAAf,EAA+B,EAA/B,CAAR,IAA8C,CAA9D;AACA,MAAIC,YAAY,GAAGp5B,QAAQ,CAAC24B,aAAa,CAACU,iBAAf,EAAkC,EAAlC,CAAR,IAAiD,CAApE;AACA,MAAIC,kBAAkB,GAAGlB,2BAA2B,CAAC9oC,EAAD,CAApD,CAPkC,CAOwB;;AAC1D,MAAIiqC,kBAAkB,GAAGD,kBAAkB,CAACtgC,CAAnB,GAAuB8/B,UAAvB,GAAoCE,WAA7D;AACA,MAAIQ,eAAe,GAAGF,kBAAkB,CAACjB,CAAnB,GAAuBa,SAAvB,GAAmCE,YAAzD;AACA,MAAI97B,GAAG,GAAG;AACNw7B,IAAAA,UAAU,EAAEA,UADN;AAENE,IAAAA,WAAW,EAAEA,WAFP;AAGNE,IAAAA,SAAS,EAAEA,SAHL;AAINE,IAAAA,YAAY,EAAEA,YAJR;AAKNI,IAAAA,eAAe,EAAEA,eALX;AAMNC,IAAAA,aAAa,EAAE,CANT;AAONC,IAAAA,cAAc,EAAE;AAPV,GAAV;;AASA,MAAIjC,uBAAuB,MAAMkB,aAAa,CAAC9vB,SAAd,KAA4B,KAA7D,EAAoE;AAAE;AAClEvL,IAAAA,GAAG,CAACm8B,aAAJ,GAAoBF,kBAApB;AACH,GAFD,MAGK;AACDj8B,IAAAA,GAAG,CAACo8B,cAAJ,GAAqBH,kBAArB;AACH;;AACD,MAAIb,UAAJ,EAAgB;AACZp7B,IAAAA,GAAG,CAACq8B,WAAJ,GAAkB35B,QAAQ,CAAC24B,aAAa,CAACgB,WAAf,EAA4B,EAA5B,CAAR,IAA2C,CAA7D;AACAr8B,IAAAA,GAAG,CAACs8B,YAAJ,GAAmB55B,QAAQ,CAAC24B,aAAa,CAACiB,YAAf,EAA6B,EAA7B,CAAR,IAA4C,CAA/D;AACAt8B,IAAAA,GAAG,CAACu8B,UAAJ,GAAiB75B,QAAQ,CAAC24B,aAAa,CAACkB,UAAf,EAA2B,EAA3B,CAAR,IAA0C,CAA3D;AACAv8B,IAAAA,GAAG,CAACw8B,aAAJ,GAAoB95B,QAAQ,CAAC24B,aAAa,CAACmB,aAAf,EAA8B,EAA9B,CAAR,IAA6C,CAAjE;AACH;;AACD,SAAOx8B,GAAP;AACH;;AACD,SAASy8B,gBAAT,CAA0BzqC,EAA1B,EAA8B0qC,eAA9B,EAA+CC,oBAA/C,EAAqE;AACjE,MAAID,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,IAAAA,eAAe,GAAG,KAAlB;AAA0B;;AAC5D,MAAIE,SAAS,GAAGD,oBAAoB,GAAG3qC,EAAE,CAAC+G,qBAAH,EAAH,GAAgC8jC,WAAW,CAAC7qC,EAAD,CAA/E;AACA,MAAI8qC,KAAK,GAAG3B,YAAY,CAACnpC,EAAD,EAAK0qC,eAAL,CAAxB;AACA,MAAI18B,GAAG,GAAG;AACN80B,IAAAA,IAAI,EAAE8H,SAAS,CAAC9H,IAAV,GAAiBgI,KAAK,CAACtB,UAAvB,GAAoCsB,KAAK,CAACX,aAD1C;AAENpH,IAAAA,KAAK,EAAE6H,SAAS,CAAC7H,KAAV,GAAkB+H,KAAK,CAACpB,WAAxB,GAAsCoB,KAAK,CAACV,cAF7C;AAGNpH,IAAAA,GAAG,EAAE4H,SAAS,CAAC5H,GAAV,GAAgB8H,KAAK,CAAClB,SAHrB;AAIN3G,IAAAA,MAAM,EAAE2H,SAAS,CAAC3H,MAAV,GAAmB6H,KAAK,CAAChB,YAAzB,GAAwCgB,KAAK,CAACZ;AAJhD,GAAV;;AAMA,MAAIQ,eAAJ,EAAqB;AACjB18B,IAAAA,GAAG,CAAC80B,IAAJ,IAAYgI,KAAK,CAACT,WAAlB;AACAr8B,IAAAA,GAAG,CAAC+0B,KAAJ,IAAa+H,KAAK,CAACR,YAAnB;AACAt8B,IAAAA,GAAG,CAACg1B,GAAJ,IAAW8H,KAAK,CAACP,UAAjB;AACAv8B,IAAAA,GAAG,CAACi1B,MAAJ,IAAc6H,KAAK,CAACN,aAApB;AACH;;AACD,SAAOx8B,GAAP;AACH;;AACD,SAAS68B,WAAT,CAAqB7qC,EAArB,EAAyB;AACrB,MAAI6iC,IAAI,GAAG7iC,EAAE,CAAC+G,qBAAH,EAAX;AACA,SAAO;AACH+7B,IAAAA,IAAI,EAAED,IAAI,CAACC,IAAL,GAAYwG,MAAM,CAACyB,WADtB;AAEH/H,IAAAA,GAAG,EAAEH,IAAI,CAACG,GAAL,GAAWsG,MAAM,CAAC0B,WAFpB;AAGHjI,IAAAA,KAAK,EAAEF,IAAI,CAACE,KAAL,GAAauG,MAAM,CAACyB,WAHxB;AAIH9H,IAAAA,MAAM,EAAEJ,IAAI,CAACI,MAAL,GAAcqG,MAAM,CAAC0B;AAJ1B,GAAP;AAMH;;AACD,SAASC,wBAAT,CAAkCjrC,EAAlC,EAAsC;AAClC,MAAIkrC,eAAe,GAAGC,kBAAkB,CAACnrC,EAAD,CAAxC;AACA,MAAI6iC,IAAI,GAAG7iC,EAAE,CAAC+G,qBAAH,EAAX;;AACA,OAAK,IAAI4F,EAAE,GAAG,CAAT,EAAYy+B,iBAAiB,GAAGF,eAArC,EAAsDv+B,EAAE,GAAGy+B,iBAAiB,CAAC/pC,MAA7E,EAAqFsL,EAAE,EAAvF,EAA2F;AACvF,QAAI0+B,cAAc,GAAGD,iBAAiB,CAACz+B,EAAD,CAAtC;AACA,QAAI2+B,YAAY,GAAGpI,cAAc,CAACL,IAAD,EAAOwI,cAAc,CAACtkC,qBAAf,EAAP,CAAjC;;AACA,QAAIukC,YAAJ,EAAkB;AACdzI,MAAAA,IAAI,GAAGyI,YAAP;AACH,KAFD,MAGK;AACD,aAAO,IAAP;AACH;AACJ;;AACD,SAAOzI,IAAP;AACH;;AACD,SAAS0I,uBAAT,CAAiCvrC,EAAjC,EAAqC;AACjC,SAAOA,EAAE,CAAC+G,qBAAH,GAA2ByY,MAA3B,GAAoCgsB,eAAe,CAACxrC,EAAD,CAA1D;AACH;;AACD,SAASwrC,eAAT,CAAyBxrC,EAAzB,EAA6B;AACzB,MAAIyrC,QAAQ,GAAGnC,MAAM,CAACC,gBAAP,CAAwBvpC,EAAxB,CAAf;AACA,SAAO0Q,QAAQ,CAAC+6B,QAAQ,CAACC,SAAV,EAAqB,EAArB,CAAR,GACHh7B,QAAQ,CAAC+6B,QAAQ,CAACE,YAAV,EAAwB,EAAxB,CADZ;AAEH,EACD;;;AACA,SAASR,kBAAT,CAA4BnrC,EAA5B,EAAgC;AAC5B,MAAI0B,OAAO,GAAG,EAAd;;AACA,SAAO1B,EAAE,YAAYkB,WAArB,EAAkC;AAAE;AAChC,QAAImoC,aAAa,GAAGC,MAAM,CAACC,gBAAP,CAAwBvpC,EAAxB,CAApB;;AACA,QAAIqpC,aAAa,CAACrF,QAAd,KAA2B,OAA/B,EAAwC;AACpC;AACH;;AACD,QAAK,eAAD,CAAkB3hC,IAAlB,CAAuBgnC,aAAa,CAACb,QAAd,GAAyBa,aAAa,CAACuC,SAAvC,GAAmDvC,aAAa,CAACwC,SAAxF,CAAJ,EAAwG;AACpGnqC,MAAAA,OAAO,CAAC/D,IAAR,CAAaqC,EAAb;AACH;;AACDA,IAAAA,EAAE,GAAGA,EAAE,CAACC,UAAR;AACH;;AACD,SAAOyB,OAAP;AACH,EAED;AACA;AACA;AACA;;;AACA,SAASoqC,WAAT,CAAqBzxC,IAArB,EAA2Bi8B,OAA3B,EAAoCC,OAApC,EAA6C;AACzC;AACA;AACA,MAAIwV,UAAU,GAAG,KAAjB;;AACA,MAAIC,cAAc,GAAG,SAAjBA,cAAiB,GAAY;AAC7B,QAAI,CAACD,UAAL,EAAiB;AACbA,MAAAA,UAAU,GAAG,IAAb;AACAzV,MAAAA,OAAO,CAAClrB,KAAR,CAAc,IAAd,EAAoBmJ,SAApB,EAFa,CAEmB;AACnC;AACJ,GALD;;AAMA,MAAI03B,cAAc,GAAG,SAAjBA,cAAiB,GAAY;AAC7B,QAAI,CAACF,UAAL,EAAiB;AACbA,MAAAA,UAAU,GAAG,IAAb;;AACA,UAAIxV,OAAJ,EAAa;AACTA,QAAAA,OAAO,CAACnrB,KAAR,CAAc,IAAd,EAAoBmJ,SAApB,EADS,CACuB;AACnC;AACJ;AACJ,GAPD;;AAQA,MAAIvG,GAAG,GAAG3T,IAAI,CAAC2xC,cAAD,EAAiBC,cAAjB,CAAd;;AACA,MAAIj+B,GAAG,IAAI,OAAOA,GAAG,CAACk+B,IAAX,KAAoB,UAA/B,EAA2C;AACvCl+B,IAAAA,GAAG,CAACk+B,IAAJ,CAASF,cAAT,EAAyBC,cAAzB;AACH;AACJ;;AAED,IAAIE,OAAO;AAAG;AAAe,YAAY;AACrC,WAASA,OAAT,GAAmB;AACf,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACH;;AACDF,EAAAA,OAAO,CAAC5yC,SAAR,CAAkB+yC,cAAlB,GAAmC,UAAUD,WAAV,EAAuB;AACtD,SAAKA,WAAL,GAAmBA,WAAnB;AACH,GAFD;;AAGAF,EAAAA,OAAO,CAAC5yC,SAAR,CAAkBgzC,UAAlB,GAA+B,UAAUrxC,OAAV,EAAmB;AAC9C,SAAKA,OAAL,GAAeA,OAAf;AACH,GAFD;;AAGAixC,EAAAA,OAAO,CAAC5yC,SAAR,CAAkBg/B,EAAlB,GAAuB,UAAUh8B,IAAV,EAAgBuG,OAAhB,EAAyB;AAC5C0pC,IAAAA,SAAS,CAAC,KAAKJ,QAAN,EAAgB7vC,IAAhB,EAAsBuG,OAAtB,CAAT;AACH,GAFD;;AAGAqpC,EAAAA,OAAO,CAAC5yC,SAAR,CAAkBq/B,GAAlB,GAAwB,UAAUr8B,IAAV,EAAgBuG,OAAhB,EAAyB;AAC7C2pC,IAAAA,cAAc,CAAC,KAAKL,QAAN,EAAgB7vC,IAAhB,EAAsBuG,OAAtB,CAAd;AACH,GAFD;;AAGAqpC,EAAAA,OAAO,CAAC5yC,SAAR,CAAkB66B,OAAlB,GAA4B,UAAU73B,IAAV,EAAgB;AACxC,QAAIe,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIqP,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CrP,MAAAA,IAAI,CAACqP,EAAE,GAAG,CAAN,CAAJ,GAAe4H,SAAS,CAAC5H,EAAD,CAAxB;AACH;;AACD,QAAI+/B,gBAAgB,GAAG,KAAKN,QAAL,CAAc7vC,IAAd,KAAuB,EAA9C;AACA,QAAIowC,aAAa,GAAG,KAAKzxC,OAAL,IAAgB,KAAKA,OAAL,CAAaqB,IAAb,CAApC;AACA,QAAI6vC,QAAQ,GAAG,GAAGlhC,MAAH,CAAUyhC,aAAa,IAAI,EAA3B,EAA+BD,gBAA/B,CAAf;;AACA,SAAK,IAAIlqC,EAAE,GAAG,CAAT,EAAYoqC,UAAU,GAAGR,QAA9B,EAAwC5pC,EAAE,GAAGoqC,UAAU,CAACvrC,MAAxD,EAAgEmB,EAAE,EAAlE,EAAsE;AAClE,UAAIM,OAAO,GAAG8pC,UAAU,CAACpqC,EAAD,CAAxB;AACAM,MAAAA,OAAO,CAACsI,KAAR,CAAc,KAAKihC,WAAnB,EAAgC/uC,IAAhC;AACH;AACJ,GAZD;;AAaA6uC,EAAAA,OAAO,CAAC5yC,SAAR,CAAkBszC,WAAlB,GAAgC,UAAUtwC,IAAV,EAAgB;AAC5C,WAAQ,KAAK6vC,QAAL,CAAc7vC,IAAd,KAAuB,KAAK6vC,QAAL,CAAc7vC,IAAd,EAAoB8E,MAA5C,IACF,KAAKnG,OAAL,IAAgB,KAAKA,OAAL,CAAaqB,IAAb,CADrB;AAEH,GAHD;;AAIA,SAAO4vC,OAAP;AACH,CAnC4B,EAA7B;;AAoCA,SAASK,SAAT,CAAmBjgC,IAAnB,EAAyBhQ,IAAzB,EAA+BuG,OAA/B,EAAwC;AACpC,GAACyJ,IAAI,CAAChQ,IAAD,CAAJ,KAAegQ,IAAI,CAAChQ,IAAD,CAAJ,GAAa,EAA5B,CAAD,EACKoB,IADL,CACUmF,OADV;AAEH;;AACD,SAAS2pC,cAAT,CAAwBlgC,IAAxB,EAA8BhQ,IAA9B,EAAoCuG,OAApC,EAA6C;AACzC,MAAIA,OAAJ,EAAa;AACT,QAAIyJ,IAAI,CAAChQ,IAAD,CAAR,EAAgB;AACZgQ,MAAAA,IAAI,CAAChQ,IAAD,CAAJ,GAAagQ,IAAI,CAAChQ,IAAD,CAAJ,CAAWkmC,MAAX,CAAkB,UAAUpoC,IAAV,EAAgB;AAAE,eAAOA,IAAI,KAAKyI,OAAhB;AAA0B,OAA9D,CAAb;AACH;AACJ,GAJD,MAKK;AACD,WAAOyJ,IAAI,CAAChQ,IAAD,CAAX,CADC,CACkB;AACtB;AACJ;AAED;AACA;AACA;AACA;AACA;;;AACA,IAAIuwC,aAAa;AAAG;AAAe,YAAY;AAC3C,WAASA,aAAT,CAAuBC,QAAvB,EAAiCC,GAAjC,EAAsCC,YAAtC,EAAoDC,UAApD,EAAgE;AAC5D,SAAKF,GAAL,GAAWA,GAAX;AACA,QAAIG,gBAAgB,GAAG,KAAKA,gBAAL,GAAwBJ,QAAQ,CAAChmC,qBAAT,EAA/C,CAF4D,CAEqB;;AACjF,QAAIkmC,YAAJ,EAAkB;AACd,WAAKG,kBAAL,CAAwBD,gBAAgB,CAACrK,IAAzC;AACH;;AACD,QAAIoK,UAAJ,EAAgB;AACZ,WAAKG,gBAAL,CAAsBF,gBAAgB,CAACnK,GAAvC;AACH;AACJ,GAV0C,CAW3C;;;AACA8J,EAAAA,aAAa,CAACvzC,SAAd,CAAwB6zC,kBAAxB,GAA6C,UAAUE,gBAAV,EAA4B;AACrE,QAAIC,KAAK,GAAG,EAAZ;AACA,QAAIC,MAAM,GAAG,EAAb;;AACA,SAAK,IAAI7gC,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKwqC,GAA3B,EAAgCrgC,EAAE,GAAGnK,EAAE,CAACnB,MAAxC,EAAgDsL,EAAE,EAAlD,EAAsD;AAClD,UAAI3M,EAAE,GAAGwC,EAAE,CAACmK,EAAD,CAAX;AACA,UAAIk2B,IAAI,GAAG7iC,EAAE,CAAC+G,qBAAH,EAAX;AACAwmC,MAAAA,KAAK,CAAC5vC,IAAN,CAAWklC,IAAI,CAACC,IAAL,GAAYwK,gBAAvB;AACAE,MAAAA,MAAM,CAAC7vC,IAAP,CAAYklC,IAAI,CAACE,KAAL,GAAauK,gBAAzB;AACH;;AACD,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACH,GAXD,CAZ2C,CAwB3C;;;AACAV,EAAAA,aAAa,CAACvzC,SAAd,CAAwB8zC,gBAAxB,GAA2C,UAAUI,eAAV,EAA2B;AAClE,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,OAAO,GAAG,EAAd;;AACA,SAAK,IAAIhhC,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKwqC,GAA3B,EAAgCrgC,EAAE,GAAGnK,EAAE,CAACnB,MAAxC,EAAgDsL,EAAE,EAAlD,EAAsD;AAClD,UAAI3M,EAAE,GAAGwC,EAAE,CAACmK,EAAD,CAAX;AACA,UAAIk2B,IAAI,GAAG7iC,EAAE,CAAC+G,qBAAH,EAAX;AACA2mC,MAAAA,IAAI,CAAC/vC,IAAL,CAAUklC,IAAI,CAACG,GAAL,GAAWyK,eAArB;AACAE,MAAAA,OAAO,CAAChwC,IAAR,CAAaklC,IAAI,CAACI,MAAL,GAAcwK,eAA3B;AACH;;AACD,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,OAAL,GAAeA,OAAf;AACH,GAXD,CAzB2C,CAqC3C;AACA;;;AACAb,EAAAA,aAAa,CAACvzC,SAAd,CAAwBq0C,WAAxB,GAAsC,UAAUC,YAAV,EAAwB;AAC1D,QAAIrrC,EAAE,GAAG,IAAT;AAAA,QAAe+qC,KAAK,GAAG/qC,EAAE,CAAC+qC,KAA1B;AAAA,QAAiCC,MAAM,GAAGhrC,EAAE,CAACgrC,MAA7C;;AACA,QAAIrnC,GAAG,GAAGonC,KAAK,CAAClsC,MAAhB;AACA,QAAID,CAAJ;;AACA,SAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG+E,GAAhB,EAAqB/E,CAAC,IAAI,CAA1B,EAA6B;AACzB,UAAIysC,YAAY,IAAIN,KAAK,CAACnsC,CAAD,CAArB,IAA4BysC,YAAY,GAAGL,MAAM,CAACpsC,CAAD,CAArD,EAA0D;AACtD,eAAOA,CAAP;AACH;AACJ;;AACD,WAAOgL,SAAP,CAT0D,CASxC;AACrB,GAVD,CAvC2C,CAkD3C;AACA;;;AACA0gC,EAAAA,aAAa,CAACvzC,SAAd,CAAwBu0C,UAAxB,GAAqC,UAAUC,WAAV,EAAuB;AACxD,QAAIvrC,EAAE,GAAG,IAAT;AAAA,QAAekrC,IAAI,GAAGlrC,EAAE,CAACkrC,IAAzB;AAAA,QAA+BC,OAAO,GAAGnrC,EAAE,CAACmrC,OAA5C;;AACA,QAAIxnC,GAAG,GAAGunC,IAAI,CAACrsC,MAAf;AACA,QAAID,CAAJ;;AACA,SAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG+E,GAAhB,EAAqB/E,CAAC,IAAI,CAA1B,EAA6B;AACzB,UAAI2sC,WAAW,IAAIL,IAAI,CAACtsC,CAAD,CAAnB,IAA0B2sC,WAAW,GAAGJ,OAAO,CAACvsC,CAAD,CAAnD,EAAwD;AACpD,eAAOA,CAAP;AACH;AACJ;;AACD,WAAOgL,SAAP,CATwD,CAStC;AACrB,GAVD,CApD2C,CA+D3C;;;AACA0gC,EAAAA,aAAa,CAACvzC,SAAd,CAAwBy0C,QAAxB,GAAmC,UAAUC,SAAV,EAAqB;AACpD,WAAO,KAAKT,MAAL,CAAYS,SAAZ,IAAyB,KAAKV,KAAL,CAAWU,SAAX,CAAhC;AACH,GAFD,CAhE2C,CAmE3C;;;AACAnB,EAAAA,aAAa,CAACvzC,SAAd,CAAwB20C,SAAxB,GAAoC,UAAUC,QAAV,EAAoB;AACpD,WAAO,KAAKR,OAAL,CAAaQ,QAAb,IAAyB,KAAKT,IAAL,CAAUS,QAAV,CAAhC;AACH,GAFD;;AAGA,SAAOrB,aAAP;AACH,CAxEkC,EAAnC;AA0EA;;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIsB,gBAAgB;AAAG;AAAe,YAAY;AAC9C,WAASA,gBAAT,GAA4B,CAC3B;;AACDA,EAAAA,gBAAgB,CAAC70C,SAAjB,CAA2B80C,eAA3B,GAA6C,YAAY;AACrD,WAAO,KAAKC,eAAL,KAAyB,KAAKC,eAAL,EAAhC;AACH,GAFD;;AAGAH,EAAAA,gBAAgB,CAAC70C,SAAjB,CAA2Bi1C,gBAA3B,GAA8C,YAAY;AACtD,WAAO,KAAKC,cAAL,KAAwB,KAAKC,cAAL,EAA/B;AACH,GAFD;;AAGAN,EAAAA,gBAAgB,CAAC70C,SAAjB,CAA2Bo1C,mBAA3B,GAAiD,YAAY;AACzD,WAAO,KAAKN,eAAL,KAAyB,CAAhC;AACH,GAFD;;AAGAD,EAAAA,gBAAgB,CAAC70C,SAAjB,CAA2Bq1C,qBAA3B,GAAmD,YAAY;AAC3D,WAAO,KAAKJ,gBAAL,KAA0B,CAAjC;AACH,GAFD;;AAGAJ,EAAAA,gBAAgB,CAAC70C,SAAjB,CAA2Bs1C,WAA3B,GAAyC,YAAY;AACjD,WAAO,KAAKC,YAAL,KAAsB,CAA7B;AACH,GAFD;;AAGAV,EAAAA,gBAAgB,CAAC70C,SAAjB,CAA2Bw1C,aAA3B,GAA2C,YAAY;AACnD,WAAO,KAAKD,YAAL,KAAsB,KAAKT,eAAL,EAA7B;AACH,GAFD;;AAGAD,EAAAA,gBAAgB,CAAC70C,SAAjB,CAA2By1C,aAA3B,GAA2C,YAAY;AACnD,WAAO,KAAKC,aAAL,KAAuB,CAA9B;AACH,GAFD;;AAGAb,EAAAA,gBAAgB,CAAC70C,SAAjB,CAA2B21C,cAA3B,GAA4C,YAAY;AACpD,WAAO,KAAKD,aAAL,KAAuB,KAAKT,gBAAL,EAA9B;AACH,GAFD;;AAGA,SAAOJ,gBAAP;AACH,CA5BqC,EAAtC;;AA6BA,IAAIe,uBAAuB;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAC3D5wC,EAAAA,gDAAS,CAAC2wC,uBAAD,EAA0BC,MAA1B,CAAT;;AACA,WAASD,uBAAT,CAAiCnvC,EAAjC,EAAqC;AACjC,QAAIyU,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAsa,IAAAA,KAAK,CAACzU,EAAN,GAAWA,EAAX;AACA,WAAOyU,KAAP;AACH;;AACD06B,EAAAA,uBAAuB,CAAC51C,SAAxB,CAAkCu1C,YAAlC,GAAiD,YAAY;AACzD,WAAO,KAAK9uC,EAAL,CAAQqvC,SAAf;AACH,GAFD;;AAGAF,EAAAA,uBAAuB,CAAC51C,SAAxB,CAAkC01C,aAAlC,GAAkD,YAAY;AAC1D,WAAO,KAAKjvC,EAAL,CAAQsvC,UAAf;AACH,GAFD;;AAGAH,EAAAA,uBAAuB,CAAC51C,SAAxB,CAAkCg2C,YAAlC,GAAiD,UAAUvM,GAAV,EAAe;AAC5D,SAAKhjC,EAAL,CAAQqvC,SAAR,GAAoBrM,GAApB;AACH,GAFD;;AAGAmM,EAAAA,uBAAuB,CAAC51C,SAAxB,CAAkCi2C,aAAlC,GAAkD,UAAU1M,IAAV,EAAgB;AAC9D,SAAK9iC,EAAL,CAAQsvC,UAAR,GAAqBxM,IAArB;AACH,GAFD;;AAGAqM,EAAAA,uBAAuB,CAAC51C,SAAxB,CAAkCk1C,cAAlC,GAAmD,YAAY;AAC3D,WAAO,KAAKzuC,EAAL,CAAQyvC,WAAf;AACH,GAFD;;AAGAN,EAAAA,uBAAuB,CAAC51C,SAAxB,CAAkC+0C,eAAlC,GAAoD,YAAY;AAC5D,WAAO,KAAKtuC,EAAL,CAAQ0vC,YAAf;AACH,GAFD;;AAGAP,EAAAA,uBAAuB,CAAC51C,SAAxB,CAAkCg1C,eAAlC,GAAoD,YAAY;AAC5D,WAAO,KAAKvuC,EAAL,CAAQgpC,YAAf;AACH,GAFD;;AAGAmG,EAAAA,uBAAuB,CAAC51C,SAAxB,CAAkCm1C,cAAlC,GAAmD,YAAY;AAC3D,WAAO,KAAK1uC,EAAL,CAAQkpC,WAAf;AACH,GAFD;;AAGA,SAAOiG,uBAAP;AACH,CAhC4C,CAgC3Cf,gBAhC2C,CAA7C;;AAiCA,IAAIuB,sBAAsB;AAAG;AAAe,UAAUP,MAAV,EAAkB;AAC1D5wC,EAAAA,gDAAS,CAACmxC,sBAAD,EAAyBP,MAAzB,CAAT;;AACA,WAASO,sBAAT,GAAkC;AAC9B,WAAOP,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDo7B,EAAAA,sBAAsB,CAACp2C,SAAvB,CAAiCu1C,YAAjC,GAAgD,YAAY;AACxD,WAAOxF,MAAM,CAAC0B,WAAd;AACH,GAFD;;AAGA2E,EAAAA,sBAAsB,CAACp2C,SAAvB,CAAiC01C,aAAjC,GAAiD,YAAY;AACzD,WAAO3F,MAAM,CAACyB,WAAd;AACH,GAFD;;AAGA4E,EAAAA,sBAAsB,CAACp2C,SAAvB,CAAiCg2C,YAAjC,GAAgD,UAAU/oC,CAAV,EAAa;AACzD8iC,IAAAA,MAAM,CAACsG,MAAP,CAActG,MAAM,CAACyB,WAArB,EAAkCvkC,CAAlC;AACH,GAFD;;AAGAmpC,EAAAA,sBAAsB,CAACp2C,SAAvB,CAAiCi2C,aAAjC,GAAiD,UAAUhpC,CAAV,EAAa;AAC1D8iC,IAAAA,MAAM,CAACsG,MAAP,CAAcppC,CAAd,EAAiB8iC,MAAM,CAAC0B,WAAxB;AACH,GAFD;;AAGA2E,EAAAA,sBAAsB,CAACp2C,SAAvB,CAAiCk1C,cAAjC,GAAkD,YAAY;AAC1D,WAAOpuC,QAAQ,CAACC,eAAT,CAAyBmvC,WAAhC;AACH,GAFD;;AAGAE,EAAAA,sBAAsB,CAACp2C,SAAvB,CAAiC+0C,eAAjC,GAAmD,YAAY;AAC3D,WAAOjuC,QAAQ,CAACC,eAAT,CAAyBovC,YAAhC;AACH,GAFD;;AAGAC,EAAAA,sBAAsB,CAACp2C,SAAvB,CAAiCg1C,eAAjC,GAAmD,YAAY;AAC3D,WAAOluC,QAAQ,CAACC,eAAT,CAAyB0oC,YAAhC;AACH,GAFD;;AAGA2G,EAAAA,sBAAsB,CAACp2C,SAAvB,CAAiCm1C,cAAjC,GAAkD,YAAY;AAC1D,WAAOruC,QAAQ,CAACC,eAAT,CAAyB4oC,WAAhC;AACH,GAFD;;AAGA,SAAOyG,sBAAP;AACH,CA9B2C,CA8B1CvB,gBA9B0C,CAA5C;;AAgCA,IAAIyB,KAAK;AAAG;AAAe,YAAY;AACnC,WAASA,KAAT,CAAe9V,eAAf,EAAgC;AAC5B,QAAI,KAAK+V,kBAAT,EAA6B;AACzB,WAAKC,eAAL,CAAqBhW,eAAe,CAAC,KAAK+V,kBAAN,CAApC;AACH;AACJ;;AACDD,EAAAA,KAAK,CAACt2C,SAAN,CAAgBw2C,eAAhB,GAAkC,UAAUC,gBAAV,EAA4B;AAC1D,QAAIC,eAAJ;AACA,QAAIC,UAAJ;;AACA,QAAI,OAAOF,gBAAP,KAA4B,QAA5B,IAAwCA,gBAA5C,EAA8D;AAAE;AAC5DC,MAAAA,eAAe,GAAG3xC,+CAAQ,CAAC,EAAD,EAAK,KAAK6xC,WAAV,CAA1B;;AACA,WAAKD,UAAL,IAAmBF,gBAAnB,EAAqC;AACjCC,QAAAA,eAAe,CAACC,UAAD,CAAf,GAA8B,KAAKE,uBAAL,CAA6BJ,gBAAgB,CAACE,UAAD,CAA7C,CAA9B;AACH;;AACD,WAAKC,WAAL,GAAmBF,eAAnB;AACH,KAND,MAOK,IAAID,gBAAgB,KAAK,KAAzB,EAAgC;AACjC,WAAKG,WAAL,GAAmB,EAAnB;AACH;AACJ,GAbD;;AAcAN,EAAAA,KAAK,CAACt2C,SAAN,CAAgB62C,uBAAhB,GAA0C,UAAUxmB,SAAV,EAAqB;AAC3D,QAAIymB,MAAM,GAAG,KAAKC,kBAAlB;;AACA,QAAID,MAAM,IAAIzmB,SAAS,CAAC1P,OAAV,CAAkBm2B,MAAlB,MAA8B,CAA5C,EAA+C;AAAE;AAC7CzmB,MAAAA,SAAS,GAAGymB,MAAM,GAAGzmB,SAArB;AACH;;AACD,WAAOA,SAAP;AACH,GAND;;AAOAimB,EAAAA,KAAK,CAACt2C,SAAN,CAAgBsuC,QAAhB,GAA2B,UAAUttC,GAAV,EAAe;AACtC,WAAO,KAAKg2C,OAAL,CAAah2C,GAAb,KAAqB,EAA5B;AACH,GAFD;;AAGAs1C,EAAAA,KAAK,CAACt2C,SAAN,CAAgBi3C,YAAhB,GAA+B,UAAUN,UAAV,EAAsBO,KAAtB,EAA6B;AACxD,QAAI7mB,SAAJ;;AACA,QAAI6mB,KAAK,IAAI,KAAKC,cAAlB,EAAkC;AAC9B9mB,MAAAA,SAAS,GAAG,KAAK8mB,cAAL,CAAoBR,UAApB,KAAmC,KAAKC,WAAL,CAAiBD,UAAjB,CAA/C;AACH,KAFD,MAGK;AACDtmB,MAAAA,SAAS,GAAG,KAAKumB,WAAL,CAAiBD,UAAjB,CAAZ;AACH;;AACD,QAAItmB,SAAJ,EAAe;AACX,aAAO,KAAK+mB,aAAL,GAAqB,GAArB,GAA2B/mB,SAAlC;AACH;;AACD,WAAO,EAAP;AACH,GAZD;;AAaAimB,EAAAA,KAAK,CAACt2C,SAAN,CAAgBq3C,wBAAhB,GAA2C,UAAUC,iBAAV,EAA6B;AACpE,QAAIjnB,SAAJ;;AACA,QAAI,KAAKknB,8BAAT,EAAyC;AACrClnB,MAAAA,SAAS,GAAGinB,iBAAiB,CAAC,KAAKC,8BAAN,CAA7B;;AACA,UAAIlnB,SAAJ,EAAe;AACX,eAAO,KAAK+mB,aAAL,GAAqB,GAArB,GAA2B,KAAKP,uBAAL,CAA6BxmB,SAA7B,CAAlC;AACH;AACJ;;AACD,WAAO,EAAP;AACH,GATD;;AAUA,SAAOimB,KAAP;AACH,CAtD0B,EAA3B;;AAuDAA,KAAK,CAACt2C,SAAN,CAAgBg3C,OAAhB,GAA0B,EAA1B;AACAV,KAAK,CAACt2C,SAAN,CAAgB42C,WAAhB,GAA8B,EAA9B;AACAN,KAAK,CAACt2C,SAAN,CAAgBo3C,aAAhB,GAAgC,EAAhC;AACAd,KAAK,CAACt2C,SAAN,CAAgB+2C,kBAAhB,GAAqC,EAArC;;AAEA,IAAIS,eAAe;AAAG;AAAe,YAAY;AAC7C,WAASA,eAAT,CAAyBC,QAAzB,EAAmC7c,OAAnC,EAA4CtY,UAA5C,EAAwDC,eAAxD,EAAyE;AACrE,QAAIrH,KAAK,GAAG,IAAZ;;AACA,SAAKu8B,QAAL,GAAgBA,QAAhB;AACA,SAAK7c,OAAL,GAAeA,OAAf;AACA,SAAKtY,UAAL,GAAkBA,UAAlB;AACA,SAAKC,eAAL,GAAuBA,eAAvB;;AACA,SAAKm1B,mBAAL,GAA2B,UAAUC,OAAV,EAAmB;AAC1Cz8B,MAAAA,KAAK,CAAC08B,aAAN,GAAsB7yC,+CAAQ,CAAC,EAAD,EAAKmW,KAAK,CAAC08B,aAAN,IAAuB,EAA5B,EAAgCD,OAAhC,CAA9B;;AACAz8B,MAAAA,KAAK,CAAC28B,KAAN;AACH,KAHD;;AAIAjd,IAAAA,OAAO,CAACoE,EAAR,CAAW,gBAAX,EAA6B,KAAK0Y,mBAAlC;AACA,SAAKI,iBAAL;AACH;;AACDN,EAAAA,eAAe,CAACx3C,SAAhB,CAA0B+3C,MAA1B,GAAmC,YAAY;AAC3C,SAAKnd,OAAL,CAAayE,GAAb,CAAiB,gBAAjB,EAAmC,KAAKqY,mBAAxC;AACH,GAFD;;AAGAF,EAAAA,eAAe,CAACx3C,SAAhB,CAA0Bg4C,MAA1B,GAAmC,UAAUC,UAAV,EAAsB;AACrD,QAAIA,UAAU,IAAI,KAAK11B,eAAvB,EAAwC;AACpC,WAAKu1B,iBAAL,GADoC,CACV;AAC7B,KAFD,MAGK;AACD,WAAKD,KAAL;AACH;AACJ,GAPD;;AAQAL,EAAAA,eAAe,CAACx3C,SAAhB,CAA0B83C,iBAA1B,GAA8C,YAAY;AACtD,SAAKJ,mBAAL,CAAyB;AACrBvU,MAAAA,IAAI,EAAE,KAAK7gB;AADU,KAAzB;AAGH,GAJD;;AAKAk1B,EAAAA,eAAe,CAACx3C,SAAhB,CAA0B63C,KAA1B,GAAkC,YAAY;AAC1C,QAAI,KAAKD,aAAL,IAAsB,KAAKH,QAAL,CAAc,KAAKG,aAAnB,CAA1B,EAA6D;AACzD,WAAKA,aAAL,GAAqB,IAArB;AACH;AACJ,GAJD;;AAKA,SAAOJ,eAAP;AACH,CApCoC,EAArC;;AAsCA,IAAIU,eAAe,GAAGhzC,uDAAa,CAAC,EAAD,CAAnC,EAAyC;;AACzC,SAASizC,gBAAT,CAA0BC,QAA1B,EAAoCld,OAApC,EAA6Cmd,WAA7C,EAA0DC,oBAA1D,EAAgFzjC,OAAhF,EAAyFw5B,KAAzF,EAAgG54B,WAAhG,EAA6G9P,QAA7G,EAAuH62B,cAAvH,EAAuI5B,OAAvI,EAAgJO,WAAhJ,EAA6Jod,4BAA7J,EAA2LC,8BAA3L,EAA2N;AACvN,SAAO;AACH3jC,IAAAA,OAAO,EAAEA,OADN;AAEHlT,IAAAA,OAAO,EAAE02C,WAFN;AAGH5iC,IAAAA,WAAW,EAAEA,WAHV;AAIHmlB,IAAAA,OAAO,EAAEA,OAJN;AAKHj1B,IAAAA,QAAQ,EAAEA,QALP;AAMH62B,IAAAA,cAAc,EAAEA,cANb;AAOHrB,IAAAA,WAAW,EAAEA,WAPV;AAQHid,IAAAA,QAAQ,EAAEA,QARP;AASHld,IAAAA,OAAO,EAAEA,OATN;AAUHod,IAAAA,oBAAoB,EAAEA,oBAVnB;AAWHjK,IAAAA,KAAK,EAAEA,KAXJ;AAYH6I,IAAAA,KAAK,EAAEmB,WAAW,CAACr4B,SAAZ,KAA0B,KAZ9B;AAaHy4B,IAAAA,gBAAgB,EAAE,0BAAUlvC,OAAV,EAAmB;AACjCqxB,MAAAA,OAAO,CAACoE,EAAR,CAAW,SAAX,EAAsBz1B,OAAtB;AACH,KAfE;AAgBHmvC,IAAAA,mBAAmB,EAAE,6BAAUnvC,OAAV,EAAmB;AACpCqxB,MAAAA,OAAO,CAACyE,GAAR,CAAY,SAAZ,EAAuB91B,OAAvB;AACH,KAlBE;AAmBHovC,IAAAA,qBAAqB,EAAE,+BAAUlB,QAAV,EAAoB;AACvC,aAAO,IAAID,eAAJ,CAAoBC,QAApB,EAA8B7c,OAA9B,EAAuC/jB,cAAc,CAACwhC,WAAW,CAAC/1B,UAAb,CAArD,EAA+E+1B,WAAW,CAAC91B,eAA3F,CAAP;AACH,KArBE;AAsBHg2B,IAAAA,4BAA4B,EAAEA,4BAtB3B;AAuBHC,IAAAA,8BAA8B,EAAEA;AAvB7B,GAAP;AAyBH;AAED;;;AACA,IAAII,aAAa;AAAG;AAAe,UAAU/C,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAAC2zC,aAAD,EAAgB/C,MAAhB,CAAT;;AACA,WAAS+C,aAAT,GAAyB;AACrB,WAAO/C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD49B,EAAAA,aAAa,CAAC54C,SAAd,CAAwB64C,qBAAxB,GAAgD,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AAC5E,QAAI,KAAKC,KAAT,EAAgB;AACZ;AACA7Z,MAAAA,OAAO,CAAC8Z,GAAR,CAAYrlC,eAAe,CAACklC,SAAD,EAAY,KAAKrwC,KAAjB,CAA3B,EAAoDmL,eAAe,CAACmlC,SAAD,EAAY,KAAKrZ,KAAjB,CAAnE;AACH;;AACD,WAAO,CAAC7rB,WAAW,CAAC,KAAKpL,KAAN,EAAaqwC,SAAb,EAAwB,KAAKI,YAA7B,CAAZ,IACH,CAACrlC,WAAW,CAAC,KAAK6rB,KAAN,EAAaqZ,SAAb,EAAwB,KAAKI,aAA7B,CADhB;AAEH,GAPD;;AAQAP,EAAAA,aAAa,CAACQ,gBAAd,GAAiCA,gBAAjC;AACAR,EAAAA,aAAa,CAACS,gBAAd,GAAiCA,gBAAjC;AACAT,EAAAA,aAAa,CAACU,WAAd,GAA4BpB,eAA5B;AACA,SAAOU,aAAP;AACH,CAjBkC,CAiBjCt5C,+CAjBiC,CAAnC;;AAkBAs5C,aAAa,CAAC54C,SAAd,CAAwBk5C,YAAxB,GAAuC,EAAvC;AACAN,aAAa,CAAC54C,SAAd,CAAwBm5C,aAAxB,GAAwC,EAAxC;;AACA,IAAII,aAAa;AAAG;AAAe,UAAU1D,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACs0C,aAAD,EAAgB1D,MAAhB,CAAT;;AACA,WAAS0D,aAAT,GAAyB;AACrB,WAAO1D,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDu+B,EAAAA,aAAa,CAACD,WAAd,GAA4BpB,eAA5B;AACA,SAAOqB,aAAP;AACH,CAPkC,CAOjCX,aAPiC,CAAnC;;AAQA,SAASQ,gBAAT,CAA0BF,YAA1B,EAAwC;AACpC,MAAIlmC,IAAI,GAAGjT,MAAM,CAACy5C,MAAP,CAAc,KAAKx5C,SAAL,CAAek5C,YAA7B,CAAX;;AACAn0C,EAAAA,+CAAQ,CAACiO,IAAD,EAAOkmC,YAAP,CAAR;;AACA,OAAKl5C,SAAL,CAAek5C,YAAf,GAA8BlmC,IAA9B;AACH;;AACD,SAASqmC,gBAAT,CAA0BF,aAA1B,EAAyC;AACrC,MAAInmC,IAAI,GAAGjT,MAAM,CAACy5C,MAAP,CAAc,KAAKx5C,SAAL,CAAem5C,aAA7B,CAAX;;AACAp0C,EAAAA,+CAAQ,CAACiO,IAAD,EAAOmmC,aAAP,CAAR;;AACA,OAAKn5C,SAAL,CAAem5C,aAAf,GAA+BnmC,IAA/B;AACH,EACD;;;AACA,SAASymC,MAAT,CAAgBC,GAAhB,EAAqBC,OAArB,EAA8B;AAC1B,MAAI,OAAOD,GAAP,KAAe,UAAnB,EAA+B;AAC3BA,IAAAA,GAAG,CAACC,OAAD,CAAH;AACH,GAFD,MAGK,IAAID,GAAJ,EAAS;AACV;AACAA,IAAAA,GAAG,CAACC,OAAJ,GAAcA,OAAd;AACH;AACJ;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,aAAa;AAAG;AAAe,UAAU/D,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAAC20C,aAAD,EAAgB/D,MAAhB,CAAT;;AACA,WAAS+D,aAAT,GAAyB;AACrB,QAAI1+B,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC2+B,GAAN,GAAYjvC,IAAI,EAAhB;AACA,WAAOsQ,KAAP;AACH,GANgD,CAOjD;AACA;;;AACA0+B,EAAAA,aAAa,CAAC55C,SAAd,CAAwB85C,WAAxB,GAAsC,YAAY,CACjD,CADD;;AAEAF,EAAAA,aAAa,CAAC55C,SAAd,CAAwB+5C,QAAxB,GAAmC,UAAUC,YAAV,EAAwBC,WAAxB,EAAqCC,OAArC,EAA8CC,QAA9C,EAAwD;AACvF,WAAO,IAAP,CADuF,CAC1E;AAChB,GAFD,CAXiD,CAcjD;AACA;;;AACAP,EAAAA,aAAa,CAAC55C,SAAd,CAAwBo6C,gBAAxB,GAA2C,UAAU3zC,EAAV,EAAc;AACrD,WAAO,CAAC,KAAKgC,KAAL,CAAW4jC,SAAZ,IAAyB;AAC5B,KAAC,KAAK5jC,KAAL,CAAW8jC,WADT,IACwB;AAC3B,KAAC3lC,cAAc,CAACH,EAAD,EAAK,kBAAL,CAFnB;AAGH,GAJD;;AAKAmzC,EAAAA,aAAa,CAAC55C,SAAd,CAAwBq6C,iBAAxB,GAA4C,UAAU5zC,EAAV,EAAc;AACtD,WAAO,CAACG,cAAc,CAACH,EAAD,EAAK,6BAAL,CAAf,IACH,CAACG,cAAc,CAACH,EAAD,EAAK,eAAL,CADZ,IACqC;AACxC,KAACG,cAAc,CAACH,EAAD,EAAK,iBAAL,CAFZ,IAEuC;AAC1C,KAACG,cAAc,CAACH,EAAD,EAAK,aAAL,CAHnB,CADsD,CAId;AAC3C,GALD;;AAMA,SAAOmzC,aAAP;AACH,CA5BkC,CA4BjCL,aA5BiC,CAAnC,EA8BA;;;AACA,SAASe,YAAT,CAAsBp6C,KAAtB,EAA6B;AACzB,SAAO;AACHmxB,IAAAA,EAAE,EAAEzmB,IAAI,EADL;AAEH2vC,IAAAA,IAAI,EAAEr6C,KAAK,CAACq6C,IAAN,IAAc,EAFjB;AAGHC,IAAAA,QAAQ,EAAEt6C,KAAK,CAACs6C,QAAN,IAAkB,EAHzB;AAIHC,IAAAA,cAAc,EAAEv6C,KAAK,CAACu6C,cAAN,IAAwB,EAJrC;AAKHC,IAAAA,WAAW,EAAE,GAAG/oC,MAAH,CAAUzR,KAAK,CAACw6C,WAAN,IAAqB,EAA/B,CALV;AAMHrsB,IAAAA,aAAa,EAAEnuB,KAAK,CAACmuB,aAAN,IAAuB,EANnC;AAOH6D,IAAAA,oBAAoB,EAAEhyB,KAAK,CAACgyB,oBAAN,IAA8B,EAPjD;AAQHyL,IAAAA,mBAAmB,EAAEz9B,KAAK,CAACy9B,mBAAN,IAA6B,EAR/C;AASHxG,IAAAA,uBAAuB,EAAEj3B,KAAK,CAACi3B,uBAAN,IAAiC,EATvD;AAUHwjB,IAAAA,0BAA0B,EAAEz6C,KAAK,CAACy6C,0BAAN,IAAoC,EAV7D;AAWHze,IAAAA,wBAAwB,EAAEh8B,KAAK,CAACg8B,wBAAN,IAAkC,EAXzD;AAYH0e,IAAAA,yBAAyB,EAAE16C,KAAK,CAAC06C,yBAAN,IAAmC,EAZ3D;AAaHC,IAAAA,mBAAmB,EAAE36C,KAAK,CAAC26C,mBAAN,IAA6B,EAb/C;AAcHxf,IAAAA,kBAAkB,EAAEn7B,KAAK,CAACm7B,kBAAN,IAA4B,EAd7C;AAeHxO,IAAAA,KAAK,EAAE3sB,KAAK,CAAC2sB,KAAN,IAAe,EAfnB;AAgBHiuB,IAAAA,qBAAqB,EAAE56C,KAAK,CAAC46C,qBAAN,IAA+B,EAhBnD;AAiBHC,IAAAA,YAAY,EAAE76C,KAAK,CAAC66C,YAAN,IAAsB,IAjBjC;AAkBHC,IAAAA,qBAAqB,EAAE96C,KAAK,CAAC86C,qBAAN,IAA+B,EAlBnD;AAmBHC,IAAAA,oBAAoB,EAAE/6C,KAAK,CAAC+6C,oBAAN,IAA8B,EAnBjD;AAoBHC,IAAAA,qBAAqB,EAAEh7C,KAAK,CAACg7C,qBAAN,IAA+B,EApBnD;AAqBHC,IAAAA,qBAAqB,EAAEj7C,KAAK,CAACi7C,qBAAN,IAA+B,EArBnD;AAsBHC,IAAAA,oBAAoB,EAAEl7C,KAAK,CAACk7C,oBAAN,IAA8B,EAtBjD;AAuBHC,IAAAA,YAAY,EAAEn7C,KAAK,CAACm7C,YAAN,IAAsB,EAvBjC;AAwBHzd,IAAAA,eAAe,EAAE19B,KAAK,CAAC09B,eAAN,IAAyB,EAxBvC;AAyBHjc,IAAAA,YAAY,EAAEzhB,KAAK,CAACyhB,YAzBjB;AA0BH7M,IAAAA,cAAc,EAAE5U,KAAK,CAAC4U,cAAN,IAAwB,EA1BrC;AA2BHwmC,IAAAA,kBAAkB,EAAEp7C,KAAK,CAACo7C,kBA3BvB;AA4BH33B,IAAAA,WAAW,EAAEzjB,KAAK,CAACyjB,WAAN,IAAqB,EA5B/B;AA6BH43B,IAAAA,mBAAmB,EAAEr7C,KAAK,CAACq7C,mBA7BxB;AA8BHC,IAAAA,oBAAoB,EAAEt7C,KAAK,CAACs7C,oBAAN,IAA8B,EA9BjD;AA+BHC,IAAAA,cAAc,EAAEv7C,KAAK,CAACu7C,cAAN,IAAwB,IA/BrC;AAgCHC,IAAAA,mBAAmB,EAAEx7C,KAAK,CAACw7C,mBAAN,IAA6B,EAhC/C;AAiCHC,IAAAA,gBAAgB,EAAEz7C,KAAK,CAACy7C,gBAAN,IAA0B,EAjCzC;AAkCHC,IAAAA,cAAc,EAAE17C,KAAK,CAAC07C,cAAN,IAAwB,EAlCrC;AAmCHC,IAAAA,eAAe,EAAE37C,KAAK,CAAC27C,eAAN,IAAyB;AAnCvC,GAAP;AAqCH;;AACD,SAASC,gBAAT,CAA0BC,UAA1B,EAAsCC,UAAtC,EAAkD;AAC9C,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,KAAK,GAAG;AACR1B,IAAAA,QAAQ,EAAE,EADF;AAERC,IAAAA,cAAc,EAAE,EAFR;AAGRC,IAAAA,WAAW,EAAE,EAHL;AAIRrsB,IAAAA,aAAa,EAAE,EAJP;AAKR6D,IAAAA,oBAAoB,EAAE,EALd;AAMRyL,IAAAA,mBAAmB,EAAE,EANb;AAORxG,IAAAA,uBAAuB,EAAE,EAPjB;AAQRwjB,IAAAA,0BAA0B,EAAE,EARpB;AASRze,IAAAA,wBAAwB,EAAE,EATlB;AAUR0e,IAAAA,yBAAyB,EAAE,EAVnB;AAWRC,IAAAA,mBAAmB,EAAE,EAXb;AAYRxf,IAAAA,kBAAkB,EAAE,EAZZ;AAaRxO,IAAAA,KAAK,EAAE,EAbC;AAcRiuB,IAAAA,qBAAqB,EAAE,EAdf;AAeRC,IAAAA,YAAY,EAAE,IAfN;AAgBRC,IAAAA,qBAAqB,EAAE,EAhBf;AAiBRC,IAAAA,oBAAoB,EAAE,EAjBd;AAkBRC,IAAAA,qBAAqB,EAAE,EAlBf;AAmBRC,IAAAA,qBAAqB,EAAE,EAnBf;AAoBRC,IAAAA,oBAAoB,EAAE,EApBd;AAqBRC,IAAAA,YAAY,EAAE,EArBN;AAsBRzd,IAAAA,eAAe,EAAE,EAtBT;AAuBRjc,IAAAA,YAAY,EAAE,IAvBN;AAwBR7M,IAAAA,cAAc,EAAE,EAxBR;AAyBRwmC,IAAAA,kBAAkB,EAAE,IAzBZ;AA0BR33B,IAAAA,WAAW,EAAE,EA1BL;AA2BR43B,IAAAA,mBAAmB,EAAE,IA3Bb;AA4BRC,IAAAA,oBAAoB,EAAE,EA5Bd;AA6BRC,IAAAA,cAAc,EAAE,IA7BR;AA8BRC,IAAAA,mBAAmB,EAAE,EA9Bb;AA+BRC,IAAAA,gBAAgB,EAAE,EA/BV;AAgCRC,IAAAA,cAAc,EAAE,EAhCR;AAiCRC,IAAAA,eAAe,EAAE;AAjCT,GAAZ;;AAmCA,WAASM,OAAT,CAAiBzmC,IAAjB,EAAuB;AACnB,SAAK,IAAItC,EAAE,GAAG,CAAT,EAAYgpC,MAAM,GAAG1mC,IAA1B,EAAgCtC,EAAE,GAAGgpC,MAAM,CAACt0C,MAA5C,EAAoDsL,EAAE,EAAtD,EAA0D;AACtD,UAAI0C,GAAG,GAAGsmC,MAAM,CAAChpC,EAAD,CAAhB;;AACA,UAAI,CAAC6oC,OAAO,CAACnmC,GAAG,CAACub,EAAL,CAAZ,EAAsB;AAClB4qB,QAAAA,OAAO,CAACnmC,GAAG,CAACub,EAAL,CAAP,GAAkB,IAAlB;AACA8qB,QAAAA,OAAO,CAACrmC,GAAG,CAACykC,IAAL,CAAP;AACA2B,QAAAA,KAAK,GAAGG,YAAY,CAACH,KAAD,EAAQpmC,GAAR,CAApB;AACH;AACJ;AACJ;;AACD,MAAIimC,UAAJ,EAAgB;AACZI,IAAAA,OAAO,CAACJ,UAAD,CAAP;AACH;;AACDI,EAAAA,OAAO,CAACH,UAAD,CAAP;AACA,SAAOE,KAAP;AACH;;AACD,SAASI,qBAAT,GAAiC;AAC7B,MAAIC,mBAAmB,GAAG,EAA1B;AACA,MAAIC,iBAAiB,GAAG,EAAxB;AACA,MAAIC,YAAJ;AACA,SAAO,UAAUC,YAAV,EAAwBV,UAAxB,EAAoC;AACvC,QAAI,CAACS,YAAD,IAAiB,CAACpiC,aAAa,CAACqiC,YAAD,EAAeH,mBAAf,CAA/B,IAAsE,CAACliC,aAAa,CAAC2hC,UAAD,EAAaQ,iBAAb,CAAxF,EAAyH;AACrHC,MAAAA,YAAY,GAAGX,gBAAgB,CAACY,YAAD,EAAeV,UAAf,CAA/B;AACH;;AACDO,IAAAA,mBAAmB,GAAGG,YAAtB;AACAF,IAAAA,iBAAiB,GAAGR,UAApB;AACA,WAAOS,YAAP;AACH,GAPD;AAQH;;AACD,SAASJ,YAAT,CAAsBM,MAAtB,EAA8BC,MAA9B,EAAsC;AAClC,SAAO;AACHpC,IAAAA,QAAQ,EAAEmC,MAAM,CAACnC,QAAP,CAAgB7oC,MAAhB,CAAuBirC,MAAM,CAACpC,QAA9B,CADP;AAEHC,IAAAA,cAAc,EAAEkC,MAAM,CAAClC,cAAP,CAAsB9oC,MAAtB,CAA6BirC,MAAM,CAACnC,cAApC,CAFb;AAGHC,IAAAA,WAAW,EAAEiC,MAAM,CAACjC,WAAP,CAAmB/oC,MAAnB,CAA0BirC,MAAM,CAAClC,WAAjC,CAHV;AAIHrsB,IAAAA,aAAa,EAAEtpB,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAACtuB,aAAZ,CAAT,EAAqCuuB,MAAM,CAACvuB,aAA5C,CAJpB;AAKH6D,IAAAA,oBAAoB,EAAEyqB,MAAM,CAACzqB,oBAAP,CAA4BvgB,MAA5B,CAAmCirC,MAAM,CAAC1qB,oBAA1C,CALnB;AAMHyL,IAAAA,mBAAmB,EAAE54B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAAChf,mBAAZ,CAAT,EAA2Cif,MAAM,CAACjf,mBAAlD,CAN1B;AAOHxG,IAAAA,uBAAuB,EAAEwlB,MAAM,CAACxlB,uBAAP,CAA+BxlB,MAA/B,CAAsCirC,MAAM,CAACzlB,uBAA7C,CAPtB;AAQHwjB,IAAAA,0BAA0B,EAAEgC,MAAM,CAAChC,0BAAP,CAAkChpC,MAAlC,CAAyCirC,MAAM,CAACjC,0BAAhD,CARzB;AASHze,IAAAA,wBAAwB,EAAEygB,MAAM,CAACzgB,wBAAP,CAAgCvqB,MAAhC,CAAuCirC,MAAM,CAAC1gB,wBAA9C,CATvB;AAUH0e,IAAAA,yBAAyB,EAAE+B,MAAM,CAAC/B,yBAAP,CAAiCjpC,MAAjC,CAAwCirC,MAAM,CAAChC,yBAA/C,CAVxB;AAWHC,IAAAA,mBAAmB,EAAE8B,MAAM,CAAC9B,mBAAP,CAA2BlpC,MAA3B,CAAkCirC,MAAM,CAAC/B,mBAAzC,CAXlB;AAYHxf,IAAAA,kBAAkB,EAAEshB,MAAM,CAACthB,kBAAP,CAA0B1pB,MAA1B,CAAiCirC,MAAM,CAACvhB,kBAAxC,CAZjB;AAaHxO,IAAAA,KAAK,EAAE9nB,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAAC9vB,KAAZ,CAAT,EAA6B+vB,MAAM,CAAC/vB,KAApC,CAbZ;AAcHiuB,IAAAA,qBAAqB,EAAE6B,MAAM,CAAC7B,qBAAP,CAA6BnpC,MAA7B,CAAoCirC,MAAM,CAAC9B,qBAA3C,CAdpB;AAeHC,IAAAA,YAAY,EAAE6B,MAAM,CAAC7B,YAAP,IAAuB4B,MAAM,CAAC5B,YAfzC;AAgBHC,IAAAA,qBAAqB,EAAE2B,MAAM,CAAC3B,qBAAP,CAA6BrpC,MAA7B,CAAoCirC,MAAM,CAAC5B,qBAA3C,CAhBpB;AAiBHC,IAAAA,oBAAoB,EAAE0B,MAAM,CAAC1B,oBAAP,CAA4BtpC,MAA5B,CAAmCirC,MAAM,CAAC3B,oBAA1C,CAjBnB;AAkBHC,IAAAA,qBAAqB,EAAEyB,MAAM,CAACzB,qBAAP,CAA6BvpC,MAA7B,CAAoCirC,MAAM,CAAC1B,qBAA3C,CAlBpB;AAmBHE,IAAAA,oBAAoB,EAAEuB,MAAM,CAACvB,oBAAP,CAA4BzpC,MAA5B,CAAmCirC,MAAM,CAACxB,oBAA1C,CAnBnB;AAoBHD,IAAAA,qBAAqB,EAAEwB,MAAM,CAACxB,qBAAP,CAA6BxpC,MAA7B,CAAoCirC,MAAM,CAACzB,qBAA3C,CApBpB;AAqBHE,IAAAA,YAAY,EAAEt2C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAACtB,YAAZ,CAAT,EAAoCuB,MAAM,CAACvB,YAA3C,CArBnB;AAsBHzd,IAAAA,eAAe,EAAE+e,MAAM,CAAC/e,eAAP,CAAuBjsB,MAAvB,CAA8BirC,MAAM,CAAChf,eAArC,CAtBd;AAuBHjc,IAAAA,YAAY,EAAEi7B,MAAM,CAACj7B,YAAP,IAAuBg7B,MAAM,CAACh7B,YAvBzC;AAwBH7M,IAAAA,cAAc,EAAE6nC,MAAM,CAAC7nC,cAAP,CAAsBnD,MAAtB,CAA6BirC,MAAM,CAAC9nC,cAApC,CAxBb;AAyBHwmC,IAAAA,kBAAkB,EAAEsB,MAAM,CAACtB,kBAAP,IAA6BqB,MAAM,CAACrB,kBAzBrD;AA0BH33B,IAAAA,WAAW,EAAEg5B,MAAM,CAACh5B,WAAP,IAAsBi5B,MAAM,CAACj5B,WA1BvC;AA2BH43B,IAAAA,mBAAmB,EAAEoB,MAAM,CAACpB,mBAAP,IAA8BqB,MAAM,CAACrB,mBA3BvD;AA4BHC,IAAAA,oBAAoB,EAAEz2C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAACnB,oBAAZ,CAAT,EAA4CoB,MAAM,CAACpB,oBAAnD,CA5B3B;AA6BHC,IAAAA,cAAc,EAAEmB,MAAM,CAACnB,cAAP,IAAyBkB,MAAM,CAAClB,cA7B7C;AA8BHC,IAAAA,mBAAmB,EAAE32C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAACjB,mBAAZ,CAAT,EAA2CkB,MAAM,CAAClB,mBAAlD,CA9B1B;AA+BHC,IAAAA,gBAAgB,EAAE52C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAAChB,gBAAZ,CAAT,EAAwCiB,MAAM,CAACjB,gBAA/C,CA/BvB;AAgCHC,IAAAA,cAAc,EAAE72C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAACf,cAAZ,CAAT,EAAsCgB,MAAM,CAAChB,cAA7C,CAhCrB;AAiCHC,IAAAA,eAAe,EAAE92C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK43C,MAAM,CAACd,eAAZ,CAAT,EAAuCe,MAAM,CAACf,eAA9C;AAjCtB,GAAP;AAmCH;;AAED,IAAIgB,aAAa;AAAG;AAAe,UAAUhH,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAAC43C,aAAD,EAAgBhH,MAAhB,CAAT;;AACA,WAASgH,aAAT,GAAyB;AACrB,WAAOhH,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD,SAAO6hC,aAAP;AACH,CANkC,CAMjCvG,KANiC,CAAnC;;AAOAuG,aAAa,CAAC78C,SAAd,CAAwBg3C,OAAxB,GAAkC;AAC9B8F,EAAAA,IAAI,EAAE,mBADwB;AAE9BC,EAAAA,eAAe,EAAE,gBAFa;AAG9BC,EAAAA,WAAW,EAAE,iBAHiB;AAI9BC,EAAAA,MAAM,EAAE,6BAJsB;AAK9BC,EAAAA,YAAY,EAAE;AALgB,CAAlC;AAOAL,aAAa,CAAC78C,SAAd,CAAwBo3C,aAAxB,GAAwC,SAAxC;AACAyF,aAAa,CAAC78C,SAAd,CAAwB42C,WAAxB,GAAsC;AAClCuG,EAAAA,KAAK,EAAE,WAD2B;AAElCjd,EAAAA,IAAI,EAAE,sBAF4B;AAGlCC,EAAAA,IAAI,EAAE,uBAH4B;AAIlCC,EAAAA,QAAQ,EAAE,uBAJwB;AAKlCE,EAAAA,QAAQ,EAAE;AALwB,CAAtC;AAOAuc,aAAa,CAAC78C,SAAd,CAAwBm3C,cAAxB,GAAyC;AACrCjX,EAAAA,IAAI,EAAE,uBAD+B;AAErCC,EAAAA,IAAI,EAAE,sBAF+B;AAGrCC,EAAAA,QAAQ,EAAE,wBAH2B;AAIrCE,EAAAA,QAAQ,EAAE;AAJ2B,CAAzC;AAMAuc,aAAa,CAAC78C,SAAd,CAAwBu2C,kBAAxB,GAA6C,aAA7C,EAA4D;;AAC5DsG,aAAa,CAAC78C,SAAd,CAAwBu3C,8BAAxB,GAAyD,MAAzD;AACAsF,aAAa,CAAC78C,SAAd,CAAwB+2C,kBAAxB,GAA6C,UAA7C;;AAEA,SAASqG,eAAT,CAAyBC,cAAzB,EAAyCC,eAAzC,EAA0D;AACtD,MAAItqC,IAAI,GAAG,EAAX;AACA,MAAIusB,QAAJ;;AACA,OAAKA,QAAL,IAAiB8d,cAAjB,EAAiC;AAC7BE,IAAAA,aAAa,CAAChe,QAAD,EAAWvsB,IAAX,EAAiBqqC,cAAjB,EAAiCC,eAAjC,CAAb;AACH;;AACD,OAAK/d,QAAL,IAAiB+d,eAAjB,EAAkC;AAC9BC,IAAAA,aAAa,CAAChe,QAAD,EAAWvsB,IAAX,EAAiBqqC,cAAjB,EAAiCC,eAAjC,CAAb;AACH;;AACD,SAAOtqC,IAAP;AACH;;AACD,SAASuqC,aAAT,CAAuBhe,QAAvB,EAAiCvsB,IAAjC,EAAuCqqC,cAAvC,EAAuDC,eAAvD,EAAwE;AACpE,MAAItqC,IAAI,CAACusB,QAAD,CAAR,EAAoB;AAChB,WAAOvsB,IAAI,CAACusB,QAAD,CAAX;AACH;;AACD,MAAIie,OAAO,GAAGC,YAAY,CAACle,QAAD,EAAWvsB,IAAX,EAAiBqqC,cAAjB,EAAiCC,eAAjC,CAA1B;;AACA,MAAIE,OAAJ,EAAa;AACTxqC,IAAAA,IAAI,CAACusB,QAAD,CAAJ,GAAiBie,OAAjB;AACH;;AACD,SAAOA,OAAP;AACH;;AACD,SAASC,YAAT,CAAsBle,QAAtB,EAAgCvsB,IAAhC,EAAsCqqC,cAAtC,EAAsDC,eAAtD,EAAuE;AACnE,MAAII,aAAa,GAAGL,cAAc,CAAC9d,QAAD,CAAlC;AACA,MAAIoe,cAAc,GAAGL,eAAe,CAAC/d,QAAD,CAApC;;AACA,MAAIqe,SAAS,GAAG,SAAZA,SAAY,CAAUh1C,IAAV,EAAgB;AAAE,WAAS80C,aAAa,IAAIA,aAAa,CAAC90C,IAAD,CAAb,KAAwB,IAA1C,GAAkD80C,aAAa,CAAC90C,IAAD,CAA/D,GACpC+0C,cAAc,IAAIA,cAAc,CAAC/0C,IAAD,CAAd,KAAyB,IAA5C,GAAoD+0C,cAAc,CAAC/0C,IAAD,CAAlE,GAA2E,IAD9C;AACuD,GADzF;;AAEA,MAAIi1C,YAAY,GAAGD,SAAS,CAAC,WAAD,CAA5B;AACA,MAAIE,SAAS,GAAGF,SAAS,CAAC,WAAD,CAAzB;AACA,MAAIG,QAAQ,GAAG,IAAf;;AACA,MAAID,SAAJ,EAAe;AACX,QAAIA,SAAS,KAAKve,QAAlB,EAA4B;AACxB,YAAM,IAAIhyB,KAAJ,CAAU,uDAAV,CAAN;AACH;;AACDwwC,IAAAA,QAAQ,GAAGR,aAAa,CAACO,SAAD,EAAY9qC,IAAZ,EAAkBqqC,cAAlB,EAAkCC,eAAlC,CAAxB;AACH;;AACD,MAAI,CAACO,YAAD,IAAiBE,QAArB,EAA+B;AAC3BF,IAAAA,YAAY,GAAGE,QAAQ,CAAC7wB,SAAxB;AACH;;AACD,MAAI,CAAC2wB,YAAL,EAAmB;AACf,WAAO,IAAP,CADe,CACF;AAChB;;AACD,SAAO;AACH76C,IAAAA,IAAI,EAAEu8B,QADH;AAEHrS,IAAAA,SAAS,EAAE2wB,YAFR;AAGHG,IAAAA,QAAQ,EAAEj5C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAMg5C,QAAQ,GAAGA,QAAQ,CAACC,QAAZ,GAAuB,EAArC,CAAT,EAAqDN,aAAa,GAAGA,aAAa,CAACO,UAAjB,GAA8B,EAAhG,CAHf;AAIHC,IAAAA,SAAS,EAAEn5C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAMg5C,QAAQ,GAAGA,QAAQ,CAACG,SAAZ,GAAwB,EAAtC,CAAT,EAAsDP,cAAc,GAAGA,cAAc,CAACM,UAAlB,GAA+B,EAAnG;AAJhB,GAAP;AAMH;AAED;AACA;;;AACA,IAAIE,UAAU;AAAG;AAAe,UAAUtI,MAAV,EAAkB;AAC9C5wC,EAAAA,gDAAS,CAACk5C,UAAD,EAAatI,MAAb,CAAT;;AACA,WAASsI,UAAT,GAAsB;AAClB,QAAIjjC,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACkjC,SAAN,GAAkBj5C,mDAAS,EAA3B;;AACA+V,IAAAA,KAAK,CAACmjC,YAAN,GAAqB,UAAU53C,EAAV,EAAc;AAC/BgzC,MAAAA,MAAM,CAACv+B,KAAK,CAACkjC,SAAP,EAAkB33C,EAAlB,CAAN;;AACA,UAAIyU,KAAK,CAACzS,KAAN,CAAY61C,KAAhB,EAAuB;AACnB7E,QAAAA,MAAM,CAACv+B,KAAK,CAACzS,KAAN,CAAY61C,KAAb,EAAoB73C,EAApB,CAAN;AACH;AACJ,KALD;;AAMA,WAAOyU,KAAP;AACH;;AACDijC,EAAAA,UAAU,CAACn+C,SAAX,CAAqBgC,MAArB,GAA8B,YAAY;AACtC,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIzS,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAI81C,SAAS,GAAG91C,KAAK,CAAC81C,SAAtB;AACA,WAAQn5C,uDAAa,CAACo5C,SAAD,EAAY;AAAED,MAAAA,SAAS,EAAEA,SAAb;AAAwB/wB,MAAAA,QAAQ,EAAE/kB,KAAK,CAAC+kB,QAAxC;AAAkDC,MAAAA,WAAW,EAAEhlB,KAAK,CAACglB,WAArE;AAAkF6wB,MAAAA,KAAK,EAAE,KAAKD;AAA9F,KAAZ,EAA0H,UAAUD,SAAV,EAAqB;AAAE,aAAQh5C,uDAAa,CAACq5C,WAAD,EAAc;AAAEF,QAAAA,SAAS,EAAEA,SAAb;AAAwBhxB,QAAAA,OAAO,EAAE9kB,KAAK,CAAC8kB,OAAvC;AAAgDmxB,QAAAA,cAAc,EAAEj2C,KAAK,CAACi2C,cAAtE;AAAsFC,QAAAA,WAAW,EAAEzjC,KAAK,CAACkjC;AAAzG,OAAd,EAAoI,UAAUQ,UAAV,EAAsBC,YAAtB,EAAoC;AAAE,eAAOp2C,KAAK,CAACJ,QAAN,CAAe+1C,SAAf,EAA0BU,mBAAmB,CAACr2C,KAAK,CAAC6kB,UAAP,EAAmBixB,SAAnB,CAA7C,EAA4EK,UAA5E,EAAwFC,YAAxF,CAAP;AAA+G,OAAzR,CAArB;AAAmT,KAApc,CAArB;AACH,GALD;;AAMA,SAAOV,UAAP;AACH,CApB+B,CAoB9B5E,aApB8B,CAAhC,EAqBA;AACA;;;AACA,IAAIwF,0BAA0B,GAAG75C,uDAAa,CAAC,CAAD,CAA9C;;AACA,SAASu5C,WAAT,CAAqBh2C,KAArB,EAA4B;AACxB,SAAQrD,uDAAa,CAAC25C,0BAA0B,CAACC,QAA5B,EAAsC,IAAtC,EAA4C,UAAUC,QAAV,EAAoB;AAAE,WAAQ75C,uDAAa,CAAC85C,gBAAD,EAAmBn6C,+CAAQ,CAAC;AAAEk6C,MAAAA,QAAQ,EAAEA;AAAZ,KAAD,EAAyBx2C,KAAzB,CAA3B,CAArB;AAAoF,GAAtJ,CAArB;AACH;;AACD,IAAIy2C,gBAAgB;AAAG;AAAe,UAAUrJ,MAAV,EAAkB;AACpD5wC,EAAAA,gDAAS,CAACi6C,gBAAD,EAAmBrJ,MAAnB,CAAT;;AACA,WAASqJ,gBAAT,GAA4B;AACxB,QAAIhkC,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC0jC,UAAN,GAAmBz5C,mDAAS,EAA5B;AACA,WAAO+V,KAAP;AACH;;AACDgkC,EAAAA,gBAAgB,CAACl/C,SAAjB,CAA2BgC,MAA3B,GAAoC,YAAY;AAC5C,WAAO,KAAKyG,KAAL,CAAWJ,QAAX,CAAoB,KAAKu2C,UAAzB,EAAqC,KAAKO,kBAAL,EAArC,CAAP;AACH,GAFD;;AAGAD,EAAAA,gBAAgB,CAACl/C,SAAjB,CAA2Bo/C,iBAA3B,GAA+C,YAAY;AACvD,SAAKC,mBAAL;AACH,GAFD;;AAGAH,EAAAA,gBAAgB,CAACl/C,SAAjB,CAA2Bs/C,kBAA3B,GAAgD,YAAY;AACxD,SAAKD,mBAAL;AACH,GAFD;;AAGAH,EAAAA,gBAAgB,CAACl/C,SAAjB,CAA2Bu/C,oBAA3B,GAAkD,YAAY;AAC1D,QAAI,KAAKC,iBAAL,IAA0B,KAAKA,iBAAL,CAAuB/8C,OAArD,EAA8D;AAC1D,WAAK+8C,iBAAL,CAAuB/8C,OAAvB;AACH;AACJ,GAJD;;AAKAy8C,EAAAA,gBAAgB,CAACl/C,SAAjB,CAA2Bm/C,kBAA3B,GAAgD,YAAY;AACxD,QAAIzD,mBAAmB,GAAG,KAAKl2C,OAAL,CAAaiQ,WAAb,CAAyBimC,mBAAnD;;AACA,QAAIzyC,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiC+2C,iBAAiB,GAAGv2C,EAAE,CAACu2C,iBAAxD;;AACA,QAAIC,MAAM,GAAGh3C,KAAK,CAAC8kB,OAAnB;AACA,QAAIsxB,YAAY,GAAGa,gBAAgB,CAACD,MAAD,EAASh3C,KAAK,CAAC81C,SAAf,CAAnC;AACA,QAAIoB,gBAAgB,GAAG,IAAvB;;AACA,QAAId,YAAY,KAAKhsC,SAArB,EAAgC;AAAE;AAC9BgsC,MAAAA,YAAY,GAAGa,gBAAgB,CAACj3C,KAAK,CAACi2C,cAAP,EAAuBj2C,KAAK,CAAC81C,SAA7B,CAA/B;AACH;;AACD,QAAIM,YAAY,KAAKhsC,SAArB,EAAgC;AAAE;AAC9B,UAAI2sC,iBAAJ,EAAuB;AACnBA,QAAAA,iBAAiB,CAACI,UAAlB,GAA+Bf,YAAY,CAACW,iBAAiB,CAACK,UAAnB,CAA3C;AACH,OAFD,MAGK,IAAI,OAAOhB,YAAP,KAAwB,QAA5B,EAAsC;AACvC;AACA,aAAK,IAAIgB,UAAT,IAAuBnE,mBAAvB,EAA4C;AACxC,cAAImD,YAAY,CAACgB,UAAD,CAAZ,KAA6BhtC,SAAjC,EAA4C;AACxC,gBAAIm7B,KAAK,GAAG0N,mBAAmB,CAACmE,UAAD,CAAnB,EAAZ;AACAL,YAAAA,iBAAiB,GAAG,KAAKA,iBAAL,GAAyBz6C,+CAAQ,CAAC;AAAE86C,cAAAA,UAAU,EAAEA,UAAd;AAA0BD,cAAAA,UAAU,EAAEf,YAAY,CAACgB,UAAD;AAAlD,aAAD,EAAmE7R,KAAnE,CAArD;AACA;AACH;AACJ;AACJ;;AACD,UAAIwR,iBAAJ,EAAuB;AACnBG,QAAAA,gBAAgB,GAAG,EAAnB,CADmB,CACI;AAC1B,OAFD,MAGK;AACDA,QAAAA,gBAAgB,GAAGd,YAAnB,CADC,CACgC;AACpC;AACJ;;AACD,WAAOc,gBAAP;AACH,GA/BD;;AAgCAT,EAAAA,gBAAgB,CAACl/C,SAAjB,CAA2Bq/C,mBAA3B,GAAiD,YAAY;AACzD,QAAI,KAAKG,iBAAT,EAA4B;AACxB,WAAKA,iBAAL,CAAuBx9C,MAAvB,CAA8B,KAAK48C,UAAL,CAAgBjF,OAAhB,IAA2B,KAAKlxC,KAAL,CAAWk2C,WAAX,CAAuBhF,OAAhF,EAAyF;AACzF,WAAK6F,iBAAL,CAAuBI,UADvB;AAEH;AACJ,GALD;;AAMA,SAAOV,gBAAP;AACH,CA5DqC,CA4DpC3F,aA5DoC,CAAtC;;AA6DA,IAAIiF,SAAS;AAAG;AAAe,UAAU3I,MAAV,EAAkB;AAC7C5wC,EAAAA,gDAAS,CAACu5C,SAAD,EAAY3I,MAAZ,CAAT;;AACA,WAAS2I,SAAT,GAAqB;AACjB,QAAItjC,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACmjC,YAAN,GAAqB,UAAUyB,MAAV,EAAkB;AACnC5kC,MAAAA,KAAK,CAAC4kC,MAAN,GAAeA,MAAf;;AACA,UAAI5kC,KAAK,CAACzS,KAAN,CAAY61C,KAAhB,EAAuB;AACnB7E,QAAAA,MAAM,CAACv+B,KAAK,CAACzS,KAAN,CAAY61C,KAAb,EAAoBwB,MAApB,CAAN;AACH;AACJ,KALD;;AAMA,WAAO5kC,KAAP;AACH;;AACDsjC,EAAAA,SAAS,CAACx+C,SAAV,CAAoBgC,MAApB,GAA6B,YAAY;AACrC,WAAO,KAAKyG,KAAL,CAAWJ,QAAX,CAAoB,KAAKg2C,YAAzB,CAAP;AACH,GAFD;;AAGAG,EAAAA,SAAS,CAACx+C,SAAV,CAAoBo/C,iBAApB,GAAwC,YAAY;AAChD,QAAI70C,QAAQ,GAAG,KAAK9B,KAAL,CAAW+kB,QAA1B;;AACA,QAAIjjB,QAAJ,EAAc;AACVA,MAAAA,QAAQ,CAACxF,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK,KAAK0D,KAAL,CAAW81C,SAAhB,CAAT,EAAqC;AAAE93C,QAAAA,EAAE,EAAE,KAAKq5C;AAAX,OAArC,CAAT,CAAR;AACH;AACJ,GALD;;AAMAtB,EAAAA,SAAS,CAACx+C,SAAV,CAAoBu/C,oBAApB,GAA2C,YAAY;AACnD,QAAIh1C,QAAQ,GAAG,KAAK9B,KAAL,CAAWglB,WAA1B;;AACA,QAAIljB,QAAJ,EAAc;AACVA,MAAAA,QAAQ,CAACxF,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK,KAAK0D,KAAL,CAAW81C,SAAhB,CAAT,EAAqC;AAAE93C,QAAAA,EAAE,EAAE,KAAKq5C;AAAX,OAArC,CAAT,CAAR;AACH;AACJ,GALD;;AAMA,SAAOtB,SAAP;AACH,CA5B8B,CA4B7BjF,aA5B6B,CAA/B;;AA6BA,SAASwG,wBAAT,GAAoC;AAChC,MAAIC,gBAAJ;AACA,MAAIC,gBAAJ;AACA,MAAIC,iBAAiB,GAAG,EAAxB;AACA,SAAO,UAAUC,SAAV,EAAqB5B,SAArB,EAAgC;AACnC,QAAI,CAAC0B,gBAAD,IAAqB,CAACtsC,YAAY,CAACssC,gBAAD,EAAmB1B,SAAnB,CAAlC,IAAmE4B,SAAS,KAAKH,gBAArF,EAAuG;AACnGA,MAAAA,gBAAgB,GAAGG,SAAnB;AACAF,MAAAA,gBAAgB,GAAG1B,SAAnB;AACA2B,MAAAA,iBAAiB,GAAGpB,mBAAmB,CAACqB,SAAD,EAAY5B,SAAZ,CAAvC;AACH;;AACD,WAAO2B,iBAAP;AACH,GAPD;AAQH;;AACD,SAASpB,mBAAT,CAA6BxxB,UAA7B,EAAyCixB,SAAzC,EAAoD;AAChD,MAAI,OAAOjxB,UAAP,KAAsB,UAA1B,EAAsC;AAClCA,IAAAA,UAAU,GAAGA,UAAU,CAACixB,SAAD,CAAvB;AACH;;AACD,SAAOzuB,eAAe,CAACxC,UAAD,CAAtB;AACH;;AACD,SAASoyB,gBAAT,CAA0Bx/C,KAA1B,EAAiCq+C,SAAjC,EAA4C;AACxC,MAAI,OAAOr+C,KAAP,KAAiB,UAArB,EAAiC;AAC7B,WAAOA,KAAK,CAACq+C,SAAD,EAAYn5C,mDAAZ,CAAZ,CAD6B,CACW;AAC3C;;AACD,SAAOlF,KAAP;AACH;;AAED,IAAIkgD,QAAQ;AAAG;AAAe,UAAUvK,MAAV,EAAkB;AAC5C5wC,EAAAA,gDAAS,CAACm7C,QAAD,EAAWvK,MAAX,CAAT;;AACA,WAASuK,QAAT,GAAoB;AAChB,QAAIllC,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC4jC,mBAAN,GAA4BiB,wBAAwB,EAApD;AACA,WAAO7kC,KAAP;AACH;;AACDklC,EAAAA,QAAQ,CAACpgD,SAAT,CAAmBgC,MAAnB,GAA4B,YAAY;AACpC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AACA,QAAI48C,SAAS,GAAG;AAAEtjB,MAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAAhB,KAAhB;AACA,QAAImlB,gBAAgB,GAAG,KAAKvB,mBAAL,CAAyBn9C,OAAO,CAAC2iB,cAAjC,EAAiDi6B,SAAjD,CAAvB;AACA,WAAQn5C,uDAAa,CAACo5C,SAAD,EAAY;AAAED,MAAAA,SAAS,EAAEA,SAAb;AAAwB/wB,MAAAA,QAAQ,EAAE7rB,OAAO,CAAC4iB,YAA1C;AAAwDkJ,MAAAA,WAAW,EAAE9rB,OAAO,CAAC6iB,eAA7E;AAA8F85B,MAAAA,KAAK,EAAE71C,KAAK,CAAC61C;AAA3G,KAAZ,EAAgI,UAAUF,SAAV,EAAqB;AAAE,aAAO31C,KAAK,CAACJ,QAAN,CAAe+1C,SAAf,EAA0B,CAAC,QAAQ31C,KAAK,CAAC2vC,QAAN,CAAep1C,IAAvB,GAA8B,OAA/B,EAAwC,SAAxC,EAAmD2O,MAAnD,CAA0D0uC,gBAA1D,CAA1B,CAAP;AAAgH,KAAvQ,CAArB;AACH,GAND;;AAOA,SAAOD,QAAP;AACH,CAf6B,CAe5B7G,aAf4B,CAA9B;;AAiBA,SAAS+G,gBAAT,CAA0Bp9C,MAA1B,EAAkC;AAC9B,SAAO1C,OAAO,CAAC0C,MAAD,EAASq9C,eAAT,CAAd;AACH;;AACD,SAASA,eAAT,CAAyBrgD,KAAzB,EAAgC;AAC5B,MAAI+9C,UAAU,GAAG,OAAO/9C,KAAP,KAAiB,UAAjB,GACb;AAAEgtB,IAAAA,SAAS,EAAEhtB;AAAb,GADa,GAEbA,KAFJ;AAGA,MAAIgtB,SAAS,GAAG+wB,UAAU,CAAC/wB,SAA3B;;AACA,MAAI+wB,UAAU,CAAC1wB,OAAf,EAAwB;AACpBL,IAAAA,SAAS,GAAGszB,uBAAuB,CAACvC,UAAD,CAAnC,CADoB,CAEpB;AACH;;AACD,SAAO;AACHH,IAAAA,SAAS,EAAEG,UAAU,CAACj7C,IADnB;AAEHkqB,IAAAA,SAAS,EAAEA,SAFR;AAGH+wB,IAAAA,UAAU,EAAEA;AAHT,GAAP;AAKH;;AACD,SAASuC,uBAAT,CAAiC7+C,OAAjC,EAA0C;AACtC,SAAO,UAAU8+C,SAAV,EAAqB;AAAE,WAAQr7C,uDAAa,CAAC8yC,eAAe,CAAC8G,QAAjB,EAA2B,IAA3B,EAAiC,UAAUx5C,OAAV,EAAmB;AAAE,aAAQJ,uDAAa,CAACg7C,QAAD,EAAW;AAAEhI,QAAAA,QAAQ,EAAE5yC,OAAO,CAAC4yC;AAApB,OAAX,EAA2C,UAAUsI,SAAV,EAAqBp8B,cAArB,EAAqC;AAC1M,YAAIi6B,SAAS,GAAGx5C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK07C,SAAL,CAAT,EAA0B;AAAEp+B,UAAAA,gBAAgB,EAAE7c,OAAO,CAAC7D,OAAR,CAAgB0gB;AAApC,SAA1B,CAAxB;;AACA,eAAQjd,uDAAa,CAAC+4C,UAAD,EAAa;AAAEI,UAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,UAAAA,UAAU,EAAE3rB,OAAO,CAAC2rB,UAA5C;AAAwDC,UAAAA,OAAO,EAAE5rB,OAAO,CAAC4rB,OAAzE;AAAkFC,UAAAA,QAAQ,EAAE7rB,OAAO,CAAC6rB,QAApG;AAA8GC,UAAAA,WAAW,EAAE9rB,OAAO,CAAC8rB,WAAnI;AAAgJ6wB,UAAAA,KAAK,EAAEoC;AAAvJ,SAAb,EAAiL,UAAUtC,SAAV,EAAqBiC,gBAArB,EAAuCzB,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,iBAAQz5C,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,YAAAA,SAAS,EAAE/L,cAAc,CAAC3S,MAAf,CAAsB0uC,gBAAtB,EAAwCngC,IAAxC,CAA6C,GAA7C,CAAb;AAAgEw5B,YAAAA,GAAG,EAAE0E;AAArE,WAAR,EAA0FS,YAA1F,CAArB;AAAgI,SAApX,CAArB;AACH,OAH6H,CAArB;AAGnG,KAH6C,CAArB;AAGnB,GAHX;AAIH;;AAED,SAAS8B,cAAT,CAAwBC,aAAxB,EAAuCC,eAAvC,EAAwDC,sBAAxD,EAAgFC,cAAhF,EAAgG;AAC5F,MAAI1D,cAAc,GAAGiD,gBAAgB,CAACM,aAAD,CAArC;AACA,MAAItD,eAAe,GAAGgD,gBAAgB,CAACO,eAAe,CAACh0B,KAAjB,CAAtC;AACA,MAAIm0B,QAAQ,GAAG5D,eAAe,CAACC,cAAD,EAAiBC,eAAjB,CAA9B;AACA,SAAO98C,OAAO,CAACwgD,QAAD,EAAW,UAAUxD,OAAV,EAAmB;AAAE,WAAOyD,aAAa,CAACzD,OAAD,EAAUF,eAAV,EAA2BuD,eAA3B,EAA4CC,sBAA5C,EAAoEC,cAApE,CAApB;AAA0G,GAA1I,CAAd;AACH;;AACD,SAASE,aAAT,CAAuBzD,OAAvB,EAAgCF,eAAhC,EAAiDuD,eAAjD,EAAkEC,sBAAlE,EAA0FC,cAA1F,EAA0G;AACtG,MAAIG,aAAa,GAAG1D,OAAO,CAACU,SAAR,CAAkB/oC,QAAlB,IAChBqoC,OAAO,CAACQ,QAAR,CAAiB7oC,QADD,IAEhB2rC,sBAAsB,CAAC3rC,QAFP,IAGhB0rC,eAAe,CAAC1rC,QAHpB;AAIA,MAAIA,QAAQ,GAAG,IAAf;AACA,MAAIgsC,YAAY,GAAG,EAAnB;AACA,MAAIlhB,UAAU,GAAG,EAAjB;AACA,MAAImhB,mBAAmB,GAAG,EAA1B;;AACA,MAAIF,aAAJ,EAAmB;AACf/rC,IAAAA,QAAQ,GAAGksC,oBAAoB,CAACH,aAAD,CAA/B;;AACA,QAAI/rC,QAAJ,EAAc;AAAE;AACZ,UAAImsC,KAAK,GAAGnoC,2BAA2B,CAAChE,QAAD,CAAvC;AACAgsC,MAAAA,YAAY,GAAGG,KAAK,CAACxqC,IAArB;;AACA,UAAIwqC,KAAK,CAACloC,KAAN,KAAgB,CAApB,EAAuB;AACnB6mB,QAAAA,UAAU,GAAGkhB,YAAb;AACAC,QAAAA,mBAAmB,GAAG9D,eAAe,CAAC6D,YAAD,CAAf,GAAgC7D,eAAe,CAAC6D,YAAD,CAAf,CAA8BlD,UAA9D,GAA2E,EAAjG;AACH;AACJ;AACJ;;AACD,MAAIsD,eAAe,GAAG,SAAlBA,eAAkB,CAAUC,aAAV,EAAyB;AAC3C,QAAIC,aAAa,GAAGD,aAAa,CAAC50B,UAAd,IAA4B,EAAhD;AACA,QAAIO,aAAa,GAAGqwB,OAAO,CAACQ,QAAR,CAAiB7wB,aAArC;;AACA,QAAIA,aAAa,IAAI,IAAjB,IAAyBs0B,aAAa,CAACt0B,aAAD,CAAb,IAAgC,IAA7D,EAAmE;AAC/D,aAAOs0B,aAAa,CAACt0B,aAAD,CAApB;AACH;;AACD,QAAIs0B,aAAa,CAACjE,OAAO,CAACx6C,IAAT,CAAb,IAA+B,IAAnC,EAAyC;AACrC,aAAOy+C,aAAa,CAACjE,OAAO,CAACx6C,IAAT,CAApB;AACH;;AACD,QAAIy+C,aAAa,CAACxhB,UAAD,CAAb,IAA6B,IAAjC,EAAuC;AACnC,aAAOwhB,aAAa,CAACxhB,UAAD,CAApB;AACH;;AACD,WAAO,IAAP;AACH,GAbD;;AAcA,SAAO;AACHj9B,IAAAA,IAAI,EAAEw6C,OAAO,CAACx6C,IADX;AAEHkqB,IAAAA,SAAS,EAAEswB,OAAO,CAACtwB,SAFhB;AAGH/X,IAAAA,QAAQ,EAAEA,QAHP;AAIHgsC,IAAAA,YAAY,EAAEA,YAJX;AAKHlhB,IAAAA,UAAU,EAAEA,UALT;AAMHyhB,IAAAA,cAAc,EAAElE,OAAO,CAACQ,QANrB;AAOH6C,IAAAA,eAAe,EAAE97C,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKq8C,mBAAL,CAAT,EAAoC5D,OAAO,CAACU,SAA5C,CAPtB;AAQHyD,IAAAA,kBAAkB,EAAEJ,eAAe,CAACT,sBAAD,CAAf,IAChBS,eAAe,CAACV,eAAD,CADC,IACoB;AACpCrD,IAAAA,OAAO,CAACU,SAAR,CAAkBtxB,UAVnB;AAWHg1B,IAAAA,iBAAiB,EAAEL,eAAe,CAACR,cAAD,CAAf,IACfvD,OAAO,CAACQ,QAAR,CAAiBpxB,UADF,IAEf20B,eAAe,CAACl2B,oBAAD,CAFA,IAGfmyB,OAAO,CAACx6C,IAdT,CAce;;AAdf,GAAP;AAgBH,EACD;;;AACA,IAAI6+C,gBAAgB,GAAG,EAAvB;;AACA,SAASR,oBAAT,CAA8BH,aAA9B,EAA6C;AACzC,MAAIY,IAAI,GAAGrT,IAAI,CAACC,SAAL,CAAewS,aAAf,CAAX;AACA,MAAIzsC,GAAG,GAAGotC,gBAAgB,CAACC,IAAD,CAA1B;;AACA,MAAIrtC,GAAG,KAAK5B,SAAZ,EAAuB;AACnB4B,IAAAA,GAAG,GAAGoC,cAAc,CAACqqC,aAAD,CAApB;AACAW,IAAAA,gBAAgB,CAACC,IAAD,CAAhB,GAAyBrtC,GAAzB;AACH;;AACD,SAAOA,GAAP;AACH;;AAED,IAAIstC,oBAAoB;AAAG;AAAe,YAAY;AAClD,WAASA,oBAAT,CAA8Bt5C,KAA9B,EAAqC;AACjC,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAK8vB,OAAL,GAAe6F,MAAM,CAAC31B,KAAK,CAAC41B,QAAP,EAAiB51B,KAAK,CAACoM,OAAvB,CAArB;AACA,SAAKmtC,cAAL;AACH;AACD;AACJ;AACI;;;AACAD,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BiiD,SAA/B,GAA2C,UAAUC,kBAAV,EAA8BnkB,WAA9B,EAA2CokB,YAA3C,EAAyD;AAChG,QAAIttC,OAAO,GAAG,KAAKpM,KAAL,CAAWoM,OAAzB;AACA,QAAIutC,QAAQ,GAAGvtC,OAAO,CAAC6B,QAAR,CAAiB7B,OAAO,CAACyxB,OAAR,CAAgBvI,WAAhB,EAA6BmkB,kBAAkB,CAACG,gBAAhD,CAAjB,EAAoF;AACnGH,IAAAA,kBAAkB,CAAC13B,aADJ,CAAf;AAEA,WAAO,KAAK83B,KAAL,CAAWF,QAAX,EAAqB,CAAC,CAAtB,EAAyBD,YAAzB,CAAP;AACH,GALD,CATkD,CAelD;;;AACAJ,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BuiD,SAA/B,GAA2C,UAAUL,kBAAV,EAA8BnkB,WAA9B,EAA2CokB,YAA3C,EAAyD;AAChG,QAAIttC,OAAO,GAAG,KAAKpM,KAAL,CAAWoM,OAAzB;AACA,QAAI2tC,QAAQ,GAAG3tC,OAAO,CAAC5J,GAAR,CAAY4J,OAAO,CAACyxB,OAAR,CAAgBvI,WAAhB,EAA6BmkB,kBAAkB,CAACG,gBAAhD,CAAZ,EAA+E;AAC9FH,IAAAA,kBAAkB,CAAC13B,aADJ,CAAf;AAEA,WAAO,KAAK83B,KAAL,CAAWE,QAAX,EAAqB,CAArB,EAAwBL,YAAxB,CAAP;AACH,GALD,CAhBkD,CAsBlD;AACA;AACA;;;AACAJ,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BsiD,KAA/B,GAAuC,UAAUvkB,WAAV,EAAuB/d,SAAvB,EAAkCmiC,YAAlC,EAAgD;AACnF,QAAIA,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,MAAAA,YAAY,GAAG,IAAf;AAAsB;;AACrD,QAAI15C,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAImiB,UAAJ;AACA,QAAI63B,WAAJ;AACA,QAAIC,aAAJ;AACA,QAAIC,WAAJ;AACA,QAAIhmB,WAAJ;AACA,QAAIimB,OAAJ;AACAh4B,IAAAA,UAAU,GAAG,KAAKi4B,eAAL,EAAb;AACAj4B,IAAAA,UAAU,GAAG,KAAKk4B,cAAL,CAAoBl4B,UAApB,CAAb;;AACA,QAAIu3B,YAAJ,EAAkB;AACdpkB,MAAAA,WAAW,GAAGjJ,sBAAsB,CAACiJ,WAAD,EAAcnT,UAAd,CAApC;AACH;;AACD63B,IAAAA,WAAW,GAAG,KAAKM,qBAAL,CAA2BhlB,WAA3B,EAAwC/d,SAAxC,CAAd;AACA0iC,IAAAA,aAAa,GAAG,0BAA0B55C,IAA1B,CAA+B25C,WAAW,CAAC3rC,IAA3C,CAAhB;AACA6rC,IAAAA,WAAW,GAAG,KAAKK,gBAAL,CAAsB,KAAKF,cAAL,CAAoBL,WAAW,CAACvwC,KAAhC,CAAtB,EAA8DuwC,WAAW,CAAC3rC,IAA1E,EAAgF4rC,aAAhF,CAAd;AACAC,IAAAA,WAAW,GAAG,KAAKG,cAAL,CAAoBH,WAApB,CAAd;AACAhmB,IAAAA,WAAW,GAAGgmB,WAAd;;AACA,QAAI,CAACl6C,KAAK,CAACqc,mBAAX,EAAgC;AAC5B6X,MAAAA,WAAW,GAAGrI,eAAe,CAACqI,WAAD,EAAc8lB,WAAW,CAACvwC,KAA1B,CAA7B;AACH;;AACDyqB,IAAAA,WAAW,GAAG,KAAKsmB,iBAAL,CAAuBtmB,WAAvB,CAAd;AACAA,IAAAA,WAAW,GAAGrI,eAAe,CAACqI,WAAD,EAAc/R,UAAd,CAA7B,CAvBmF,CAuB3B;AACxD;AACA;;AACAg4B,IAAAA,OAAO,GAAGnuB,eAAe,CAACguB,WAAW,CAACvwC,KAAb,EAAoB0Y,UAApB,CAAzB;AACA,WAAO;AACH;AACA;AACAA,MAAAA,UAAU,EAAEA,UAHT;AAIH;AACA;AACAgS,MAAAA,YAAY,EAAE6lB,WAAW,CAACvwC,KANvB;AAOH;AACAmwC,MAAAA,gBAAgB,EAAEI,WAAW,CAAC3rC,IAR3B;AASH4rC,MAAAA,aAAa,EAAEA,aATZ;AAUH;AACA;AACA/lB,MAAAA,WAAW,EAAEA,WAZV;AAaH;AACA;AACAgmB,MAAAA,WAAW,EAAEA,WAfV;AAgBH;AACAlgC,MAAAA,WAAW,EAAEha,KAAK,CAACga,WAjBhB;AAkBH;AACAC,MAAAA,WAAW,EAAEja,KAAK,CAACia,WAnBhB;AAoBHkgC,MAAAA,OAAO,EAAEA,OApBN;AAqBH;AACAp4B,MAAAA,aAAa,EAAE,KAAK04B,kBAAL,CAAwBT,WAAW,CAACttC,QAApC,CAtBZ,CAuBH;;AAvBG,KAAP;AAyBH,GApDD,CAzBkD,CA8ElD;AACA;AACA;;;AACA4sC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+B6iD,eAA/B,GAAiD,YAAY;AACzD,QAAI3iD,KAAK,GAAG,KAAKuI,KAAL,CAAW06C,eAAvB;AACA,QAAIC,WAAW,GAAG,OAAOljD,KAAP,KAAiB,UAAjB,GACZA,KAAK,CAACU,IAAN,CAAW,KAAK6H,KAAL,CAAW0yB,WAAtB,EAAmC,KAAK5C,OAAxC,CADY,GAEZr4B,KAFN;AAGA,WAAO,KAAKmjD,WAAL,CAAiBD,WAAjB,KACH;AAAEhtC,MAAAA,KAAK,EAAE,IAAT;AAAeC,MAAAA,GAAG,EAAE;AAApB,KADJ,CALyD,CAMzB;AACnC,GAPD,CAjFkD,CAyFlD;AACA;AACA;AACA;;;AACA0rC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+B+iD,qBAA/B,GAAuD,UAAU9xC,IAAV,EAAgB+O,SAAhB,EAA2B;AAC9E,QAAIvX,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAI0M,QAAQ,GAAG,IAAf;AACA,QAAI2B,IAAI,GAAG,IAAX;AACA,QAAI5E,KAAK,GAAG,IAAZ;AACA,QAAIoY,QAAJ;;AACA,QAAI7hB,KAAK,CAAC0M,QAAV,EAAoB;AAChBA,MAAAA,QAAQ,GAAG1M,KAAK,CAAC0M,QAAjB;AACA2B,MAAAA,IAAI,GAAGrO,KAAK,CAAC04C,YAAb;AACAjvC,MAAAA,KAAK,GAAG,KAAKoxC,sBAAL,CAA4BryC,IAA5B,EAAkC+O,SAAlC,EAA6C7K,QAA7C,EAAuD2B,IAAvD,CAAR;AACH,KAJD,MAKK,IAAKwT,QAAQ,GAAG,KAAK7hB,KAAL,CAAW6hB,QAA3B,EAAsC;AACvCxT,MAAAA,IAAI,GAAG,KAAP;AACA5E,MAAAA,KAAK,GAAG,KAAKqxC,sBAAL,CAA4BtyC,IAA5B,EAAkC+O,SAAlC,EAA6CsK,QAA7C,CAAR;AACH,KAHI,MAIA,IAAKpY,KAAK,GAAG,KAAKsxC,uBAAL,CAA6BvyC,IAA7B,CAAb,EAAkD;AACnD6F,MAAAA,IAAI,GAAGrO,KAAK,CAACoM,OAAN,CAAcsxB,iBAAd,CAAgCj0B,KAAK,CAACkE,KAAtC,EAA6ClE,KAAK,CAACmE,GAAnD,EAAwDS,IAA/D;AACH,KAFI,MAGA;AACD3B,MAAAA,QAAQ,GAAG,KAAKsuC,mBAAL,EAAX;AACA3sC,MAAAA,IAAI,GAAGqC,2BAA2B,CAAChE,QAAD,CAA3B,CAAsC2B,IAA7C;AACA5E,MAAAA,KAAK,GAAG,KAAKoxC,sBAAL,CAA4BryC,IAA5B,EAAkC+O,SAAlC,EAA6C7K,QAA7C,EAAuD2B,IAAvD,CAAR;AACH;;AACD,WAAO;AAAE3B,MAAAA,QAAQ,EAAEA,QAAZ;AAAsB2B,MAAAA,IAAI,EAAEA,IAA5B;AAAkC5E,MAAAA,KAAK,EAAEA;AAAzC,KAAP;AACH,GAxBD;;AAyBA6vC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+ByjD,mBAA/B,GAAqD,YAAY;AAC7D,WAAO5sC,cAAc,CAAC;AAAEQ,MAAAA,GAAG,EAAE;AAAP,KAAD,CAArB;AACH,GAFD,CAtHkD,CAyHlD;AACA;;;AACA0qC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BijD,iBAA/B,GAAmD,UAAU/wC,KAAV,EAAiB;AAChE,QAAIjJ,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqBoM,OAAO,GAAG5L,EAAE,CAAC4L,OAAlC;AAAA,QAA2CwY,cAAc,GAAGpkB,EAAE,CAACokB,cAA/D;AAAA,QAA+E5K,WAAW,GAAGxZ,EAAE,CAACwZ,WAAhG;AAAA,QAA6GC,WAAW,GAAGzZ,EAAE,CAACyZ,WAA9H;AACA,QAAItM,KAAK,GAAGlE,KAAK,CAACkE,KAAlB;AAAA,QAAyBC,GAAG,GAAGnE,KAAK,CAACmE,GAArC;;AACA,QAAIgX,cAAJ,EAAoB;AAChB;AACA,UAAI3U,WAAW,CAAC+J,WAAD,CAAX,GAA2B,CAA/B,EAAkC;AAC9BrM,QAAAA,KAAK,GAAG1H,UAAU,CAAC0H,KAAD,CAAlB,CAD8B,CACH;;AAC3BA,QAAAA,KAAK,GAAGvB,OAAO,CAAC5J,GAAR,CAAYmL,KAAZ,EAAmBqM,WAAnB,CAAR;AACH,OALe,CAMhB;;;AACA,UAAI/J,WAAW,CAACgK,WAAD,CAAX,GAA2B,CAA/B,EAAkC;AAC9BrM,QAAAA,GAAG,GAAG3H,UAAU,CAAC2H,GAAD,CAAhB,CAD8B,CACP;;AACvBA,QAAAA,GAAG,GAAGtI,OAAO,CAACsI,GAAD,EAAM,CAAC,CAAP,CAAb;AACAA,QAAAA,GAAG,GAAGxB,OAAO,CAAC5J,GAAR,CAAYoL,GAAZ,EAAiBqM,WAAjB,CAAN;AACH;AACJ;;AACD,WAAO;AAAEtM,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,GAAG,EAAEA;AAArB,KAAP;AACH,GAjBD,CA3HkD,CA6IlD;AACA;;;AACA0rC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BsjD,sBAA/B,GAAwD,UAAUryC,IAAV,EAAgB+O,SAAhB,EAA2B7K,QAA3B,EAAqC2B,IAArC,EAA2C;AAC/F,QAAI7N,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqBoM,OAAO,GAAG5L,EAAE,CAAC4L,OAAlC;AAAA,QAA2C0V,aAAa,GAAGthB,EAAE,CAACshB,aAA9D;AACA,QAAInU,KAAJ;AACA,QAAIC,GAAJ;AACA,QAAI5B,GAAJ,CAJ+F,CAK/F;;AACA,QAAI,CAAC8V,aAAL,EAAoB;AAChB,UAAIC,aAAa,GAAG,KAAK/hB,KAAL,CAAW+hB,aAA/B;;AACA,UAAIA,aAAJ,EAAmB;AACf;AACA,YAAI5R,SAAS,CAAC4R,aAAD,CAAT,GAA2B5R,SAAS,CAACzD,QAAD,CAAxC,EAAoD;AAChDoV,UAAAA,aAAa,GAAGpR,2BAA2B,CAACqR,aAAD,CAA3B,CAA2C1T,IAA3D;AACH,SAFD,MAGK;AACDyT,UAAAA,aAAa,GAAGzT,IAAhB;AACH;AACJ,OARD,MASK;AACDyT,QAAAA,aAAa,GAAGzT,IAAhB;AACH;AACJ,KApB8F,CAqB/F;;;AACA,QAAI4B,WAAW,CAACvD,QAAD,CAAX,IAAyB,CAA7B,EAAgC;AAC5B,UAAI,KAAKuuC,WAAL,CAAiBttC,KAAjB,CAAJ,EAA6B;AACzBA,QAAAA,KAAK,GAAG,KAAKutC,cAAL,CAAoBvtC,KAApB,EAA2B4J,SAA3B,CAAR;AACA5J,QAAAA,KAAK,GAAG1H,UAAU,CAAC0H,KAAD,CAAlB;AACH;AACJ;;AACD,aAASwtC,UAAT,GAAsB;AAClBxtC,MAAAA,KAAK,GAAGvB,OAAO,CAACyxB,OAAR,CAAgBr1B,IAAhB,EAAsBsZ,aAAtB,CAAR;AACAlU,MAAAA,GAAG,GAAGxB,OAAO,CAAC5J,GAAR,CAAYmL,KAAZ,EAAmBjB,QAAnB,CAAN;AACAV,MAAAA,GAAG,GAAG;AAAE2B,QAAAA,KAAK,EAAEA,KAAT;AAAgBC,QAAAA,GAAG,EAAEA;AAArB,OAAN;AACH;;AACDutC,IAAAA,UAAU,GAjCqF,CAkC/F;;AACA,QAAI,CAAC,KAAKd,cAAL,CAAoBruC,GAApB,CAAL,EAA+B;AAC3BxD,MAAAA,IAAI,GAAG,KAAK0yC,cAAL,CAAoB1yC,IAApB,EAA0B+O,SAA1B,CAAP;AACA4jC,MAAAA,UAAU;AACb;;AACD,WAAOnvC,GAAP;AACH,GAxCD,CA/IkD,CAwLlD;;;AACAstC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BujD,sBAA/B,GAAwD,UAAUtyC,IAAV,EAAgB+O,SAAhB,EAA2BsK,QAA3B,EAAqC;AACzF,QAAIrhB,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqBoM,OAAO,GAAG5L,EAAE,CAAC4L,OAAlC;AAAA,QAA2C0V,aAAa,GAAGthB,EAAE,CAACshB,aAA9D;AACA,QAAIs5B,YAAY,GAAG,CAAnB;AACA,QAAIztC,KAAK,GAAGnF,IAAZ;AACA,QAAIoF,GAAJ;;AACA,QAAIkU,aAAJ,EAAmB;AACfnU,MAAAA,KAAK,GAAGvB,OAAO,CAACyxB,OAAR,CAAgBlwB,KAAhB,EAAuBmU,aAAvB,CAAR;AACH;;AACDnU,IAAAA,KAAK,GAAG1H,UAAU,CAAC0H,KAAD,CAAlB;AACAA,IAAAA,KAAK,GAAG,KAAKutC,cAAL,CAAoBvtC,KAApB,EAA2B4J,SAA3B,CAAR;AACA3J,IAAAA,GAAG,GAAGD,KAAN;;AACA,OAAG;AACCC,MAAAA,GAAG,GAAGtI,OAAO,CAACsI,GAAD,EAAM,CAAN,CAAb;;AACA,UAAI,CAAC,KAAKqtC,WAAL,CAAiBrtC,GAAjB,CAAL,EAA4B;AACxBwtC,QAAAA,YAAY,IAAI,CAAhB;AACH;AACJ,KALD,QAKSA,YAAY,GAAGv5B,QALxB;;AAMA,WAAO;AAAElU,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,GAAG,EAAEA;AAArB,KAAP;AACH,GAlBD,CAzLkD,CA4MlD;AACA;;;AACA0rC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BwjD,uBAA/B,GAAyD,UAAUvyC,IAAV,EAAgB;AACrE,QAAIxI,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIvI,KAAK,GAAGuI,KAAK,CAACq7C,iBAAlB;AACA,QAAIV,WAAW,GAAG,OAAOljD,KAAP,KAAiB,UAAjB,GACZA,KAAK,CAACU,IAAN,CAAW6H,KAAK,CAAC0yB,WAAjB,EAA8B1yB,KAAK,CAACoM,OAAN,CAAcslB,MAAd,CAAqBlpB,IAArB,CAA9B,CADY,GAEZ/Q,KAFN;AAGA,QAAIgS,KAAK,GAAG,KAAKmxC,WAAL,CAAiBD,WAAjB,CAAZ;;AACA,QAAIlxC,KAAK,KAAKA,KAAK,CAACkE,KAAN,IAAe,IAAf,IAAuBlE,KAAK,CAACmE,GAAN,IAAa,IAAzC,CAAT,EAAyD;AACrD,aAAO,IAAP;AACH;;AACD,WAAOnE,KAAP;AACH,GAXD,CA9MkD,CA0NlD;AACA;AACA;;;AACA6vC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BgjD,gBAA/B,GAAkD,UAAUpmB,YAAV,EAAwBylB,gBAAxB,EAA0CK,aAA1C,EAAyD;AACvG,WAAO9lB,YAAP;AACH,GAFD,CA7NkD,CAgOlD;AACA;;;AACAmlB,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BkjD,kBAA/B,GAAoD,UAAUa,QAAV,EAAoB;AACpE,QAAIv5B,aAAa,GAAG,KAAK/hB,KAAL,CAAW+hB,aAA/B;AACA,QAAIw5B,eAAJ;;AACA,QAAIx5B,aAAJ,EAAmB;AACf,aAAOA,aAAP;AACH;;AACD,QAAKw5B,eAAe,GAAG,KAAKv7C,KAAL,CAAW8hB,aAAlC,EAAkD;AAC9C,aAAO1T,cAAc,CAAC,CAAD,EAAImtC,eAAJ,CAArB;AACH;;AACD,QAAID,QAAJ,EAAc;AACV,aAAOA,QAAP;AACH;;AACD,WAAOltC,cAAc,CAAC;AAAE/H,MAAAA,IAAI,EAAE;AAAR,KAAD,CAArB;AACH,GAbD;;AAcAizC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BqjD,WAA/B,GAA6C,UAAUY,UAAV,EAAsB;AAC/D,QAAIA,UAAJ,EAAgB;AACZ,UAAI/xC,KAAK,GAAGyhB,UAAU,CAACswB,UAAD,EAAa,KAAKx7C,KAAL,CAAWoM,OAAxB,CAAtB;;AACA,UAAI3C,KAAJ,EAAW;AACPA,QAAAA,KAAK,GAAG8gB,sBAAsB,CAAC9gB,KAAD,CAA9B;AACH;;AACD,aAAOA,KAAP;AACH;;AACD,WAAO,IAAP;AACH,GATD;AAUA;AACJ;AACI;;;AACA6vC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+BgiD,cAA/B,GAAgD,YAAY;AACxD,QAAIv3B,UAAU,GAAG,KAAKhiB,KAAL,CAAWgiB,UAAX,IAAyB,EAA1C,CADwD,CACV;;AAC9C,QAAIy5B,eAAe,GAAG,EAAtB,CAFwD,CAE9B;;AAC1B,QAAInxB,MAAM,GAAG,CAAb;AACA,QAAIlrB,CAAJ;;AACA,QAAI,KAAKY,KAAL,CAAWqb,QAAX,KAAwB,KAA5B,EAAmC;AAC/B2G,MAAAA,UAAU,CAACrmB,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,EAD+B,CACR;AAC1B;;AACD,SAAKyD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,CAAhB,EAAmBA,CAAC,IAAI,CAAxB,EAA2B;AACvB,UAAI,EAAEq8C,eAAe,CAACr8C,CAAD,CAAf,GAAqB4iB,UAAU,CAAC9J,OAAX,CAAmB9Y,CAAnB,MAA0B,CAAC,CAAlD,CAAJ,EAA0D;AACtDkrB,QAAAA,MAAM,IAAI,CAAV;AACH;AACJ;;AACD,QAAI,CAACA,MAAL,EAAa;AACT,YAAM,IAAIxlB,KAAJ,CAAU,oBAAV,CAAN,CADS,CAC8B;AAC1C;;AACD,SAAK22C,eAAL,GAAuBA,eAAvB;AACH,GAjBD,CA7PkD,CA+QlD;AACA;;;AACAnC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+B8iD,cAA/B,GAAgD,UAAU5wC,KAAV,EAAiB;AAC7D,QAAIkE,KAAK,GAAGlE,KAAK,CAACkE,KAAlB;AAAA,QAAyBC,GAAG,GAAGnE,KAAK,CAACmE,GAArC;;AACA,QAAID,KAAJ,EAAW;AACPA,MAAAA,KAAK,GAAG,KAAKutC,cAAL,CAAoBvtC,KAApB,CAAR;AACH;;AACD,QAAIC,GAAJ,EAAS;AACLA,MAAAA,GAAG,GAAG,KAAKstC,cAAL,CAAoBttC,GAApB,EAAyB,CAAC,CAA1B,EAA6B,IAA7B,CAAN;AACH;;AACD,QAAID,KAAK,IAAI,IAAT,IAAiBC,GAAG,IAAI,IAAxB,IAAgCD,KAAK,GAAGC,GAA5C,EAAiD;AAC7C,aAAO;AAAED,QAAAA,KAAK,EAAEA,KAAT;AAAgBC,QAAAA,GAAG,EAAEA;AAArB,OAAP;AACH;;AACD,WAAO,IAAP;AACH,GAZD,CAjRkD,CA8RlD;AACA;;;AACA0rC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+B0jD,WAA/B,GAA6C,UAAUrsC,GAAV,EAAe;AACxD,QAAIA,GAAG,YAAY/W,IAAnB,EAAyB;AACrB+W,MAAAA,GAAG,GAAGA,GAAG,CAACtG,SAAJ,EAAN;AACH;;AACD,WAAO,KAAKmzC,eAAL,CAAqB7sC,GAArB,CAAP;AACH,GALD,CAhSkD,CAsSlD;AACA;AACA;AACA;AACA;;;AACA0qC,EAAAA,oBAAoB,CAAC/hD,SAArB,CAA+B2jD,cAA/B,GAAgD,UAAU1yC,IAAV,EAAgBkzC,GAAhB,EAAqBC,WAArB,EAAkC;AAC9E,QAAID,GAAG,KAAK,KAAK,CAAjB,EAAoB;AAAEA,MAAAA,GAAG,GAAG,CAAN;AAAU;;AAChC,QAAIC,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,MAAAA,WAAW,GAAG,KAAd;AAAsB;;AACpD,WAAO,KAAKF,eAAL,CAAqB,CAACjzC,IAAI,CAACF,SAAL,MAAoBqzC,WAAW,GAAGD,GAAH,GAAS,CAAxC,IAA6C,CAA9C,IAAmD,CAAxE,CAAP,EAAmF;AAC/ElzC,MAAAA,IAAI,GAAGlD,OAAO,CAACkD,IAAD,EAAOkzC,GAAP,CAAd;AACH;;AACD,WAAOlzC,IAAP;AACH,GAPD;;AAQA,SAAO8wC,oBAAP;AACH,CApTyC,EAA1C;;AAsTA,SAASsC,cAAT,CAAwB9kB,QAAxB,EAAkCvB,MAAlC,EAA0C;AACtC,UAAQA,MAAM,CAACh7B,IAAf;AACI,SAAK,kBAAL;AACIu8B,MAAAA,QAAQ,GAAGvB,MAAM,CAACuB,QAAlB;AAFR;;AAIA,SAAOA,QAAP;AACH;;AAED,SAAS+kB,4BAAT,CAAsCxD,sBAAtC,EAA8D9iB,MAA9D,EAAsE;AAClE,MAAI/0B,EAAJ;;AACA,UAAQ+0B,MAAM,CAACh7B,IAAf;AACI,SAAK,YAAL;AACI,aAAO+B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK+7C,sBAAL,CAAT,GAAwC73C,EAAE,GAAG,EAAL,EAASA,EAAE,CAAC+0B,MAAM,CAACn8B,UAAR,CAAF,GAAwBm8B,MAAM,CAACY,cAAxC,EAAwD31B,EAAhG,EAAf;;AACJ;AACI,aAAO63C,sBAAP;AAJR;AAMH;;AAED,SAASyD,iBAAT,CAA2BrC,kBAA3B,EAA+ClkB,MAA/C,EAAuDD,WAAvD,EAAoEua,oBAApE,EAA0F;AACtF,MAAIkM,EAAJ;;AACA,UAAQxmB,MAAM,CAACh7B,IAAf;AACI,SAAK,kBAAL;AACI,aAAOs1C,oBAAoB,CAACgK,KAArB,CAA2BtkB,MAAM,CAACC,UAAP,IAAqBF,WAAhD,CAAP;;AACJ,SAAK,aAAL;AACI,UAAI,CAACmkB,kBAAkB,CAACvlB,WAApB,IACA,CAAC9H,mBAAmB,CAACqtB,kBAAkB,CAACtlB,YAApB,EAAkCoB,MAAM,CAACC,UAAzC,CADxB,CAC6E;AAD7E,QAEE;AACE,eAAOqa,oBAAoB,CAACgK,KAArB,CAA2BtkB,MAAM,CAACC,UAAlC,CAAP;AACH;;AACD;;AACJ,SAAK,MAAL;AACIumB,MAAAA,EAAE,GAAGlM,oBAAoB,CAAC2J,SAArB,CAA+BC,kBAA/B,EAAmDnkB,WAAnD,CAAL;;AACA,UAAIymB,EAAE,CAAC5B,OAAP,EAAgB;AACZ,eAAO4B,EAAP;AACH;;AACD;;AACJ,SAAK,MAAL;AACIA,MAAAA,EAAE,GAAGlM,oBAAoB,CAACiK,SAArB,CAA+BL,kBAA/B,EAAmDnkB,WAAnD,CAAL;;AACA,UAAIymB,EAAE,CAAC5B,OAAP,EAAgB;AACZ,eAAO4B,EAAP;AACH;;AACD;AArBR;;AAuBA,SAAOtC,kBAAP;AACH;;AAED,SAASuC,gBAAT,CAA0BjkB,eAA1B,EAA2C9D,WAA3C,EAAwDl3B,OAAxD,EAAiE;AAC7D,MAAIm3B,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAf,GAA6B,IAA1D;AACA,SAAO+nB,UAAU,CAAC,EAAD,EAAKC,mBAAmB,CAACnkB,eAAD,EAAkBh7B,OAAlB,CAAxB,EAAoDm3B,WAApD,EAAiEn3B,OAAjE,CAAjB;AACH;;AACD,SAASo/C,kBAAT,CAA4BvjD,YAA5B,EAA0C28B,MAA1C,EAAkDtB,WAAlD,EAA+Dl3B,OAA/D,EAAwE;AACpE,MAAIm3B,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAf,GAA6B,IAA1D,CADoE,CACJ;;AAChE,UAAQqB,MAAM,CAACh7B,IAAf;AACI,SAAK,mBAAL;AAA0B;AACtB,aAAO0hD,UAAU,CAACrjD,YAAD,EAAe28B,MAAM,CAAC8E,OAAtB,EAA+BnG,WAA/B,EAA4Cn3B,OAA5C,CAAjB;;AACJ,SAAK,qBAAL;AACI,aAAOq/C,YAAY,CAACxjD,YAAD,EAAe28B,MAAM,CAACp4B,QAAtB,CAAnB;;AACJ,SAAK,MAAL,CALJ,CAKiB;;AACb,SAAK,MAAL;AACA,SAAK,aAAL;AACA,SAAK,kBAAL;AACI,UAAI82B,WAAJ,EAAiB;AACb,eAAOooB,iBAAiB,CAACzjD,YAAD,EAAes7B,WAAf,EAA4Bn3B,OAA5B,CAAxB;AACH;;AACD,aAAOnE,YAAP;;AACJ,SAAK,qBAAL;AACI,aAAO0jD,iBAAiB,CAAC1jD,YAAD,EAAe28B,MAAM,CAACl4B,SAAP,GAAmB;AACtDqN,MAAAA,WAAW,CAAC6qB,MAAM,CAACl4B,SAAR,CADwB,GAEnCk/C,oBAAoB,CAAC3jD,YAAD,EAAemE,OAAf,CAFA,EAEyBm3B,WAFzB,EAEsCqB,MAAM,CAACj4B,SAAP,IAAoB,KAF1D,EAEiEP,OAFjE,CAAxB;;AAGJ,SAAK,gBAAL;AACA,SAAK,qBAAL;AACI,aAAOy/C,eAAe,CAAC5jD,YAAD,EAAe28B,MAAM,CAACp4B,QAAtB,EAAgCo4B,MAAM,CAACknB,OAAvC,EAAgDlnB,MAAM,CAACP,UAAvD,CAAtB;;AACJ,SAAK,0BAAL;AACI,aAAO,EAAP;;AACJ;AACI,aAAOp8B,YAAP;AAvBR;AAyBH;;AACD,SAAS8jD,6BAAT,CAAuC9jD,YAAvC,EAAqDq7B,WAArD,EAAkEl3B,OAAlE,EAA2E;AACvE,MAAIm3B,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAf,GAA6B,IAA1D,CADuE,CACP;;AAChE,SAAOooB,iBAAiB,CAAC1jD,YAAD,EAAe2jD,oBAAoB,CAAC3jD,YAAD,EAAemE,OAAf,CAAnC,EAA4Dm3B,WAA5D,EAAyE,IAAzE,EAA+En3B,OAA/E,CAAxB;AACH;;AACD,SAAS4/C,0BAAT,CAAoC/jD,YAApC,EAAkD;AAC9C,OAAK,IAAIuE,QAAT,IAAqBvE,YAArB,EAAmC;AAC/B,QAAIA,YAAY,CAACuE,QAAD,CAAZ,CAAuB23B,UAA3B,EAAuC;AACnC,aAAO,IAAP;AACH;AACJ;;AACD,SAAO,KAAP;AACH;;AACD,SAASmnB,UAAT,CAAoBW,eAApB,EAAqCviB,OAArC,EAA8CrF,UAA9C,EAA0Dj4B,OAA1D,EAAmE;AAC/D,MAAIwN,IAAI,GAAG,EAAX;;AACA,OAAK,IAAII,EAAE,GAAG,CAAT,EAAYkyC,SAAS,GAAGxiB,OAA7B,EAAsC1vB,EAAE,GAAGkyC,SAAS,CAACx9C,MAArD,EAA6DsL,EAAE,EAA/D,EAAmE;AAC/D,QAAImyC,MAAM,GAAGD,SAAS,CAAClyC,EAAD,CAAtB;AACAJ,IAAAA,IAAI,CAACuyC,MAAM,CAAC3/C,QAAR,CAAJ,GAAwB2/C,MAAxB;AACH;;AACD,MAAI9nB,UAAJ,EAAgB;AACZzqB,IAAAA,IAAI,GAAG8xC,iBAAiB,CAAC9xC,IAAD,EAAOyqB,UAAP,EAAmBj4B,OAAnB,CAAxB;AACH;;AACD,SAAOT,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKsgD,eAAL,CAAT,EAAgCryC,IAAhC,CAAf;AACH;;AACD,SAAS6xC,YAAT,CAAsBQ,eAAtB,EAAuCz/C,QAAvC,EAAiD;AAC7C,SAAOmN,UAAU,CAACsyC,eAAD,EAAkB,UAAUn3B,WAAV,EAAuB;AAAE,WAAOA,WAAW,CAACtoB,QAAZ,KAAyBA,QAAhC;AAA2C,GAAtF,CAAjB;AACH;;AACD,SAASk/C,iBAAT,CAA2BpiB,UAA3B,EAAuCjF,UAAvC,EAAmDj4B,OAAnD,EAA4D;AACxD,SAAOu/C,iBAAiB,CAACriB,UAAD,EAAa3vB,UAAU,CAAC2vB,UAAD,EAAa,UAAUxU,WAAV,EAAuB;AAAE,WAAOs3B,aAAa,CAACt3B,WAAD,EAAcuP,UAAd,EAA0Bj4B,OAA1B,CAApB;AAAyD,GAA/F,CAAvB,EAAyHi4B,UAAzH,EAAqI,KAArI,EAA4Ij4B,OAA5I,CAAxB;AACH;;AACD,SAASggD,aAAT,CAAuBt3B,WAAvB,EAAoCuP,UAApC,EAAgDj4B,OAAhD,EAAyD;AACrD,MAAI,CAACigD,mBAAmB,CAACv3B,WAAD,EAAc1oB,OAAd,CAAxB,EAAgD;AAC5C,WAAO,CAAC0oB,WAAW,CAACsP,aAApB;AACH;;AACD,SAAO,CAACh4B,OAAO,CAAC7D,OAAR,CAAgBojB,YAAjB,IACH,CAACmJ,WAAW,CAACuP,UADV,IAEHvP,WAAW,CAACqP,UAFT,IAEuB;AAC1BE,EAAAA,UAAU,CAACrnB,KAAX,GAAmB8X,WAAW,CAACuP,UAAZ,CAAuBrnB,KAHvC,IAIHqnB,UAAU,CAACpnB,GAAX,GAAiB6X,WAAW,CAACuP,UAAZ,CAAuBpnB,GAJ5C;AAKH;;AACD,SAAS0uC,iBAAT,CAA2BW,WAA3B,EAAwCC,YAAxC,EAAsDloB,UAAtD,EAAkE13B,SAAlE,EAA6EP,OAA7E,EAAsF;AAClF,MAAIogD,WAAW,GAAG,EAAlB;;AACA,OAAK,IAAIhgD,QAAT,IAAqB8/C,WAArB,EAAkC;AAC9B,QAAIH,MAAM,GAAGG,WAAW,CAAC9/C,QAAD,CAAxB;;AACA,QAAI+/C,YAAY,CAAC//C,QAAD,CAAhB,EAA4B;AACxBggD,MAAAA,WAAW,CAAChgD,QAAD,CAAX,GAAwBigD,WAAW,CAACN,MAAD,EAAS9nB,UAAT,EAAqB13B,SAArB,EAAgCP,OAAhC,CAAnC;AACH,KAFD,MAGK;AACDogD,MAAAA,WAAW,CAAChgD,QAAD,CAAX,GAAwB2/C,MAAxB;AACH;AACJ;;AACD,SAAOK,WAAP;AACH;;AACD,SAASC,WAAT,CAAqB33B,WAArB,EAAkCuP,UAAlC,EAA8C13B,SAA9C,EAAyDP,OAAzD,EAAkE;AAC9D,MAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AAAA,MAA+Bw5B,WAAW,GAAG31B,OAAO,CAAC21B,WAArD;AACA,MAAI2qB,SAAS,GAAGtgD,OAAO,CAACiQ,WAAR,CAAoBmoB,eAApB,CAAoC1P,WAAW,CAACwP,WAAhD,CAAhB;AACA,MAAIwnB,OAAO,GAAGt6C,IAAI,EAAlB;AACAk7C,EAAAA,SAAS,CAACC,KAAV,CAAgB;AACZ73B,IAAAA,WAAW,EAAEA,WADD;AAEZhc,IAAAA,KAAK,EAAEurB,UAFK;AAGZ13B,IAAAA,SAAS,EAAEA,SAHC;AAIZP,IAAAA,OAAO,EAAEA;AAJG,GAAhB,EAKG,UAAUiP,GAAV,EAAe;AACd,QAAIwZ,SAAS,GAAGxZ,GAAG,CAACwZ,SAApB;;AACA,QAAItsB,OAAO,CAACqlB,kBAAZ,EAAgC;AAC5BiH,MAAAA,SAAS,GAAGtsB,OAAO,CAACqlB,kBAAR,CAA2BpmB,IAA3B,CAAgCu6B,WAAhC,EAA6ClN,SAA7C,EAAwDxZ,GAAG,CAACuxC,GAA5D,KAAoE/3B,SAAhF;AACH;;AACD,QAAIC,WAAW,CAAC6O,OAAhB,EAAyB;AACrB9O,MAAAA,SAAS,GAAGC,WAAW,CAAC6O,OAAZ,CAAoBn8B,IAApB,CAAyBu6B,WAAzB,EAAsClN,SAAtC,EAAiDxZ,GAAG,CAACuxC,GAArD,KAA6D/3B,SAAzE;AACH;;AACDzoB,IAAAA,OAAO,CAACG,QAAR,CAAiB;AACb3C,MAAAA,IAAI,EAAE,gBADO;AAEb4C,MAAAA,QAAQ,EAAEsoB,WAAW,CAACtoB,QAFT;AAGbs/C,MAAAA,OAAO,EAAEA,OAHI;AAIbznB,MAAAA,UAAU,EAAEA,UAJC;AAKbxP,MAAAA,SAAS,EAAEA;AALE,KAAjB;AAOH,GApBD,EAoBG,UAAUg4B,KAAV,EAAiB;AAChB9mB,IAAAA,OAAO,CAACC,IAAR,CAAa6mB,KAAK,CAACC,OAAnB,EAA4BD,KAA5B;;AACA,QAAItkD,OAAO,CAAColB,kBAAZ,EAAgC;AAC5BplB,MAAAA,OAAO,CAAColB,kBAAR,CAA2BnmB,IAA3B,CAAgCu6B,WAAhC,EAA6C8qB,KAA7C;AACH;;AACD,QAAI/3B,WAAW,CAAC8O,OAAhB,EAAyB;AACrB9O,MAAAA,WAAW,CAAC8O,OAAZ,CAAoBipB,KAApB;AACH;;AACDzgD,IAAAA,OAAO,CAACG,QAAR,CAAiB;AACb3C,MAAAA,IAAI,EAAE,qBADO;AAEb4C,MAAAA,QAAQ,EAAEsoB,WAAW,CAACtoB,QAFT;AAGbs/C,MAAAA,OAAO,EAAEA,OAHI;AAIbznB,MAAAA,UAAU,EAAEA,UAJC;AAKbwoB,MAAAA,KAAK,EAAEA;AALM,KAAjB;AAOH,GAnCD;AAoCA,SAAOlhD,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKmpB,WAAL,CAAT,EAA4B;AAAEqP,IAAAA,UAAU,EAAE,IAAd;AAAoBC,IAAAA,aAAa,EAAE0nB;AAAnC,GAA5B,CAAf;AACH;;AACD,SAASD,eAAT,CAAyBviB,UAAzB,EAAqC98B,QAArC,EAA+Cs/C,OAA/C,EAAwDznB,UAAxD,EAAoE;AAChE,MAAIx0B,EAAJ;;AACA,MAAIilB,WAAW,GAAGwU,UAAU,CAAC98B,QAAD,CAA5B;;AACA,MAAIsoB,WAAW,IAAI;AACfg3B,EAAAA,OAAO,KAAKh3B,WAAW,CAACsP,aAD5B,EAC2C;AACvC,WAAOz4B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK29B,UAAL,CAAT,GAA4Bz5B,EAAE,GAAG,EAAL,EAASA,EAAE,CAACrD,QAAD,CAAF,GAAeb,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKmpB,WAAL,CAAT,EAA4B;AAAEqP,MAAAA,UAAU,EAAE,KAAd;AAAqBE,MAAAA,UAAU,EAAEA;AAAjC,KAA5B,CAAhC,EAA4Gx0B,EAAxI,EAAf;AACH;;AACD,SAAOy5B,UAAP;AACH;;AACD,SAASsiB,oBAAT,CAA8B3jD,YAA9B,EAA4CmE,OAA5C,EAAqD;AACjD,SAAOuN,UAAU,CAAC1R,YAAD,EAAe,UAAU6sB,WAAV,EAAuB;AAAE,WAAOu3B,mBAAmB,CAACv3B,WAAD,EAAc1oB,OAAd,CAA1B;AAAmD,GAA3F,CAAjB;AACH;;AACD,SAASm/C,mBAAT,CAA6B1G,UAA7B,EAAyCz4C,OAAzC,EAAkD;AAC9C,MAAIqoB,QAAQ,GAAGqP,wBAAwB,CAAC13B,OAAD,CAAvC;AACA,MAAI2gD,UAAU,GAAG,GAAGx0C,MAAH,CAAUssC,UAAU,CAAC58C,YAAX,IAA2B,EAArC,CAAjB;AACA,MAAIyhC,OAAO,GAAG,EAAd,CAH8C,CAG5B;;AAClB,MAAImb,UAAU,CAACnxB,aAAf,EAA8B;AAC1Bq5B,IAAAA,UAAU,CAACvzC,OAAX,CAAmBqrC,UAAU,CAACnxB,aAA9B;AACH;;AACD,MAAImxB,UAAU,CAAC78C,MAAf,EAAuB;AACnB+kD,IAAAA,UAAU,CAACvzC,OAAX,CAAmBqrC,UAAU,CAAC78C,MAA9B;AACH;;AACD,OAAK,IAAIgS,EAAE,GAAG,CAAT,EAAYgzC,YAAY,GAAGD,UAAhC,EAA4C/yC,EAAE,GAAGgzC,YAAY,CAACt+C,MAA9D,EAAsEsL,EAAE,EAAxE,EAA4E;AACxE,QAAIizC,SAAS,GAAGD,YAAY,CAAChzC,EAAD,CAA5B;AACA,QAAImyC,MAAM,GAAGtoB,gBAAgB,CAACopB,SAAD,EAAY7gD,OAAZ,EAAqBqoB,QAArB,CAA7B;;AACA,QAAI03B,MAAJ,EAAY;AACRziB,MAAAA,OAAO,CAAC1+B,IAAR,CAAamhD,MAAb;AACH;AACJ;;AACD,SAAOziB,OAAP;AACH;;AACD,SAAS2iB,mBAAT,CAA6Bv3B,WAA7B,EAA0C1oB,OAA1C,EAAmD;AAC/C,MAAIkQ,IAAI,GAAGlQ,OAAO,CAACiQ,WAAR,CAAoBmoB,eAA/B;AACA,SAAO,CAACloB,IAAI,CAACwY,WAAW,CAACwP,WAAb,CAAJ,CAA8B4oB,WAAtC;AACH;;AAED,SAASC,gBAAT,CAA0BhxC,UAA1B,EAAsCyoB,MAAtC,EAA8C38B,YAA9C,EAA4Dq7B,WAA5D,EAAyEl3B,OAAzE,EAAkF;AAC9E,UAAQw4B,MAAM,CAACh7B,IAAf;AACI,SAAK,gBAAL;AAAuB;AACnB,aAAOwjD,gBAAgB,CAACjxC,UAAD,EAAalU,YAAY,CAAC28B,MAAM,CAACp4B,QAAR,CAAzB,EAA4Co4B,MAAM,CAACknB,OAAnD,EAA4DlnB,MAAM,CAACP,UAAnE,EAA+EO,MAAM,CAAC/P,SAAtF,EAAiGzoB,OAAjG,CAAvB;;AACJ,SAAK,YAAL;AAAmB;AACf,aAAO67B,QAAQ,CAAC9rB,UAAD,EAAayoB,MAAM,CAACzoB,UAApB,EAAgC;AAC/CmnB,MAAAA,WAAW,GAAGA,WAAW,CAACC,WAAf,GAA6B,IADzB,EAC+Bn3B,OAD/B,CAAf;;AAEJ,SAAK,cAAL;AACI,aAAOw4B,MAAM,CAACzoB,UAAd;;AACJ,SAAK,cAAL;AAAqB;AACjB,aAAO6Z,gBAAgB,CAAC7Z,UAAD,EAAayoB,MAAM,CAACzoB,UAApB,CAAvB;;AACJ,SAAK,MAAL,CAVJ,CAUiB;;AACb,SAAK,MAAL;AACA,SAAK,aAAL;AACA,SAAK,kBAAL;AACI,UAAImnB,WAAJ,EAAiB;AACb,eAAOpnB,eAAe,CAACC,UAAD,EAAamnB,WAAW,CAACC,WAAzB,EAAsCn3B,OAAtC,CAAtB;AACH;;AACD,aAAO+P,UAAP;;AACJ,SAAK,eAAL;AACI,aAAOia,oBAAoB,CAACja,UAAD,EAAayoB,MAAM,CAACzoB,UAApB,CAA3B;;AACJ,SAAK,qBAAL;AACI,aAAOkxC,uBAAuB,CAAClxC,UAAD,EAAayoB,MAAM,CAACp4B,QAApB,CAA9B;;AACJ,SAAK,0BAAL;AACI,aAAOkpB,oBAAoB,CAACvZ,UAAD,EAAa,UAAUe,QAAV,EAAoB;AAAE,eAAQ,CAACA,QAAQ,CAAC1Q,QAAlB,CAA2B;AAA3B;AAC1D,OADuB,CAA3B;;AAEJ,SAAK,mBAAL;AACI,aAAOwoB,qBAAqB,EAA5B;;AACJ;AACI,aAAO7Y,UAAP;AA5BR;AA8BH;;AACD,SAASixC,gBAAT,CAA0BjxC,UAA1B,EAAsC2Y,WAAtC,EAAmDg3B,OAAnD,EAA4DznB,UAA5D,EAAwExP,SAAxE,EAAmFzoB,OAAnF,EAA4F;AACxF,MAAI0oB,WAAW,IAAI;AACfg3B,EAAAA,OAAO,KAAKh3B,WAAW,CAACsP,aAD5B,CAC0C;AAD1C,IAEE;AACE,QAAIkpB,MAAM,GAAG14B,WAAW,CAAC24B,kBAAkB,CAAC14B,SAAD,EAAYC,WAAZ,EAAyB1oB,OAAzB,CAAnB,EAAsD0oB,WAAtD,EAAmE1oB,OAAnE,CAAxB;;AACA,QAAIi4B,UAAJ,EAAgB;AACZipB,MAAAA,MAAM,GAAGpxC,eAAe,CAACoxC,MAAD,EAASjpB,UAAT,EAAqBj4B,OAArB,CAAxB;AACH;;AACD,WAAO4pB,gBAAgB,CAACq3B,uBAAuB,CAAClxC,UAAD,EAAa2Y,WAAW,CAACtoB,QAAzB,CAAxB,EAA4D8gD,MAA5D,CAAvB;AACH;;AACD,SAAOnxC,UAAP;AACH;;AACD,SAASoxC,kBAAT,CAA4B14B,SAA5B,EAAuCC,WAAvC,EAAoD1oB,OAApD,EAA6D;AACzD,MAAIohD,gBAAgB,GAAGphD,OAAO,CAAC7D,OAAR,CAAgBglB,kBAAvC;AACA,MAAIkgC,mBAAmB,GAAG34B,WAAW,GAAGA,WAAW,CAACvH,kBAAf,GAAoC,IAAzE;;AACA,MAAIkgC,mBAAJ,EAAyB;AACrB54B,IAAAA,SAAS,GAAG64B,qBAAqB,CAAC74B,SAAD,EAAY44B,mBAAZ,CAAjC;AACH;;AACD,MAAID,gBAAJ,EAAsB;AAClB34B,IAAAA,SAAS,GAAG64B,qBAAqB,CAAC74B,SAAD,EAAY24B,gBAAZ,CAAjC;AACH;;AACD,SAAO34B,SAAP;AACH;;AACD,SAAS64B,qBAAT,CAA+B74B,SAA/B,EAA0CntB,IAA1C,EAAgD;AAC5C,MAAIimD,aAAJ;;AACA,MAAI,CAACjmD,IAAL,EAAW;AACPimD,IAAAA,aAAa,GAAG94B,SAAhB;AACH,GAFD,MAGK;AACD84B,IAAAA,aAAa,GAAG,EAAhB;;AACA,SAAK,IAAI3zC,EAAE,GAAG,CAAT,EAAYmb,WAAW,GAAGN,SAA/B,EAA0C7a,EAAE,GAAGmb,WAAW,CAACzmB,MAA3D,EAAmEsL,EAAE,EAArE,EAAyE;AACrE,UAAIob,QAAQ,GAAGD,WAAW,CAACnb,EAAD,CAA1B;AACA,UAAI4zC,YAAY,GAAGlmD,IAAI,CAAC0tB,QAAD,CAAvB;;AACA,UAAIw4B,YAAJ,EAAkB;AACdD,QAAAA,aAAa,CAAC3iD,IAAd,CAAmB4iD,YAAnB;AACH,OAFD,MAGK,IAAIA,YAAY,IAAI,IAApB,EAA0B;AAC3BD,QAAAA,aAAa,CAAC3iD,IAAd,CAAmBoqB,QAAnB;AACH,OARoE,CAQnE;;AACL;AACJ;;AACD,SAAOu4B,aAAP;AACH;;AACD,SAAS1lB,QAAT,CAAkB9rB,UAAlB,EAA8BmxC,MAA9B,EAAsCO,WAAtC,EAAmDzhD,OAAnD,EAA4D;AACxD,MAAIyhD,WAAJ,EAAiB;AACbP,IAAAA,MAAM,GAAGpxC,eAAe,CAACoxC,MAAD,EAASO,WAAT,EAAsBzhD,OAAtB,CAAxB;AACH;;AACD,SAAO4pB,gBAAgB,CAAC7Z,UAAD,EAAamxC,MAAb,CAAvB;AACH;;AACD,SAASQ,qBAAT,CAA+B3xC,UAA/B,EAA2C4xC,UAA3C,EAAuDC,UAAvD,EAAmE;AAC/D,MAAI1xC,IAAI,GAAGH,UAAU,CAACG,IAAtB;AACA,MAAIC,SAAS,GAAGnV,OAAO,CAAC+U,UAAU,CAACI,SAAZ,EAAuB,UAAUC,QAAV,EAAoB;AAC9D,QAAIE,GAAG,GAAGJ,IAAI,CAACE,QAAQ,CAAC3D,KAAV,CAAd;;AACA,QAAI6D,GAAG,CAACb,MAAJ,IAAca,GAAG,CAACD,YAAtB,EAAoC;AAChC,aAAOD,QAAP,CADgC,CACf;AACpB;;AACD,WAAO7Q,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK6Q,QAAL,CAAT,EAAyB;AAAE1D,MAAAA,KAAK,EAAE;AACzCkE,QAAAA,KAAK,EAAEgxC,UAAU,CAACxzB,YAAX,CAAwBuzB,UAAU,CAAChtB,MAAX,CAAkBvkB,QAAQ,CAAC1D,KAAT,CAAekE,KAAjC,EAAwCR,QAAQ,CAACzD,cAAjD,CAAxB,CADkC;AAEzCkE,QAAAA,GAAG,EAAE+wC,UAAU,CAACxzB,YAAX,CAAwBuzB,UAAU,CAAChtB,MAAX,CAAkBvkB,QAAQ,CAAC1D,KAAT,CAAemE,GAAjC,EAAsCT,QAAQ,CAACxD,YAA/C,CAAxB;AAFoC,OAAT;AAGjCD,MAAAA,cAAc,EAAEi1C,UAAU,CAACxhB,gBAAX,GAA8B,IAA9B,GAAqChwB,QAAQ,CAACzD,cAH7B;AAG6CC,MAAAA,YAAY,EAAEg1C,UAAU,CAACxhB,gBAAX,GAA8B,IAA9B,GAAqChwB,QAAQ,CAACxD;AAHzG,KAAzB,CAAf;AAIH,GATsB,CAAvB;AAUA,SAAO;AAAEsD,IAAAA,IAAI,EAAEA,IAAR;AAAcC,IAAAA,SAAS,EAAEA;AAAzB,GAAP;AACH;;AACD,SAAS8wC,uBAAT,CAAiClxC,UAAjC,EAA6C3P,QAA7C,EAAuD;AACnD,SAAOkpB,oBAAoB,CAACvZ,UAAD,EAAa,UAAUe,QAAV,EAAoB;AAAE,WAAOA,QAAQ,CAAC1Q,QAAT,KAAsBA,QAA7B;AAAwC,GAA3E,CAA3B;AACH,EACD;;;AACA,SAASyhD,gBAAT,CAA0B9xC,UAA1B,EAAsC+xC,QAAtC,EAAgD;AAC5C,SAAO;AACH5xC,IAAAA,IAAI,EAAEH,UAAU,CAACG,IADd;AAEHC,IAAAA,SAAS,EAAE5C,UAAU,CAACwC,UAAU,CAACI,SAAZ,EAAuB,UAAUC,QAAV,EAAoB;AAAE,aAAO,CAAC0xC,QAAQ,CAAC1xC,QAAQ,CAACvD,UAAV,CAAhB;AAAwC,KAArF;AAFlB,GAAP;AAIH;;AAED,SAASk1C,mBAAT,CAA6BC,gBAA7B,EAA+CxpB,MAA/C,EAAuD;AACnD,UAAQA,MAAM,CAACh7B,IAAf;AACI,SAAK,gBAAL;AACI,aAAO,IAAP;;AACJ,SAAK,cAAL;AACI,aAAOg7B,MAAM,CAACtD,SAAd;;AACJ;AACI,aAAO8sB,gBAAP;AANR;AAQH;;AAED,SAASC,mBAAT,CAA6BC,iBAA7B,EAAgD1pB,MAAhD,EAAwD;AACpD,UAAQA,MAAM,CAACh7B,IAAf;AACI,SAAK,gBAAL;AACI,aAAO,EAAP;;AACJ,SAAK,cAAL;AACI,aAAOg7B,MAAM,CAAC2pB,eAAd;;AACJ;AACI,aAAOD,iBAAP;AANR;AAQH;;AAED,SAASE,eAAT,CAAyBC,WAAzB,EAAsC7pB,MAAtC,EAA8C;AAC1C,MAAI8pB,OAAJ;;AACA,UAAQ9pB,MAAM,CAACh7B,IAAf;AACI,SAAK,kBAAL;AACI,aAAO,IAAP;;AACJ,SAAK,gBAAL;AACI8kD,MAAAA,OAAO,GAAG9pB,MAAM,CAAC0B,KAAjB;AACA,aAAO;AACH6N,QAAAA,cAAc,EAAEua,OAAO,CAACva,cADrB;AAEHE,QAAAA,aAAa,EAAEqa,OAAO,CAACra,aAFpB;AAGHG,QAAAA,OAAO,EAAEka,OAAO,CAACla;AAHd,OAAP;;AAKJ;AACI,aAAOia,WAAP;AAXR;AAaH;;AAED,SAASE,iBAAT,CAA2BC,aAA3B,EAA0ChqB,MAA1C,EAAkD;AAC9C,MAAIiqB,SAAJ;;AACA,UAAQjqB,MAAM,CAACh7B,IAAf;AACI,SAAK,oBAAL;AACI,aAAO,IAAP;;AACJ,SAAK,kBAAL;AACIilD,MAAAA,SAAS,GAAGjqB,MAAM,CAAC0B,KAAnB;AACA,aAAO;AACH6N,QAAAA,cAAc,EAAE0a,SAAS,CAAC1a,cADvB;AAEHE,QAAAA,aAAa,EAAEwa,SAAS,CAACxa,aAFtB;AAGHG,QAAAA,OAAO,EAAEqa,SAAS,CAACra;AAHhB,OAAP;;AAKJ;AACI,aAAOoa,aAAP;AAXR;AAaH;;AAED,SAASE,aAAT,CAAuB1nB,eAAvB,EAAwC2nB,uBAAxC,EAAiE9Z,KAAjE,EAAwEzO,SAAxE,EAAmFzE,WAAnF,EAAgG;AAC5F,MAAI6E,gBAAgB,GAAG,EAAvB;AACA,MAAI9+B,aAAa,GAAGs/B,eAAe,CAACt/B,aAAhB,GAAgCknD,YAAY,CAAC5nB,eAAe,CAACt/B,aAAjB,EAAgCs/B,eAAhC,EAAiD2nB,uBAAjD,EAA0E9Z,KAA1E,EAAiFzO,SAAjF,EAA4FzE,WAA5F,EAAyG6E,gBAAzG,CAA5C,GAAyK,IAA7L;AACA,MAAI7+B,aAAa,GAAGq/B,eAAe,CAACr/B,aAAhB,GAAgCinD,YAAY,CAAC5nB,eAAe,CAACr/B,aAAjB,EAAgCq/B,eAAhC,EAAiD2nB,uBAAjD,EAA0E9Z,KAA1E,EAAiFzO,SAAjF,EAA4FzE,WAA5F,EAAyG6E,gBAAzG,CAA5C,GAAyK,IAA7L;AACA,SAAO;AAAE9+B,IAAAA,aAAa,EAAEA,aAAjB;AAAgCC,IAAAA,aAAa,EAAEA,aAA/C;AAA8D6+B,IAAAA,gBAAgB,EAAEA;AAAhF,GAAP;AACH;;AACD,SAASooB,YAAT,CAAsBC,cAAtB,EAAsC7nB,eAAtC,EAAuD2nB,uBAAvD,EAAgF9Z,KAAhF,EAAuFzO,SAAvF,EAAkGzE,WAAlG,EAA+G6E,gBAA/G,EAAiI;AAC7H,SAAOx/B,OAAO,CAAC6nD,cAAD,EAAiB,UAAUC,UAAV,EAAsB;AAAE,WAAOC,YAAY,CAACD,UAAD,EAAa9nB,eAAb,EAA8B2nB,uBAA9B,EAAuD9Z,KAAvD,EAA8DzO,SAA9D,EAAyEzE,WAAzE,EAAsF6E,gBAAtF,CAAnB;AAA6H,GAAtK,CAAd;AACH;AACD;AACA;AACA;;;AACA,SAASuoB,YAAT,CAAsBD,UAAtB,EAAkC9nB,eAAlC,EAAmD2nB,uBAAnD,EAA4E9Z,KAA5E,EAAmFzO,SAAnF,EAA8FzE,WAA9F,EAA2G6E,gBAA3G,EAA6H;AACzH,MAAIkX,KAAK,GAAG1W,eAAe,CAACxgB,SAAhB,KAA8B,KAA1C;AACA,MAAIwoC,qBAAqB,GAAGhoB,eAAe,CAACpe,aAAhB,IAAiC,EAA7D;AACA,MAAIqmC,2BAA2B,GAAGN,uBAAuB,CAACv7B,UAAxB,IAAsC,EAAxE;AACA,MAAI87B,kBAAkB,GAAGloB,eAAe,CAAC5T,UAAhB,IAA8B,EAAvD;AACA,MAAI+7B,cAAc,GAAGL,UAAU,GAAGA,UAAU,CAAC38C,KAAX,CAAiB,GAAjB,CAAH,GAA2B,EAA1D;AACA,SAAOg9C,cAAc,CAACtoD,GAAf,CAAmB,UAAUuoD,cAAV,EAA0B;AAAE,WAAQA,cAAc,CAACj9C,KAAf,CAAqB,GAArB,EAA0BtL,GAA1B,CAA8B,UAAUs2C,UAAV,EAAsB;AAC9G,UAAIA,UAAU,KAAK,OAAnB,EAA4B;AACxB,eAAO;AAAEA,UAAAA,UAAU,EAAEA;AAAd,SAAP;AACH;;AACD,UAAIW,iBAAJ;AACA,UAAIc,QAAJ;AACA,UAAIyQ,WAAJ;AACA,UAAIC,UAAJ,CAP8G,CAO9F;;AAChB,UAAIl8B,UAAJ,CAR8G,CAQ9F;;AAChB,UAAK0qB,iBAAiB,GAAGkR,qBAAqB,CAAC7R,UAAD,CAA9C,EAA6D;AACzDkS,QAAAA,WAAW,GAAG,qBAAU7/C,EAAV,EAAc;AACxB,cAAIsuC,iBAAiB,CAACyR,KAAtB,EAA6B;AACzBzR,YAAAA,iBAAiB,CAACyR,KAAlB,CAAwBnoD,IAAxB,CAA6BoI,EAAE,CAACI,MAAhC,EAAwCJ,EAAxC,EAA4CA,EAAE,CAACI,MAA/C,EADyB,CAC+B;AAC3D;AACJ,SAJD;;AAKA,SAAC0/C,UAAU,GAAGza,KAAK,CAACgJ,wBAAN,CAA+BC,iBAA/B,CAAd,MACKwR,UAAU,GAAGza,KAAK,CAAC4I,YAAN,CAAmBN,UAAnB,EAA+BO,KAA/B,CADlB,MAEKtqB,UAAU,GAAG0qB,iBAAiB,CAAC0R,IAFpC;AAGH,OATD,MAUK,IAAK5Q,QAAQ,GAAGxY,SAAS,CAAC+W,UAAD,CAAzB,EAAwC;AACzC3W,QAAAA,gBAAgB,CAAC57B,IAAjB,CAAsBuyC,UAAtB;;AACAkS,QAAAA,WAAW,GAAG,uBAAY;AACtB1tB,UAAAA,WAAW,CAACmE,UAAZ,CAAuBqX,UAAvB;AACH,SAFD;;AAGA,SAAC/pB,UAAU,GAAGwrB,QAAQ,CAACuJ,kBAAvB,MACKmH,UAAU,GAAGza,KAAK,CAAC4I,YAAN,CAAmBN,UAAnB,EAA+BO,KAA/B,CADlB,MAEKtqB,UAAU,GAAGwrB,QAAQ,CAACwJ,iBAF3B;AAGH,OARI,MASA,IAAIzmB,WAAW,CAACwb,UAAD,CAAf,EAA6B;AAAE;AAChCkS,QAAAA,WAAW,GAAG,uBAAY;AACtB1tB,UAAAA,WAAW,CAACwb,UAAD,CAAX;AACH,SAFD;;AAGA,SAAC/pB,UAAU,GAAG67B,2BAA2B,CAAC9R,UAAD,CAAzC,MACKmS,UAAU,GAAGza,KAAK,CAAC4I,YAAN,CAAmBN,UAAnB,EAA+BO,KAA/B,CADlB,MAEKtqB,UAAU,GAAG87B,kBAAkB,CAAC/R,UAAD,CAFpC,EAJ8B,CAO9B;AACH;;AACD,aAAO;AAAEA,QAAAA,UAAU,EAAEA,UAAd;AAA0BkS,QAAAA,WAAW,EAAEA,WAAvC;AAAoDC,QAAAA,UAAU,EAAEA,UAAhE;AAA4El8B,QAAAA,UAAU,EAAEA;AAAxF,OAAP;AACH,KAtC6D,CAAR;AAsChD,GAtCC,CAAP;AAuCH;;AAED,IAAIq8B,gBAAgB,GAAG;AACnB3C,EAAAA,WAAW,EAAE,IADM;AAEnBzoB,EAAAA,SAAS,EAAE,mBAAUlpB,OAAV,EAAmB;AAC1B,QAAIxU,KAAK,CAACC,OAAN,CAAcuU,OAAO,CAACvT,MAAtB,CAAJ,EAAmC;AAC/B,aAAOuT,OAAO,CAACvT,MAAf;AACH;;AACD,WAAO,IAAP;AACH,GAPkB;AAQnB2kD,EAAAA,KAAK,EAAE,eAAUmD,GAAV,EAAensB,OAAf,EAAwB;AAC3BA,IAAAA,OAAO,CAAC;AACJ9O,MAAAA,SAAS,EAAEi7B,GAAG,CAACh7B,WAAJ,CAAgB7nB;AADvB,KAAD,CAAP;AAGH;AAZkB,CAAvB;AAcA,IAAI8iD,sBAAsB,GAAG7O,YAAY,CAAC;AACtC1c,EAAAA,eAAe,EAAE,CAACqrB,gBAAD;AADqB,CAAD,CAAzC;AAIA,IAAIG,gBAAgB,GAAG;AACnBvrB,EAAAA,SAAS,EAAE,mBAAUlpB,OAAV,EAAmB;AAC1B,QAAI,OAAOA,OAAO,CAACvT,MAAf,KAA0B,UAA9B,EAA0C;AACtC,aAAOuT,OAAO,CAACvT,MAAf;AACH;;AACD,WAAO,IAAP;AACH,GANkB;AAOnB2kD,EAAAA,KAAK,EAAE,eAAUmD,GAAV,EAAensB,OAAf,EAAwBC,OAAxB,EAAiC;AACpC,QAAInoB,OAAO,GAAGq0C,GAAG,CAAC1jD,OAAJ,CAAYqP,OAA1B;AACA,QAAI/T,IAAI,GAAGooD,GAAG,CAACh7B,WAAJ,CAAgB7nB,IAA3B;AACAksC,IAAAA,WAAW,CAACzxC,IAAI,CAACuoD,IAAL,CAAU,IAAV,EAAgBpvB,yBAAyB,CAACivB,GAAG,CAACh3C,KAAL,EAAY2C,OAAZ,CAAzC,CAAD,EAAiE,UAAUoZ,SAAV,EAAqB;AAC7F8O,MAAAA,OAAO,CAAC;AAAE9O,QAAAA,SAAS,EAAEA;AAAb,OAAD,CAAP,CAD6F,CAC1D;AACtC,KAFU,EAER+O,OAFQ,CAAX;AAGH;AAbkB,CAAvB;AAeA,IAAIssB,qBAAqB,GAAGhP,YAAY,CAAC;AACrC1c,EAAAA,eAAe,EAAE,CAACwrB,gBAAD;AADoB,CAAD,CAAxC;;AAIA,SAASG,WAAT,CAAqBniD,MAArB,EAA6Bd,GAA7B,EAAkCkjD,MAAlC,EAA0CC,eAA1C,EAA2DC,eAA3D,EAA4E;AACxEtiD,EAAAA,MAAM,GAAGA,MAAM,CAACuiD,WAAP,EAAT;AACA,MAAI5+C,IAAI,GAAG,IAAX;;AACA,MAAI3D,MAAM,KAAK,KAAf,EAAsB;AAClBd,IAAAA,GAAG,GAAGsjD,uBAAuB,CAACtjD,GAAD,EAAMkjD,MAAN,CAA7B;AACH,GAFD,MAGK;AACDz+C,IAAAA,IAAI,GAAG8+C,YAAY,CAACL,MAAD,CAAnB;AACH;;AACD,MAAIxD,GAAG,GAAG,IAAI8D,cAAJ,EAAV;AACA9D,EAAAA,GAAG,CAAC+D,IAAJ,CAAS3iD,MAAT,EAAiBd,GAAjB,EAAsB,IAAtB;;AACA,MAAIc,MAAM,KAAK,KAAf,EAAsB;AAClB4+C,IAAAA,GAAG,CAACgE,gBAAJ,CAAqB,cAArB,EAAqC,mCAArC;AACH;;AACDhE,EAAAA,GAAG,CAACiE,MAAJ,GAAa,YAAY;AACrB,QAAIjE,GAAG,CAACkE,MAAJ,IAAc,GAAd,IAAqBlE,GAAG,CAACkE,MAAJ,GAAa,GAAtC,EAA2C;AACvC,UAAIn1C,MAAM,GAAG,KAAb;AACA,UAAIN,GAAG,GAAG,KAAK,CAAf;;AACA,UAAI;AACAA,QAAAA,GAAG,GAAGg6B,IAAI,CAACz5B,KAAL,CAAWgxC,GAAG,CAACmE,YAAf,CAAN;AACAp1C,QAAAA,MAAM,GAAG,IAAT;AACH,OAHD,CAIA,OAAOq1C,GAAP,EAAY,CACR;AACH;;AACD,UAAIr1C,MAAJ,EAAY;AACR00C,QAAAA,eAAe,CAACh1C,GAAD,EAAMuxC,GAAN,CAAf;AACH,OAFD,MAGK;AACD0D,QAAAA,eAAe,CAAC,sBAAD,EAAyB1D,GAAzB,CAAf;AACH;AACJ,KAhBD,MAiBK;AACD0D,MAAAA,eAAe,CAAC,gBAAD,EAAmB1D,GAAnB,CAAf;AACH;AACJ,GArBD;;AAsBAA,EAAAA,GAAG,CAACqE,OAAJ,GAAc,YAAY;AACtBX,IAAAA,eAAe,CAAC,gBAAD,EAAmB1D,GAAnB,CAAf;AACH,GAFD;;AAGAA,EAAAA,GAAG,CAACsE,IAAJ,CAASv/C,IAAT;AACH;;AACD,SAAS6+C,uBAAT,CAAiCtjD,GAAjC,EAAsCkjD,MAAtC,EAA8C;AAC1C,SAAOljD,GAAG,IACLA,GAAG,CAACqa,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0B,GAA1B,GAAgC,GAD3B,CAAH,GAEHkpC,YAAY,CAACL,MAAD,CAFhB;AAGH;;AACD,SAASK,YAAT,CAAsBL,MAAtB,EAA8B;AAC1B,MAAI1pC,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAI9e,GAAT,IAAgBwoD,MAAhB,EAAwB;AACpB1pC,IAAAA,KAAK,CAAC1b,IAAN,CAAWmmD,kBAAkB,CAACvpD,GAAD,CAAlB,GAA0B,GAA1B,GAAgCupD,kBAAkB,CAACf,MAAM,CAACxoD,GAAD,CAAP,CAA7D;AACH;;AACD,SAAO8e,KAAK,CAACI,IAAN,CAAW,GAAX,CAAP;AACH;;AAED,IAAIsqC,+BAA+B,GAAG;AAClCpjD,EAAAA,MAAM,EAAEyD,MAD0B;AAElC4/C,EAAAA,WAAW,EAAEzoC,QAFqB;AAGlCgD,EAAAA,UAAU,EAAEna,MAHsB;AAIlCoa,EAAAA,QAAQ,EAAEpa,MAJwB;AAKlCqa,EAAAA,aAAa,EAAEra;AALmB,CAAtC;AAQA,IAAI6/C,cAAc,GAAG;AACjB7sB,EAAAA,SAAS,EAAE,mBAAUlpB,OAAV,EAAmB;AAC1B,QAAIA,OAAO,CAACrO,GAAR,KAAgBqO,OAAO,CAACpO,MAAR,KAAmB,MAAnB,IAA6B,CAACoO,OAAO,CAACpO,MAAtD,CAAJ,EAAmE;AAC/D,aAAO;AACHD,QAAAA,GAAG,EAAEqO,OAAO,CAACrO,GADV;AAEHC,QAAAA,MAAM,EAAE,MAFL;AAGHa,QAAAA,MAAM,EAAE,CAACuN,OAAO,CAACvN,MAAR,IAAkB,KAAnB,EAA0BuiD,WAA1B,EAHL;AAIHc,QAAAA,WAAW,EAAE91C,OAAO,CAAC81C,WAJlB;AAKHzlC,QAAAA,UAAU,EAAErQ,OAAO,CAACqQ,UALjB;AAMHC,QAAAA,QAAQ,EAAEtQ,OAAO,CAACsQ,QANf;AAOHC,QAAAA,aAAa,EAAEvQ,OAAO,CAACuQ;AAPpB,OAAP;AASH;;AACD,WAAO,IAAP;AACH,GAdgB;AAejB6gC,EAAAA,KAAK,EAAE,eAAUmD,GAAV,EAAensB,OAAf,EAAwBC,OAAxB,EAAiC;AACpC,QAAI32B,IAAI,GAAG6iD,GAAG,CAACh7B,WAAJ,CAAgB7nB,IAA3B;AACA,QAAIskD,aAAa,GAAGC,kBAAkB,CAACvkD,IAAD,EAAO6iD,GAAG,CAACh3C,KAAX,EAAkBg3C,GAAG,CAAC1jD,OAAtB,CAAtC;AACA+jD,IAAAA,WAAW,CAACljD,IAAI,CAACe,MAAN,EAAcf,IAAI,CAACC,GAAnB,EAAwBqkD,aAAxB,EAAuC,UAAU18B,SAAV,EAAqB+3B,GAArB,EAA0B;AACxEjpB,MAAAA,OAAO,CAAC;AAAE9O,QAAAA,SAAS,EAAEA,SAAb;AAAwB+3B,QAAAA,GAAG,EAAEA;AAA7B,OAAD,CAAP;AACH,KAFU,EAER,UAAU6E,YAAV,EAAwB7E,GAAxB,EAA6B;AAC5BhpB,MAAAA,OAAO,CAAC;AAAEkpB,QAAAA,OAAO,EAAE2E,YAAX;AAAyB7E,QAAAA,GAAG,EAAEA;AAA9B,OAAD,CAAP;AACH,KAJU,CAAX;AAKH;AAvBgB,CAArB;AAyBA,IAAI8E,yBAAyB,GAAGxQ,YAAY,CAAC;AACzC3c,EAAAA,mBAAmB,EAAE6sB,+BADoB;AAEzC5sB,EAAAA,eAAe,EAAE,CAAC8sB,cAAD;AAFwB,CAAD,CAA5C;;AAIA,SAASE,kBAAT,CAA4BvkD,IAA5B,EAAkC6L,KAAlC,EAAyC1M,OAAzC,EAAkD;AAC9C,MAAIqP,OAAO,GAAGrP,OAAO,CAACqP,OAAtB;AAAA,MAA+BlT,OAAO,GAAG6D,OAAO,CAAC7D,OAAjD;AACA,MAAIqjB,UAAJ;AACA,MAAIC,QAAJ;AACA,MAAIC,aAAJ;AACA,MAAI6lC,mBAAJ;AACA,MAAIvB,MAAM,GAAG,EAAb;AACAxkC,EAAAA,UAAU,GAAG3e,IAAI,CAAC2e,UAAlB;;AACA,MAAIA,UAAU,IAAI,IAAlB,EAAwB;AACpBA,IAAAA,UAAU,GAAGrjB,OAAO,CAACqjB,UAArB;AACH;;AACDC,EAAAA,QAAQ,GAAG5e,IAAI,CAAC4e,QAAhB;;AACA,MAAIA,QAAQ,IAAI,IAAhB,EAAsB;AAClBA,IAAAA,QAAQ,GAAGtjB,OAAO,CAACsjB,QAAnB;AACH;;AACDC,EAAAA,aAAa,GAAG7e,IAAI,CAAC6e,aAArB;;AACA,MAAIA,aAAa,IAAI,IAArB,EAA2B;AACvBA,IAAAA,aAAa,GAAGvjB,OAAO,CAACujB,aAAxB;AACH,GAlB6C,CAmB9C;;;AACA,MAAI,OAAO7e,IAAI,CAACokD,WAAZ,KAA4B,UAAhC,EAA4C;AACxC;AACAM,IAAAA,mBAAmB,GAAG1kD,IAAI,CAACokD,WAAL,EAAtB;AACH,GAHD,MAIK;AACD;AACAM,IAAAA,mBAAmB,GAAG1kD,IAAI,CAACokD,WAAL,IAAoB,EAA1C;AACH;;AACD1lD,EAAAA,+CAAQ,CAACykD,MAAD,EAASuB,mBAAT,CAAR;;AACAvB,EAAAA,MAAM,CAACxkC,UAAD,CAAN,GAAqBnQ,OAAO,CAACwlB,SAAR,CAAkBnoB,KAAK,CAACkE,KAAxB,CAArB;AACAozC,EAAAA,MAAM,CAACvkC,QAAD,CAAN,GAAmBpQ,OAAO,CAACwlB,SAAR,CAAkBnoB,KAAK,CAACmE,GAAxB,CAAnB;;AACA,MAAIxB,OAAO,CAACkK,QAAR,KAAqB,OAAzB,EAAkC;AAC9ByqC,IAAAA,MAAM,CAACtkC,aAAD,CAAN,GAAwBrQ,OAAO,CAACkK,QAAhC;AACH;;AACD,SAAOyqC,MAAP;AACH;;AAED,IAAIwB,yBAAyB,GAAG;AAC5BliB,EAAAA,UAAU,EAAE9mB,QADgB;AAE5B4mB,EAAAA,SAAS,EAAE/xB,cAFiB;AAG5BgyB,EAAAA,OAAO,EAAEhyB,cAHmB;AAI5B1B,EAAAA,QAAQ,EAAE0B,cAJkB;AAK5Bo0C,EAAAA,UAAU,EAAEjpC,QALgB;AAM5BkpC,EAAAA,QAAQ,EAAElpC;AANkB,CAAhC;AASA,IAAImpC,SAAS,GAAG;AACZn2C,EAAAA,KAAK,EAAE,eAAUL,OAAV,EAAmBE,OAAnB,EAA4B;AAC/B,QAAIF,OAAO,CAACm0B,UAAR,IAAsBn0B,OAAO,CAACi0B,SAA9B,IAA2Cj0B,OAAO,CAACk0B,OAAnD,IAA8Dl0B,OAAO,CAACs2C,UAAtE,IAAoFt2C,OAAO,CAACu2C,QAAhG,EAA0G;AACtG,UAAIE,aAAa,GAAG;AAChBtiB,QAAAA,UAAU,EAAEn0B,OAAO,CAACm0B,UAAR,IAAsB,IADlB;AAEhBF,QAAAA,SAAS,EAAEj0B,OAAO,CAACi0B,SAAR,IAAqB,IAFhB;AAGhBC,QAAAA,OAAO,EAAEl0B,OAAO,CAACk0B,OAAR,IAAmB,IAHZ;AAIhBoiB,QAAAA,UAAU,EAAEt2C,OAAO,CAACs2C,UAAR,GAAqBp2C,OAAO,CAAC+e,YAAR,CAAqBjf,OAAO,CAACs2C,UAA7B,CAArB,GAAgE,IAJ5D;AAKhBC,QAAAA,QAAQ,EAAEv2C,OAAO,CAACu2C,QAAR,GAAmBr2C,OAAO,CAAC+e,YAAR,CAAqBjf,OAAO,CAACu2C,QAA7B,CAAnB,GAA4D;AALtD,OAApB;AAOA,UAAI/1C,QAAQ,GAAG,KAAK,CAApB;;AACA,UAAIR,OAAO,CAACQ,QAAZ,EAAsB;AAClBA,QAAAA,QAAQ,GAAGR,OAAO,CAACQ,QAAnB;AACH;;AACD,UAAI,CAACA,QAAD,IAAaR,OAAO,CAACi0B,SAArB,IAAkCj0B,OAAO,CAACk0B,OAA9C,EAAuD;AACnD1zB,QAAAA,QAAQ,GAAGoD,iBAAiB,CAAC5D,OAAO,CAACk0B,OAAT,EAAkBl0B,OAAO,CAACi0B,SAA1B,CAA5B;AACH;;AACD,aAAO;AACH1zB,QAAAA,WAAW,EAAEsN,OAAO,CAAC,CAAC7N,OAAO,CAACi0B,SAAT,IAAsB,CAACj0B,OAAO,CAACk0B,OAAhC,CADjB;AAEH1zB,QAAAA,QAAQ,EAAEA,QAFP;AAGHC,QAAAA,QAAQ,EAAEg2C,aAHP,CAGsB;;AAHtB,OAAP;AAKH;;AACD,WAAO,IAAP;AACH,GAxBW;AAyBZ30C,EAAAA,MAAM,EAAE,gBAAUrB,QAAV,EAAoBI,YAApB,EAAkCX,OAAlC,EAA2C;AAC/C,QAAIw2C,mBAAmB,GAAG/2B,eAAe,CAAC9e,YAAD,EAAe;AAAEY,MAAAA,KAAK,EAAEhB,QAAQ,CAAC61C,UAAlB;AAA8B50C,MAAAA,GAAG,EAAEjB,QAAQ,CAAC81C;AAA5C,KAAf,CAAzC;;AACA,QAAIG,mBAAJ,EAAyB;AACrB,aAAOC,YAAY,CAACl2C,QAAQ,CAAC0zB,UAAV,EAAsB1zB,QAAQ,CAACwzB,SAA/B,EAA0CyiB,mBAA1C,EAA+Dx2C,OAA/D,CAAnB;AACH;;AACD,WAAO,EAAP;AACH;AA/BW,CAAhB;AAiCA,IAAI02C,2BAA2B,GAAGjR,YAAY,CAAC;AAC3CxlC,EAAAA,cAAc,EAAE,CAACq2C,SAAD,CAD2B;AAE3C98B,EAAAA,aAAa,EAAE28B;AAF4B,CAAD,CAA9C;;AAIA,SAASM,YAAT,CAAsBxiB,UAAtB,EAAkCF,SAAlC,EAA6CpzB,YAA7C,EAA2DX,OAA3D,EAAoE;AAChE,MAAI22C,OAAO,GAAG1iB,UAAU,GAAG31B,WAAW,CAAC21B,UAAD,CAAd,GAA6B,IAArD;AACA,MAAI2iB,SAAS,GAAG/8C,UAAU,CAAC8G,YAAY,CAACY,KAAd,CAA1B;AACA,MAAIoc,SAAS,GAAGhd,YAAY,CAACa,GAA7B;AACA,MAAIq1C,cAAc,GAAG,EAArB;;AACA,SAAOD,SAAS,GAAGj5B,SAAnB,EAA8B;AAC1B,QAAIm5B,aAAa,CACjB;AADiB,MAEf,KAAK,CAFP,CAD0B,CAI1B;;AACA,QAAI,CAACH,OAAD,IAAYA,OAAO,CAACC,SAAS,CAAC16C,SAAV,EAAD,CAAvB,EAAgD;AAC5C,UAAI63B,SAAJ,EAAe;AACX+iB,QAAAA,aAAa,GAAG92C,OAAO,CAAC5J,GAAR,CAAYwgD,SAAZ,EAAuB7iB,SAAvB,CAAhB;AACH,OAFD,MAGK;AACD+iB,QAAAA,aAAa,GAAGF,SAAhB;AACH;;AACDC,MAAAA,cAAc,CAACtnD,IAAf,CAAoBunD,aAApB;AACH;;AACDF,IAAAA,SAAS,GAAG19C,OAAO,CAAC09C,SAAD,EAAY,CAAZ,CAAnB;AACH;;AACD,SAAOC,cAAP;AACH;;AAED,IAAIE,mBAAmB,GAAGtR,YAAY,CAAC;AACnCkB,EAAAA,oBAAoB,EAAE;AAClBp6C,IAAAA,MAAM,EAAE,gBAAUA,OAAV,EAAkBoE,OAAlB,EAA2B;AAC/BqmD,MAAAA,kBAAkB,CAAC,CAACzqD,OAAD,CAAD,EAAWoE,OAAX,CAAlB;AACH,KAHiB;AAIlBnE,IAAAA,YAAY,EAAEwqD;AAJI;AADa,CAAD,CAAtC;AAQA;AACA;AACA;;AACA,SAASA,kBAAT,CAA4B3oD,MAA5B,EAAoCsC,OAApC,EAA6C;AACzC,MAAIsmD,cAAc,GAAGr4C,iBAAiB,CAACjO,OAAO,CAACg3B,cAAR,GAAyBn7B,YAA1B,CAAtC;AACA,MAAI0qD,SAAS,GAAG,EAAhB;;AACA,OAAK,IAAI34C,EAAE,GAAG,CAAT,EAAY44C,QAAQ,GAAG9oD,MAA5B,EAAoCkQ,EAAE,GAAG44C,QAAQ,CAAClkD,MAAlD,EAA0DsL,EAAE,EAA5D,EAAgE;AAC5D,QAAIlT,KAAK,GAAG8rD,QAAQ,CAAC54C,EAAD,CAApB;AACA,QAAI64C,UAAU,GAAG,KAAjB;;AACA,SAAK,IAAIpkD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGikD,cAAc,CAAChkD,MAAnC,EAA2CD,CAAC,IAAI,CAAhD,EAAmD;AAC/C,UAAIikD,cAAc,CAACjkD,CAAD,CAAd,CAAkBy1B,IAAlB,KAA2Bp9B,KAA/B,EAAsC;AAClC4rD,QAAAA,cAAc,CAAC1xC,MAAf,CAAsBvS,CAAtB,EAAyB,CAAzB,EADkC,CACL;;AAC7BokD,QAAAA,UAAU,GAAG,IAAb;AACA;AACH;AACJ;;AACD,QAAI,CAACA,UAAL,EAAiB;AACbF,MAAAA,SAAS,CAAC3nD,IAAV,CAAelE,KAAf;AACH;AACJ;;AACD,OAAK,IAAI+I,EAAE,GAAG,CAAT,EAAYijD,gBAAgB,GAAGJ,cAApC,EAAoD7iD,EAAE,GAAGijD,gBAAgB,CAACpkD,MAA1E,EAAkFmB,EAAE,EAApF,EAAwF;AACpF,QAAIkjD,aAAa,GAAGD,gBAAgB,CAACjjD,EAAD,CAApC;AACAzD,IAAAA,OAAO,CAACG,QAAR,CAAiB;AACb3C,MAAAA,IAAI,EAAE,qBADO;AAEb4C,MAAAA,QAAQ,EAAEumD,aAAa,CAACvmD;AAFX,KAAjB;AAIH;;AACD,OAAK,IAAIsD,EAAE,GAAG,CAAT,EAAYkjD,WAAW,GAAGL,SAA/B,EAA0C7iD,EAAE,GAAGkjD,WAAW,CAACtkD,MAA3D,EAAmEoB,EAAE,EAArE,EAAyE;AACrE,QAAImjD,QAAQ,GAAGD,WAAW,CAACljD,EAAD,CAA1B;AACA1D,IAAAA,OAAO,CAAC21B,WAAR,CAAoB0H,cAApB,CAAmCwpB,QAAnC;AACH;AACJ;;AAED,SAASC,iBAAT,CAA2B5vB,WAA3B,EAAwCl3B,OAAxC,EAAiD;AAC7CA,EAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,UAAxB,EAAoC91B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKk1B,yBAAyB,CAACyC,WAAW,CAACC,WAAb,EAA0Bn3B,OAAO,CAACqP,OAAlC,CAA9B,CAAT,EAAoF;AAAEomB,IAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAAhB,GAApF,CAA5C;AACH;;AAED,SAASqxB,gBAAT,CAA0Bh3C,UAA1B,EAAsC/P,OAAtC,EAA+C;AAC3C,MAAIo1B,OAAO,GAAGp1B,OAAO,CAACo1B,OAAtB;;AACA,MAAIA,OAAO,CAAC0Y,WAAR,CAAoB,WAApB,CAAJ,EAAsC;AAClC1Y,IAAAA,OAAO,CAACC,OAAR,CAAgB,WAAhB,EAA6B0H,cAAc,CAAChtB,UAAD,EAAa/P,OAAb,CAA3C;AACH;AACJ;AAED;AACA;AACA;AACA;;;AACA,IAAI5F,aAAa,GAAG,CAChBupD,sBADgB,EAEhBG,qBAFgB,EAGhBwB,yBAHgB,EAIhBS,2BAJgB,EAKhBK,mBALgB,EAMhBtR,YAAY,CAAC;AACTG,EAAAA,cAAc,EAAE,CACZ,UAAU/a,KAAV,EAAiB;AAAE,WAAO0lB,0BAA0B,CAAC1lB,KAAK,CAACr+B,YAAP,CAAjC;AAAwD,GAD/D,CADP;AAITq6C,EAAAA,mBAAmB,EAAE;AACjB8Q,IAAAA,IAAI,EAAE,gBAAY;AAAE,aAAQ;AAAExqD,QAAAA,MAAM,EAAEyqD;AAAV,OAAR;AAAkC,KADrC;AAEjBC,IAAAA,QAAQ,EAAE,oBAAY;AAAE,aAAQ;AAAE1qD,QAAAA,MAAM,EAAE2qD;AAAV,OAAR;AAAsC;AAF7C,GAJZ;AAQT9Q,EAAAA,eAAe,EAAE;AACbnf,IAAAA,WAAW,EAAE4vB,iBADA;AAEb/2C,IAAAA,UAAU,EAAEg3C;AAFC;AARR,CAAD,CANI,CAApB;;AAoBA,SAASE,UAAT,CAAoBhmD,EAApB,EAAwB+lD,IAAxB,EAA8B;AAC1B/lD,EAAAA,EAAE,CAACikC,SAAH,GAAe8hB,IAAf;AACH;;AACD,SAASG,cAAT,CAAwBlmD,EAAxB,EAA4BimD,QAA5B,EAAsC;AAClC,MAAIE,QAAQ,GAAGzsD,KAAK,CAACH,SAAN,CAAgBW,KAAhB,CAAsBC,IAAtB,CAA2B6F,EAAE,CAAC2B,UAA9B,CAAf,CADkC,CACwB;;AAC1D,MAAIykD,QAAQ,GAAG1sD,KAAK,CAACH,SAAN,CAAgBW,KAAhB,CAAsBC,IAAtB,CAA2B8rD,QAA3B,CAAf,CAFkC,CAEmB;;AACrD,MAAI,CAACryC,aAAa,CAACuyC,QAAD,EAAWC,QAAX,CAAlB,EAAwC;AACpC,SAAK,IAAIz5C,EAAE,GAAG,CAAT,EAAY05C,UAAU,GAAGD,QAA9B,EAAwCz5C,EAAE,GAAG05C,UAAU,CAAChlD,MAAxD,EAAgEsL,EAAE,EAAlE,EAAsE;AAClE,UAAI25C,OAAO,GAAGD,UAAU,CAAC15C,EAAD,CAAxB;AACA3M,MAAAA,EAAE,CAACkkC,WAAH,CAAeoiB,OAAf;AACH;;AACDH,IAAAA,QAAQ,CAACniD,OAAT,CAAiBjE,aAAjB;AACH;AACJ;;AAED,IAAIwmD,aAAa;AAAG;AAAe,YAAY;AAC3C,WAASA,aAAT,CAAuBC,aAAvB,EAAsC;AAClC,SAAKA,aAAL,GAAqBA,aAArB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,OAAL,GAAe,KAAf;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACH;;AACDL,EAAAA,aAAa,CAAChtD,SAAd,CAAwB23C,OAAxB,GAAkC,UAAU2V,KAAV,EAAiB;AAC/C,SAAKH,OAAL,GAAe,IAAf;;AACA,QAAI,CAAC,KAAKI,QAAL,EAAL,EAAsB;AAClB,WAAKC,YAAL;;AACA,UAAIF,KAAK,IAAI,IAAb,EAAmB;AACf,aAAKG,QAAL;AACH,OAFD,MAGK;AACD,aAAKJ,SAAL,GAAiBK,UAAU,EAAC;AAC5B,aAAKD,QAAL,CAAcpE,IAAd,CAAmB,IAAnB,CAD2B,EACDiE,KADC,CAA3B;AAEH;AACJ;AACJ,GAZD;;AAaAN,EAAAA,aAAa,CAAChtD,SAAd,CAAwB2tD,KAAxB,GAAgC,UAAUC,KAAV,EAAiB;AAC7C,QAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,MAAAA,KAAK,GAAG,EAAR;AAAa;;AACrC,QAAIR,WAAW,GAAG,KAAKA,WAAvB;AACAA,IAAAA,WAAW,CAACQ,KAAD,CAAX,GAAqB,CAACR,WAAW,CAACQ,KAAD,CAAX,IAAsB,CAAvB,IAA4B,CAAjD;AACA,SAAKJ,YAAL;AACH,GALD;;AAMAR,EAAAA,aAAa,CAAChtD,SAAd,CAAwB6tD,MAAxB,GAAiC,UAAUD,KAAV,EAAiBE,KAAjB,EAAwB;AACrD,QAAIF,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,MAAAA,KAAK,GAAG,EAAR;AAAa;;AACrC,QAAIR,WAAW,GAAG,KAAKA,WAAvB;;AACA,QAAIQ,KAAK,IAAIR,WAAb,EAA0B;AACtB,UAAIU,KAAJ,EAAW;AACP,eAAOV,WAAW,CAACQ,KAAD,CAAlB;AACH,OAFD,MAGK;AACDR,QAAAA,WAAW,CAACQ,KAAD,CAAX,IAAsB,CAAtB;AACA,YAAIG,KAAK,GAAGX,WAAW,CAACQ,KAAD,CAAvB;;AACA,YAAIG,KAAK,IAAI,CAAb,EAAgB;AACZ,iBAAOX,WAAW,CAACQ,KAAD,CAAlB;AACH;AACJ;;AACD,WAAKH,QAAL;AACH;AACJ,GAhBD;;AAiBAT,EAAAA,aAAa,CAAChtD,SAAd,CAAwButD,QAAxB,GAAmC,YAAY;AAC3C,WAAOxtD,MAAM,CAACsC,IAAP,CAAY,KAAK+qD,WAAjB,EAA8BtlD,MAArC;AACH,GAFD;;AAGAklD,EAAAA,aAAa,CAAChtD,SAAd,CAAwBytD,QAAxB,GAAmC,YAAY;AAC3C,QAAI,CAAC,KAAKP,SAAN,IAAmB,CAAC,KAAKK,QAAL,EAAxB,EAAyC;AACrC,WAAKL,SAAL,GAAiB,IAAjB;;AACA,aAAO,KAAKC,OAAZ,EAAqB;AACjB,aAAKA,OAAL,GAAe,KAAf;AACA,aAAKa,OAAL,GAFiB,CAED;AACnB;;AACD,WAAKd,SAAL,GAAiB,KAAjB;AACH;AACJ,GATD;;AAUAF,EAAAA,aAAa,CAAChtD,SAAd,CAAwBiuD,KAAxB,GAAgC,YAAY;AACxC,SAAKT,YAAL;AACA,SAAKL,OAAL,GAAe,KAAf;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACH,GAJD;;AAKAJ,EAAAA,aAAa,CAAChtD,SAAd,CAAwBwtD,YAAxB,GAAuC,YAAY;AAC/C,QAAI,KAAKH,SAAT,EAAoB;AAChBG,MAAAA,YAAY,CAAC,KAAKH,SAAN,CAAZ;AACA,WAAKA,SAAL,GAAiB,CAAjB;AACH;AACJ,GALD;;AAMAL,EAAAA,aAAa,CAAChtD,SAAd,CAAwBguD,OAAxB,GAAkC,YAAY;AAC1C,QAAI,KAAKf,aAAT,EAAwB;AACpB,WAAKA,aAAL;AACH;AACJ,GAJD;;AAKA,SAAOD,aAAP;AACH,CA1EkC,EAAnC;;AA4EA,IAAIkB,UAAU;AAAG;AAAe,YAAY;AACxC,WAASA,UAAT,CAAoBC,aAApB,EAAmClB,aAAnC,EAAkD;AAC9C,SAAKkB,aAAL,GAAqBA,aAArB;AACA,SAAKlB,aAAL,GAAqBA,aAArB;AACA,SAAKmB,KAAL,GAAa,EAAb;AACA,SAAKC,aAAL,GAAqB,IAAIrB,aAAJ,CAAkB,KAAKnV,KAAL,CAAWwR,IAAX,CAAgB,IAAhB,CAAlB,CAArB;AACH;;AACD6E,EAAAA,UAAU,CAACluD,SAAX,CAAqB23C,OAArB,GAA+B,UAAU2W,IAAV,EAAgBhB,KAAhB,EAAuB;AAClD,SAAKc,KAAL,CAAWhqD,IAAX,CAAgBkqD,IAAhB;AACA,SAAKD,aAAL,CAAmB1W,OAAnB,CAA2B2V,KAA3B;AACH,GAHD;;AAIAY,EAAAA,UAAU,CAACluD,SAAX,CAAqB2tD,KAArB,GAA6B,UAAUC,KAAV,EAAiB;AAC1C,SAAKS,aAAL,CAAmBV,KAAnB,CAAyBC,KAAzB;AACH,GAFD;;AAGAM,EAAAA,UAAU,CAACluD,SAAX,CAAqB6tD,MAArB,GAA8B,UAAUD,KAAV,EAAiBE,KAAjB,EAAwB;AAClD,SAAKO,aAAL,CAAmBR,MAAnB,CAA0BD,KAA1B,EAAiCE,KAAjC;AACH,GAFD;;AAGAI,EAAAA,UAAU,CAACluD,SAAX,CAAqB63C,KAArB,GAA6B,YAAY;AACrC,QAAIuW,KAAK,GAAG,KAAKA,KAAjB;;AACA,WAAOA,KAAK,CAACtmD,MAAb,EAAqB;AACjB,UAAIymD,cAAc,GAAG,EAArB;AACA,UAAID,IAAI,GAAG,KAAK,CAAhB;;AACA,aAAQA,IAAI,GAAGF,KAAK,CAACI,KAAN,EAAf,EAA+B;AAC3B,aAAKC,OAAL,CAAaH,IAAb;AACAC,QAAAA,cAAc,CAACnqD,IAAf,CAAoBkqD,IAApB;AACH;;AACD,WAAKN,OAAL,CAAaO,cAAb;AACH,KAVoC,CAUnC;;AACL,GAXD;;AAYAL,EAAAA,UAAU,CAACluD,SAAX,CAAqByuD,OAArB,GAA+B,UAAUH,IAAV,EAAgB;AAC3C,QAAI,KAAKH,aAAT,EAAwB;AACpB,WAAKA,aAAL,CAAmBG,IAAnB;AACH;AACJ,GAJD;;AAKAJ,EAAAA,UAAU,CAACluD,SAAX,CAAqBguD,OAArB,GAA+B,UAAUO,cAAV,EAA0B;AACrD,QAAI,KAAKtB,aAAT,EAAwB;AACpB,WAAKA,aAAL,CAAmBsB,cAAnB;AACH;AACJ,GAJD;;AAKA,SAAOL,UAAP;AACH,CAxC+B,EAAhC,EA0CA;;;AACA,SAASQ,UAAT,CAAoBhyB,WAApB,EAAiC2b,WAAjC,EAA8CxjC,OAA9C,EAAuD;AACnD,MAAI3C,KAAJ,CADmD,CAEnD;;AACA,MAAI,iBAAiBpJ,IAAjB,CAAsB4zB,WAAW,CAAC2lB,gBAAlC,CAAJ,EAAyD;AACrDnwC,IAAAA,KAAK,GAAGwqB,WAAW,CAACE,YAApB;AACH,GAFD,MAGK;AAAE;AACH1qB,IAAAA,KAAK,GAAGwqB,WAAW,CAACC,WAApB;AACH;;AACD,SAAO9nB,OAAO,CAACwI,WAAR,CAAoBnL,KAAK,CAACkE,KAA1B,EAAiClE,KAAK,CAACmE,GAAvC,EAA4CwL,eAAe,CAACw2B,WAAW,CAACvtB,WAAZ,IAA2B6jC,gBAAgB,CAACjyB,WAAD,CAA5C,CAA3D,EAAuH;AAC1HkK,IAAAA,cAAc,EAAElK,WAAW,CAACgmB,aAD8F;AAE1HtkC,IAAAA,gBAAgB,EAAEi6B,WAAW,CAACt1B;AAF4F,GAAvH,CAAP;AAIH,EACD;AACA;;;AACA,SAAS4rC,gBAAT,CAA0BjyB,WAA1B,EAAuC;AACnC,MAAI2lB,gBAAgB,GAAG3lB,WAAW,CAAC2lB,gBAAnC;;AACA,MAAIA,gBAAgB,KAAK,MAAzB,EAAiC;AAC7B,WAAO;AAAE7xC,MAAAA,IAAI,EAAE;AAAR,KAAP;AACH;;AACD,MAAI6xC,gBAAgB,KAAK,OAAzB,EAAkC;AAC9B,WAAO;AAAE7xC,MAAAA,IAAI,EAAE,SAAR;AAAmB4G,MAAAA,KAAK,EAAE;AAA1B,KAAP,CAD8B,CACa;AAC9C;;AACD,MAAItI,IAAI,GAAGM,aAAa,CAACstB,WAAW,CAACE,YAAZ,CAAyBxmB,KAA1B,EAAiCsmB,WAAW,CAACE,YAAZ,CAAyBvmB,GAA1D,CAAxB;;AACA,MAAIvH,IAAI,KAAK,IAAT,IAAiBA,IAAI,GAAG,CAA5B,EAA+B;AAC3B;AACA,WAAO;AAAE0B,MAAAA,IAAI,EAAE,SAAR;AAAmB4G,MAAAA,KAAK,EAAE,OAA1B;AAAmCC,MAAAA,GAAG,EAAE;AAAxC,KAAP;AACH,GAZkC,CAanC;;;AACA,SAAO;AAAE7G,IAAAA,IAAI,EAAE,SAAR;AAAmB4G,IAAAA,KAAK,EAAE,MAA1B;AAAkCC,IAAAA,GAAG,EAAE;AAAvC,GAAP;AACH,EAED;AACA;;;AACA,IAAIu3C,mBAAmB;AAAG;AAAe,YAAY;AACjD,WAASA,mBAAT,CAA6BnmD,KAA7B,EAAoC;AAChC,QAAIyS,KAAK,GAAG,IAAZ;;AACA,SAAK2zC,kBAAL,GAA0Bp0C,OAAO,CAAC,KAAKq0C,mBAAN,CAAjC;AACA,SAAKC,sBAAL,GAA8Bt0C,OAAO,CAAC,KAAKu0C,uBAAN,CAArC;AACA,SAAK1nB,kBAAL,GAA0B7sB,OAAO,CAAC6sB,kBAAD,CAAjC;AACA,SAAKQ,WAAL,GAAmBrtB,OAAO,CAACqtB,WAAD,CAA1B;AACA,SAAKgU,gBAAL,GAAwBQ,qBAAqB,EAA7C;AACA,SAAK2S,YAAL,GAAoBx0C,OAAO,CAACw0C,YAAD,CAA3B;AACA,SAAKC,UAAL,GAAkBz0C,OAAO,CAACy0C,UAAD,CAAzB;AACA,SAAKhH,aAAL,GAAqBztC,OAAO,CAACytC,aAAD,CAA5B;AACA,SAAKvH,cAAL,GAAsBlmC,OAAO,CAACkmC,cAAD,CAA7B;AACA,SAAKwO,yBAAL,GAAiCl0C,aAAa,CAACk0C,yBAAD,CAA9C;AACA,SAAKC,YAAL,GAAoB30C,OAAO,CAAC20C,YAAD,CAA3B;AACA,SAAKC,gBAAL,GAAwBp0C,aAAa,CAACo0C,gBAAD,CAArC;AACA,SAAKC,oBAAL,GAA4B70C,OAAO,CAAC60C,oBAAD,EAAuB37C,YAAvB,CAAnC;AACA,SAAK47C,iBAAL,GAAyB90C,OAAO,CAAC80C,iBAAD,CAAhC;AACA,SAAKC,yBAAL,GAAiCv0C,aAAa,CAACu0C,yBAAD,CAA9C;AACA,SAAKd,UAAL,GAAkBj0C,OAAO,CAACi0C,UAAD,CAAzB;AACA,SAAK9zB,OAAL,GAAe,IAAIgY,OAAJ,EAAf;AACA,SAAK6c,YAAL,GAAoB,IAAIvB,UAAJ,CAAe,KAAKwB,aAAL,CAAmBrG,IAAnB,CAAwB,IAAxB,CAAf,EAA8C,KAAKsG,UAAL,CAAgBtG,IAAhB,CAAqB,IAArB,CAA9C,CAApB;AACA,SAAKxqB,2BAAL,GAAmC,EAAnC;AACA,SAAK+wB,6BAAL,GAAqC,EAArC;AACA,SAAKC,uBAAL,GAA+B,EAA/B;AACA,SAAKC,yBAAL,GAAiC,EAAjC;AACA,SAAK5wB,8BAAL,GAAsC,EAAtC;;AACA,SAAK1C,cAAL,GAAsB,YAAY;AAAE,aAAOthB,KAAK,CAAC60C,IAAb;AAAoB,KAAxD;;AACA,SAAKpqD,QAAL,GAAgB,UAAUq4B,MAAV,EAAkB;AAC9B9iB,MAAAA,KAAK,CAACu0C,YAAN,CAAmB9X,OAAnB,CAA2B3Z,MAA3B,EAD8B,CACM;;AACvC,KAFD;;AAGA,SAAKv1B,KAAL,GAAaA,KAAb;AACA,SAAKgnD,YAAL,CAAkB9B,KAAlB;AACA,QAAI7M,sBAAsB,GAAG,EAA7B;AACA,QAAIkP,WAAW,GAAG,KAAKnB,kBAAL,CAAwBpmD,KAAK,CAACo4C,eAA9B,EAA+CC,sBAA/C,EAAuEr4C,KAAK,CAAC0yB,WAA7E,CAAlB;AACA,QAAI80B,eAAe,GAAGD,WAAW,CAACxvB,eAAZ,CAA4B7c,WAA5B,IAA2CqsC,WAAW,CAACv6C,WAAZ,CAAwBkO,WAAzF;AACA,QAAIusC,eAAe,GAAG,KAAKnB,sBAAL,CAA4BkB,eAA5B,EAA6CD,WAA7C,EAA0DvnD,KAAK,CAACo4C,eAAhE,EAAiFC,sBAAjF,CAAtB,CAlCgC,CAmChC;AACA;;AACAr4C,IAAAA,KAAK,CAAC0yB,WAAN,CAAkBqD,kBAAlB,GAAuC,IAAvC;AACA,SAAK5D,OAAL,CAAamY,cAAb,CAA4BtqC,KAAK,CAAC0yB,WAAlC;AACA,SAAKP,OAAL,CAAaoY,UAAb,CAAwBkd,eAAe,CAACvuD,OAAxC;AACA,QAAIo8B,WAAW,GAAGG,cAAc,CAAC8xB,WAAW,CAACxvB,eAAb,EAA8BwvB,WAAW,CAACn7C,OAA1C,CAAhC;AACA,QAAI6nB,WAAW,GAAGwzB,eAAe,CAAC5X,oBAAhB,CAAqCgK,KAArC,CAA2CvkB,WAA3C,CAAlB;;AACA,QAAI,CAAClJ,mBAAmB,CAAC6H,WAAW,CAACC,WAAb,EAA0BoB,WAA1B,CAAxB,EAAgE;AAC5DA,MAAAA,WAAW,GAAGrB,WAAW,CAACE,YAAZ,CAAyBxmB,KAAvC;AACH;;AACD,QAAI+5C,eAAe,GAAG;AAClBt7C,MAAAA,OAAO,EAAEm7C,WAAW,CAACn7C,OADH;AAElBlT,MAAAA,OAAO,EAAEquD,WAAW,CAACxvB,eAFH;AAGlB/qB,MAAAA,WAAW,EAAEu6C,WAAW,CAACv6C,WAHP;AAIlB0lB,MAAAA,WAAW,EAAE1yB,KAAK,CAAC0yB,WAJD;AAKlBx1B,MAAAA,QAAQ,EAAE,KAAKA,QALG;AAMlBi1B,MAAAA,OAAO,EAAE,KAAKA,OANI;AAOlB4B,MAAAA,cAAc,EAAE,KAAKA;AAPH,KAAtB,CA7CgC,CAsDhC;;AACA,SAAK,IAAIppB,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG+mD,WAAW,CAACv6C,WAAZ,CAAwBilC,WAA9C,EAA2DtnC,EAAE,GAAGnK,EAAE,CAACnB,MAAnE,EAA2EsL,EAAE,EAA7E,EAAiF;AAC7E,UAAI7I,QAAQ,GAAGtB,EAAE,CAACmK,EAAD,CAAjB;AACA7I,MAAAA,QAAQ,CAAC4lD,eAAD,CAAR;AACH,KA1D+B,CA2DhC;;;AACA,QAAI9uD,YAAY,GAAGojD,gBAAgB,CAACuL,WAAW,CAACxvB,eAAb,EAA8B9D,WAA9B,EAA2CyzB,eAA3C,CAAnC;AACA,QAAIC,YAAY,GAAG;AACftP,MAAAA,sBAAsB,EAAEA,sBADT;AAEfmP,MAAAA,eAAe,EAAEA,eAFF;AAGflyB,MAAAA,WAAW,EAAEA,WAHE;AAIfrB,MAAAA,WAAW,EAAEA,WAJE;AAKflW,MAAAA,aAAa,EAAE,KAAKgpC,yBAAL,CAA+BW,eAA/B,CALA;AAMf9uD,MAAAA,YAAY,EAAEA,YANC;AAOf2zB,MAAAA,YAAY,EAAE,EAPC;AAQfzf,MAAAA,UAAU,EAAE6Y,qBAAqB,EARlB;AASfiiC,MAAAA,oBAAoB,EAAEjiC,qBAAqB,EAT5B;AAUfgT,MAAAA,aAAa,EAAE,IAVA;AAWfwL,MAAAA,cAAc,EAAE,EAXD;AAYfP,MAAAA,SAAS,EAAE,IAZI;AAafE,MAAAA,WAAW,EAAE,IAbE;AAcf+jB,MAAAA,eAAe,EAAE,KAAKjB,gBAAL,CAAsBc,eAAtB,EAAuCG;AAdzC,KAAnB;;AAgBA,QAAIC,eAAe,GAAGxrD,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKorD,eAAL,CAAT,EAAgCC,YAAhC,CAA9B;;AACA,SAAK,IAAIlnD,EAAE,GAAG,CAAT,EAAYgkC,EAAE,GAAG8iB,WAAW,CAACv6C,WAAZ,CAAwB+kC,QAA9C,EAAwDtxC,EAAE,GAAGgkC,EAAE,CAACplC,MAAhE,EAAwEoB,EAAE,EAA1E,EAA8E;AAC1E,UAAIsnD,OAAO,GAAGtjB,EAAE,CAAChkC,EAAD,CAAhB;;AACAnE,MAAAA,+CAAQ,CAACqrD,YAAD,EAAeI,OAAO,CAAC,IAAD,EAAO,IAAP,EAAaD,eAAb,CAAtB,CAAR;AACH;;AACD,QAAIE,gBAAgB,CAACL,YAAD,EAAeD,eAAf,CAApB,EAAqD;AACjD,WAAKv1B,OAAL,CAAaC,OAAb,CAAqB,SAArB,EAAgC,IAAhC,EADiD,CACV;AAC1C;;AACD,SAAK6E,KAAL,GAAa0wB,YAAb;AACA,SAAKT,UAAL;AACA,SAAKF,YAAL,CAAkB5B,MAAlB;AACH;;AACDe,EAAAA,mBAAmB,CAAC5uD,SAApB,CAA8BuC,YAA9B,GAA6C,UAAUs+C,eAAV,EAA2B6P,MAA3B,EAAmC;AAC5E,QAAIjoD,KAAK,GAAG,KAAKA,KAAjB;AACAA,IAAAA,KAAK,CAACo4C,eAAN,GAAwB6P,MAAM,GACxB3rD,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK0D,KAAK,CAACo4C,eAAX,CAAT,EAAsCA,eAAtC,CADgB,GACyCA,eADvE;AAEA,SAAK4O,YAAL,CAAkB9X,OAAlB,CAA0B;AACtB30C,MAAAA,IAAI,EAAE;AADgB,KAA1B;AAGH,GAPD;;AAQA4rD,EAAAA,mBAAmB,CAAC5uD,SAApB,CAA8B0vD,aAA9B,GAA8C,UAAU1xB,MAAV,EAAkB;AAC5D,QAAI/0B,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCi3B,KAAK,GAAGz2B,EAAE,CAACy2B,KAA5C;AAAA,QAAmD9E,OAAO,GAAG3xB,EAAE,CAAC2xB,OAAhE;;AACA,QAAIkmB,sBAAsB,GAAGwD,4BAA4B,CAAC5kB,KAAK,CAACohB,sBAAP,EAA+B9iB,MAA/B,CAAzD;AACA,QAAIgyB,WAAW,GAAG,KAAKnB,kBAAL,CAAwBpmD,KAAK,CAACo4C,eAA9B,EAA+CC,sBAA/C,EAAuEr4C,KAAK,CAAC0yB,WAA7E,CAAlB;AACA,QAAI80B,eAAe,GAAG5L,cAAc,CAAC3kB,KAAK,CAACuwB,eAAP,EAAwBjyB,MAAxB,CAApC;AACA,QAAIkyB,eAAe,GAAG,KAAKnB,sBAAL,CAA4BkB,eAA5B,EAA6CD,WAA7C,EAA0DvnD,KAAK,CAACo4C,eAAhE,EAAiFC,sBAAjF,CAAtB,CAL4D,CAM5D;AACA;;AACAr4C,IAAAA,KAAK,CAAC0yB,WAAN,CAAkBqD,kBAAlB,GAAuC,IAAvC;AACA5D,IAAAA,OAAO,CAACmY,cAAR,CAAuBtqC,KAAK,CAAC0yB,WAA7B;AACAP,IAAAA,OAAO,CAACoY,UAAR,CAAmBkd,eAAe,CAACvuD,OAAnC;AACA,QAAIwuD,eAAe,GAAG;AAClBt7C,MAAAA,OAAO,EAAEm7C,WAAW,CAACn7C,OADH;AAElBlT,MAAAA,OAAO,EAAEquD,WAAW,CAACxvB,eAFH;AAGlB/qB,MAAAA,WAAW,EAAEu6C,WAAW,CAACv6C,WAHP;AAIlB0lB,MAAAA,WAAW,EAAE1yB,KAAK,CAAC0yB,WAJD;AAKlBx1B,MAAAA,QAAQ,EAAE,KAAKA,QALG;AAMlBi1B,MAAAA,OAAO,EAAEA,OANS;AAOlB4B,MAAAA,cAAc,EAAE,KAAKA;AAPH,KAAtB;AASA,QAAIuB,WAAW,GAAG2B,KAAK,CAAC3B,WAAxB;AAAA,QAAqCrB,WAAW,GAAGgD,KAAK,CAAChD,WAAzD;;AACA,QAAI,KAAKqzB,IAAL,IAAa,KAAKA,IAAL,CAAUzX,oBAAV,KAAmC4X,eAAe,CAAC5X,oBAApE,EAA0F;AAAE;AACxF5b,MAAAA,WAAW,GAAGwzB,eAAe,CAAC5X,oBAAhB,CAAqCgK,KAArC,CAA2CvkB,WAA3C,CAAd;AACH;;AACDA,IAAAA,WAAW,GAAGD,iBAAiB,CAACC,WAAD,EAAcC,MAAd,CAA/B;AACAtB,IAAAA,WAAW,GAAG6nB,iBAAiB,CAAC7nB,WAAD,EAAcsB,MAAd,EAAsBD,WAAtB,EAAmCmyB,eAAe,CAAC5X,oBAAnD,CAA/B;;AACA,QAAI,CAACzjB,mBAAmB,CAAC6H,WAAW,CAACE,YAAb,EAA2BmB,WAA3B,CAAxB,EAAiE;AAC7DA,MAAAA,WAAW,GAAGrB,WAAW,CAACE,YAAZ,CAAyBxmB,KAAvC;AACH;;AACD,QAAI/U,YAAY,GAAGujD,kBAAkB,CAACllB,KAAK,CAACr+B,YAAP,EAAqB28B,MAArB,EAA6BtB,WAA7B,EAA0CyzB,eAA1C,CAArC;AACA,QAAI56C,UAAU,GAAGgxC,gBAAgB,CAAC7mB,KAAK,CAACnqB,UAAP,EAAmByoB,MAAnB,EAA2B38B,YAA3B,EAAyCq7B,WAAzC,EAAsDyzB,eAAtD,CAAjC;AACA,QAAIQ,eAAe,GAAGvL,0BAA0B,CAAC/jD,YAAD,CAAhD,CA/B4D,CA+BI;;AAChE,QAAIgvD,oBAAoB,GAAIM,eAAe,IAAI,CAACT,eAAe,CAACvuD,OAAhB,CAAwB4kB,yBAA7C,GACtBmZ,KAAK,CAAC2wB,oBAAN,IAA8B96C,UADR,GACsB;AAC7CA,IAAAA,UAFJ;;AAGA,QAAIrM,EAAE,GAAG,KAAKmmD,gBAAL,CAAsBc,eAAtB,CAAT;AAAA,QAAiDS,iBAAiB,GAAG1nD,EAAE,CAAC0nD,iBAAxE;AAAA,QAA2FN,eAAe,GAAGpnD,EAAE,CAAConD,eAAhH,CAnC4D,CAmCqE;;;AACjI,QAAIO,eAAe,GAAG,KAAKvB,oBAAL,CAA0BjuD,YAA1B,CAAtB;AACA,QAAI2zB,YAAY,GAAG,KAAKu6B,iBAAL,CAAuBc,oBAAoB,CAAC36C,IAA5C,EAAkDk7C,iBAAlD,EAAqEC,eAArE,CAAnB;AACA,QAAIC,QAAQ,GAAG;AACXhQ,MAAAA,sBAAsB,EAAEA,sBADb;AAEXmP,MAAAA,eAAe,EAAEA,eAFN;AAGXlyB,MAAAA,WAAW,EAAEA,WAHF;AAIXrB,MAAAA,WAAW,EAAEA,WAJF;AAKXr7B,MAAAA,YAAY,EAAEA,YALH;AAMXkU,MAAAA,UAAU,EAAEA,UAND;AAOX86C,MAAAA,oBAAoB,EAAEA,oBAPX;AAQXC,MAAAA,eAAe,EAAEA,eARN;AASXt7B,MAAAA,YAAY,EAAEA,YATH;AAUXxO,MAAAA,aAAa,EAAE,KAAKgpC,yBAAL,CAA+BW,eAA/B,CAVJ;AAWX/uB,MAAAA,aAAa,EAAEmmB,mBAAmB,CAAC7nB,KAAK,CAAC0B,aAAP,EAAsBpD,MAAtB,CAXvB;AAYX4O,MAAAA,cAAc,EAAE6a,mBAAmB,CAAC/nB,KAAK,CAACkN,cAAP,EAAuB5O,MAAvB,CAZxB;AAaXqO,MAAAA,SAAS,EAAEub,eAAe,CAACloB,KAAK,CAAC2M,SAAP,EAAkBrO,MAAlB,CAbf;AAcXuO,MAAAA,WAAW,EAAEwb,iBAAiB,CAACroB,KAAK,CAAC6M,WAAP,EAAoBvO,MAApB;AAdnB,KAAf;;AAgBA,QAAIuyB,eAAe,GAAGxrD,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKorD,eAAL,CAAT,EAAgCW,QAAhC,CAA9B;;AACA,SAAK,IAAI19C,EAAE,GAAG,CAAT,EAAY85B,EAAE,GAAG8iB,WAAW,CAACv6C,WAAZ,CAAwB+kC,QAA9C,EAAwDpnC,EAAE,GAAG85B,EAAE,CAACplC,MAAhE,EAAwEsL,EAAE,EAA1E,EAA8E;AAC1E,UAAIo9C,OAAO,GAAGtjB,EAAE,CAAC95B,EAAD,CAAhB;;AACArO,MAAAA,+CAAQ,CAAC+rD,QAAD,EAAWN,OAAO,CAAC9wB,KAAD,EAAQ1B,MAAR,EAAgBuyB,eAAhB,CAAlB,CAAR,CAF0E,CAEb;;AAChE;;AACD,QAAIQ,UAAU,GAAGN,gBAAgB,CAAC/wB,KAAD,EAAQywB,eAAR,CAAjC;AACA,QAAIa,SAAS,GAAGP,gBAAgB,CAACK,QAAD,EAAWX,eAAX,CAAhC,CA5D4D,CA6D5D;;AACA,QAAI,CAACY,UAAD,IAAeC,SAAnB,EAA8B;AAC1Bp2B,MAAAA,OAAO,CAACC,OAAR,CAAgB,SAAhB,EAA2B,IAA3B;AACH,KAFD,MAGK,IAAIk2B,UAAU,IAAI,CAACC,SAAnB,EAA8B;AAC/Bp2B,MAAAA,OAAO,CAACC,OAAR,CAAgB,SAAhB,EAA2B,KAA3B;AACH;;AACD,SAAK6E,KAAL,GAAaoxB,QAAb;;AACA,QAAIroD,KAAK,CAACwoD,QAAV,EAAoB;AAChBxoD,MAAAA,KAAK,CAACwoD,QAAN,CAAejzB,MAAf;AACH;AACJ,GAxED;;AAyEA4wB,EAAAA,mBAAmB,CAAC5uD,SAApB,CAA8B2vD,UAA9B,GAA2C,YAAY;AACnD,QAAI1mD,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCi3B,KAAK,GAAGz2B,EAAE,CAACy2B,KAA5C;;AACA,QAAIwxB,OAAO,GAAG,KAAKnB,IAAnB;AACA,QAAIC,WAAW,GAAG,KAAKnB,kBAAL,CAAwBpmD,KAAK,CAACo4C,eAA9B,EAA+CnhB,KAAK,CAACohB,sBAArD,EAA6Er4C,KAAK,CAAC0yB,WAAnF,CAAlB;AACA,QAAI+0B,eAAe,GAAG,KAAKnB,sBAAL,CAA4BrvB,KAAK,CAACuwB,eAAlC,EAAmDD,WAAnD,EAAgEvnD,KAAK,CAACo4C,eAAtE,EAAuFnhB,KAAK,CAACohB,sBAA7F,CAAtB;;AACA,QAAIiP,IAAI,GAAG,KAAKA,IAAL,GAAYhrD,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC;AAAE03B,MAAAA,SAAS,EAAE,KAAKiyB,UAAL,CAAgBhvB,KAAK,CAAChD,WAAtB,EAAmCwzB,eAAe,CAACvuD,OAAnD,EAA4DquD,WAAW,CAACn7C,OAAxE,CAAb;AAA+FsmB,MAAAA,WAAW,EAAE1yB,KAAK,CAAC0yB,WAAlH;AAA+Hx1B,MAAAA,QAAQ,EAAE,KAAKA,QAA9I;AAAwJi1B,MAAAA,OAAO,EAAE,KAAKA,OAAtK;AAA+K4B,MAAAA,cAAc,EAAE,KAAKA;AAApM,KAAD,EAAuNwzB,WAAvN,CAAT,EAA8OE,eAA9O,CAAT,EAAyQxwB,KAAzQ,CAA/B;;AACA,QAAIyxB,cAAc,GAAGnB,WAAW,CAACv6C,WAAZ,CAAwB+lC,oBAA7C;AACA,QAAI4V,kBAAkB,GAAGF,OAAO,IAAIA,OAAO,CAAC1wB,eAA5C;AACA,QAAI6wB,kBAAkB,GAAGrB,WAAW,CAACxvB,eAArC;;AACA,QAAI4wB,kBAAkB,IAAIA,kBAAkB,KAAKC,kBAAjD,EAAqE;AACjE,UAAID,kBAAkB,CAACryC,QAAnB,KAAgCsyC,kBAAkB,CAACtyC,QAAvD,EAAiE;AAC7D;AACA2gB,QAAAA,KAAK,CAACr+B,YAAN,GAAqB0uD,IAAI,CAAC1uD,YAAL,GAAoB8jD,6BAA6B,CAAC4K,IAAI,CAAC1uD,YAAN,EAAoBq+B,KAAK,CAAChD,WAA1B,EAAuCqzB,IAAvC,CAAtE;AACArwB,QAAAA,KAAK,CAACnqB,UAAN,GAAmBw6C,IAAI,CAACx6C,UAAL,GAAkB2xC,qBAAqB,CAAC6I,IAAI,CAACx6C,UAAN,EAAkB27C,OAAO,CAACr8C,OAA1B,EAAmCk7C,IAAI,CAACl7C,OAAxC,CAA1D;AACH;;AACD,WAAK,IAAIhT,UAAT,IAAuBsvD,cAAvB,EAAuC;AACnC,YAAIC,kBAAkB,CAACvvD,UAAD,CAAlB,KAAmCwvD,kBAAkB,CAACxvD,UAAD,CAAzD,EAAuE;AACnEsvD,UAAAA,cAAc,CAACtvD,UAAD,CAAd,CAA2BwvD,kBAAkB,CAACxvD,UAAD,CAA7C,EAA2DkuD,IAA3D;AACH;AACJ;AACJ;;AACD,QAAItnD,KAAK,CAAC6oD,MAAV,EAAkB;AACd7oD,MAAAA,KAAK,CAAC6oD,MAAN,CAAavB,IAAb;AACH;AACJ,GAxBD;;AAyBAnB,EAAAA,mBAAmB,CAAC5uD,SAApB,CAA8B8uD,mBAA9B,GAAoD,UAAUjO,eAAV,EAA2BC,sBAA3B,EAAmD3lB,WAAnD,EAAgE;AAChH;AACA,QAAIlyB,EAAE,GAAG,KAAKsoD,yBAAL,CAA+B1Q,eAA/B,EAAgDC,sBAAhD,CAAT;AAAA,QAAkF0Q,cAAc,GAAGvoD,EAAE,CAACuoD,cAAtG;AAAA,QAAsH/7C,WAAW,GAAGxM,EAAE,CAACwM,WAAvI;AAAA,QAAoJsrC,cAAc,GAAG93C,EAAE,CAAC83C,cAAxK;AAAA,QAAwL0Q,mBAAmB,GAAGxoD,EAAE,CAACwoD,mBAAjN;AAAA,QAAsO3jC,KAAK,GAAG7kB,EAAE,CAAC6kB,KAAjP;;AACA4jC,IAAAA,kBAAkB,CAAC5jC,KAAD,CAAlB;AACA,QAAIjZ,OAAO,GAAG,KAAKo6C,YAAL,CAAkBuC,cAAc,CAACzyC,QAAjC,EAA2CyyC,cAAc,CAAC5yC,MAA1D,EAAkE4yC,cAAc,CAACztC,qBAAjF,EAAwGytC,cAAc,CAACnnC,QAAvH,EAAiImnC,cAAc,CAAC7yC,QAAhJ,EAA0JlJ,WAA1J,EAAuKg8C,mBAAvK,EAA4LD,cAAc,CAAC1uC,qBAA3M,CAAd;AACA,QAAI8c,SAAS,GAAG,KAAK+gB,cAAL,CAAoBlrC,WAAW,CAACoX,KAAhC,EAAuCg0B,eAAvC,EAAwDC,sBAAxD,EAAgFC,cAAhF,CAAhB;AACA,QAAI1S,KAAK,GAAG,KAAK6gB,UAAL,CAAgBsC,cAAhB,EAAgC/7C,WAAhC,CAAZ;AACA,QAAIqqB,aAAa,GAAG,KAAKooB,aAAL,CAAmBsJ,cAAnB,EAAmC3Q,eAAnC,EAAoDxS,KAApD,EAA2DzO,SAA3D,EAAsEzE,WAAtE,CAApB;AACA,WAAO;AACHqF,MAAAA,eAAe,EAAEgxB,cADd;AAEH/7C,MAAAA,WAAW,EAAEA,WAFV;AAGHZ,MAAAA,OAAO,EAAEA,OAHN;AAIH+qB,MAAAA,SAAS,EAAEA,SAJR;AAKHyO,MAAAA,KAAK,EAAEA,KALJ;AAMHvO,MAAAA,aAAa,EAAEA,aANZ;AAOHihB,MAAAA,cAAc,EAAEA,cAPb;AAQHhiB,MAAAA,mBAAmB,EAAE0yB,mBAAmB,CAACpxD;AARtC,KAAP;AAUH,GAlBD,CApMiD,CAuNjD;;;AACAuuD,EAAAA,mBAAmB,CAAC5uD,SAApB,CAA8BuxD,yBAA9B,GAA0D,UAAU1Q,eAAV,EAA2BC,sBAA3B,EAAmD;AACzG,QAAI73C,EAAE,GAAGykB,eAAe,CAAC,CACrBrC,oBADqB,EAErBw1B,eAFqB,EAGrBC,sBAHqB,CAAD,CAAxB;AAAA,QAII37B,OAAO,GAAGlc,EAAE,CAACkc,OAJjB;AAAA,QAI0BvG,MAAM,GAAG3V,EAAE,CAAC2V,MAJtC;;AAKA,QAAI6yC,mBAAmB,GAAG,KAAKnqB,kBAAL,CAAwBniB,OAAxB,CAA1B;AACA,QAAI4Z,mBAAmB,GAAG0yB,mBAAmB,CAACpxD,GAA9C;AACA,QAAI0gD,cAAc,GAAG,KAAKjZ,WAAL,CAAiBlpB,MAAM,IAAI6yC,mBAAmB,CAACjqB,WAA/C,EAA4DzI,mBAA5D,EAAiFp9B,OAAtG;AACA,QAAI8T,WAAW,GAAG,KAAKqmC,gBAAL,CAAsB+E,eAAe,CAAC18C,OAAhB,IAA2B,EAAjD,EAAqDvE,aAArD,CAAlB;;AACA,QAAIiuB,QAAQ,GAAG,KAAKqR,8BAAL,GAAsCn6B,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK+c,oBAAL,CAAT,EAAqCyJ,0BAArC,CAAT,EAA2EoB,wBAA3E,CAAT,EAA+GlX,WAAW,CAACkmC,gBAA3H,CAAT,EAAuJlmC,WAAW,CAACmmC,cAAnK,CAA7D;;AACA,QAAI9tB,KAAK,GAAG,EAAZ;AACA,QAAIC,GAAG,GAAGL,eAAe,CAAC,CACtBrC,oBADsB,EAEtB01B,cAFsB,EAGtBF,eAHsB,EAItBC,sBAJsB,CAAD,CAAzB;AAMA,QAAInsC,OAAO,GAAG,EAAd;AACA,QAAIg9C,UAAU,GAAG,KAAK9yB,2BAAtB;AACA,QAAI+yB,cAAc,GAAG,KAAKhC,6BAA1B;AACA,QAAIztD,UAAU,GAAG,KAAjB;;AACA,SAAK,IAAIN,UAAT,IAAuBksB,GAAvB,EAA4B;AACxB,UAAIlsB,UAAU,KAAK,SAAnB,EAA8B;AAAE;AAC5B,YAAIksB,GAAG,CAAClsB,UAAD,CAAH,KAAoB8vD,UAAU,CAAC9vD,UAAD,CAA9B,IACCkrB,0BAA0B,CAAClrB,UAAD,CAA1B,IACIA,UAAU,IAAI8vD,UADlB,IAEG5kC,0BAA0B,CAAClrB,UAAD,CAA1B,CAAuC8vD,UAAU,CAAC9vD,UAAD,CAAjD,EAA+DksB,GAAG,CAAClsB,UAAD,CAAlE,CAHR,EAG0F;AACtF8S,UAAAA,OAAO,CAAC9S,UAAD,CAAP,GAAsB+vD,cAAc,CAAC/vD,UAAD,CAApC;AACH,SALD,MAMK,IAAIgsB,QAAQ,CAAChsB,UAAD,CAAZ,EAA0B;AAC3B8S,UAAAA,OAAO,CAAC9S,UAAD,CAAP,GAAsBgsB,QAAQ,CAAChsB,UAAD,CAAR,CAAqBksB,GAAG,CAAClsB,UAAD,CAAxB,CAAtB;AACAM,UAAAA,UAAU,GAAG,IAAb;AACH,SAHI,MAIA;AACD2rB,UAAAA,KAAK,CAACjsB,UAAD,CAAL,GAAoB8vD,UAAU,CAAC9vD,UAAD,CAA9B;AACH;AACJ;AACJ;;AACD,QAAIM,UAAJ,EAAgB;AACZ,WAAK08B,2BAAL,GAAmC9Q,GAAnC;AACA,WAAK6hC,6BAAL,GAAqCj7C,OAArC;AACH;;AACD,WAAO;AACHspC,MAAAA,UAAU,EAAE,KAAKpf,2BADd;AAEH2yB,MAAAA,cAAc,EAAE,KAAK5B,6BAFlB;AAGHn6C,MAAAA,WAAW,EAAEA,WAHV;AAIHg8C,MAAAA,mBAAmB,EAAEA,mBAJlB;AAKH1Q,MAAAA,cAAc,EAAEA,cALb;AAMHjzB,MAAAA,KAAK,EAAEA;AANJ,KAAP;AAQH,GAnDD;;AAoDA8gC,EAAAA,mBAAmB,CAAC5uD,SAApB,CAA8BgvD,uBAA9B,GAAwD,UAAUzvB,QAAV,EAAoBywB,WAApB,EAAiCnP,eAAjC,EAAkDC,sBAAlD,EAA0E;AAC9H,QAAI1I,QAAQ,GAAG4X,WAAW,CAACpwB,SAAZ,CAAsBL,QAAtB,CAAf;;AACA,QAAI,CAAC6Y,QAAL,EAAe;AACX,YAAM,IAAI7qC,KAAJ,CAAU,gBAAgBgyB,QAAhB,GAA2B,4EAArC,CAAN;AACH;;AACD,QAAIt2B,EAAE,GAAG,KAAK4oD,qBAAL,CAA2BzZ,QAA3B,EAAqC4X,WAAW,CAACv6C,WAAjD,EAA8Du6C,WAAW,CAACjP,cAA1E,EAA0FF,eAA1F,EAA2GC,sBAA3G,CAAT;AAAA,QAA6I0Q,cAAc,GAAGvoD,EAAE,CAACuoD,cAAjK;AAAA,QAAiL1jC,KAAK,GAAG7kB,EAAE,CAAC6kB,KAA5L;;AACA4jC,IAAAA,kBAAkB,CAAC5jC,KAAD,CAAlB;AACA,QAAIwqB,oBAAoB,GAAG,KAAK6W,yBAAL,CAA+B;AACtD/hC,MAAAA,yBAAyB,EAAEgrB,QAAQ,CAACsJ,cAAT,CAAwBt0B,yBADG;AAEtDjY,MAAAA,QAAQ,EAAEijC,QAAQ,CAACjjC,QAFmC;AAGtDgsC,MAAAA,YAAY,EAAE/I,QAAQ,CAAC+I,YAH+B;AAItD9zB,MAAAA,cAAc,EAAE+qB,QAAQ,CAACsJ,cAAT,CAAwBr0B,cAJc;AAKtDxY,MAAAA,OAAO,EAAEm7C,WAAW,CAACn7C,OALiC;AAMtDsmB,MAAAA,WAAW,EAAE,KAAK1yB,KAAL,CAAW0yB,WAN8B;AAOtD1Y,MAAAA,WAAW,EAAE+uC,cAAc,CAAC/uC,WAP0B;AAQtDC,MAAAA,WAAW,EAAE8uC,cAAc,CAAC9uC,WAR0B;AAStDoC,MAAAA,mBAAmB,EAAE0sC,cAAc,CAAC1sC,mBATkB;AAUtDwF,MAAAA,QAAQ,EAAEknC,cAAc,CAAClnC,QAV6B;AAWtDC,MAAAA,aAAa,EAAEinC,cAAc,CAACjnC,aAXwB;AAYtDC,MAAAA,aAAa,EAAEgnC,cAAc,CAAChnC,aAZwB;AAatDC,MAAAA,UAAU,EAAE+mC,cAAc,CAAC/mC,UAb2B;AActD3G,MAAAA,QAAQ,EAAE0tC,cAAc,CAAC1tC,QAd6B;AAetDua,MAAAA,QAAQ,EAAEmzB,cAAc,CAAC9qC,GAf6B;AAgBtDy8B,MAAAA,eAAe,EAAEqO,cAAc,CAAC5mC,UAhBsB;AAiBtDk5B,MAAAA,iBAAiB,EAAE0N,cAAc,CAAC3mC,YAjBoB;AAkBtDH,MAAAA,SAAS,EAAE8mC,cAAc,CAAC9mC,SAlB4B;AAmBtDC,MAAAA,cAAc,EAAE6mC,cAAc,CAAC7mC;AAnBuB,KAA/B,CAA3B;AAqBA,QAAIuQ,OAAO,GAAG,KAAKk0B,YAAL,CAAkB7vB,QAAlB,EAA4B,KAAK/C,cAAjC,EAAiDwzB,WAAW,CAACn7C,OAA7D,CAAd;AACA,WAAO;AAAEujC,MAAAA,QAAQ,EAAEA,QAAZ;AAAsBz2C,MAAAA,OAAO,EAAE6vD,cAA/B;AAA+ClZ,MAAAA,oBAAoB,EAAEA,oBAArE;AAA2Fpd,MAAAA,OAAO,EAAEA;AAApG,KAAP;AACH,GA9BD;;AA+BA0zB,EAAAA,mBAAmB,CAAC5uD,SAApB,CAA8B6xD,qBAA9B,GAAsD,UAAUzZ,QAAV,EAAoB3iC,WAApB,EAAiCsrC,cAAjC,EAAiDF,eAAjD,EAAkEC,sBAAlE,EAA0F;AAC5I,QAAI/yB,GAAG,GAAGL,eAAe,CAAC,CACtBrC,oBADsB,EAEtB+sB,QAAQ,CAACsJ,cAFa,EAGtBX,cAHsB,EAItBF,eAJsB,EAKtBzI,QAAQ,CAACyI,eALa,EAMtBC,sBANsB,CAAD,CAAzB;;AAQA,QAAIjzB,QAAQ,GAAG9oB,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK+c,oBAAL,CAAT,EAAqCyJ,0BAArC,CAAT,EAA2EoB,wBAA3E,CAAT,EAA+GM,oBAA/G,CAAT,EAA+IxX,WAAW,CAACkmC,gBAA3J,CAAT,EAAuLlmC,WAAW,CAACmmC,cAAnM,CAAvB;;AACA,QAAIjnC,OAAO,GAAG,EAAd;AACA,QAAIg9C,UAAU,GAAG,KAAK9B,uBAAtB;AACA,QAAI+B,cAAc,GAAG,KAAK9B,yBAA1B;AACA,QAAI3tD,UAAU,GAAG,KAAjB;AACA,QAAI2rB,KAAK,GAAG,EAAZ;;AACA,SAAK,IAAIjsB,UAAT,IAAuBksB,GAAvB,EAA4B;AACxB,UAAIA,GAAG,CAAClsB,UAAD,CAAH,KAAoB8vD,UAAU,CAAC9vD,UAAD,CAAlC,EAAgD;AAC5C8S,QAAAA,OAAO,CAAC9S,UAAD,CAAP,GAAsB+vD,cAAc,CAAC/vD,UAAD,CAApC;AACH,OAFD,MAGK;AACD,YAAIksB,GAAG,CAAClsB,UAAD,CAAH,KAAoB,KAAKg9B,2BAAL,CAAiCh9B,UAAjC,CAAxB,EAAsE;AAClE,cAAIA,UAAU,IAAI,KAAK+tD,6BAAvB,EAAsD;AAAE;AACpDj7C,YAAAA,OAAO,CAAC9S,UAAD,CAAP,GAAsB,KAAK+tD,6BAAL,CAAmC/tD,UAAnC,CAAtB;AACH;AACJ,SAJD,MAKK,IAAIgsB,QAAQ,CAAChsB,UAAD,CAAZ,EAA0B;AAC3B8S,UAAAA,OAAO,CAAC9S,UAAD,CAAP,GAAsBgsB,QAAQ,CAAChsB,UAAD,CAAR,CAAqBksB,GAAG,CAAClsB,UAAD,CAAxB,CAAtB;AACH,SAFI,MAGA;AACDisB,UAAAA,KAAK,CAACjsB,UAAD,CAAL,GAAoBksB,GAAG,CAAClsB,UAAD,CAAvB;AACH;;AACDM,QAAAA,UAAU,GAAG,IAAb;AACH;AACJ;;AACD,QAAIA,UAAJ,EAAgB;AACZ,WAAK0tD,uBAAL,GAA+B9hC,GAA/B;AACA,WAAK+hC,yBAAL,GAAiCn7C,OAAjC;AACH;;AACD,WAAO;AACHspC,MAAAA,UAAU,EAAE,KAAK4R,uBADd;AAEH2B,MAAAA,cAAc,EAAE,KAAK1B,yBAFlB;AAGHhiC,MAAAA,KAAK,EAAEA;AAHJ,KAAP;AAKH,GA3CD;;AA4CA,SAAO8gC,mBAAP;AACH,CAxVwC,EAAzC;;AAyVA,SAASK,YAAT,CAAsBlwC,QAAtB,EAAgC+yC,cAAhC,EAAgD/tC,qBAAhD,EAAuEsG,QAAvE,EAAiF1L,QAAjF,EAA2FlJ,WAA3F,EAAwGg8C,mBAAxG,EAA6HrzC,gBAA7H,EAA+I;AAC3I,MAAIQ,MAAM,GAAGkpB,WAAW,CAACgqB,cAAc,IAAIL,mBAAmB,CAACjqB,WAAvC,EAAoDiqB,mBAAmB,CAACpxD,GAAxE,CAAxB;AACA,SAAO,IAAIolC,OAAJ,CAAY;AACfhoB,IAAAA,cAAc,EAAE,SADD;AAEfsB,IAAAA,QAAQ,EAAEA,QAFK;AAGf4mB,IAAAA,iBAAiB,EAAElwB,WAAW,CAAC6lC,kBAHhB;AAIf18B,IAAAA,MAAM,EAAEA,MAJO;AAKfmF,IAAAA,qBAAqB,EAAEA,qBALR;AAMfsG,IAAAA,QAAQ,EAAEA,QANK;AAOf1L,IAAAA,QAAQ,EAAEA,QAPK;AAQfgD,IAAAA,YAAY,EAAElM,WAAW,CAACkM,YARX;AASfvD,IAAAA,gBAAgB,EAAEA;AATH,GAAZ,CAAP;AAWH;;AACD,SAAS8wC,UAAT,CAAoBvtD,OAApB,EAA6B8T,WAA7B,EAA0C;AACtC,MAAIs8C,UAAU,GAAGt8C,WAAW,CAAC4lC,YAAZ,CAAyB15C,OAAO,CAACyjB,WAAjC,KAAiDy3B,aAAlE;AACA,SAAO,IAAIkV,UAAJ,CAAepwD,OAAf,CAAP;AACH;;AACD,SAASwtD,yBAAT,CAAmC1mD,KAAnC,EAA0C;AACtC,MAAIupD,yBAAyB,GAAGvpD,KAAK,CAAC2kB,yBAAN,IAAmC20B,oBAAnE;AACA,SAAO,IAAIiQ,yBAAJ,CAA8BvpD,KAA9B,CAAP;AACH;;AACD,SAAS2mD,YAAT,CAAsBpsD,IAAtB,EAA4Bw5B,cAA5B,EAA4C3nB,OAA5C,EAAqD;AACjD,SAAO,IAAI0nB,OAAJ,CAAYv5B,IAAZ,EAAkBw5B,cAAlB,EAAkC3nB,OAAlC,CAAP;AACH;;AACD,SAASy6C,oBAAT,CAA8BjuD,YAA9B,EAA4C;AACxC,SAAOb,OAAO,CAACa,YAAD,EAAe,UAAU6sB,WAAV,EAAuB;AAAE,WAAOA,WAAW,CAAC+D,EAAnB;AAAwB,GAAhE,CAAd;AACH;;AACD,SAASs9B,iBAAT,CAA2Bh5B,SAA3B,EAAsCq6B,iBAAtC,EAAyDC,eAAzD,EAA0E;AACtE,MAAI77B,YAAY,GAAG;AAAE,QAAI47B;AAAN,GAAnB;;AACA,OAAK,IAAI3+C,KAAT,IAAkBskB,SAAlB,EAA6B;AACzB,QAAIzgB,GAAG,GAAGygB,SAAS,CAACtkB,KAAD,CAAnB;;AACA,QAAI6D,GAAG,CAAClQ,QAAJ,IAAgBirD,eAAe,CAAC/6C,GAAG,CAAClQ,QAAL,CAAnC,EAAmD;AAC/CovB,MAAAA,YAAY,CAAC/iB,KAAD,CAAZ,GAAsB4+C,eAAe,CAAC/6C,GAAG,CAAClQ,QAAL,CAArC;AACH;AACJ;;AACD,SAAOovB,YAAP;AACH;;AACD,SAASq6B,gBAAT,CAA0Bc,eAA1B,EAA2C;AACvC,MAAIxuD,OAAO,GAAGwuD,eAAe,CAACxuD,OAA9B;AACA,SAAO;AACHivD,IAAAA,iBAAiB,EAAE//B,aAAa,CAAC;AAC7BhR,MAAAA,OAAO,EAAEle,OAAO,CAACslB,YADY;AAE7B5C,MAAAA,QAAQ,EAAE1iB,OAAO,CAAC0iB,QAFW;AAG7B2L,MAAAA,aAAa,EAAEruB,OAAO,CAACulB,kBAHM;AAI7B+I,MAAAA,gBAAgB,EAAEtuB,OAAO,CAACwlB,qBAJG;AAK7B+I,MAAAA,UAAU,EAAEvuB,OAAO,CAAC0lB,eALS;AAM7B8I,MAAAA,OAAO,EAAE,OAAOxuB,OAAO,CAACylB,YAAf,KAAgC,SAAhC,GAA4CzlB,OAAO,CAACylB,YAApD,GAAmEvU,SAN/C;AAO7Bud,MAAAA,KAAK,EAAEzuB,OAAO,CAAC2lB,UAPc;AAQ7BiJ,MAAAA,eAAe,EAAE5uB,OAAO,CAAC4lB,oBARI;AAS7BiJ,MAAAA,WAAW,EAAE7uB,OAAO,CAAC6lB,gBATQ;AAU7BiJ,MAAAA,SAAS,EAAE9uB,OAAO,CAAC8lB,cAVU;AAW7B6I,MAAAA,KAAK,EAAE3uB,OAAO,CAAC+lB,UAXc,CAY7B;;AAZ6B,KAAD,EAa7ByoC,eAb6B,CAD7B;AAeHG,IAAAA,eAAe,EAAEz/B,aAAa,CAAC;AAC3BX,MAAAA,UAAU,EAAEvuB,OAAO,CAAComB,gBADO;AAE3BoI,MAAAA,OAAO,EAAE,OAAOxuB,OAAO,CAACqmB,aAAf,KAAiC,SAAjC,GAA6CrmB,OAAO,CAACqmB,aAArD,GAAqEnV,SAFnD;AAG3Bud,MAAAA,KAAK,EAAEzuB,OAAO,CAACsmB;AAHY,KAAD,EAI3BkoC,eAJ2B;AAf3B,GAAP;AAqBH;;AACD,SAASM,gBAAT,CAA0B/wB,KAA1B,EAAiCl6B,OAAjC,EAA0C;AACtC,OAAK,IAAI4N,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGzD,OAAO,CAACiQ,WAAR,CAAoBglC,cAA1C,EAA0DrnC,EAAE,GAAGnK,EAAE,CAACnB,MAAlE,EAA0EsL,EAAE,EAA5E,EAAgF;AAC5E,QAAI6+C,aAAa,GAAGhpD,EAAE,CAACmK,EAAD,CAAtB;;AACA,QAAI6+C,aAAa,CAACvyB,KAAD,CAAjB,EAA0B;AACtB,aAAO,IAAP;AACH;AACJ;;AACD,SAAO,KAAP;AACH;;AACD,SAAS8vB,yBAAT,CAAmCW,eAAnC,EAAoD;AAChD,SAAOpnB,kBAAkB,CAAConB,eAAe,CAACxuD,OAAhB,CAAwB6kB,aAAzB,EAAwC2pC,eAAxC,CAAzB;AACH;;AACD,SAASuB,kBAAT,CAA4B/vD,OAA5B,EAAqCuwD,QAArC,EAA+C;AAC3C,OAAK,IAAIrwD,UAAT,IAAuBF,OAAvB,EAAgC;AAC5Bw9B,IAAAA,OAAO,CAACC,IAAR,CAAa,qBAAqBv9B,UAArB,GAAkC,GAAlC,IACRqwD,QAAQ,GAAG,gBAAgBA,QAAhB,GAA2B,GAA9B,GAAoC,EADpC,CAAb;AAEH;AACJ,EAED;;;AACA,IAAIC,oBAAoB;AAAG;AAAe,UAAUtc,MAAV,EAAkB;AACxD5wC,EAAAA,gDAAS,CAACktD,oBAAD,EAAuBtc,MAAvB,CAAT;;AACA,WAASsc,oBAAT,CAA8B1pD,KAA9B,EAAqC;AACjC,QAAIyS,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkB6H,KAAlB,KAA4B,IAAxC;;AACAyS,IAAAA,KAAK,CAACk3C,UAAN,GAAmB,UAAUrC,IAAV,EAAgB;AAC/B,UAAI,CAAC70C,KAAK,CAACm3C,WAAX,EAAwB;AAAE;AACtB;AACAn3C,QAAAA,KAAK,CAACwkB,KAAN,GAAcqwB,IAAd,CAFoB,CAEA;AACvB,OAHD,MAIK;AACD70C,QAAAA,KAAK,CAACo3C,QAAN,CAAevC,IAAf;AACH;AACJ,KARD;;AASA70C,IAAAA,KAAK,CAACm3C,WAAN,GAAoB,IAAIzD,mBAAJ,CAAwB;AACxC/N,MAAAA,eAAe,EAAEp4C,KAAK,CAACo4C,eADiB;AAExC1lB,MAAAA,WAAW,EAAE1yB,KAAK,CAAC0yB,WAFqB;AAGxCm2B,MAAAA,MAAM,EAAEp2C,KAAK,CAACk3C;AAH0B,KAAxB,CAApB;AAKA,WAAOl3C,KAAP;AACH;;AACDi3C,EAAAA,oBAAoB,CAACnyD,SAArB,CAA+BgC,MAA/B,GAAwC,YAAY;AAChD,WAAO,KAAKyG,KAAL,CAAWJ,QAAX,CAAoB,KAAKq3B,KAAzB,CAAP;AACH,GAFD;;AAGAyyB,EAAAA,oBAAoB,CAACnyD,SAArB,CAA+Bs/C,kBAA/B,GAAoD,UAAUiT,SAAV,EAAqB;AACrE,QAAIC,kBAAkB,GAAG,KAAK/pD,KAAL,CAAWo4C,eAApC;;AACA,QAAI2R,kBAAkB,KAAKD,SAAS,CAAC1R,eAArC,EAAsD;AAAE;AACpD,WAAKwR,WAAL,CAAiB9vD,YAAjB,CAA8BiwD,kBAA9B;AACH;AACJ,GALD;;AAMA,SAAOL,oBAAP;AACH,CA9ByC,CA8BxC7yD,+CA9BwC,CAA1C,EAgCA;;AACA;AACA;AACA;AACA;;;AACA,SAASmzD,WAAT,CAAqBhqD,KAArB,EAA4BwM,MAA5B,EAAoC;AAChC,SAAO8f,eAAe,CAACtsB,KAAK,CAAC8M,UAAP,EAAmB9M,KAAK,CAACusB,YAAzB,EAAuCvsB,KAAK,CAACi0B,WAAN,CAAkBC,WAAzD,EAAsE1nB,MAAM,GAAGxM,KAAK,CAAC4Z,gBAAT,GAA4B,IAAxG,CAAf,CAA6H4T,EAApI;AACH;;AAED,IAAIy8B,iBAAiB;AAAG;AAAe,YAAY;AAC/C,WAASA,iBAAT,CAA2Bp2C,YAA3B,EAAyC;AACrC,SAAKA,YAAL,GAAoBA,YAApB;AACH;;AACD,SAAOo2C,iBAAP;AACH,CALsC,EAAvC;;AAOA,IAAIC,YAAY;AAAG;AAAe,YAAY;AAC1C,WAASA,YAAT,GAAwB;AACpB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,cAAL,GAAsB,KAAtB;AACA,SAAKC,QAAL,GAAgB,CAAC,CAAjB,CAJoB,CAIA;;AACpB,SAAKC,WAAL,GAAmB,CAAC,CAApB,CALoB,CAKG;;AACvB,SAAKC,WAAL,GAAmB,EAAnB,CANoB,CAMG;;AACvB,SAAKC,cAAL,GAAsB,EAAtB,CAPoB,CAOM;;AAC1B,SAAKC,SAAL,GAAiB,EAAjB,CARoB,CAQC;AACxB;;AACDP,EAAAA,YAAY,CAAC3yD,SAAb,CAAuBmzD,OAAvB,GAAiC,UAAUC,SAAV,EAAqB;AAClD,QAAIC,aAAa,GAAG,EAApB;;AACA,SAAK,IAAIjgD,EAAE,GAAG,CAAT,EAAYkgD,WAAW,GAAGF,SAA/B,EAA0ChgD,EAAE,GAAGkgD,WAAW,CAACxrD,MAA3D,EAAmEsL,EAAE,EAArE,EAAyE;AACrE,UAAImgD,QAAQ,GAAGD,WAAW,CAAClgD,EAAD,CAA1B;AACA,WAAKogD,WAAL,CAAiB;AACbD,QAAAA,QAAQ,EAAEA,QADG;AAEbE,QAAAA,SAAS,EAAEF,QAAQ,CAACE,SAFP;AAGbC,QAAAA,OAAO,EAAEH,QAAQ,CAACG,OAHL;AAIbC,QAAAA,SAAS,EAAEJ,QAAQ,CAACI;AAJP,OAAjB,EAKGN,aALH;AAMH;;AACD,WAAOA,aAAP;AACH,GAZD;;AAaAV,EAAAA,YAAY,CAAC3yD,SAAb,CAAuBwzD,WAAvB,GAAqC,UAAUI,KAAV,EAAiBP,aAAjB,EAAgC;AACjE,QAAIn1C,SAAS,GAAG,KAAK21C,aAAL,CAAmBD,KAAnB,CAAhB;;AACA,QAAI,KAAKE,gBAAL,CAAsB51C,SAAtB,EAAiC01C,KAAjC,CAAJ,EAA6C;AACzC,WAAKG,aAAL,CAAmBH,KAAnB,EAA0B11C,SAA1B;AACA,aAAO,CAAP;AACH;;AACD,WAAO,KAAK81C,sBAAL,CAA4B91C,SAA5B,EAAuC01C,KAAvC,EAA8CP,aAA9C,CAAP;AACH,GAPD;;AAQAV,EAAAA,YAAY,CAAC3yD,SAAb,CAAuB8zD,gBAAvB,GAA0C,UAAU51C,SAAV,EAAqB01C,KAArB,EAA4B;AAClE,WAAO,CAAC,KAAKd,QAAL,KAAkB,CAAC,CAAnB,IAAwB50C,SAAS,CAAC+1C,UAAV,GAAuBL,KAAK,CAACD,SAA7B,IAA0C,KAAKb,QAAxE,MACF,KAAKC,WAAL,KAAqB,CAAC,CAAtB,IAA2B70C,SAAS,CAACg2C,QAAV,GAAqB,KAAKnB,WADnD,CAAP;AAEH,GAHD;;AAIAJ,EAAAA,YAAY,CAAC3yD,SAAb,CAAuBg0D,sBAAvB,GAAgD,UAAU91C,SAAV,EAAqB01C,KAArB,EAA4BP,aAA5B,EAA2C;AACvF,QAAI,KAAKR,cAAL,IAAuB30C,SAAS,CAACi2C,aAArC,EAAoD;AAChD,aAAO,KAAKC,UAAL,CAAgBR,KAAhB,EAAuB11C,SAAS,CAACi2C,aAAjC,EAAgDd,aAAhD,CAAP;AACH;;AACDA,IAAAA,aAAa,CAACjvD,IAAd,CAAmBwvD,KAAnB;AACA,WAAO,CAAP;AACH,GAND;;AAOAjB,EAAAA,YAAY,CAAC3yD,SAAb,CAAuBo0D,UAAvB,GAAoC,UAAUR,KAAV,EAAiBS,OAAjB,EAA0BhB,aAA1B,EAAyC;AACzE,QAAIiB,OAAO,GAAG,CAAd;AACA,QAAIC,kBAAkB,GAAG,EAAzB;;AACA,QAAIX,KAAK,CAACH,SAAN,GAAkBY,OAAO,CAACZ,SAA9B,EAAyC;AACrCa,MAAAA,OAAO,IAAI,KAAKd,WAAL,CAAiBzuD,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK6uD,KAAL,CAAT,EAAsB;AAAEH,QAAAA,SAAS,EAAEG,KAAK,CAACH,SAAnB;AAA8BC,QAAAA,OAAO,EAAEW,OAAO,CAACZ;AAA/C,OAAtB,CAAzB,EAA4Gc,kBAA5G,CAAX;AACH;;AACD,QAAIF,OAAO,CAACX,OAAR,GAAkBE,KAAK,CAACF,OAA5B,EAAqC;AACjCY,MAAAA,OAAO,IAAI,KAAKd,WAAL,CAAiBzuD,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK6uD,KAAL,CAAT,EAAsB;AAAEH,QAAAA,SAAS,EAAEY,OAAO,CAACX,OAArB;AAA8BA,QAAAA,OAAO,EAAEE,KAAK,CAACF;AAA7C,OAAtB,CAAzB,EAAwGa,kBAAxG,CAAX;AACH;;AACD,QAAID,OAAJ,EAAa;AACTjB,MAAAA,aAAa,CAACjvD,IAAd,CAAmByN,KAAnB,CAAyBwhD,aAAzB,EAAwCruD,oDAAa,CAAC,CAACD,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK6uD,KAAL,CAAT,EAAsB;AAAEH,QAAAA,SAAS,EAAE1kD,IAAI,CAACoO,GAAL,CAASk3C,OAAO,CAACZ,SAAjB,EAA4BG,KAAK,CAACH,SAAlC,CAAb;AAA2DC,QAAAA,OAAO,EAAE3kD,IAAI,CAACwB,GAAL,CAAS8jD,OAAO,CAACX,OAAjB,EAA0BE,KAAK,CAACF,OAAhC;AAApE,OAAtB,CAAT,CAAD,EAAkJa,kBAAlJ,CAArD;AACA,aAAOD,OAAP;AACH;;AACDjB,IAAAA,aAAa,CAACjvD,IAAd,CAAmBwvD,KAAnB;AACA,WAAO,CAAP;AACH,GAfD;;AAgBAjB,EAAAA,YAAY,CAAC3yD,SAAb,CAAuB+zD,aAAvB,GAAuC,UAAUH,KAAV,EAAiB11C,SAAjB,EAA4B;AAC/D,QAAIs2C,SAAS,GAAGt2C,SAAS,CAACs2C,SAA1B,CAD+D,CAE/D;;AACA,QAAI,CAACA,SAAD,IAAc,KAAKxB,WAAL,CAAiBwB,SAAS,GAAG,CAA7B,IAAkCt2C,SAAS,CAAC+1C,UAA9D,EAA0E;AACtEQ,MAAAA,QAAQ,CAAC,KAAKzB,WAAN,EAAmBwB,SAAnB,EAA8Bt2C,SAAS,CAAC+1C,UAAxC,CAAR;AACAQ,MAAAA,QAAQ,CAAC,KAAKxB,cAAN,EAAsBuB,SAAtB,EAAiC,CAACZ,KAAD,CAAjC,CAAR,CAFsE,CAGtE;AACH,KAJD,MAKK;AACDa,MAAAA,QAAQ,CAAC,KAAKxB,cAAL,CAAoBuB,SAAS,GAAG,CAAhC,CAAD,EAAqCt2C,SAAS,CAACw2C,UAA/C,EAA2Dd,KAA3D,CAAR;AACH;;AACD,SAAKV,SAAL,CAAeyB,aAAa,CAACf,KAAD,CAA5B,IAAuC11C,SAAS,CAACg2C,QAAjD;AACH,GAZD;;AAaAvB,EAAAA,YAAY,CAAC3yD,SAAb,CAAuB6zD,aAAvB,GAAuC,UAAUe,QAAV,EAAoB;AACvD,QAAI3rD,EAAE,GAAG,IAAT;AAAA,QAAe+pD,WAAW,GAAG/pD,EAAE,CAAC+pD,WAAhC;AAAA,QAA6CC,cAAc,GAAGhqD,EAAE,CAACgqD,cAAjE;AAAA,QAAiFC,SAAS,GAAGjqD,EAAE,CAACiqD,SAAhG;AAAA,QAA2GN,WAAW,GAAG3pD,EAAE,CAAC2pD,WAA5H;;AACA,QAAIiC,QAAQ,GAAG7B,WAAW,CAAClrD,MAA3B;AACA,QAAIgtD,KAAJ,CAHuD,CAG5C;;AACX,QAAIb,UAAJ,CAJuD,CAIvC;;AAChB,QAAIc,YAAY,GAAG,CAAnB,CALuD,CAKjC;;AACtB,QAAIL,UAAU,GAAG,CAAjB,CANuD,CAMnC;;AACpB,QAAIM,QAAQ,GAAG,CAAf,CAPuD,CAOrC;;AAClB,QAAIb,aAAa,GAAG,IAApB;;AACA,SAAKW,KAAK,GAAG,CAAb,EAAgBA,KAAK,GAAGD,QAAxB,EAAkCC,KAAK,IAAI,CAA3C,EAA8C;AAC1Cb,MAAAA,UAAU,GAAGjB,WAAW,CAAC8B,KAAD,CAAxB,CAD0C,CAE1C;AACA;;AACA,UAAI,CAAClC,WAAD,IAAgBqB,UAAU,IAAIe,QAAQ,GAAGJ,QAAQ,CAACjB,SAAtD,EAAiE;AAC7D;AACH;;AACD,UAAIsB,OAAO,GAAGhC,cAAc,CAAC6B,KAAD,CAA5B;AACA,UAAIlB,KAAK,GAAG,KAAK,CAAjB;AACA,UAAIsB,SAAS,GAAGC,YAAY,CAACF,OAAD,EAAUL,QAAQ,CAACnB,SAAnB,EAA8B2B,eAA9B,CAA5B;AACAL,MAAAA,YAAY,GAAGG,SAAS,CAAC,CAAD,CAAT,GAAeA,SAAS,CAAC,CAAD,CAAvC,CAV0C,CAUE;;AAC5CR,MAAAA,UAAU,GAAGK,YAAb;;AACA,cAAQ;AACR,OAACnB,KAAK,GAAGqB,OAAO,CAACP,UAAD,CAAhB,KAAiC;AAC7Bd,MAAAA,KAAK,CAACH,SAAN,GAAkBmB,QAAQ,CAAClB,OAF/B,EAEwC;AACpC,YAAId,WAAW,IACT;AACFoC,QAAAA,QAAQ,GAAGf,UAAU,GAAGL,KAAK,CAACD,SAA9B,IACIqB,QAAQ,GAAGJ,QAAQ,CAACjB,SAApB,GAAgCM,UAHxC,EAGqD;AACjD;AACAE,UAAAA,aAAa,GAAGP,KAAhB;AACAoB,UAAAA,QAAQ,GAAGf,UAAU,GAAGL,KAAK,CAACD,SAA9B,CAHiD,CAGR;AAC5C;;AACDe,QAAAA,UAAU,IAAI,CAAd;AACH;AACJ;;AACD,WAAO;AACHT,MAAAA,UAAU,EAAEe,QADT;AAEHR,MAAAA,SAAS,EAAEM,KAFR;AAGHC,MAAAA,YAAY,EAAEA,YAHX;AAIHL,MAAAA,UAAU,EAAEA,UAJT;AAKHP,MAAAA,aAAa,EAAEA,aALZ;AAMHD,MAAAA,QAAQ,EAAEC,aAAa,GAAGjB,SAAS,CAACyB,aAAa,CAACR,aAAD,CAAd,CAAT,GAA0C,CAA7C,GAAiD;AANrE,KAAP;AAQH,GA3CD,CAxE0C,CAoH1C;;;AACAxB,EAAAA,YAAY,CAAC3yD,SAAb,CAAuBq1D,OAAvB,GAAiC,YAAY;AACzC,QAAIpsD,EAAE,GAAG,IAAT;AAAA,QAAegqD,cAAc,GAAGhqD,EAAE,CAACgqD,cAAnC;AAAA,QAAmDD,WAAW,GAAG/pD,EAAE,CAAC+pD,WAApE;;AACA,QAAI6B,QAAQ,GAAG5B,cAAc,CAACnrD,MAA9B;AACA,QAAIwtD,KAAK,GAAG,EAAZ;;AACA,SAAK,IAAIR,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,QAA5B,EAAsCC,KAAK,IAAI,CAA/C,EAAkD;AAC9C,UAAIG,OAAO,GAAGhC,cAAc,CAAC6B,KAAD,CAA5B;AACA,UAAIb,UAAU,GAAGjB,WAAW,CAAC8B,KAAD,CAA5B;;AACA,WAAK,IAAI1hD,EAAE,GAAG,CAAT,EAAYmiD,SAAS,GAAGN,OAA7B,EAAsC7hD,EAAE,GAAGmiD,SAAS,CAACztD,MAArD,EAA6DsL,EAAE,EAA/D,EAAmE;AAC/D,YAAIwgD,KAAK,GAAG2B,SAAS,CAACniD,EAAD,CAArB;AACAkiD,QAAAA,KAAK,CAAClxD,IAAN,CAAWW,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK6uD,KAAL,CAAT,EAAsB;AAAEK,UAAAA,UAAU,EAAEA;AAAd,SAAtB,CAAnB;AACH;AACJ;;AACD,WAAOqB,KAAP;AACH,GAbD;;AAcA,SAAO3C,YAAP;AACH,CApIiC,EAAlC;;AAqIA,SAASyC,eAAT,CAAyBxB,KAAzB,EAAgC;AAC5B,SAAOA,KAAK,CAACF,OAAb;AACH;;AACD,SAASiB,aAAT,CAAuBf,KAAvB,EAA8B;AAC1B,SAAOA,KAAK,CAACL,QAAN,CAAeiC,KAAf,GAAuB,GAAvB,GAA6B5B,KAAK,CAACH,SAA1C;AACH,EACD;;;AACA,SAASgC,wBAAT,CAAkCR,OAAlC,EAA2C;AACvC,MAAIS,MAAM,GAAG,EAAb;;AACA,OAAK,IAAItiD,EAAE,GAAG,CAAT,EAAYuiD,SAAS,GAAGV,OAA7B,EAAsC7hD,EAAE,GAAGuiD,SAAS,CAAC7tD,MAArD,EAA6DsL,EAAE,EAA/D,EAAmE;AAC/D,QAAIwgD,KAAK,GAAG+B,SAAS,CAACviD,EAAD,CAArB;AACA,QAAIwiD,cAAc,GAAG,EAArB;AACA,QAAIC,WAAW,GAAG;AACdpC,MAAAA,SAAS,EAAEG,KAAK,CAACH,SADH;AAEdC,MAAAA,OAAO,EAAEE,KAAK,CAACF,OAFD;AAGduB,MAAAA,OAAO,EAAE,CAACrB,KAAD;AAHK,KAAlB;;AAKA,SAAK,IAAI3qD,EAAE,GAAG,CAAT,EAAY6sD,QAAQ,GAAGJ,MAA5B,EAAoCzsD,EAAE,GAAG6sD,QAAQ,CAAChuD,MAAlD,EAA0DmB,EAAE,EAA5D,EAAgE;AAC5D,UAAI8sD,KAAK,GAAGD,QAAQ,CAAC7sD,EAAD,CAApB;;AACA,UAAI8sD,KAAK,CAACtC,SAAN,GAAkBoC,WAAW,CAACnC,OAA9B,IAAyCqC,KAAK,CAACrC,OAAN,GAAgBmC,WAAW,CAACpC,SAAzE,EAAoF;AAAE;AAClFoC,QAAAA,WAAW,GAAG;AACVpC,UAAAA,SAAS,EAAE1kD,IAAI,CAACwB,GAAL,CAASwlD,KAAK,CAACtC,SAAf,EAA0BoC,WAAW,CAACpC,SAAtC,CADD;AAEVC,UAAAA,OAAO,EAAE3kD,IAAI,CAACoO,GAAL,CAAS44C,KAAK,CAACrC,OAAf,EAAwBmC,WAAW,CAACnC,OAApC,CAFC;AAGVuB,UAAAA,OAAO,EAAEc,KAAK,CAACd,OAAN,CAActjD,MAAd,CAAqBkkD,WAAW,CAACZ,OAAjC,CAHC,CAG0C;;AAH1C,SAAd;AAKH,OAND,MAOK;AACDW,QAAAA,cAAc,CAACxxD,IAAf,CAAoB2xD,KAApB;AACH;AACJ;;AACDH,IAAAA,cAAc,CAACxxD,IAAf,CAAoByxD,WAApB;AACAH,IAAAA,MAAM,GAAGE,cAAT;AACH;;AACD,SAAOF,MAAP;AACH,EACD;AACA;;;AACA,SAASjB,QAAT,CAAkBnvB,GAAlB,EAAuBkwB,KAAvB,EAA8BliD,IAA9B,EAAoC;AAChCgyB,EAAAA,GAAG,CAAClrB,MAAJ,CAAWo7C,KAAX,EAAkB,CAAlB,EAAqBliD,IAArB;AACH;;AACD,SAAS6hD,YAAT,CAAsB3oD,CAAtB,EAAyBwpD,SAAzB,EAAoCC,UAApC,EAAgD;AAC5C,MAAI3hD,UAAU,GAAG,CAAjB;AACA,MAAIC,QAAQ,GAAG/H,CAAC,CAAC1E,MAAjB,CAF4C,CAEnB;;AACzB,MAAI,CAACyM,QAAD,IAAayhD,SAAS,GAAGC,UAAU,CAACzpD,CAAC,CAAC8H,UAAD,CAAF,CAAvC,EAAwD;AAAE;AACtD,WAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;AACH;;AACD,MAAI0hD,SAAS,GAAGC,UAAU,CAACzpD,CAAC,CAAC+H,QAAQ,GAAG,CAAZ,CAAF,CAA1B,EAA6C;AAAE;AAC3C,WAAO,CAACA,QAAD,EAAW,CAAX,CAAP;AACH;;AACD,SAAOD,UAAU,GAAGC,QAApB,EAA8B;AAC1B,QAAI2hD,WAAW,GAAGnnD,IAAI,CAAC6B,KAAL,CAAW0D,UAAU,GAAG,CAACC,QAAQ,GAAGD,UAAZ,IAA0B,CAAlD,CAAlB;AACA,QAAI6hD,SAAS,GAAGF,UAAU,CAACzpD,CAAC,CAAC0pD,WAAD,CAAF,CAA1B;;AACA,QAAIF,SAAS,GAAGG,SAAhB,EAA2B;AACvB5hD,MAAAA,QAAQ,GAAG2hD,WAAX;AACH,KAFD,MAGK,IAAIF,SAAS,GAAGG,SAAhB,EAA2B;AAC5B7hD,MAAAA,UAAU,GAAG4hD,WAAW,GAAG,CAA3B;AACH,KAFI,MAGA;AAAE;AACH,aAAO,CAACA,WAAD,EAAc,CAAd,CAAP;AACH;AACJ;;AACD,SAAO,CAAC5hD,UAAD,EAAa,CAAb,CAAP;AACH;;AAED,IAAI8hD,WAAW;AAAG;AAAe,YAAY;AACzC,WAASA,WAAT,CAAqBp1B,QAArB,EAA+B;AAC3B,SAAK9T,SAAL,GAAiB8T,QAAQ,CAAC9T,SAA1B;AACA,SAAKmpC,iBAAL,GAAyBr1B,QAAQ,CAACq1B,iBAAT,IAA8B,IAAvD;AACH;;AACDD,EAAAA,WAAW,CAACp2D,SAAZ,CAAsByC,OAAtB,GAAgC,YAAY,CAC3C,CADD;;AAEA,SAAO2zD,WAAP;AACH,CARgC,EAAjC;;AASA,SAASE,wBAAT,CAAkCppC,SAAlC,EAA6ChtB,KAA7C,EAAoD;AAChD,SAAO;AACHgtB,IAAAA,SAAS,EAAEA,SADR;AAEHzmB,IAAAA,EAAE,EAAEvG,KAAK,CAACuG,EAFP;AAGH8vD,IAAAA,cAAc,EAAEr2D,KAAK,CAACq2D,cAAN,IAAwB,IAAxB,GAA+Br2D,KAAK,CAACq2D,cAArC,GAAsD,IAHnE;AAIHF,IAAAA,iBAAiB,EAAEn2D,KAAK,CAACm2D,iBAAN,IAA2B;AAJ3C,GAAP;AAMH;;AACD,SAASG,0BAAT,CAAoCx1B,QAApC,EAA8C;AAC1C,MAAI/3B,EAAJ;;AACA,SAAOA,EAAE,GAAG,EAAL,EACHA,EAAE,CAAC+3B,QAAQ,CAAC9T,SAAT,CAAmB2sB,GAApB,CAAF,GAA6B7Y,QAD1B,EAEH/3B,EAFJ;AAGH,EACD;;;AACA,IAAIwtD,wBAAwB,GAAG,EAA/B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,eAAe;AAAG;AAAe,YAAY;AAC7C,WAASA,eAAT,CAAyBjwD,EAAzB,EAA6BzC,QAA7B,EAAuC;AACnC,SAAK42B,OAAL,GAAe,IAAIgY,OAAJ,EAAf;AACH;;AACD8jB,EAAAA,eAAe,CAAC12D,SAAhB,CAA0ByC,OAA1B,GAAoC,YAAY,CAC/C,CADD;;AAEAi0D,EAAAA,eAAe,CAAC12D,SAAhB,CAA0B22D,kBAA1B,GAA+C,UAAUC,IAAV,EAAgB,CAC3D;AACH,GAFD;;AAGAF,EAAAA,eAAe,CAAC12D,SAAhB,CAA0B62D,oBAA1B,GAAiD,UAAUD,IAAV,EAAgB,CAC7D;AACH,GAFD;;AAGAF,EAAAA,eAAe,CAAC12D,SAAhB,CAA0B82D,oBAA1B,GAAiD,UAAUF,IAAV,EAAgB,CAC7D;AACH,GAFD;;AAGA,SAAOF,eAAP;AACH,CAhBoC,EAArC,EAkBA;AACA;;;AACA,IAAIK,MAAM,GAAG,EAAb;AAEA;AACA;AACA;AACA;;AACA,IAAIC,kBAAkB,GAAG;AACrBpuB,EAAAA,SAAS,EAAE/xB,cADU;AAErB1B,EAAAA,QAAQ,EAAE0B,cAFW;AAGrB2iC,EAAAA,MAAM,EAAEh3B,OAHa;AAIrB5c,EAAAA,QAAQ,EAAEiF;AAJW,CAAzB;;AAMA,SAASosD,aAAT,CAAuBlpC,GAAvB,EAA4B;AACxB,MAAI9kB,EAAE,GAAG2kB,WAAW,CAACG,GAAD,EAAMipC,kBAAN,CAApB;AAAA,MAA+CriD,OAAO,GAAG1L,EAAE,CAAC0L,OAA5D;AAAA,MAAqEmZ,KAAK,GAAG7kB,EAAE,CAAC6kB,KAAhF;;AACA,SAAO;AACH8a,IAAAA,SAAS,EAAEj0B,OAAO,CAACi0B,SAAR,IAAqB,IAD7B;AAEHzzB,IAAAA,QAAQ,EAAER,OAAO,CAACQ,QAAR,IAAoB,IAF3B;AAGHqkC,IAAAA,MAAM,EAAE7kC,OAAO,CAAC6kC,MAAR,IAAkB,IAAlB,GAAyB7kC,OAAO,CAAC6kC,MAAjC,GAA0C,IAH/C;AAIH5zC,IAAAA,QAAQ,EAAE+O,OAAO,CAAC/O,QAJf;AAKHsxD,IAAAA,aAAa,EAAEppC;AALZ,GAAP;AAOH;;AAED,IAAIqpC,cAAc;AAAG;AAAe,UAAUthB,MAAV,EAAkB;AAClD5wC,EAAAA,gDAAS,CAACkyD,cAAD,EAAiBthB,MAAjB,CAAT;;AACA,WAASshB,cAAT,GAA0B;AACtB,WAAOthB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDm8C,EAAAA,cAAc,CAACn3D,SAAf,CAAyBgC,MAAzB,GAAkC,YAAY;AAC1C,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAI7S,QAAQ,GAAG,KAAKI,KAAL,CAAW2uD,YAAX,CAAwB/2D,GAAxB,CAA4B,UAAUg3D,WAAV,EAAuB;AAAE,aAAOn8C,KAAK,CAACo8C,iBAAN,CAAwBD,WAAxB,CAAP;AAA8C,KAAnG,CAAf;AACA,WAAOjyD,yDAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAAC,CAAC,KAAD,EAAQ;AAAEqrB,MAAAA,SAAS,EAAE;AAAb,KAAR,CAAD,EAA6ChoB,QAA7C,CAAzC,CAAP;AACH,GAJD;;AAKA8uD,EAAAA,cAAc,CAACn3D,SAAf,CAAyBs3D,iBAAzB,GAA6C,UAAUD,WAAV,EAAuB;AAChE,QAAI5uD,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAI4lC,KAAK,GAAG,KAAK7oC,OAAL,CAAa6oC,KAAzB;AACA,QAAIhmC,QAAQ,GAAG,EAAf;AACA,QAAIkvD,aAAa,GAAG,IAApB;;AACA,SAAK,IAAInkD,EAAE,GAAG,CAAT,EAAYokD,aAAa,GAAGH,WAAjC,EAA8CjkD,EAAE,GAAGokD,aAAa,CAAC1vD,MAAjE,EAAyEsL,EAAE,EAA3E,EAA+E;AAC3E,UAAIqkD,MAAM,GAAGD,aAAa,CAACpkD,EAAD,CAA1B;AACA,UAAIujC,UAAU,GAAG8gB,MAAM,CAAC9gB,UAAxB;AAAA,UAAoCkS,WAAW,GAAG4O,MAAM,CAAC5O,WAAzD;AAAA,UAAsEj8B,UAAU,GAAG6qC,MAAM,CAAC7qC,UAA1F;AAAA,UAAsGk8B,UAAU,GAAG2O,MAAM,CAAC3O,UAA1H;;AACA,UAAInS,UAAU,KAAK,OAAnB,EAA4B;AACxB4gB,QAAAA,aAAa,GAAG,KAAhB;AACAlvD,QAAAA,QAAQ,CAACjE,IAAT,CAAcgB,uDAAa,CAAC,IAAD,EAAO;AAAEirB,UAAAA,SAAS,EAAE;AAAb,SAAP,EAA0C5nB,KAAK,CAAC6oB,KAAhD,CAA3B;AACH,OAHD,MAIK;AACD,YAAIomC,SAAS,GAAG5O,UAAU,GAAG;AAAE,wBAAcnS;AAAhB,SAAH,GAAkC,EAA5D;AACA,YAAIghB,aAAa,GAAG,CAAC,QAAQhhB,UAAR,GAAqB,SAAtB,EAAiCtI,KAAK,CAACC,QAAN,CAAe,QAAf,CAAjC,CAApB;;AACA,YAAIqI,UAAU,KAAKluC,KAAK,CAACmvD,YAAzB,EAAuC;AACnCD,UAAAA,aAAa,CAACvzD,IAAd,CAAmBiqC,KAAK,CAACC,QAAN,CAAe,cAAf,CAAnB;AACH;;AACD,YAAIJ,UAAU,GAAI,CAACzlC,KAAK,CAACovD,cAAP,IAAyBlhB,UAAU,KAAK,OAAzC,IACZ,CAACluC,KAAK,CAACqvD,aAAP,IAAwBnhB,UAAU,KAAK,MAD3B,IAEZ,CAACluC,KAAK,CAACsvD,aAAP,IAAwBphB,UAAU,KAAK,MAF5C;AAGAtuC,QAAAA,QAAQ,CAACjE,IAAT,CAAcgB,uDAAa,CAAC,QAAD,EAAWL,+CAAQ,CAAC;AAAEizD,UAAAA,QAAQ,EAAE9pB,UAAZ;AAAwB7d,UAAAA,SAAS,EAAEsnC,aAAa,CAACz3C,IAAd,CAAmB,GAAnB,CAAnC;AAA4D+3C,UAAAA,OAAO,EAAEpP,WAArE;AAAkF7lD,UAAAA,IAAI,EAAE;AAAxF,SAAD,EAAqG00D,SAArG,CAAnB,EAAoI9qC,UAAU,KAAKk8B,UAAU,GAAG1jD,uDAAa,CAAC,MAAD,EAAS;AAAEirB,UAAAA,SAAS,EAAEy4B;AAAb,SAAT,CAAhB,GAAsD,EAArE,CAA9I,CAA3B;AACH;AACJ;;AACD,QAAIzgD,QAAQ,CAACP,MAAT,GAAkB,CAAtB,EAAyB;AACrB,UAAIowD,cAAc,GAAIX,aAAa,IAAIlpB,KAAK,CAACC,QAAN,CAAe,aAAf,CAAlB,IAAoD,EAAzE;AACA,aAAOlpC,yDAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAAC,CAAC,KAAD,EAAQ;AAAEqrB,QAAAA,SAAS,EAAE6nC;AAAb,OAAR,CAAD,EAAyC7vD,QAAzC,CAAzC,CAAP;AACH;;AACD,WAAOA,QAAQ,CAAC,CAAD,CAAf;AACH,GA7BD;;AA8BA,SAAO8uD,cAAP;AACH,CAzCmC,CAyClC5d,aAzCkC,CAApC;;AA2CA,IAAI4e,OAAO;AAAG;AAAe,UAAUtiB,MAAV,EAAkB;AAC3C5wC,EAAAA,gDAAS,CAACkzD,OAAD,EAAUtiB,MAAV,CAAT;;AACA,WAASsiB,OAAT,GAAmB;AACf,WAAOtiB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDm9C,EAAAA,OAAO,CAACn4D,SAAR,CAAkBgC,MAAlB,GAA2B,YAAY;AACnC,QAAIiH,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqB2vD,KAAK,GAAGnvD,EAAE,CAACmvD,KAAhC;AAAA,QAAuCC,cAAc,GAAGpvD,EAAE,CAACovD,cAA3D;AACA,QAAIC,QAAQ,GAAG,KAAf;AACA,QAAIC,YAAJ;AACA,QAAIC,UAAJ;AACA,QAAIC,aAAa,GAAGL,KAAK,CAAC9sC,MAA1B;;AACA,QAAI8sC,KAAK,CAAC7uB,IAAV,EAAgB;AACZ+uB,MAAAA,QAAQ,GAAG,IAAX;AACAC,MAAAA,YAAY,GAAGH,KAAK,CAAC7uB,IAArB;AACH,KAHD,MAIK;AACDgvB,MAAAA,YAAY,GAAGH,KAAK,CAAChiD,KAArB;AACH;;AACD,QAAIgiD,KAAK,CAAC5uB,KAAV,EAAiB;AACb8uB,MAAAA,QAAQ,GAAG,IAAX;AACAE,MAAAA,UAAU,GAAGJ,KAAK,CAAC5uB,KAAnB;AACH,KAHD,MAIK;AACDgvB,MAAAA,UAAU,GAAGJ,KAAK,CAAC/hD,GAAnB;AACH;;AACD,QAAIiX,UAAU,GAAG,CACb+qC,cAAc,IAAI,EADL,EAEb,YAFa,EAGbC,QAAQ,GAAG,gBAAH,GAAsB,EAHjB,CAAjB;AAKA,WAAQlzD,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE/C,UAAU,CAACpN,IAAX,CAAgB,GAAhB;AAAb,KAAR,EACjB,KAAKw4C,aAAL,CAAmB,OAAnB,EAA4BH,YAAY,IAAI,EAA5C,CADiB,EAEjB,KAAKG,aAAL,CAAmB,QAAnB,EAA6BD,aAAa,IAAI,EAA9C,CAFiB,EAGjB,KAAKC,aAAL,CAAmB,KAAnB,EAA0BF,UAAU,IAAI,EAAxC,CAHiB,CAArB;AAIH,GA7BD;;AA8BAL,EAAAA,OAAO,CAACn4D,SAAR,CAAkB04D,aAAlB,GAAkC,UAAU13D,GAAV,EAAeo2D,YAAf,EAA6B;AAC3D,QAAI3uD,KAAK,GAAG,KAAKA,KAAjB;AACA,WAAQrD,uDAAa,CAAC+xD,cAAD,EAAiB;AAAEn2D,MAAAA,GAAG,EAAEA,GAAP;AAAYo2D,MAAAA,YAAY,EAAEA,YAA1B;AAAwC9lC,MAAAA,KAAK,EAAE7oB,KAAK,CAAC6oB,KAArD;AAA4DsmC,MAAAA,YAAY,EAAEnvD,KAAK,CAACmvD,YAAhF;AAA8FC,MAAAA,cAAc,EAAEpvD,KAAK,CAACovD,cAApH;AAAoIC,MAAAA,aAAa,EAAErvD,KAAK,CAACqvD,aAAzJ;AAAwKC,MAAAA,aAAa,EAAEtvD,KAAK,CAACsvD;AAA7L,KAAjB,CAArB;AACH,GAHD;;AAIA,SAAOI,OAAP;AACH,CAxC4B,CAwC3B5e,aAxC2B,CAA7B,EA0CA;;;AACA,IAAIof,aAAa;AAAG;AAAe,UAAU9iB,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAAC0zD,aAAD,EAAgB9iB,MAAhB,CAAT;;AACA,WAAS8iB,aAAT,GAAyB;AACrB,QAAIz9C,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACwkB,KAAN,GAAc;AACVk5B,MAAAA,cAAc,EAAE;AADN,KAAd;;AAGA19C,IAAAA,KAAK,CAAC29C,QAAN,GAAiB,UAAUpyD,EAAV,EAAc;AAC3ByU,MAAAA,KAAK,CAACzU,EAAN,GAAWA,EAAX;AACAgzC,MAAAA,MAAM,CAACv+B,KAAK,CAACzS,KAAN,CAAY61C,KAAb,EAAoB73C,EAApB,CAAN;;AACAyU,MAAAA,KAAK,CAAC49C,oBAAN;AACH,KAJD;;AAKA59C,IAAAA,KAAK,CAAC69C,YAAN,GAAqB,YAAY;AAC7B79C,MAAAA,KAAK,CAAC49C,oBAAN;AACH,KAFD;;AAGA,WAAO59C,KAAP;AACH;;AACDy9C,EAAAA,aAAa,CAAC34D,SAAd,CAAwBgC,MAAxB,GAAiC,YAAY;AACzC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCi3B,KAAK,GAAGz2B,EAAE,CAACy2B,KAA5C;;AACA,QAAI9b,WAAW,GAAGnb,KAAK,CAACmb,WAAxB;AACA,QAAI0J,UAAU,GAAG,CACb,iBADa,EAEZ1J,WAAW,IAAInb,KAAK,CAACuwD,MAArB,IAA+BvwD,KAAK,CAACwd,MAAtC,GACM,wBADN,CAC+B;AAD/B,MAEM,yBAJO,CAIoB;AAJpB,KAAjB;AAMA,QAAIA,MAAM,GAAG,EAAb;AACA,QAAIgrB,aAAa,GAAG,EAApB;;AACA,QAAIrtB,WAAJ,EAAiB;AACb,UAAI8b,KAAK,CAACk5B,cAAN,KAAyB,IAA7B,EAAmC;AAC/B3yC,QAAAA,MAAM,GAAGyZ,KAAK,CAACk5B,cAAN,GAAuBh1C,WAAhC;AACH,OAFD,MAGK;AACD;AACA;AACA;AACA;AACAqtB,QAAAA,aAAa,GAAI,IAAIrtB,WAAL,GAAoB,GAApB,GAA0B,GAA1C;AACH;AACJ,KAXD,MAYK;AACDqC,MAAAA,MAAM,GAAGxd,KAAK,CAACwd,MAAN,IAAgB,EAAzB;AACH;;AACD,WAAQ7gB,uDAAa,CAAC,KAAD,EAAQ;AAAEs0C,MAAAA,GAAG,EAAE,KAAKmf,QAAZ;AAAsBZ,MAAAA,OAAO,EAAExvD,KAAK,CAACwvD,OAArC;AAA8C5nC,MAAAA,SAAS,EAAE/C,UAAU,CAACpN,IAAX,CAAgB,GAAhB,CAAzD;AAA+ErX,MAAAA,KAAK,EAAE;AAAEod,QAAAA,MAAM,EAAEA,MAAV;AAAkBgrB,QAAAA,aAAa,EAAEA;AAAjC;AAAtF,KAAR,EAAkJxoC,KAAK,CAACJ,QAAxJ,CAArB;AACH,GA3BD;;AA4BAswD,EAAAA,aAAa,CAAC34D,SAAd,CAAwBo/C,iBAAxB,GAA4C,YAAY;AACpD,SAAK55C,OAAL,CAAaizC,gBAAb,CAA8B,KAAKsgB,YAAnC;AACH,GAFD;;AAGAJ,EAAAA,aAAa,CAAC34D,SAAd,CAAwBu/C,oBAAxB,GAA+C,YAAY;AACvD,SAAK/5C,OAAL,CAAakzC,mBAAb,CAAiC,KAAKqgB,YAAtC;AACH,GAFD;;AAGAJ,EAAAA,aAAa,CAAC34D,SAAd,CAAwB84D,oBAAxB,GAA+C,YAAY;AACvD,QAAI,KAAKryD,EAAL,IAAW;AACX,SAAKgC,KAAL,CAAWmb,WADf,CAC2B;AAD3B,MAEE;AACE,WAAK0uC,QAAL,CAAc;AAAEsG,QAAAA,cAAc,EAAE,KAAKnyD,EAAL,CAAQipC;AAA1B,OAAd;AACH;AACJ,GAND;;AAOA,SAAOipB,aAAP;AACH,CA3DkC,CA2DjCpf,aA3DiC,CAAnC;AA6DA;AACA;AACA;;;AACA,IAAI0f,aAAa;AAAG;AAAe,UAAUpjB,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACg0D,aAAD,EAAgBpjB,MAAhB,CAAT;;AACA,WAASojB,aAAT,CAAuBj4B,QAAvB,EAAiC;AAC7B,QAAI9lB,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkBogC,QAAlB,KAA+B,IAA3C;;AACA9lB,IAAAA,KAAK,CAACg+C,cAAN,GAAuB,UAAUlwD,EAAV,EAAcmwD,KAAd,EAAqB;AACxC,UAAIjsC,SAAS,GAAGhS,KAAK,CAACgS,SAAtB;AACA,UAAI1nB,OAAO,GAAG0nB,SAAS,CAAC1nB,OAAxB;AACA,UAAI4wB,GAAG,GAAGE,QAAQ,CAAC6iC,KAAD,CAAlB;;AACA,UAAI/iC,GAAG,IAAI;AACPlJ,MAAAA,SAAS,CAACktB,gBAAV,CAA2BpxC,EAAE,CAACI,MAA9B,CADJ,EAC2C;AACvC;AACA;AACA,YAAIgwD,eAAe,GAAGxyD,cAAc,CAACoC,EAAE,CAACI,MAAJ,EAAY,sBAAZ,CAApC;AACA,YAAI9C,GAAG,GAAG8yD,eAAe,GAAGA,eAAe,CAAC/rD,aAAhB,CAA8B,SAA9B,EAAyCgsD,IAA5C,GAAmD,EAA5E;AACA7zD,QAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,YAAxB,EAAsC;AAClCp0B,UAAAA,EAAE,EAAE0yD,KAD8B;AAElCl3B,UAAAA,KAAK,EAAE,IAAIT,QAAJ,CAAatU,SAAS,CAAC1nB,OAAvB,EAAgC4wB,GAAG,CAACY,UAAJ,CAAelhB,GAA/C,EAAoDsgB,GAAG,CAACY,UAAJ,CAAephB,QAAnE,CAF2B;AAGlCmlB,UAAAA,OAAO,EAAE/xB,EAHyB;AAIlCiyB,UAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAJoB,SAAtC;;AAMA,YAAI50B,GAAG,IAAI,CAAC0C,EAAE,CAACswD,gBAAf,EAAiC;AAC7BvpB,UAAAA,MAAM,CAACwpB,QAAP,CAAgBF,IAAhB,GAAuB/yD,GAAvB;AACH;AACJ;AACJ,KApBD;;AAqBA4U,IAAAA,KAAK,CAACzY,OAAN,GAAgBgH,gBAAgB,CAACu3B,QAAQ,CAACv6B,EAAV,EAAc,OAAd,EAAuB,WAAvB,EAAoC;AACpEyU,IAAAA,KAAK,CAACg+C,cAD0B,CAAhC;AAEA,WAAOh+C,KAAP;AACH;;AACD,SAAO+9C,aAAP;AACH,CA9BkC,CA8BjC7C,WA9BiC,CAAnC;AAgCA;AACA;AACA;AACA;;;AACA,IAAIoD,aAAa;AAAG;AAAe,UAAU3jB,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACu0D,aAAD,EAAgB3jB,MAAhB,CAAT;;AACA,WAAS2jB,aAAT,CAAuBx4B,QAAvB,EAAiC;AAC7B,QAAI9lB,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkBogC,QAAlB,KAA+B,IAA3C,CAD6B,CAE7B;;;AACA9lB,IAAAA,KAAK,CAACu+C,mBAAN,GAA4B,UAAUhzD,EAAV,EAAc;AACtC,UAAIA,EAAE,KAAKyU,KAAK,CAACw+C,YAAjB,EAA+B;AAC3Bx+C,QAAAA,KAAK,CAACy+C,cAAN,CAAqB,IAArB,EAA2Bz+C,KAAK,CAACw+C,YAAjC;AACH;AACJ,KAJD;;AAKAx+C,IAAAA,KAAK,CAAC0+C,cAAN,GAAuB,UAAU5wD,EAAV,EAAcmwD,KAAd,EAAqB;AACxC,UAAI7iC,QAAQ,CAAC6iC,KAAD,CAAZ,EAAqB;AAAE;AACnBj+C,QAAAA,KAAK,CAACw+C,YAAN,GAAqBP,KAArB;;AACAj+C,QAAAA,KAAK,CAAC2+C,YAAN,CAAmB,iBAAnB,EAAsC7wD,EAAtC,EAA0CmwD,KAA1C;AACH;AACJ,KALD;;AAMAj+C,IAAAA,KAAK,CAACy+C,cAAN,GAAuB,UAAU3wD,EAAV,EAAcmwD,KAAd,EAAqB;AACxC,UAAIj+C,KAAK,CAACw+C,YAAV,EAAwB;AACpBx+C,QAAAA,KAAK,CAACw+C,YAAN,GAAqB,IAArB;;AACAx+C,QAAAA,KAAK,CAAC2+C,YAAN,CAAmB,iBAAnB,EAAsC7wD,EAAtC,EAA0CmwD,KAA1C;AACH;AACJ,KALD;;AAMAj+C,IAAAA,KAAK,CAAC4+C,oBAAN,GAA6BhwD,uBAAuB,CAACk3B,QAAQ,CAACv6B,EAAV,EAAc,WAAd,EAA2B;AAC/EyU,IAAAA,KAAK,CAAC0+C,cAD8C,EAC9B1+C,KAAK,CAACy+C,cADwB,CAApD;AAEA,WAAOz+C,KAAP;AACH;;AACDs+C,EAAAA,aAAa,CAACx5D,SAAd,CAAwByC,OAAxB,GAAkC,YAAY;AAC1C,SAAKq3D,oBAAL;AACH,GAFD;;AAGAN,EAAAA,aAAa,CAACx5D,SAAd,CAAwB65D,YAAxB,GAAuC,UAAUE,YAAV,EAAwB/wD,EAAxB,EAA4BmwD,KAA5B,EAAmC;AACtE,QAAIjsC,SAAS,GAAG,KAAKA,SAArB;AACA,QAAI1nB,OAAO,GAAG0nB,SAAS,CAAC1nB,OAAxB;AACA,QAAI4wB,GAAG,GAAGE,QAAQ,CAAC6iC,KAAD,CAAlB;;AACA,QAAI,CAACnwD,EAAD,IAAOkkB,SAAS,CAACktB,gBAAV,CAA2BpxC,EAAE,CAACI,MAA9B,CAAX,EAAkD;AAC9C5D,MAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwBk/B,YAAxB,EAAsC;AAClCtzD,QAAAA,EAAE,EAAE0yD,KAD8B;AAElCl3B,QAAAA,KAAK,EAAE,IAAIT,QAAJ,CAAah8B,OAAb,EAAsB4wB,GAAG,CAACY,UAAJ,CAAelhB,GAArC,EAA0CsgB,GAAG,CAACY,UAAJ,CAAephB,QAAzD,CAF2B;AAGlCmlB,QAAAA,OAAO,EAAE/xB,EAHyB;AAIlCiyB,QAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAJoB,OAAtC;AAMH;AACJ,GAZD;;AAaA,SAAOs+B,aAAP;AACH,CA3CkC,CA2CjCpD,WA3CiC,CAAnC;;AA6CA,IAAI4D,eAAe;AAAG;AAAe,UAAUnkB,MAAV,EAAkB;AACnD5wC,EAAAA,gDAAS,CAAC+0D,eAAD,EAAkBnkB,MAAlB,CAAT;;AACA,WAASmkB,eAAT,GAA2B;AACvB,QAAI9+C,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACi9B,gBAAN,GAAyB19B,OAAO,CAAC09B,gBAAD,CAAhC;AACAj9B,IAAAA,KAAK,CAAC++C,yBAAN,GAAkCx/C,OAAO,CAACw/C,yBAAD,CAAzC;AACA/+C,IAAAA,KAAK,CAACg/C,iBAAN,GAA0Bz/C,OAAO,CAACy/C,iBAAD,CAAjC;AACAh/C,IAAAA,KAAK,CAACi/C,kBAAN,GAA2B7wD,sBAAsB,CAAC,iBAAD,EAAoB4R,KAAK,CAACk/C,mBAAN,CAA0B/Q,IAA1B,CAA+BnuC,KAA/B,CAApB,CAAjD;AACAA,IAAAA,KAAK,CAACm/C,SAAN,GAAkBl1D,mDAAS,EAA3B;AACA+V,IAAAA,KAAK,CAACo/C,SAAN,GAAkBn1D,mDAAS,EAA3B;AACA+V,IAAAA,KAAK,CAACq/C,iBAAN,GAA0B,EAA1B,CARuB,CASvB;AACA;;AACAr/C,IAAAA,KAAK,CAACq9B,4BAAN,GAAqC,UAAUrrB,SAAV,EAAqBstC,aAArB,EAAoC;AACrE,UAAIx5B,QAAQ,GAAGs1B,wBAAwB,CAACppC,SAAD,EAAYstC,aAAZ,CAAvC;AACA,UAAIC,oBAAoB,GAAG,CACvBxB,aADuB,EAEvBO,aAFuB,CAA3B;AAIA,UAAIkB,kBAAkB,GAAGD,oBAAoB,CAAC9oD,MAArB,CAA4BuJ,KAAK,CAACzS,KAAN,CAAYgN,WAAZ,CAAwB0lC,qBAApD,CAAzB;AACA,UAAIwf,YAAY,GAAGD,kBAAkB,CAACr6D,GAAnB,CAAuB,UAAUu6D,mBAAV,EAA+B;AAAE,eAAO,IAAIA,mBAAJ,CAAwB55B,QAAxB,CAAP;AAA2C,OAAnG,CAAnB;AACA9lB,MAAAA,KAAK,CAACq/C,iBAAN,CAAwBrtC,SAAS,CAAC2sB,GAAlC,IAAyC8gB,YAAzC;AACAlE,MAAAA,wBAAwB,CAACvpC,SAAS,CAAC2sB,GAAX,CAAxB,GAA0C7Y,QAA1C;AACH,KAVD;;AAWA9lB,IAAAA,KAAK,CAACs9B,8BAAN,GAAuC,UAAUtrB,SAAV,EAAqB;AACxD,WAAK,IAAI9Z,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGiS,KAAK,CAACq/C,iBAAN,CAAwBrtC,SAAS,CAAC2sB,GAAlC,CAAtB,EAA8DzmC,EAAE,GAAGnK,EAAE,CAACnB,MAAtE,EAA8EsL,EAAE,EAAhF,EAAoF;AAChF,YAAIynD,QAAQ,GAAG5xD,EAAE,CAACmK,EAAD,CAAjB;AACAynD,QAAAA,QAAQ,CAACp4D,OAAT;AACH;;AACD,aAAOyY,KAAK,CAACq/C,iBAAN,CAAwBrtC,SAAS,CAAC2sB,GAAlC,CAAP;AACA,aAAO4c,wBAAwB,CAACvpC,SAAS,CAAC2sB,GAAX,CAA/B;AACH,KAPD,CAtBuB,CA8BvB;AACA;;;AACA3+B,IAAAA,KAAK,CAAC4/C,YAAN,GAAqB,IAAI9N,aAAJ,CAAkB,YAAY;AAC/C9xC,MAAAA,KAAK,CAACzS,KAAN,CAAYmyB,OAAZ,CAAoBC,OAApB,CAA4B,SAA5B,EAAuC,IAAvC,EAD+C,CACD;;;AAC9C3f,MAAAA,KAAK,CAACzS,KAAN,CAAYmyB,OAAZ,CAAoBC,OAApB,CAA4B,cAA5B,EAA4C;AAAEI,QAAAA,IAAI,EAAE/f,KAAK,CAACzS,KAAN,CAAYyyB;AAApB,OAA5C;AACH,KAHoB,CAArB;;AAIAhgB,IAAAA,KAAK,CAAC0K,kBAAN,GAA2B,UAAU5c,EAAV,EAAc;AACrC,UAAIrH,OAAO,GAAGuZ,KAAK,CAACzS,KAAN,CAAY9G,OAA1B;;AACA,UAAIA,OAAO,CAACikB,kBAAR,IACA5c,EAAE,CAACI,MAAH,KAAc2mC,MADlB,CACyB;AADzB,QAEE;AACE70B,QAAAA,KAAK,CAAC4/C,YAAN,CAAmBnjB,OAAnB,CAA2Bh2C,OAAO,CAACkkB,iBAAnC;AACH;AACJ,KAPD;;AAQA,WAAO3K,KAAP;AACH;AACD;AACJ;AACA;;;AACI8+C,EAAAA,eAAe,CAACh6D,SAAhB,CAA0BgC,MAA1B,GAAmC,YAAY;AAC3C,QAAIyG,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIq3B,aAAa,GAAGr3B,KAAK,CAACq3B,aAA1B;AAAA,QAAyCn+B,OAAO,GAAG8G,KAAK,CAAC9G,OAAzD;AACA,QAAIo5D,YAAY,GAAG,KAAKb,iBAAL,CAAuBzxD,KAAK,CAAC2vC,QAA7B,EAAuC3vC,KAAK,CAACi0B,WAA7C,EAA0Dj0B,KAAK,CAAC6vC,oBAAhE,EAAsF7vC,KAAK,CAACs1B,WAA5F,EAAyGK,MAAM,CAAC31B,KAAK,CAAC9G,OAAN,CAAc+kB,GAAf,EAAoBje,KAAK,CAACoM,OAA1B,CAA/G,EAAmJ;AACtKpM,IAAAA,KAAK,CAACg0B,SADa,CAAnB;AAEA,QAAIu+B,SAAS,GAAG,KAAhB;AACA,QAAIl0C,UAAU,GAAG,EAAjB;AACA,QAAIm0C,eAAJ;;AACA,QAAIxyD,KAAK,CAACyyD,YAAN,IAAsBzyD,KAAK,CAAC0yD,QAAhC,EAA0C;AACtCr0C,MAAAA,UAAU,GAAG,EAAb;AACH,KAFD,MAGK,IAAInlB,OAAO,CAACskB,MAAR,IAAkB,IAAtB,EAA4B;AAC7B+0C,MAAAA,SAAS,GAAG,IAAZ;AACH,KAFI,MAGA,IAAIr5D,OAAO,CAACukB,aAAR,IAAyB,IAA7B,EAAmC;AACpCY,MAAAA,UAAU,GAAGnlB,OAAO,CAACukB,aAArB;AACH,KAFI,MAGA;AACD+0C,MAAAA,eAAe,GAAGlsD,IAAI,CAACoO,GAAL,CAASxb,OAAO,CAACiiB,WAAjB,EAA8B,GAA9B,CAAlB,CADC,CACqD;AACzD;;AACD,QAAIw3C,WAAW,GAAG,KAAKjjB,gBAAL,CAAsB1vC,KAAK,CAAC2vC,QAA5B,EAAsC3vC,KAAK,CAACyyB,OAA5C,EAAqDzyB,KAAK,CAAC9G,OAA3D,EAAoE8G,KAAK,CAAC6vC,oBAA1E,EAAgG7vC,KAAK,CAACoM,OAAtG,EAA+GpM,KAAK,CAAC4lC,KAArH,EAA4H5lC,KAAK,CAACgN,WAAlI,EAA+IhN,KAAK,CAAC9C,QAArJ,EAA+J8C,KAAK,CAAC+zB,cAArK,EAAqL/zB,KAAK,CAACmyB,OAA3L,EAAoMnyB,KAAK,CAAC0yB,WAA1M,EAAuN,KAAKod,4BAA5N,EAA0P,KAAKC,8BAA/P,CAAlB;AACA,WAAQpzC,uDAAa,CAAC8yC,eAAe,CAACmjB,QAAjB,EAA2B;AAAEjiD,MAAAA,KAAK,EAAEgiD;AAAT,KAA3B,EACjBt7B,aAAa,CAAC5+B,aAAd,IAAgCkE,uDAAa,CAAC+yD,OAAD,EAAUpzD,+CAAQ,CAAC;AAAE20C,MAAAA,GAAG,EAAE,KAAK2gB,SAAZ;AAAuBhC,MAAAA,cAAc,EAAE,mBAAvC;AAA4DD,MAAAA,KAAK,EAAEt4B,aAAa,CAAC5+B;AAAjF,KAAD,EAAmG65D,YAAnG,CAAlB,CAD5B,EAEjB31D,uDAAa,CAACuzD,aAAD,EAAgB;AAAEK,MAAAA,MAAM,EAAEgC,SAAV;AAAqB/0C,MAAAA,MAAM,EAAEa,UAA7B;AAAyClD,MAAAA,WAAW,EAAEq3C,eAAtD;AAAuEhD,MAAAA,OAAO,EAAE,KAAKkC;AAArF,KAAhB,EACT,KAAKmB,UAAL,CAAgB7yD,KAAhB,CADS,EAET,KAAK8yD,kBAAL,EAFS,CAFI,EAKjBz7B,aAAa,CAAC3+B,aAAd,IAAgCiE,uDAAa,CAAC+yD,OAAD,EAAUpzD,+CAAQ,CAAC;AAAE20C,MAAAA,GAAG,EAAE,KAAK4gB,SAAZ;AAAuBjC,MAAAA,cAAc,EAAE,mBAAvC;AAA4DD,MAAAA,KAAK,EAAEt4B,aAAa,CAAC3+B;AAAjF,KAAD,EAAmG45D,YAAnG,CAAlB,CAL5B,CAArB;AAMH,GA3BD;;AA4BAf,EAAAA,eAAe,CAACh6D,SAAhB,CAA0Bo/C,iBAA1B,GAA8C,YAAY;AACtD,QAAI32C,KAAK,GAAG,KAAKA,KAAjB;AACA,SAAK2yC,oBAAL,GAA4B3yC,KAAK,CAACgN,WAAN,CAAkB2lC,oBAAlB,CACvB/6C,GADuB,CACnB,UAAUm7D,wBAAV,EAAoC;AAAE,aAAO,IAAIA,wBAAJ,CAA6B/yD,KAA7B,CAAP;AAA6C,KADhE,CAA5B;AAEAsnC,IAAAA,MAAM,CAACnmC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKgc,kBAAvC;AACA,QAAIi2B,eAAe,GAAGpzC,KAAK,CAACgN,WAAN,CAAkBomC,eAAxC;;AACA,SAAK,IAAInzC,QAAT,IAAqBmzC,eAArB,EAAsC;AAClCA,MAAAA,eAAe,CAACnzC,QAAD,CAAf,CAA0BD,KAAK,CAACC,QAAD,CAA/B,EAA2CD,KAA3C;AACH;AACJ,GATD;;AAUAuxD,EAAAA,eAAe,CAACh6D,SAAhB,CAA0Bs/C,kBAA1B,GAA+C,UAAUiT,SAAV,EAAqB;AAChE,QAAI9pD,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIozC,eAAe,GAAGpzC,KAAK,CAACgN,WAAN,CAAkBomC,eAAxC;;AACA,SAAK,IAAInzC,QAAT,IAAqBmzC,eAArB,EAAsC;AAClC,UAAIpzC,KAAK,CAACC,QAAD,CAAL,KAAoB6pD,SAAS,CAAC7pD,QAAD,CAAjC,EAA6C;AACzCmzC,QAAAA,eAAe,CAACnzC,QAAD,CAAf,CAA0BD,KAAK,CAACC,QAAD,CAA/B,EAA2CD,KAA3C;AACH;AACJ;AACJ,GARD;;AASAuxD,EAAAA,eAAe,CAACh6D,SAAhB,CAA0Bu/C,oBAA1B,GAAiD,YAAY;AACzDxP,IAAAA,MAAM,CAAClmC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK+b,kBAA1C;AACA,SAAKk1C,YAAL,CAAkB7M,KAAlB;;AACA,SAAK,IAAI76C,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKmyC,oBAA3B,EAAiDhoC,EAAE,GAAGnK,EAAE,CAACnB,MAAzD,EAAiEsL,EAAE,EAAnE,EAAuE;AACnE,UAAIg6B,WAAW,GAAGnkC,EAAE,CAACmK,EAAD,CAApB;AACAg6B,MAAAA,WAAW,CAAC3qC,OAAZ;AACH;;AACD,SAAKgG,KAAL,CAAWmyB,OAAX,CAAmBC,OAAnB,CAA2B,UAA3B;AACH,GARD;;AASAm/B,EAAAA,eAAe,CAACh6D,SAAhB,CAA0Bo6D,mBAA1B,GAAgD,UAAUpxD,EAAV,EAAcyyD,QAAd,EAAwB;AACpE,QAAIxyD,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqBoM,OAAO,GAAG5L,EAAE,CAAC4L,OAAlC;AAAA,QAA2ClT,OAAO,GAAGsH,EAAE,CAACtH,OAAxD;AAAA,QAAiEw5B,WAAW,GAAGlyB,EAAE,CAACkyB,WAAlF;AACA,QAAIugC,cAAc,GAAGD,QAAQ,CAACE,YAAT,CAAsB,cAAtB,CAArB;AACAD,IAAAA,cAAc,GAAGA,cAAc,GAAGjtB,IAAI,CAACz5B,KAAL,CAAW0mD,cAAX,CAAH,GAAgC,EAA/D;AACA,QAAIz9B,UAAU,GAAGppB,OAAO,CAAC+e,YAAR,CAAqB8nC,cAAc,CAACzqD,IAApC,CAAjB;AACA,QAAIsuB,QAAQ,GAAGm8B,cAAc,CAAC14D,IAA9B;AACA,QAAI44D,YAAY,GAAGr8B,QAAQ,KAAK,KAAb,GAAqB59B,OAAO,CAACogB,eAA7B,GACfwd,QAAQ,KAAK,MAAb,GAAsB59B,OAAO,CAACsgB,gBAA9B,GAAiD,IADrD;;AAEA,QAAI,OAAO25C,YAAP,KAAwB,UAA5B,EAAwC;AACpCA,MAAAA,YAAY,CAACh7D,IAAb,CAAkBu6B,WAAlB,EAA+BtmB,OAAO,CAACslB,MAAR,CAAe8D,UAAf,CAA/B,EAA2Dj1B,EAA3D;AACH,KAFD,MAGK;AACD,UAAI,OAAO4yD,YAAP,KAAwB,QAA5B,EAAsC;AAClCr8B,QAAAA,QAAQ,GAAGq8B,YAAX;AACH;;AACDzgC,MAAAA,WAAW,CAACsE,MAAZ,CAAmBxB,UAAnB,EAA+BsB,QAA/B;AACH;AACJ,GAjBD;;AAkBAy6B,EAAAA,eAAe,CAACh6D,SAAhB,CAA0Bu7D,kBAA1B,GAA+C,YAAY;AACvD,QAAI9yD,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIJ,QAAQ,GAAGI,KAAK,CAACgN,WAAN,CAAkBwlC,oBAAlB,CAAuC56C,GAAvC,CAA2C,UAAUk7D,kBAAV,EAA8B;AAAE,aAAOA,kBAAkB,CAAC9yD,KAAD,CAAzB;AAAmC,KAA9G,CAAf;AACA,WAAOrD,yDAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAAC,CAACK,8CAAD,EAAW,EAAX,CAAD,EAAiBgD,QAAjB,CAAzC,CAAP;AACH,GAJD;;AAKA2xD,EAAAA,eAAe,CAACh6D,SAAhB,CAA0Bs7D,UAA1B,GAAuC,UAAU7yD,KAAV,EAAiB;AACpD,QAAIgN,WAAW,GAAGhN,KAAK,CAACgN,WAAxB;AACA,QAAI2iC,QAAQ,GAAG3vC,KAAK,CAAC2vC,QAArB;AACA,QAAIqI,SAAS,GAAG;AACZ/jB,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WADP;AAEZlW,MAAAA,aAAa,EAAE/d,KAAK,CAAC+d,aAFT;AAGZjR,MAAAA,UAAU,EAAE9M,KAAK,CAAC4nD,oBAHN;AAIZr7B,MAAAA,YAAY,EAAEvsB,KAAK,CAACusB,YAJR;AAKZoM,MAAAA,aAAa,EAAE34B,KAAK,CAAC24B,aALT;AAMZwL,MAAAA,cAAc,EAAEnkC,KAAK,CAACmkC,cANV;AAOZP,MAAAA,SAAS,EAAE5jC,KAAK,CAAC4jC,SAPL;AAQZE,MAAAA,WAAW,EAAE9jC,KAAK,CAAC8jC,WARP;AASZ2uB,MAAAA,YAAY,EAAEzyD,KAAK,CAACyyD,YATR;AAUZC,MAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD;AAVJ,KAAhB;AAYA,QAAIjkC,YAAY,GAAG,KAAK+iC,yBAAL,CAA+BxkD,WAAW,CAACqlC,qBAA3C,CAAnB;;AACA,SAAK,IAAI1nC,EAAE,GAAG,CAAT,EAAYgkB,cAAc,GAAGF,YAAlC,EAAgD9jB,EAAE,GAAGgkB,cAAc,CAACtvB,MAApE,EAA4EsL,EAAE,EAA9E,EAAkF;AAC9E,UAAIikB,WAAW,GAAGD,cAAc,CAAChkB,EAAD,CAAhC;;AACArO,MAAAA,+CAAQ,CAAC07C,SAAD,EAAYppB,WAAW,CAACiE,SAAZ,CAAsBmlB,SAAtB,EAAiCh4C,KAAjC,CAAZ,CAAR;AACH;;AACD,QAAIozD,aAAa,GAAGzjB,QAAQ,CAAClrB,SAA7B;AACA,WAAQ9nB,uDAAa,CAACy2D,aAAD,EAAgB92D,+CAAQ,CAAC,EAAD,EAAK07C,SAAL,CAAxB,CAArB;AACH,GAtBD;;AAuBA,SAAOuZ,eAAP;AACH,CA1JoC,CA0JnCphB,aA1JmC,CAArC;;AA2JA,SAASshB,iBAAT,CAA2B9hB,QAA3B,EAAqC1b,WAArC,EAAkD4b,oBAAlD,EAAwEva,WAAxE,EAAqFrX,GAArF,EAA0F4K,KAA1F,EAAiG;AAC7F;AACA,MAAIwqC,SAAS,GAAGxjB,oBAAoB,CAACgK,KAArB,CAA2B57B,GAA3B,EAAgC7T,SAAhC,EAA2C,KAA3C,CAAhB,CAF6F,CAE1B;;AACnE,MAAIkpD,QAAQ,GAAGzjB,oBAAoB,CAAC2J,SAArB,CAA+BvlB,WAA/B,EAA4CqB,WAA5C,EAAyD,KAAzD,CAAf;AACA,MAAIi+B,QAAQ,GAAG1jB,oBAAoB,CAACiK,SAArB,CAA+B7lB,WAA/B,EAA4CqB,WAA5C,EAAyD,KAAzD,CAAf;AACA,SAAO;AACHzM,IAAAA,KAAK,EAAEA,KADJ;AAEHsmC,IAAAA,YAAY,EAAExf,QAAQ,CAACp1C,IAFpB;AAGH60D,IAAAA,cAAc,EAAEiE,SAAS,CAAClZ,OAAV,IAAqB,CAAC/tB,mBAAmB,CAAC6H,WAAW,CAACE,YAAb,EAA2BlW,GAA3B,CAHtD;AAIHoxC,IAAAA,aAAa,EAAEiE,QAAQ,CAACnZ,OAJrB;AAKHmV,IAAAA,aAAa,EAAEiE,QAAQ,CAACpZ;AALrB,GAAP;AAOH,EACD;AACA;;;AACA,SAASqX,yBAAT,CAAmCgC,UAAnC,EAA+C;AAC3C,SAAOA,UAAU,CAAC57D,GAAX,CAAe,UAAU67D,QAAV,EAAoB;AAAE,WAAO,IAAIA,QAAJ,EAAP;AAAwB,GAA7D,CAAP;AACH;;AAED,IAAIC,YAAY;AAAG;AAAe,UAAUtmB,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAACk3D,YAAD,EAAetmB,MAAf,CAAT;;AACA,WAASsmB,YAAT,GAAwB;AACpB,QAAIjhD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACwkB,KAAN,GAAc;AACVy7B,MAAAA,QAAQ,EAAE;AADA,KAAd;;AAGAjgD,IAAAA,KAAK,CAACkhD,iBAAN,GAA0B,YAAY;AAClClhD,MAAAA,KAAK,CAACo3C,QAAN,CAAe;AAAE6I,QAAAA,QAAQ,EAAE;AAAZ,OAAf;AACH,KAFD;;AAGAjgD,IAAAA,KAAK,CAACmhD,gBAAN,GAAyB,YAAY;AACjCnhD,MAAAA,KAAK,CAACo3C,QAAN,CAAe;AAAE6I,QAAAA,QAAQ,EAAE;AAAZ,OAAf;AACH,KAFD;;AAGA,WAAOjgD,KAAP;AACH;;AACDihD,EAAAA,YAAY,CAACn8D,SAAb,CAAuBgC,MAAvB,GAAgC,YAAY;AACxC,QAAIyG,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAI9G,OAAO,GAAG8G,KAAK,CAAC9G,OAApB;AACA,QAAIw5D,QAAQ,GAAG,KAAKz7B,KAAL,CAAWy7B,QAA1B;AACA,QAAID,YAAY,GAAGC,QAAQ,IAAIx5D,OAAO,CAACskB,MAAR,KAAmB,MAA/B,IAAyCtkB,OAAO,CAACukB,aAAR,KAA0B,MAAtF;AACA,QAAID,MAAM,GAAI,CAACi1C,YAAD,IAAiBv5D,OAAO,CAACskB,MAAR,IAAkB,IAApC,GAA4CtkB,OAAO,CAACskB,MAApD,GAA6D,EAA1E;AACA,QAAIqH,UAAU,GAAG,CACb,IADa,EAEb6tC,QAAQ,GAAG,gBAAH,GAAsB,iBAFjB,EAGb,kBAAkBx5D,OAAO,CAACqe,SAHb,EAIbvX,KAAK,CAAC4lC,KAAN,CAAYC,QAAZ,CAAqB,MAArB,CAJa,CAAjB;;AAMA,QAAI,CAAC/D,qBAAqB,EAA1B,EAA8B;AAC1Bjd,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,gBAAhB;AACH;;AACD,WAAOqE,KAAK,CAACJ,QAAN,CAAeilB,UAAf,EAA2BrH,MAA3B,EAAmCi1C,YAAnC,EAAiDC,QAAjD,CAAP;AACH,GAhBD;;AAiBAgB,EAAAA,YAAY,CAACn8D,SAAb,CAAuBo/C,iBAAvB,GAA2C,YAAY;AACnD,QAAIxkB,OAAO,GAAG,KAAKnyB,KAAL,CAAWmyB,OAAzB;AACAA,IAAAA,OAAO,CAACoE,EAAR,CAAW,cAAX,EAA2B,KAAKo9B,iBAAhC;AACAxhC,IAAAA,OAAO,CAACoE,EAAR,CAAW,aAAX,EAA0B,KAAKq9B,gBAA/B;AACH,GAJD;;AAKAF,EAAAA,YAAY,CAACn8D,SAAb,CAAuBu/C,oBAAvB,GAA8C,YAAY;AACtD,QAAI3kB,OAAO,GAAG,KAAKnyB,KAAL,CAAWmyB,OAAzB;AACAA,IAAAA,OAAO,CAACyE,GAAR,CAAY,cAAZ,EAA4B,KAAK+8B,iBAAjC;AACAxhC,IAAAA,OAAO,CAACyE,GAAR,CAAY,aAAZ,EAA2B,KAAKg9B,gBAAhC;AACH,GAJD;;AAKA,SAAOF,YAAP;AACH,CA3CiC,CA2ChC5iB,aA3CgC,CAAlC,EA6CA;;;AACA,SAAS+iB,2BAAT,CAAqCC,oBAArC,EAA2DxpC,MAA3D,EAAmE;AAC/D;AACA;AACA,MAAI,CAACwpC,oBAAD,IAAyBxpC,MAAM,GAAG,EAAtC,EAA0C;AACtC,WAAOlR,eAAe,CAAC;AAAErF,MAAAA,OAAO,EAAE;AAAX,KAAD,CAAtB,CADsC,CACQ;AACjD;;AACD,MAAIuW,MAAM,GAAG,CAAb,EAAgB;AACZ,WAAOlR,eAAe,CAAC;AAAErF,MAAAA,OAAO,EAAE,OAAX;AAAoBpF,MAAAA,KAAK,EAAE,SAA3B;AAAsCC,MAAAA,GAAG,EAAE,SAA3C;AAAsD+E,MAAAA,UAAU,EAAE;AAAlE,KAAD,CAAtB,CADY,CACsF;AACrG;;AACD,SAAOyF,eAAe,CAAC;AAAErF,IAAAA,OAAO,EAAE;AAAX,GAAD,CAAtB,CAT+D,CASlB;AAChD;;AAED,IAAIggD,UAAU,GAAG,oBAAjB,EAAuC;;AACvC,SAASC,aAAT,CAAuBle,SAAvB,EAAkC;AAC9B,SAAOA,SAAS,CAACyK,IAAjB;AACH;;AAED,IAAI0T,aAAa;AAAG;AAAe,UAAU7mB,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACy3D,aAAD,EAAgB7mB,MAAhB,CAAT;;AACA,WAAS6mB,aAAT,GAAyB;AACrB,WAAO7mB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD0hD,EAAAA,aAAa,CAAC18D,SAAd,CAAwBgC,MAAxB,GAAiC,YAAY;AACzC,QAAIiH,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuBqP,OAAO,GAAG5L,EAAE,CAAC4L,OAApC;AAAA,QAA6ClT,OAAO,GAAGsH,EAAE,CAACtH,OAA1D;AAAA,QAAmE0sC,KAAK,GAAGplC,EAAE,CAAColC,KAA9E;AAAA,QAAqFnT,OAAO,GAAGjyB,EAAE,CAACiyB,OAAlG;AACA,QAAIzyB,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIwI,IAAI,GAAGxI,KAAK,CAACwI,IAAjB;AAAA,QAAuByrB,WAAW,GAAGj0B,KAAK,CAACi0B,WAA3C;AACA,QAAIigC,OAAO,GAAG1uB,WAAW,CAACh9B,IAAD,EAAOxI,KAAK,CAAC6vB,UAAb,EAAyB,IAAzB,EAA+BoE,WAA/B,CAAzB;AACA,QAAIpP,UAAU,GAAG,CAACkvC,UAAD,EAAa7qD,MAAb,CAAoBy8B,gBAAgB,CAACuuB,OAAD,EAAUtuB,KAAV,CAApC,CAAjB;AACA,QAAI2a,IAAI,GAAGn0C,OAAO,CAACtO,MAAR,CAAe0K,IAAf,EAAqBxI,KAAK,CAACya,eAA3B,CAAX,CANyC,CAOzC;;AACA,QAAI05C,YAAY,GAAIj7D,OAAO,CAAC4nB,QAAR,IAAoB,CAACozC,OAAO,CAACzuB,UAA7B,IAA2CzlC,KAAK,CAACo0D,MAAN,GAAe,CAA3D,GACb;AAAE,sBAAgBruB,gBAAgB,CAACv9B,IAAD,CAAlC;AAA0C6rD,MAAAA,QAAQ,EAAE;AAApD,KADa,GAEb,EAFN;;AAGA,QAAIve,SAAS,GAAGx5C,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC;AAAEkM,MAAAA,IAAI,EAAE4D,OAAO,CAACslB,MAAR,CAAelpB,IAAf,CAAR;AAA8BgqB,MAAAA,IAAI,EAAEC;AAApC,KAAD,EAAgDzyB,KAAK,CAACs0D,cAAtD,CAAT,EAAgF;AAAE/T,MAAAA,IAAI,EAAEA;AAAR,KAAhF,CAAT,EAA0G2T,OAA1G,CAAxB;;AACA,WAAQv3D,uDAAa,CAAC+4C,UAAD,EAAa;AAAEI,MAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,MAAAA,UAAU,EAAE3rB,OAAO,CAACwhB,mBAA5C;AAAiEoK,MAAAA,OAAO,EAAE5rB,OAAO,CAACyhB,gBAAlF;AAAoGs7B,MAAAA,cAAc,EAAE+d,aAApH;AAAmIjvC,MAAAA,QAAQ,EAAE7rB,OAAO,CAAC0hB,iBAArJ;AAAwKoK,MAAAA,WAAW,EAAE9rB,OAAO,CAAC2hB;AAA7L,KAAb,EAAkO,UAAU86B,SAAV,EAAqBiC,gBAArB,EAAuCzB,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,aAAQz5C,uDAAa,CAAC,IAAD,EAAOL,+CAAQ,CAAC;AAAE20C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE/C,UAAU,CAAC3b,MAAX,CAAkB0uC,gBAAlB,EAAoCngC,IAApC,CAAyC,GAAzC,CAA7B;AAA4E,qBAAa,CAACy8C,OAAO,CAACzuB,UAAT,GAAsBv0B,eAAe,CAAC1I,IAAD,CAArC,GAA8C4B,SAAvI;AAAkJmqD,QAAAA,OAAO,EAAEv0D,KAAK,CAACu0D;AAAjK,OAAD,EAA6Kv0D,KAAK,CAACw0D,cAAnL,CAAf,EAC3U73D,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EAAmD,CAACssC,OAAO,CAACzuB,UAAT,IAAwB9oC,uDAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC;AAAE20C,QAAAA,GAAG,EAAEkF,UAAP;AAAmBvuB,QAAAA,SAAS,EAAE,CAC1I,4BAD0I,EAE1I5nB,KAAK,CAACy0D,QAAN,GAAiB,WAAjB,GAA+B,EAF2G,EAG5Ih9C,IAH4I,CAGvI,GAHuI;AAA9B,OAAD,EAGhG08C,YAHgG,CAAd,EAGnE/d,YAHmE,CAAxF,CAD8T,CAArB;AAIhQ,KAJrC,CAArB;AAKH,GAjBD;;AAkBA,SAAO6d,aAAP;AACH,CAxBkC,CAwBjCnjB,aAxBiC,CAAnC;;AA0BA,IAAI4jB,YAAY;AAAG;AAAe,UAAUtnB,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAACk4D,YAAD,EAAetnB,MAAf,CAAT;;AACA,WAASsnB,YAAT,GAAwB;AACpB,WAAOtnB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDmiD,EAAAA,YAAY,CAACn9D,SAAb,CAAuBgC,MAAvB,GAAgC,YAAY;AACxC,QAAIyG,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIQ,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuBqP,OAAO,GAAG5L,EAAE,CAAC4L,OAApC;AAAA,QAA6Cw5B,KAAK,GAAGplC,EAAE,CAAColC,KAAxD;AAAA,QAA+DnT,OAAO,GAAGjyB,EAAE,CAACiyB,OAA5E;AAAA,QAAqFv5B,OAAO,GAAGsH,EAAE,CAACtH,OAAlG;AACA,QAAIsP,IAAI,GAAGlD,OAAO,CAAC,IAAIzN,IAAJ,CAAS,SAAT,CAAD,EAAsBmI,KAAK,CAACwH,GAA5B,CAAlB,CAHwC,CAGY;;AACpD,QAAIy4B,QAAQ,GAAG;AACXz4B,MAAAA,GAAG,EAAExH,KAAK,CAACwH,GADA;AAEXi+B,MAAAA,UAAU,EAAE,KAFD;AAGXxV,MAAAA,QAAQ,EAAE,KAHC;AAIXD,MAAAA,MAAM,EAAE,KAJG;AAKXE,MAAAA,OAAO,EAAE,KALE;AAMXwV,MAAAA,OAAO,EAAE;AANE,KAAf;AAQA,QAAI7gB,UAAU,GAAG,CAACkvC,UAAD,EAAa7qD,MAAb,CAAoBy8B,gBAAgB,CAAC1F,QAAD,EAAW2F,KAAX,CAApC,EAAuD5lC,KAAK,CAAC20D,eAAN,IAAyB,EAAhF,CAAjB;AACA,QAAIpU,IAAI,GAAGn0C,OAAO,CAACtO,MAAR,CAAe0K,IAAf,EAAqBxI,KAAK,CAACya,eAA3B,CAAX;;AACA,QAAIq7B,SAAS,GAAGx5C,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC;AAAE;AAClDkM,MAAAA,IAAI,EAAEA;AAD0C,KAAD,EACjCy3B,QADiC,CAAT,EACb;AAAEzN,MAAAA,IAAI,EAAEC;AAAR,KADa,CAAT,EACgBzyB,KAAK,CAACs0D,cADtB,CAAT,EACgD;AAAE/T,MAAAA,IAAI,EAAEA;AAAR,KADhD,CAAxB;;AAEA,WAAQ5jD,uDAAa,CAAC+4C,UAAD,EAAa;AAAEI,MAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,MAAAA,UAAU,EAAE3rB,OAAO,CAACwhB,mBAA5C;AAAiEoK,MAAAA,OAAO,EAAE5rB,OAAO,CAACyhB,gBAAlF;AAAoGs7B,MAAAA,cAAc,EAAE+d,aAApH;AAAmIjvC,MAAAA,QAAQ,EAAE7rB,OAAO,CAAC0hB,iBAArJ;AAAwKoK,MAAAA,WAAW,EAAE9rB,OAAO,CAAC2hB;AAA7L,KAAb,EAAkO,UAAU86B,SAAV,EAAqBiC,gBAArB,EAAuCzB,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,aAAQz5C,uDAAa,CAAC,IAAD,EAAOL,+CAAQ,CAAC;AAAE20C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE/C,UAAU,CAAC3b,MAAX,CAAkB0uC,gBAAlB,EAAoCngC,IAApC,CAAyC,GAAzC,CAA7B;AAA4E88C,QAAAA,OAAO,EAAEv0D,KAAK,CAACu0D;AAA3F,OAAD,EAAuGv0D,KAAK,CAACw0D,cAA7G,CAAf,EAC3U73D,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EACTjrB,uDAAa,CAAC,GAAD,EAAM;AAAEirB,QAAAA,SAAS,EAAE,CACxB,4BADwB,EAExB5nB,KAAK,CAACy0D,QAAN,GAAiB,WAAjB,GAA+B,EAFP,EAG1Bh9C,IAH0B,CAGrB,GAHqB,CAAb;AAGFw5B,QAAAA,GAAG,EAAEkF;AAHH,OAAN,EAGuBC,YAHvB,CADJ,CAD8T,CAArB;AAK3P,KAL1C,CAArB;AAMH,GAtBD;;AAuBA,SAAOse,YAAP;AACH,CA7BiC,CA6BhC5jB,aA7BgC,CAAlC;;AA+BA,IAAI8jB,QAAQ;AAAG;AAAe,UAAUxnB,MAAV,EAAkB;AAC5C5wC,EAAAA,gDAAS,CAACo4D,QAAD,EAAWxnB,MAAX,CAAT;;AACA,WAASwnB,QAAT,CAAkB50D,KAAlB,EAAyBjD,OAAzB,EAAkC;AAC9B,QAAI0V,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkB6H,KAAlB,EAAyBjD,OAAzB,KAAqC,IAAjD;;AACA0V,IAAAA,KAAK,CAACoiD,cAAN,GAAuBl/B,MAAM,CAAC54B,OAAO,CAAC7D,OAAR,CAAgB+kB,GAAjB,EAAsBlhB,OAAO,CAACqP,OAA9B,CAA7B;AACAqG,IAAAA,KAAK,CAACqiD,mBAAN,GAA4B,IAAIj9D,IAAJ,GAAWC,OAAX,EAA5B;AACA2a,IAAAA,KAAK,CAACwkB,KAAN,GAAcxkB,KAAK,CAACsiD,aAAN,GAAsBC,YAApC;AACA,WAAOviD,KAAP;AACH;;AACDmiD,EAAAA,QAAQ,CAACr9D,SAAT,CAAmBgC,MAAnB,GAA4B,YAAY;AACpC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCi3B,KAAK,GAAGz2B,EAAE,CAACy2B,KAA5C;;AACA,WAAOj3B,KAAK,CAACJ,QAAN,CAAeq3B,KAAK,CAACnH,OAArB,EAA8BmH,KAAK,CAACpH,UAApC,CAAP;AACH,GAHD;;AAIA+kC,EAAAA,QAAQ,CAACr9D,SAAT,CAAmBo/C,iBAAnB,GAAuC,YAAY;AAC/C,SAAKsO,UAAL;AACH,GAFD;;AAGA2P,EAAAA,QAAQ,CAACr9D,SAAT,CAAmBs/C,kBAAnB,GAAwC,UAAUiT,SAAV,EAAqB;AACzD,QAAIA,SAAS,CAACz7C,IAAV,KAAmB,KAAKrO,KAAL,CAAWqO,IAAlC,EAAwC;AACpC,WAAK02C,YAAL;AACA,WAAKE,UAAL;AACH;AACJ,GALD;;AAMA2P,EAAAA,QAAQ,CAACr9D,SAAT,CAAmBu/C,oBAAnB,GAA0C,YAAY;AAClD,SAAKiO,YAAL;AACH,GAFD;;AAGA6P,EAAAA,QAAQ,CAACr9D,SAAT,CAAmBw9D,aAAnB,GAAmC,YAAY;AAC3C,QAAIv0D,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAIk4D,YAAY,GAAG1vD,KAAK,CAAC,KAAKsvD,cAAN,EAAsB,IAAIh9D,IAAJ,GAAWC,OAAX,KAAuB,KAAKg9D,mBAAlD,CAAxB;AACA,QAAII,gBAAgB,GAAGn4D,OAAO,CAACqP,OAAR,CAAgByxB,OAAhB,CAAwBo3B,YAAxB,EAAsCj1D,KAAK,CAACqO,IAA5C,CAAvB;AACA,QAAI8mD,aAAa,GAAGp4D,OAAO,CAACqP,OAAR,CAAgB5J,GAAhB,CAAoB0yD,gBAApB,EAAsC9mD,cAAc,CAAC,CAAD,EAAIpO,KAAK,CAACqO,IAAV,CAApD,CAApB;AACA,QAAI+mD,MAAM,GAAGD,aAAa,CAACr9D,OAAd,KAA0Bm9D,YAAY,CAACn9D,OAAb,EAAvC,CAL2C,CAM3C;AACA;;AACAs9D,IAAAA,MAAM,GAAG9uD,IAAI,CAACwB,GAAL,CAAS,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAA1B,EAA8BstD,MAA9B,CAAT;AACA,WAAO;AACHJ,MAAAA,YAAY,EAAE;AAAEllC,QAAAA,OAAO,EAAEolC,gBAAX;AAA6BrlC,QAAAA,UAAU,EAAEwlC,aAAa,CAACH,gBAAD;AAAtD,OADX;AAEH5kB,MAAAA,SAAS,EAAE;AAAExgB,QAAAA,OAAO,EAAEqlC,aAAX;AAA0BtlC,QAAAA,UAAU,EAAEwlC,aAAa,CAACF,aAAD;AAAnD,OAFR;AAGHC,MAAAA,MAAM,EAAEA;AAHL,KAAP;AAKH,GAdD;;AAeAR,EAAAA,QAAQ,CAACr9D,SAAT,CAAmB0tD,UAAnB,GAAgC,YAAY;AACxC,QAAIxyC,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,KAAKu0D,aAAL,EAAT;AAAA,QAA+BzkB,SAAS,GAAG9vC,EAAE,CAAC8vC,SAA9C;AAAA,QAAyD8kB,MAAM,GAAG50D,EAAE,CAAC40D,MAArE;;AACA,SAAKxQ,SAAL,GAAiBK,UAAU,CAAC,YAAY;AACpCxyC,MAAAA,KAAK,CAACo3C,QAAN,CAAevZ,SAAf,EAA0B,YAAY;AAClC79B,QAAAA,KAAK,CAACwyC,UAAN;AACH,OAFD;AAGH,KAJ0B,EAIxBmQ,MAJwB,CAA3B;AAKH,GARD;;AASAR,EAAAA,QAAQ,CAACr9D,SAAT,CAAmBwtD,YAAnB,GAAkC,YAAY;AAC1C,QAAI,KAAKH,SAAT,EAAoB;AAChBG,MAAAA,YAAY,CAAC,KAAKH,SAAN,CAAZ;AACH;AACJ,GAJD;;AAKAgQ,EAAAA,QAAQ,CAAC/jB,WAAT,GAAuBpB,eAAvB;AACA,SAAOmlB,QAAP;AACH,CAxD6B,CAwD5B/9D,+CAxD4B,CAA9B;;AAyDA,SAASw+D,aAAT,CAAuB7sD,IAAvB,EAA6B;AACzB,MAAImF,KAAK,GAAG1H,UAAU,CAACuC,IAAD,CAAtB;AACA,MAAIoF,GAAG,GAAGtI,OAAO,CAACqI,KAAD,EAAQ,CAAR,CAAjB;AACA,SAAO;AAAEA,IAAAA,KAAK,EAAEA,KAAT;AAAgBC,IAAAA,GAAG,EAAEA;AAArB,GAAP;AACH;;AAED,IAAI0nD,SAAS;AAAG;AAAe,UAAUloB,MAAV,EAAkB;AAC7C5wC,EAAAA,gDAAS,CAAC84D,SAAD,EAAYloB,MAAZ,CAAT;;AACA,WAASkoB,SAAT,GAAqB;AACjB,QAAI7iD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC8iD,wBAAN,GAAiCvjD,OAAO,CAACujD,wBAAD,CAAxC;AACA,WAAO9iD,KAAP;AACH;;AACD6iD,EAAAA,SAAS,CAAC/9D,SAAV,CAAoBgC,MAApB,GAA6B,YAAY;AACrC,QAAIwD,OAAO,GAAG,KAAKA,OAAnB;AACA,QAAIyD,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqBw1D,KAAK,GAAGh1D,EAAE,CAACg1D,KAAhC;AAAA,QAAuCvhC,WAAW,GAAGzzB,EAAE,CAACyzB,WAAxD;AAAA,QAAqE6/B,oBAAoB,GAAGtzD,EAAE,CAACszD,oBAA/F;AAAA,QAAqH2B,WAAW,GAAGj1D,EAAE,CAACi1D,WAAtI;AACA,QAAIh7C,eAAe,GAAG,KAAK86C,wBAAL,CAA8Bx4D,OAAO,CAAC7D,OAAR,CAAgBuhB,eAA9C,EAA+Dq5C,oBAA/D,EAAqF0B,KAAK,CAACn2D,MAA3F,CAAtB;AACA,WAAQ1C,uDAAa,CAACi4D,QAAD,EAAW;AAAEvmD,MAAAA,IAAI,EAAE;AAAR,KAAX,EAA4B,UAAUyhB,OAAV,EAAmBD,UAAnB,EAA+B;AAAE,aAAQlzB,uDAAa,CAAC,IAAD,EAAO,IAAP,EACnG84D,WAAW,IAAIA,WAAW,CAAC,KAAD,CADyE,EAEnGD,KAAK,CAAC59D,GAAN,CAAU,UAAU4Q,IAAV,EAAgB;AAAE,eAAQsrD,oBAAoB,GAAIn3D,uDAAa,CAACs3D,aAAD,EAAgB;AAAE17D,UAAAA,GAAG,EAAEiQ,IAAI,CAACuI,WAAL,EAAP;AAA2BvI,UAAAA,IAAI,EAAEA,IAAjC;AAAuCyrB,UAAAA,WAAW,EAAEA,WAApD;AAAiEpE,UAAAA,UAAU,EAAEA,UAA7E;AAAyFukC,UAAAA,MAAM,EAAEoB,KAAK,CAACn2D,MAAvG;AAA+Gob,UAAAA,eAAe,EAAEA;AAAhI,SAAhB,CAAjB,GAAwL9d,uDAAa,CAAC+3D,YAAD,EAAe;AAAEn8D,UAAAA,GAAG,EAAEiQ,IAAI,CAACF,SAAL,EAAP;AAAyBd,UAAAA,GAAG,EAAEgB,IAAI,CAACF,SAAL,EAA9B;AAAgDmS,UAAAA,eAAe,EAAEA;AAAjE,SAAf,CAAjO;AAAwU,OAApW,CAFmG,CAArB;AAE4R,KAFzV,CAArB;AAGH,GAPD;;AAQA,SAAO66C,SAAP;AACH,CAhB8B,CAgB7BxkB,aAhB6B,CAA/B;;AAiBA,SAASykB,wBAAT,CAAkCG,cAAlC,EAAkD5B,oBAAlD,EAAwE6B,OAAxE,EAAiF;AAC7E,SAAOD,cAAc,IAAI7B,2BAA2B,CAACC,oBAAD,EAAuB6B,OAAvB,CAApD;AACH;;AAED,IAAIC,cAAc;AAAG;AAAe,YAAY;AAC5C,WAASA,cAAT,CAAwBnsD,KAAxB,EAA+BomC,oBAA/B,EAAqD;AACjD,QAAIrnC,IAAI,GAAGiB,KAAK,CAACkE,KAAjB;AACA,QAAIC,GAAG,GAAGnE,KAAK,CAACmE,GAAhB;AACA,QAAIioD,OAAO,GAAG,EAAd;AACA,QAAIL,KAAK,GAAG,EAAZ;AACA,QAAIM,QAAQ,GAAG,CAAC,CAAhB;;AACA,WAAOttD,IAAI,GAAGoF,GAAd,EAAmB;AAAE;AACjB,UAAIiiC,oBAAoB,CAACoL,WAArB,CAAiCzyC,IAAjC,CAAJ,EAA4C;AACxCqtD,QAAAA,OAAO,CAACl6D,IAAR,CAAam6D,QAAQ,GAAG,GAAxB,EADwC,CACV;AACjC,OAFD,MAGK;AACDA,QAAAA,QAAQ,IAAI,CAAZ;AACAD,QAAAA,OAAO,CAACl6D,IAAR,CAAam6D,QAAb;AACAN,QAAAA,KAAK,CAAC75D,IAAN,CAAW6M,IAAX;AACH;;AACDA,MAAAA,IAAI,GAAGlD,OAAO,CAACkD,IAAD,EAAO,CAAP,CAAd;AACH;;AACD,SAAKgtD,KAAL,GAAaA,KAAb;AACA,SAAKK,OAAL,GAAeA,OAAf;AACA,SAAKE,GAAL,GAAWP,KAAK,CAACn2D,MAAjB;AACH;;AACDu2D,EAAAA,cAAc,CAACr+D,SAAf,CAAyBy+D,UAAzB,GAAsC,UAAUvsD,KAAV,EAAiB;AACnD,QAAIwsD,UAAU,GAAG,KAAKC,eAAL,CAAqBzsD,KAAK,CAACkE,KAA3B,CAAjB,CADmD,CACC;;AACpD,QAAIwoD,SAAS,GAAG,KAAKD,eAAL,CAAqB5wD,OAAO,CAACmE,KAAK,CAACmE,GAAP,EAAY,CAAC,CAAb,CAA5B,CAAhB,CAFmD,CAEW;;AAC9D,QAAIwoD,iBAAiB,GAAG9vD,IAAI,CAACoO,GAAL,CAAS,CAAT,EAAYuhD,UAAZ,CAAxB;AACA,QAAII,gBAAgB,GAAG/vD,IAAI,CAACwB,GAAL,CAAS,KAAKiuD,GAAL,GAAW,CAApB,EAAuBI,SAAvB,CAAvB,CAJmD,CAKnD;;AACAC,IAAAA,iBAAiB,GAAG9vD,IAAI,CAACgwD,IAAL,CAAUF,iBAAV,CAApB,CANmD,CAMD;;AAClDC,IAAAA,gBAAgB,GAAG/vD,IAAI,CAAC6B,KAAL,CAAWkuD,gBAAX,CAAnB,CAPmD,CAOF;;AACjD,QAAID,iBAAiB,IAAIC,gBAAzB,EAA2C;AACvC,aAAO;AACHJ,QAAAA,UAAU,EAAEG,iBADT;AAEHD,QAAAA,SAAS,EAAEE,gBAFR;AAGHnpC,QAAAA,OAAO,EAAE+oC,UAAU,KAAKG,iBAHrB;AAIHjpC,QAAAA,KAAK,EAAEgpC,SAAS,KAAKE;AAJlB,OAAP;AAMH;;AACD,WAAO,IAAP;AACH,GAjBD,CAtB4C,CAwC5C;AACA;AACA;AACA;AACA;;;AACAT,EAAAA,cAAc,CAACr+D,SAAf,CAAyB2+D,eAAzB,GAA2C,UAAU1tD,IAAV,EAAgB;AACvD,QAAIqtD,OAAO,GAAG,KAAKA,OAAnB;AACA,QAAIU,SAAS,GAAGjwD,IAAI,CAAC6B,KAAL,CAAWxC,QAAQ,CAAC,KAAK6vD,KAAL,CAAW,CAAX,CAAD,EAAgBhtD,IAAhB,CAAnB,CAAhB;;AACA,QAAI+tD,SAAS,GAAG,CAAhB,EAAmB;AACf,aAAOV,OAAO,CAAC,CAAD,CAAP,GAAa,CAApB;AACH;;AACD,QAAIU,SAAS,IAAIV,OAAO,CAACx2D,MAAzB,EAAiC;AAC7B,aAAOw2D,OAAO,CAACA,OAAO,CAACx2D,MAAR,GAAiB,CAAlB,CAAP,GAA8B,CAArC;AACH;;AACD,WAAOw2D,OAAO,CAACU,SAAD,CAAd;AACH,GAVD;;AAWA,SAAOX,cAAP;AACH,CAzDmC,EAApC;;AA2DA,IAAIY,aAAa;AAAG;AAAe,YAAY;AAC3C,WAASA,aAAT,CAAuBC,SAAvB,EAAkCC,YAAlC,EAAgD;AAC5C,QAAIlB,KAAK,GAAGiB,SAAS,CAACjB,KAAtB;AACA,QAAImB,UAAJ;AACA,QAAI/0C,QAAJ;AACA,QAAIg1C,MAAJ;;AACA,QAAIF,YAAJ,EAAkB;AACd;AACA90C,MAAAA,QAAQ,GAAG4zC,KAAK,CAAC,CAAD,CAAL,CAASltD,SAAT,EAAX;;AACA,WAAKquD,UAAU,GAAG,CAAlB,EAAqBA,UAAU,GAAGnB,KAAK,CAACn2D,MAAxC,EAAgDs3D,UAAU,IAAI,CAA9D,EAAiE;AAC7D,YAAInB,KAAK,CAACmB,UAAD,CAAL,CAAkBruD,SAAlB,OAAkCsZ,QAAtC,EAAgD;AAC5C;AACH;AACJ;;AACDg1C,MAAAA,MAAM,GAAGtwD,IAAI,CAACgwD,IAAL,CAAUd,KAAK,CAACn2D,MAAN,GAAes3D,UAAzB,CAAT;AACH,KATD,MAUK;AACDC,MAAAA,MAAM,GAAG,CAAT;AACAD,MAAAA,UAAU,GAAGnB,KAAK,CAACn2D,MAAnB;AACH;;AACD,SAAKu3D,MAAL,GAAcA,MAAd;AACA,SAAKxC,MAAL,GAAcuC,UAAd;AACA,SAAKF,SAAL,GAAiBA,SAAjB;AACA,SAAKI,KAAL,GAAa,KAAKC,UAAL,EAAb;AACA,SAAKC,WAAL,GAAmB,KAAKC,gBAAL,EAAnB;AACH;;AACDR,EAAAA,aAAa,CAACj/D,SAAd,CAAwBu/D,UAAxB,GAAqC,YAAY;AAC7C,QAAIG,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAKN,MAA7B,EAAqCM,GAAG,IAAI,CAA5C,EAA+C;AAC3C,UAAIL,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIM,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAK/C,MAA7B,EAAqC+C,GAAG,IAAI,CAA5C,EAA+C;AAC3CN,QAAAA,KAAK,CAACl7D,IAAN,CAAW,KAAKy7D,SAAL,CAAeF,GAAf,EAAoBC,GAApB,CAAX;AACH;;AACDF,MAAAA,IAAI,CAACt7D,IAAL,CAAUk7D,KAAV;AACH;;AACD,WAAOI,IAAP;AACH,GAVD;;AAWAT,EAAAA,aAAa,CAACj/D,SAAd,CAAwB6/D,SAAxB,GAAoC,UAAUF,GAAV,EAAeC,GAAf,EAAoB;AACpD,QAAI3uD,IAAI,GAAG,KAAKiuD,SAAL,CAAejB,KAAf,CAAqB0B,GAAG,GAAG,KAAK9C,MAAX,GAAoB+C,GAAzC,CAAX;AACA,WAAO;AACH5+D,MAAAA,GAAG,EAAEiQ,IAAI,CAACuI,WAAL,EADF;AAEHvI,MAAAA,IAAI,EAAEA;AAFH,KAAP;AAIH,GAND;;AAOAguD,EAAAA,aAAa,CAACj/D,SAAd,CAAwBy/D,gBAAxB,GAA2C,YAAY;AACnD,QAAIxB,KAAK,GAAG,EAAZ;;AACA,SAAK,IAAI2B,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAK/C,MAA7B,EAAqC+C,GAAG,IAAI,CAA5C,EAA+C;AAC3C3B,MAAAA,KAAK,CAAC75D,IAAN,CAAW,KAAKk7D,KAAL,CAAW,CAAX,EAAcM,GAAd,EAAmB3uD,IAA9B;AACH;;AACD,WAAOgtD,KAAP;AACH,GAND;;AAOAgB,EAAAA,aAAa,CAACj/D,SAAd,CAAwBy+D,UAAxB,GAAqC,UAAUvsD,KAAV,EAAiB;AAClD,QAAI2qD,MAAM,GAAG,KAAKA,MAAlB;AACA,QAAIiD,SAAS,GAAG,KAAKZ,SAAL,CAAeT,UAAf,CAA0BvsD,KAA1B,CAAhB;AACA,QAAIwkB,IAAI,GAAG,EAAX;;AACA,QAAIopC,SAAJ,EAAe;AACX,UAAIpB,UAAU,GAAGoB,SAAS,CAACpB,UAA3B;AAAA,UAAuCE,SAAS,GAAGkB,SAAS,CAAClB,SAA7D;AACA,UAAIpJ,KAAK,GAAGkJ,UAAZ;;AACA,aAAOlJ,KAAK,IAAIoJ,SAAhB,EAA2B;AACvB,YAAIe,GAAG,GAAG5wD,IAAI,CAAC6B,KAAL,CAAW4kD,KAAK,GAAGqH,MAAnB,CAAV;AACA,YAAIkD,SAAS,GAAGhxD,IAAI,CAACwB,GAAL,CAAS,CAACovD,GAAG,GAAG,CAAP,IAAY9C,MAArB,EAA6B+B,SAAS,GAAG,CAAzC,CAAhB;AACAloC,QAAAA,IAAI,CAACtyB,IAAL,CAAU;AACNu7D,UAAAA,GAAG,EAAEA,GADC;AAENK,UAAAA,QAAQ,EAAExK,KAAK,GAAGqH,MAFZ;AAGNoD,UAAAA,OAAO,EAAE,CAACF,SAAS,GAAG,CAAb,IAAkBlD,MAHrB;AAINlnC,UAAAA,OAAO,EAAEmqC,SAAS,CAACnqC,OAAV,IAAqB6/B,KAAK,KAAKkJ,UAJlC;AAKN9oC,UAAAA,KAAK,EAAEkqC,SAAS,CAAClqC,KAAV,IAAoBmqC,SAAS,GAAG,CAAb,KAAoBnB;AALxC,SAAV;AAOApJ,QAAAA,KAAK,GAAGuK,SAAR;AACH;AACJ;;AACD,WAAOrpC,IAAP;AACH,GArBD;;AAsBA,SAAOuoC,aAAP;AACH,CA1EkC,EAAnC;;AA4EA,IAAIiB,MAAM;AAAG;AAAe,YAAY;AACpC,WAASA,MAAT,GAAkB;AACd,SAAKC,kBAAL,GAA0B1lD,OAAO,CAAC,KAAK2lD,mBAAN,CAAjC;AACA,SAAKC,kBAAL,GAA0B5lD,OAAO,CAAC,KAAK6lD,cAAN,CAAjC;AACA,SAAKvrC,eAAL,GAAuBta,OAAO,CAAC,KAAK8lD,gBAAN,CAA9B;AACA,SAAKC,cAAL,GAAsB/lD,OAAO,CAAC,KAAKgmD,iBAAN,CAA7B;AACA,SAAKC,gBAAL,GAAwBjmD,OAAO,CAAC,KAAKgmD,iBAAN,CAA/B;AACA,SAAKE,kBAAL,GAA0B,KAA1B,CANc,CAMmB;AACpC;;AACDT,EAAAA,MAAM,CAAClgE,SAAP,CAAiB4gE,UAAjB,GAA8B,UAAUn4D,KAAV,EAAiBi0B,WAAjB,EAA8Bra,gBAA9B,EAAgD7c,OAAhD,EAAyD;AACnF,QAAIq7D,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIztD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CytD,MAAAA,SAAS,CAACztD,EAAE,GAAG,CAAN,CAAT,GAAoB4H,SAAS,CAAC5H,EAAD,CAA7B;AACH;;AACD,QAAI4hB,YAAY,GAAGvsB,KAAK,CAACusB,YAAzB;AACA,QAAI8rC,SAAS,GAAG,KAAK/rC,eAAL,CAAqBljB,KAArB,CAA2B,IAA3B,EAAiC7M,oDAAa,CAAC,CAACyD,KAAK,CAAC8M,UAAP,EAAmByf,YAAnB,EAAiC0H,WAAjC,EAA8Cra,gBAA9C,CAAD,EAAkEw+C,SAAlE,CAA9C,CAAhB;AACA,WAAO;AACHE,MAAAA,iBAAiB,EAAE,KAAKV,kBAAL,CAAwBxuD,KAAxB,CAA8B,IAA9B,EAAoC7M,oDAAa,CAAC,CAACyD,KAAK,CAAC24B,aAAP,EAAsBpM,YAAtB,EAAoCxvB,OAApC,CAAD,EAA+Cq7D,SAA/C,CAAjD,CADhB;AAEHG,MAAAA,gBAAgB,EAAE,KAAKb,kBAAL,CAAwBtuD,KAAxB,CAA8B,IAA9B,EAAoC7M,oDAAa,CAAC,CAACyD,KAAK,CAAC+d,aAAP,EAAsBkW,WAAtB,EAAmCra,gBAAnC,EAAqD7c,OAArD,CAAD,EAAgEq7D,SAAhE,CAAjD,CAFf;AAGHI,MAAAA,WAAW,EAAEH,SAAS,CAAC7qC,EAHpB;AAIHirC,MAAAA,WAAW,EAAEJ,SAAS,CAAC9qC,EAJpB;AAKHqW,MAAAA,SAAS,EAAE,KAAKm0B,cAAL,CAAoB3uD,KAApB,CAA0B,IAA1B,EAAgC7M,oDAAa,CAAC,CAACyD,KAAK,CAAC4jC,SAAP,EAAkBrX,YAAlB,EAAgC0H,WAAhC,EAA6Cra,gBAA7C,CAAD,EAAiEw+C,SAAjE,CAA7C,CALR;AAMHt0B,MAAAA,WAAW,EAAE,KAAKm0B,gBAAL,CAAsB7uD,KAAtB,CAA4B,IAA5B,EAAkC7M,oDAAa,CAAC,CAACyD,KAAK,CAAC8jC,WAAP,EAAoBvX,YAApB,EAAkC0H,WAAlC,EAA+Cra,gBAA/C,CAAD,EAAmEw+C,SAAnE,CAA/C,CANV;AAOHj0B,MAAAA,cAAc,EAAEnkC,KAAK,CAACmkC;AAPnB,KAAP,CAPmF,CAehF;AACN,GAhBD;;AAiBAszB,EAAAA,MAAM,CAAClgE,SAAP,CAAiBmhE,YAAjB,GAAgC,WAAU;AAC1ClwD,EAAAA,IADgC,EAC1BzL,OAD0B,EACjB;AACX,QAAIq7D,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIztD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CytD,MAAAA,SAAS,CAACztD,EAAE,GAAG,CAAN,CAAT,GAAoB4H,SAAS,CAAC5H,EAAD,CAA7B;AACH;;AACD,WAAO,KAAKktD,cAAL,CAAoBzuD,KAApB,CAA0B,IAA1B,EAAgC7M,oDAAa,CAAC,CAAC;AAAEkN,MAAAA,KAAK,EAAE;AAAEkE,QAAAA,KAAK,EAAEnF,IAAT;AAAeoF,QAAAA,GAAG,EAAErI,KAAK,CAACiD,IAAD,EAAO,CAAP;AAAzB,OAAT;AAA+CgE,MAAAA,MAAM,EAAE;AAAvD,KAAD,EACjD,EADiD,EAEjDzP,OAFiD,CAAD,EAEtCq7D,SAFsC,CAA7C,CAAP;AAGH,GATD;;AAUAX,EAAAA,MAAM,CAAClgE,SAAP,CAAiBogE,mBAAjB,GAAuC,UAAU55C,aAAV,EAAyBkW,WAAzB,EAAsCra,gBAAtC,EAAwD7c,OAAxD,EAAiE;AACpG,QAAIq7D,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIztD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CytD,MAAAA,SAAS,CAACztD,EAAE,GAAG,CAAN,CAAT,GAAoB4H,SAAS,CAAC5H,EAAD,CAA7B;AACH;;AACD,QAAI,CAACoT,aAAL,EAAoB;AAChB,aAAO,EAAP;AACH;;AACD,WAAO,KAAK+5C,gBAAL,CAAsB1uD,KAAtB,CAA4B,IAA5B,EAAkC7M,oDAAa,CAAC,CAACsQ,eAAe,CAACkR,aAAD,EAAgB46C,kBAAkB,CAAC1kC,WAAD,EAAcla,OAAO,CAACH,gBAAD,CAArB,CAAlC,EAA4E7c,OAA5E,CAAhB,EACnD,EADmD,EAEnDk3B,WAFmD,EAGnDra,gBAHmD,CAAD,EAG/Bw+C,SAH+B,CAA/C,EAG4B7qC,EAHnC;AAIH,GAZD;;AAaAkqC,EAAAA,MAAM,CAAClgE,SAAP,CAAiBugE,gBAAjB,GAAoC,UAAUhrD,UAAV,EAAsByf,YAAtB,EAAoC0H,WAApC,EAAiDra,gBAAjD,EAAmE;AACnG,QAAIw+C,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIztD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CytD,MAAAA,SAAS,CAACztD,EAAE,GAAG,CAAN,CAAT,GAAoB4H,SAAS,CAAC5H,EAAD,CAA7B;AACH;;AACD,QAAImC,UAAJ,EAAgB;AACZ,UAAI8rD,QAAQ,GAAGtsC,eAAe,CAACxf,UAAD,EAAayf,YAAb,EAA2BosC,kBAAkB,CAAC1kC,WAAD,EAAcla,OAAO,CAACH,gBAAD,CAArB,CAA7C,EAAuFA,gBAAvF,CAA9B;AACA,aAAO;AACH2T,QAAAA,EAAE,EAAE,KAAKsrC,gBAAL,CAAsBD,QAAQ,CAACrrC,EAA/B,EAAmC6qC,SAAnC,CADD;AAEH5qC,QAAAA,EAAE,EAAE,KAAKqrC,gBAAL,CAAsBD,QAAQ,CAACprC,EAA/B,EAAmC4qC,SAAnC;AAFD,OAAP;AAIH;;AACD,WAAO;AAAE7qC,MAAAA,EAAE,EAAE,EAAN;AAAUC,MAAAA,EAAE,EAAE;AAAd,KAAP;AACH,GAbD;;AAcAiqC,EAAAA,MAAM,CAAClgE,SAAP,CAAiBygE,iBAAjB,GAAqC,UAAUrzB,WAAV,EAAuBpY,YAAvB,EAAqC0H,WAArC,EAAkDra,gBAAlD,EAAoE;AACrG,QAAIw+C,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIztD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CytD,MAAAA,SAAS,CAACztD,EAAE,GAAG,CAAN,CAAT,GAAoB4H,SAAS,CAAC5H,EAAD,CAA7B;AACH;;AACD,QAAI,CAACg6B,WAAL,EAAkB;AACd,aAAO,IAAP;AACH;;AACD,QAAIi0B,QAAQ,GAAGtsC,eAAe,CAACqY,WAAW,CAACK,aAAb,EAA4BzY,YAA5B,EAA0CosC,kBAAkB,CAAC1kC,WAAD,EAAcla,OAAO,CAACH,gBAAD,CAArB,CAA5D,EAAsGA,gBAAtG,CAA9B;AACA,WAAO;AACHqU,MAAAA,IAAI,EAAE,KAAK4qC,gBAAL,CAAsBD,QAAQ,CAACprC,EAA/B,EAAmC4qC,SAAnC,CADH;AAEHU,MAAAA,iBAAiB,EAAEn0B,WAAW,CAACG,cAAZ,CAA2B53B,SAF3C;AAGHi4B,MAAAA,OAAO,EAAER,WAAW,CAACQ;AAHlB,KAAP;AAKH,GAdD;;AAeAsyB,EAAAA,MAAM,CAAClgE,SAAP,CAAiBsgE,cAAjB,GAAkC,UAAU9lC,QAAV,EAAoBxF,YAApB,EAAkCxvB,OAAlC,EAA2C;AACzE,QAAIq7D,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIztD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CytD,MAAAA,SAAS,CAACztD,EAAE,GAAG,CAAN,CAAT,GAAoB4H,SAAS,CAAC5H,EAAD,CAA7B;AACH;;AACD,QAAI,CAAConB,QAAL,EAAe;AACX,aAAO,EAAP;AACH;;AACD,QAAIxD,UAAU,GAAGuD,mBAAmB,CAACC,QAAD,EAAWxF,YAAX,EAAyBxvB,OAAzB,CAApC;AACA,QAAIkxB,IAAI,GAAG,KAAK+nC,UAAL,CAAgB5sD,KAAhB,CAAsB,IAAtB,EAA4B7M,oDAAa,CAAC,CAACw1B,QAAQ,CAACtoB,KAAV,CAAD,EAAmB2uD,SAAnB,CAAzC,CAAX;;AACA,SAAK,IAAI53D,EAAE,GAAG,CAAT,EAAYu4D,MAAM,GAAG9qC,IAA1B,EAAgCztB,EAAE,GAAGu4D,MAAM,CAAC15D,MAA5C,EAAoDmB,EAAE,EAAtD,EAA0D;AACtD,UAAImtB,GAAG,GAAGorC,MAAM,CAACv4D,EAAD,CAAhB;AACAmtB,MAAAA,GAAG,CAACY,UAAJ,GAAiBA,UAAjB;AACH;;AACD,WAAON,IAAP;AACH,GAfD;AAgBA;AACJ;AACA;;;AACIwpC,EAAAA,MAAM,CAAClgE,SAAP,CAAiBshE,gBAAjB,GAAoC,UAAUG,WAAV,EAAuBZ,SAAvB,EAAkC;AAClE,QAAInqC,IAAI,GAAG,EAAX;;AACA,SAAK,IAAItjB,EAAE,GAAG,CAAT,EAAYsuD,aAAa,GAAGD,WAAjC,EAA8CruD,EAAE,GAAGsuD,aAAa,CAAC55D,MAAjE,EAAyEsL,EAAE,EAA3E,EAA+E;AAC3E,UAAI4jB,UAAU,GAAG0qC,aAAa,CAACtuD,EAAD,CAA9B;AACAsjB,MAAAA,IAAI,CAACtyB,IAAL,CAAUyN,KAAV,CAAgB6kB,IAAhB,EAAsB,KAAKirC,eAAL,CAAqB3qC,UAArB,EAAiC6pC,SAAjC,CAAtB;AACH;;AACD,WAAOnqC,IAAP;AACH,GAPD;AAQA;AACJ;AACA;;;AACIwpC,EAAAA,MAAM,CAAClgE,SAAP,CAAiB2hE,eAAjB,GAAmC,UAAU3qC,UAAV,EAAsB6pC,SAAtB,EAAiC;AAChE,QAAI5sC,SAAS,GAAG+C,UAAU,CAAC9kB,KAA3B,CADgE,CAEhE;;AACA,QAAI,KAAKyuD,kBAAL,IAA2B3pC,UAAU,CAAC/E,EAAX,CAAcpS,OAAd,KAA0B,WAAzD,EAAsE;AAClEoU,MAAAA,SAAS,GAAG;AACR7d,QAAAA,KAAK,EAAE6d,SAAS,CAAC7d,KADT;AAERC,QAAAA,GAAG,EAAEtI,OAAO,CAACkmB,SAAS,CAAC7d,KAAX,EAAkB,CAAlB;AAFJ,OAAZ;AAIH;;AACD,QAAIsgB,IAAI,GAAG,KAAK+nC,UAAL,CAAgB5sD,KAAhB,CAAsB,IAAtB,EAA4B7M,oDAAa,CAAC,CAACivB,SAAD,CAAD,EAAc4sC,SAAd,CAAzC,CAAX;;AACA,SAAK,IAAIztD,EAAE,GAAG,CAAT,EAAYwuD,MAAM,GAAGlrC,IAA1B,EAAgCtjB,EAAE,GAAGwuD,MAAM,CAAC95D,MAA5C,EAAoDsL,EAAE,EAAtD,EAA0D;AACtD,UAAIgjB,GAAG,GAAGwrC,MAAM,CAACxuD,EAAD,CAAhB;AACAgjB,MAAAA,GAAG,CAACY,UAAJ,GAAiBA,UAAjB;AACAZ,MAAAA,GAAG,CAACT,OAAJ,GAAcqB,UAAU,CAACrB,OAAX,IAAsBS,GAAG,CAACT,OAAxC;AACAS,MAAAA,GAAG,CAACR,KAAJ,GAAYoB,UAAU,CAACpB,KAAX,IAAoBQ,GAAG,CAACR,KAApC;AACH;;AACD,WAAOc,IAAP;AACH,GAjBD;;AAkBA,SAAOwpC,MAAP;AACH,CA/H2B,EAA5B;AAgIA;AACA;AACA;AACA;AACA;;;AACA,SAASkB,kBAAT,CAA4B1kC,WAA5B,EAAyCmlC,iBAAzC,EAA4D;AACxD,MAAI3vD,KAAK,GAAGwqB,WAAW,CAACC,WAAxB;;AACA,MAAIklC,iBAAJ,EAAuB;AACnB,WAAO3vD,KAAP;AACH;;AACD,SAAO;AACHkE,IAAAA,KAAK,EAAEpI,KAAK,CAACkE,KAAK,CAACkE,KAAP,EAAcsmB,WAAW,CAACja,WAAZ,CAAwBxT,YAAtC,CADT;AAEHoH,IAAAA,GAAG,EAAErI,KAAK,CAACkE,KAAK,CAACmE,GAAP,EAAYqmB,WAAW,CAACha,WAAZ,CAAwBzT,YAAxB,GAAuC,KAAnD,CAFP,CAEkE;;AAFlE,GAAP;AAIH,EAED;AACA;;;AACA,SAAS6yD,kBAAT,CAA4B10B,WAA5B,EAAyC1Q,WAAzC,EAAsDl3B,OAAtD,EAA+D;AAC3D,MAAImQ,SAAS,GAAGy3B,WAAW,CAACK,aAAZ,CAA0B93B,SAA1C;;AACA,OAAK,IAAItD,UAAT,IAAuBsD,SAAvB,EAAkC;AAC9B,QAAI,CAAC+e,kBAAkB,CAACgI,WAAW,CAAC9R,UAAb,EAAyBjV,SAAS,CAACtD,UAAD,CAAT,CAAsBH,KAA/C,CAAvB,EAA8E;AAC1E,aAAO,KAAP;AACH;AACJ;;AACD,SAAO6vD,eAAe,CAAC;AAAE11B,IAAAA,SAAS,EAAEe;AAAb,GAAD,EAA6B5nC,OAA7B,CAAtB,CAP2D,CAOE;AAChE;;AACD,SAASw8D,oBAAT,CAA8B5gC,aAA9B,EAA6C1E,WAA7C,EAA0Dl3B,OAA1D,EAAmE;AAC/D,MAAI,CAACkvB,kBAAkB,CAACgI,WAAW,CAAC9R,UAAb,EAAyBwW,aAAa,CAAClvB,KAAvC,CAAvB,EAAsE;AAClE,WAAO,KAAP;AACH;;AACD,SAAO6vD,eAAe,CAAC;AAAE3gC,IAAAA,aAAa,EAAEA;AAAjB,GAAD,EAAmC57B,OAAnC,CAAtB;AACH;;AACD,SAASu8D,eAAT,CAAyBhuD,QAAzB,EAAmCvO,OAAnC,EAA4C;AACxC,MAAIy8D,aAAa,GAAGz8D,OAAO,CAACg3B,cAAR,EAApB;;AACA,MAAI/zB,KAAK,GAAG1D,+CAAQ,CAAC;AAAEyhB,IAAAA,aAAa,EAAEy7C,aAAa,CAACz7C,aAA/B;AAA8C4a,IAAAA,aAAa,EAAE,EAA7D;AAAiE7rB,IAAAA,UAAU,EAAE0sD,aAAa,CAAC1sD,UAA3F;AAAuGyf,IAAAA,YAAY,EAAEitC,aAAa,CAACjtC,YAAnI;AAAiJ4X,IAAAA,cAAc,EAAE,EAAjK;AAAqKP,IAAAA,SAAS,EAAE,IAAhL;AAAsLE,IAAAA,WAAW,EAAE;AAAnM,GAAD,EAA4Mx4B,QAA5M,CAApB;;AACA,SAAO,CAACvO,OAAO,CAACiQ,WAAR,CAAoBslC,YAApB,IAAoCA,YAArC,EAAmDtyC,KAAnD,EAA0DjD,OAA1D,CAAP;AACH;;AACD,SAASu1C,YAAT,CAAsBrb,KAAtB,EAA6Bl6B,OAA7B,EAAsC08D,YAAtC,EAAoDC,YAApD,EAAkE;AAC9D,MAAID,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,IAAAA,YAAY,GAAG,EAAf;AAAoB;;AACnD,MAAIxiC,KAAK,CAAC2M,SAAN,IAAmB,CAAC+1B,uBAAuB,CAAC1iC,KAAD,EAAQl6B,OAAR,EAAiB08D,YAAjB,EAA+BC,YAA/B,CAA/C,EAA6F;AACzF,WAAO,KAAP;AACH;;AACD,MAAIziC,KAAK,CAAC0B,aAAN,IAAuB,CAACihC,yBAAyB,CAAC3iC,KAAD,EAAQl6B,OAAR,EAAiB08D,YAAjB,EAA+BC,YAA/B,CAArD,EAAmG;AAC/F,WAAO,KAAP;AACH;;AACD,SAAO,IAAP;AACH,EACD;AACA;;;AACA,SAASC,uBAAT,CAAiC1iC,KAAjC,EAAwCl6B,OAAxC,EAAiD08D,YAAjD,EAA+DC,YAA/D,EAA6E;AACzE,MAAI1E,YAAY,GAAGj4D,OAAO,CAACg3B,cAAR,EAAnB;AACA,MAAI4Q,WAAW,GAAG1N,KAAK,CAAC2M,SAAxB,CAFyE,CAEtC;;AACnC,MAAIi2B,iBAAiB,GAAGl1B,WAAW,CAACK,aAApC;AACA,MAAI80B,WAAW,GAAGD,iBAAiB,CAAC5sD,IAApC;AACA,MAAI8sD,gBAAgB,GAAGF,iBAAiB,CAAC3sD,SAAzC;AACA,MAAI8sD,cAAc,GAAGltC,eAAe,CAACgtC,WAAD,EAAcn1B,WAAW,CAACQ,OAAZ,GAC9ClO,KAAK,CAAC1K,YADwC,GAE9C;AAAE,QAAIyoC,YAAY,CAACnN;AAAnB,GAFgC,CAApC;;AAGA,MAAI6R,YAAJ,EAAkB;AACdM,IAAAA,cAAc,GAAGjiE,OAAO,CAACiiE,cAAD,EAAiBN,YAAjB,CAAxB;AACH,GAXwE,CAYzE;;;AACA,MAAIO,eAAe,GAAGrb,gBAAgB,CAAC3nB,KAAK,CAACnqB,UAAP,EAAmB63B,WAAW,CAACG,cAAZ,CAA2B53B,SAA9C,CAAtC;AACA,MAAIgtD,SAAS,GAAGD,eAAe,CAAChtD,IAAhC;AACA,MAAIktD,cAAc,GAAGF,eAAe,CAAC/sD,SAArC;AACA,MAAIktD,YAAY,GAAGttC,eAAe,CAACotC,SAAD,EAAYjjC,KAAK,CAAC1K,YAAlB,CAAlC;;AACA,OAAK,IAAI8tC,iBAAT,IAA8BN,gBAA9B,EAAgD;AAC5C,QAAIO,eAAe,GAAGP,gBAAgB,CAACM,iBAAD,CAAtC;AACA,QAAIE,YAAY,GAAGD,eAAe,CAAC7wD,KAAnC;AACA,QAAI+wD,aAAa,GAAGR,cAAc,CAACM,eAAe,CAAC9wD,KAAjB,CAAlC;AACA,QAAIixD,UAAU,GAAGX,WAAW,CAACQ,eAAe,CAAC9wD,KAAjB,CAA5B,CAJ4C,CAK5C;;AACA,QAAI,CAACkxD,kBAAkB,CAACF,aAAa,CAACtyC,WAAf,EAA4BqyC,YAA5B,EAA0CN,eAA1C,EAA2DhjC,KAAK,CAAClZ,aAAjE,EAAgFhhB,OAAhF,CAAvB,EAAiH;AAC7G,aAAO,KAAP;AACH,KAR2C,CAS5C;;;AACA,QAAI4hB,YAAY,GAAG5hB,OAAO,CAAC7D,OAAR,CAAgBylB,YAAnC;AACA,QAAIg8C,gBAAgB,GAAG,OAAOh8C,YAAP,KAAwB,UAAxB,GAAqCA,YAArC,GAAoD,IAA3E;;AACA,SAAK,IAAIi8C,eAAT,IAA4BT,cAA5B,EAA4C;AACxC,UAAIU,aAAa,GAAGV,cAAc,CAACS,eAAD,CAAlC,CADwC,CAExC;;AACA,UAAI5uC,eAAe,CAACuuC,YAAD,EAAeM,aAAa,CAACpxD,KAA7B,CAAnB,EAAwD;AACpD,YAAIqxD,YAAY,GAAGV,YAAY,CAACS,aAAa,CAACrxD,KAAf,CAAZ,CAAkCke,OAArD,CADoD,CAEpD;;AACA,YAAIozC,YAAY,KAAK,KAAjB,IAA0Bn2B,WAAW,CAACQ,OAA1C,EAAmD;AAC/C,iBAAO,KAAP;AACH;;AACD,YAAIq1B,aAAa,CAAC9yC,OAAd,KAA0B,KAA9B,EAAqC;AACjC,iBAAO,KAAP;AACH;;AACD,YAAIizC,gBAAgB,IAAI,CAACA,gBAAgB,CAAC,IAAI5hC,QAAJ,CAAah8B,OAAb,EAAsBm9D,SAAS,CAACW,aAAa,CAACrxD,KAAf,CAA/B,EAAsDqxD,aAAtD,CAAD,EAAuE;AAChH,YAAI9hC,QAAJ,CAAah8B,OAAb,EAAsB09D,UAAtB,EAAkCH,eAAlC,CADyC,CAAzC,EACqD;AACjD,iBAAO,KAAP;AACH;AACJ;AACJ,KA7B2C,CA8B5C;;;AACA,QAAIS,kBAAkB,GAAG/F,YAAY,CAACloD,UAAtC,CA/B4C,CA+BM;;AAClD,SAAK,IAAInC,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGg6D,aAAa,CAACryC,MAApC,EAA4Cxd,EAAE,GAAGnK,EAAE,CAACnB,MAApD,EAA4DsL,EAAE,EAA9D,EAAkE;AAC9D,UAAIqwD,YAAY,GAAGx6D,EAAE,CAACmK,EAAD,CAArB;;AACA,UAAIswD,eAAe,GAAG3+D,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKm9D,YAAL,CAAT,EAA6B;AAAEhwD,QAAAA,KAAK,EAAE6wD,eAAe,CAAC7wD,KAAzB;AAAgC+C,QAAAA,MAAM,EAAEiuD,UAAU,CAACjuD;AAAnD,OAA7B,CAA9B;;AACA,UAAI0uD,OAAO,GAAGH,kBAAkB,CAAC9tD,IAAnB,CAAwBwtD,UAAU,CAACjxD,KAAnC,CAAd;AACA,UAAI2xD,YAAY,GAAGJ,kBAAkB,CAAC7tD,SAAnB,CAA6BmtD,iBAA7B,CAAnB;AACA,UAAI9gC,QAAQ,GAAG,KAAK,CAApB;;AACA,UAAI2hC,OAAJ,EAAa;AAAE;AACX3hC,QAAAA,QAAQ,GAAG,IAAIR,QAAJ,CAAah8B,OAAb,EAAsBm+D,OAAtB,EAA+BC,YAA/B,CAAX;AACH,OAFD,MAGK;AAAE;AACH5hC,QAAAA,QAAQ,GAAG,IAAIR,QAAJ,CAAah8B,OAAb,EAAsB09D,UAAtB,CAAX,CADC,CAC6C;AACjD;;AACD,UAAI,CAACO,YAAY,CAAC3oC,2BAA2B,CAAC4oC,eAAD,EAAkBl+D,OAAlB,CAA5B,EAAwDw8B,QAAxD,CAAjB,EAAoF;AAChF,eAAO,KAAP;AACH;AACJ;AACJ;;AACD,SAAO,IAAP;AACH,EACD;AACA;;;AACA,SAASqgC,yBAAT,CAAmC3iC,KAAnC,EAA0Cl6B,OAA1C,EAAmD08D,YAAnD,EAAiEC,YAAjE,EAA+E;AAC3E,MAAI0B,kBAAkB,GAAGnkC,KAAK,CAACnqB,UAA/B;AACA,MAAIuuD,YAAY,GAAGD,kBAAkB,CAACnuD,IAAtC;AACA,MAAIquD,iBAAiB,GAAGF,kBAAkB,CAACluD,SAA3C;AACA,MAAI+kB,SAAS,GAAGgF,KAAK,CAAC0B,aAAtB;AACA,MAAI4iC,cAAc,GAAGtpC,SAAS,CAACxoB,KAA/B;AACA,MAAIo+C,eAAe,GAAG9qD,OAAO,CAACg3B,cAAR,GAAyB8zB,eAA/C;;AACA,MAAI6R,YAAJ,EAAkB;AACd7R,IAAAA,eAAe,GAAG6R,YAAY,CAAC7R,eAAD,CAA9B;AACH,GAT0E,CAU3E;;;AACA,MAAI,CAAC6S,kBAAkB,CAAC7S,eAAe,CAAC3/B,WAAjB,EAA8BqzC,cAA9B,EAA8CH,kBAA9C,EAAkEnkC,KAAK,CAAClZ,aAAxE,EAAuFhhB,OAAvF,CAAvB,EAAwH;AACpH,WAAO,KAAP;AACH,GAb0E,CAc3E;;;AACA,MAAIwiB,aAAa,GAAGxiB,OAAO,CAAC7D,OAAR,CAAgBqmB,aAApC;AACA,MAAIi8C,iBAAiB,GAAG,OAAOj8C,aAAP,KAAyB,UAAzB,GAAsCA,aAAtC,GAAsD,IAA9E;;AACA,OAAK,IAAIk8C,kBAAT,IAA+BH,iBAA/B,EAAkD;AAC9C,QAAII,gBAAgB,GAAGJ,iBAAiB,CAACG,kBAAD,CAAxC,CAD8C,CAE9C;;AACA,QAAIzvC,eAAe,CAACuvC,cAAD,EAAiBG,gBAAgB,CAACjyD,KAAlC,CAAnB,EAA6D;AACzD,UAAIo+C,eAAe,CAACngC,OAAhB,KAA4B,KAAhC,EAAuC;AACnC,eAAO,KAAP;AACH;;AACD,UAAI8zC,iBAAiB,IAAI,CAACA,iBAAiB,CAAC,IAAIziC,QAAJ,CAAah8B,OAAb,EAAsBs+D,YAAY,CAACK,gBAAgB,CAAClyD,KAAlB,CAAlC,EAA4DkyD,gBAA5D,CAAD,EAAgF,IAAhF,CAA3C,EAAkI;AAC9H,eAAO,KAAP;AACH;AACJ;AACJ,GA5B0E,CA6B3E;;;AACA,OAAK,IAAI/wD,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGqnD,eAAe,CAAC1/B,MAAtC,EAA8Cxd,EAAE,GAAGnK,EAAE,CAACnB,MAAtD,EAA8DsL,EAAE,EAAhE,EAAoE;AAChE,QAAIgxD,cAAc,GAAGn7D,EAAE,CAACmK,EAAD,CAAvB;;AACA,QAAIixD,YAAY,GAAGt/D,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKm9D,YAAL,CAAT,EAA6BxnC,SAA7B,CAA3B;;AACA,QAAI,CAAC0pC,cAAc,CAACtpC,2BAA2B,CAACupC,YAAD,EAAe7+D,OAAf,CAA5B,EAAqD,IAArD,CAAnB,EAA+E;AAC3E,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH,EACD;AACA;;;AACA,SAAS29D,kBAAT,CAA4BxyC,WAA5B,EAAyCqyC,YAAzC,EAAuDN,eAAvD,EAAwE4B,uBAAxE,EAAiG9+D,OAAjG,EAA0G;AACtG,OAAK,IAAI4N,EAAE,GAAG,CAAT,EAAYmxD,aAAa,GAAG5zC,WAAjC,EAA8Cvd,EAAE,GAAGmxD,aAAa,CAACz8D,MAAjE,EAAyEsL,EAAE,EAA3E,EAA+E;AAC3E,QAAI8c,UAAU,GAAGq0C,aAAa,CAACnxD,EAAD,CAA9B;;AACA,QAAI,CAACoxD,qBAAqB,CAACC,kBAAkB,CAACv0C,UAAD,EAAa8yC,YAAb,EAA2BN,eAA3B,EAA4C4B,uBAA5C,EAAqE9+D,OAArE,CAAnB,EAAkGw9D,YAAlG,CAA1B,EAA2I;AACvI,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH;;AACD,SAASyB,kBAAT,CAA4Bv0C,UAA5B,EAAwC8yC,YAAxC,EAAsD;AACtDN,eADA,EACiB;AACjB4B,uBAFA,EAEyB;AACzB9+D,OAHA,EAGS;AACL,MAAI0qB,UAAU,KAAK,eAAnB,EAAoC;AAChC,WAAOw0C,kBAAkB,CAACpvD,eAAe,CAACgvD,uBAAD,EAA0BtB,YAA1B,EAAwCx9D,OAAxC,CAAhB,CAAzB;AACH;;AACD,MAAI,OAAO0qB,UAAP,KAAsB,QAA1B,EAAoC;AAAE;AAClC,WAAOw0C,kBAAkB,CAAC51C,oBAAoB,CAAC4zC,eAAD,EAAkB,UAAUpsD,QAAV,EAAoB;AAAE,aAAOA,QAAQ,CAAC6Y,OAAT,KAAqBe,UAA5B;AAAyC,KAAjF,CAArB,CAAzB;AACH;;AACD,MAAI,OAAOA,UAAP,KAAsB,QAAtB,IAAkCA,UAAtC,EAAkD;AAAE;AAChD,WAAOw0C,kBAAkB,CAACpvD,eAAe,CAAC4a,UAAD,EAAa8yC,YAAb,EAA2Bx9D,OAA3B,CAAhB,CAAzB;AACH;;AACD,SAAO,EAAP,CAVK,CAUM;AACd,EACD;;;AACA,SAASk/D,kBAAT,CAA4BnvD,UAA5B,EAAwC;AACpC,MAAII,SAAS,GAAGJ,UAAU,CAACI,SAA3B;AACA,MAAIme,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIzhB,UAAT,IAAuBsD,SAAvB,EAAkC;AAC9Bme,IAAAA,MAAM,CAAC1vB,IAAP,CAAYuR,SAAS,CAACtD,UAAD,CAAT,CAAsBH,KAAlC;AACH;;AACD,SAAO4hB,MAAP;AACH,EACD;;;AACA,SAAS0wC,qBAAT,CAA+BG,WAA/B,EAA4C/vC,UAA5C,EAAwD;AACpD,OAAK,IAAIxhB,EAAE,GAAG,CAAT,EAAYwxD,aAAa,GAAGD,WAAjC,EAA8CvxD,EAAE,GAAGwxD,aAAa,CAAC98D,MAAjE,EAAyEsL,EAAE,EAA3E,EAA+E;AAC3E,QAAIuhB,UAAU,GAAGiwC,aAAa,CAACxxD,EAAD,CAA9B;;AACA,QAAIshB,kBAAkB,CAACC,UAAD,EAAaC,UAAb,CAAtB,EAAgD;AAC5C,aAAO,IAAP;AACH;AACJ;;AACD,SAAO,KAAP;AACH;;AAED,IAAIiwC,iBAAiB,GAAG,oBAAxB;;AACA,IAAIC,QAAQ;AAAG;AAAe,UAAUjvB,MAAV,EAAkB;AAC5C5wC,EAAAA,gDAAS,CAAC6/D,QAAD,EAAWjvB,MAAX,CAAT;;AACA,WAASivB,QAAT,GAAoB;AAChB,QAAI5pD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC29C,QAAN,GAAiB,UAAUpyD,EAAV,EAAc;AAC3ByU,MAAAA,KAAK,CAACzU,EAAN,GAAWA,EAAX;AACAgzC,MAAAA,MAAM,CAACv+B,KAAK,CAACzS,KAAN,CAAY61C,KAAb,EAAoB73C,EAApB,CAAN;AACH,KAHD;;AAIA,WAAOyU,KAAP;AACH;;AACD4pD,EAAAA,QAAQ,CAAC9kE,SAAT,CAAmBgC,MAAnB,GAA4B,YAAY;AACpC,QAAIyG,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIuwD,MAAM,GAAGvwD,KAAK,CAACuwD,MAAnB;AAAA,QAA2B+L,gBAAgB,GAAGt8D,KAAK,CAACs8D,gBAApD;AACA,QAAIC,UAAU,GAAGhM,MAAM,IAAI+L,gBAA3B;AACA,QAAI10C,SAAS,GAAG,CAAC,aAAD,CAAhB;;AACA,QAAI2oC,MAAJ,EAAY;AACR,UAAI+L,gBAAJ,EAAsB;AAClB10C,QAAAA,SAAS,CAACjsB,IAAV,CAAe,6BAAf;AACH,OAFD,MAGK;AACDisB,QAAAA,SAAS,CAACjsB,IAAV,CAAe,oBAAf;AACH;AACJ;;AACD,WAAQgB,uDAAa,CAAC,KAAD,EAAQ;AAAEs0C,MAAAA,GAAG,EAAE,KAAKmf,QAAZ;AAAsBxoC,MAAAA,SAAS,EAAEA,SAAS,CAACnQ,IAAV,CAAe,GAAf,CAAjC;AAAsDrX,MAAAA,KAAK,EAAE;AAClFypC,QAAAA,SAAS,EAAE7pC,KAAK,CAAC6pC,SADiE;AAElFD,QAAAA,SAAS,EAAE5pC,KAAK,CAAC4pC,SAFiE;AAGlF9I,QAAAA,IAAI,EAAGy7B,UAAU,IAAI,EAAEv8D,KAAK,CAACw8D,YAAN,IAAsB,CAAxB,CAAf,IAA8C,EAH8B;AAIlFz7B,QAAAA,KAAK,EAAGw7B,UAAU,IAAI,EAAEv8D,KAAK,CAACy8D,aAAN,IAAuB,CAAzB,CAAf,IAA+C,EAJ4B;AAKlFx7B,QAAAA,MAAM,EAAGs7B,UAAU,IAAI,EAAEv8D,KAAK,CAAC08D,cAAN,IAAwB,CAA1B,CAAf,IAAgD,EAL0B;AAMlFC,QAAAA,UAAU,EAAG,CAACJ,UAAD,IAAe,EAAEv8D,KAAK,CAACw8D,YAAN,IAAsB,CAAxB,CAAhB,IAA+C,EANuB;AAOlFI,QAAAA,WAAW,EAAG,CAACL,UAAD,IAAe,EAAEv8D,KAAK,CAACy8D,aAAN,IAAuB,CAAzB,CAAhB,IAAgD,EAPqB;AAQlF9yB,QAAAA,YAAY,EAAG,CAAC4yB,UAAD,IAAe,EAAEv8D,KAAK,CAAC08D,cAAN,IAAwB,CAA1B,CAAhB,IAAiD,EARmB;AASlFG,QAAAA,SAAS,EAAE78D,KAAK,CAAC68D,SAAN,IAAmB;AAToD;AAA7D,KAAR,EAUZ78D,KAAK,CAACJ,QAVM,CAArB;AAWH,GAxBD;;AAyBAy8D,EAAAA,QAAQ,CAAC9kE,SAAT,CAAmBulE,eAAnB,GAAqC,YAAY;AAC7C,QAAIV,iBAAiB,CAAC/7D,IAAlB,CAAuB,KAAKL,KAAL,CAAW6pC,SAAlC,CAAJ,EAAkD;AAC9C,aAAO,KAAP;AACH,KAH4C,CAI7C;AACA;AACA;;;AACA,QAAI7rC,EAAE,GAAG,KAAKA,EAAd;AACA,QAAI++D,eAAe,GAAG,KAAK/+D,EAAL,CAAQ+G,qBAAR,GAAgCC,KAAhC,GAAwC,KAAKg4D,kBAAL,EAA9D;AACA,QAAIp9D,QAAQ,GAAG5B,EAAE,CAAC4B,QAAlB;;AACA,SAAK,IAAIR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGQ,QAAQ,CAACP,MAA7B,EAAqCD,CAAC,IAAI,CAA1C,EAA6C;AACzC,UAAI69D,OAAO,GAAGr9D,QAAQ,CAACR,CAAD,CAAtB;;AACA,UAAI69D,OAAO,CAACl4D,qBAAR,GAAgCC,KAAhC,GAAwC+3D,eAA5C,EAA6D;AACzD,eAAO,IAAP;AACH;AACJ;;AACD,WAAO,KAAP;AACH,GAjBD;;AAkBAV,EAAAA,QAAQ,CAAC9kE,SAAT,CAAmB2lE,eAAnB,GAAqC,YAAY;AAC7C,QAAId,iBAAiB,CAAC/7D,IAAlB,CAAuB,KAAKL,KAAL,CAAW4pC,SAAlC,CAAJ,EAAkD;AAC9C,aAAO,KAAP;AACH,KAH4C,CAI7C;AACA;AACA;;;AACA,QAAI5rC,EAAE,GAAG,KAAKA,EAAd;AACA,QAAIm/D,gBAAgB,GAAG,KAAKn/D,EAAL,CAAQ+G,qBAAR,GAAgCyY,MAAhC,GAAyC,KAAK4/C,kBAAL,EAAhE;AACA,QAAIx9D,QAAQ,GAAG5B,EAAE,CAAC4B,QAAlB;;AACA,SAAK,IAAIR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGQ,QAAQ,CAACP,MAA7B,EAAqCD,CAAC,IAAI,CAA1C,EAA6C;AACzC,UAAI69D,OAAO,GAAGr9D,QAAQ,CAACR,CAAD,CAAtB;;AACA,UAAI69D,OAAO,CAACl4D,qBAAR,GAAgCyY,MAAhC,GAAyC2/C,gBAA7C,EAA+D;AAC3D,eAAO,IAAP;AACH;AACJ;;AACD,WAAO,KAAP;AACH,GAjBD;;AAkBAd,EAAAA,QAAQ,CAAC9kE,SAAT,CAAmB6lE,kBAAnB,GAAwC,YAAY;AAChD,QAAIhB,iBAAiB,CAAC/7D,IAAlB,CAAuB,KAAKL,KAAL,CAAW6pC,SAAlC,CAAJ,EAAkD;AAC9C,aAAO,CAAP;AACH;;AACD,WAAO,KAAK7rC,EAAL,CAAQqkC,YAAR,GAAuB,KAAKrkC,EAAL,CAAQgpC,YAAtC,CAJgD,CAII;AACvD,GALD;;AAMAq1B,EAAAA,QAAQ,CAAC9kE,SAAT,CAAmBylE,kBAAnB,GAAwC,YAAY;AAChD,QAAIZ,iBAAiB,CAAC/7D,IAAlB,CAAuB,KAAKL,KAAL,CAAW4pC,SAAlC,CAAJ,EAAkD;AAC9C,aAAO,CAAP;AACH;;AACD,WAAO,KAAK5rC,EAAL,CAAQipC,WAAR,GAAsB,KAAKjpC,EAAL,CAAQkpC,WAArC,CAJgD,CAIE;AACrD,GALD;;AAMA,SAAOm1B,QAAP;AACH,CApF6B,CAoF5BvrB,aApF4B,CAA9B;AAsFA;AACA;AACA;AACA;;;AACA,IAAIusB,MAAM;AAAG;AAAe,YAAY;AACpC,WAASA,MAAT,CAAgBC,cAAhB,EAAgC;AAC5B,QAAI7qD,KAAK,GAAG,IAAZ;;AACA,SAAK6qD,cAAL,GAAsBA,cAAtB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,WAAL,GAAmB,EAAnB;;AACA,SAAKC,WAAL,GAAmB,UAAUzlE,GAAV,EAAeM,GAAf,EAAoB;AACnC,UAAIiI,EAAE,GAAGiS,KAAT;AAAA,UAAgB+qD,MAAM,GAAGh9D,EAAE,CAACg9D,MAA5B;AAAA,UAAoCD,UAAU,GAAG/8D,EAAE,CAAC+8D,UAApD;AACA,UAAII,OAAO,GAAG,KAAd;AACA,UAAIC,KAAK,GAAG,KAAZ;;AACA,UAAI3lE,GAAG,KAAK,IAAZ,EAAkB;AACd;AACA0lE,QAAAA,OAAO,GAAIplE,GAAG,IAAIglE,UAAlB;AACAA,QAAAA,UAAU,CAAChlE,GAAD,CAAV,GAAkBN,GAAlB;AACAulE,QAAAA,MAAM,CAACjlE,GAAD,CAAN,GAAc,CAACilE,MAAM,CAACjlE,GAAD,CAAN,IAAe,CAAhB,IAAqB,CAAnC;AACAqlE,QAAAA,KAAK,GAAG,IAAR;AACH,OAND,MAOK;AACDJ,QAAAA,MAAM,CAACjlE,GAAD,CAAN,IAAe,CAAf;;AACA,YAAI,CAACilE,MAAM,CAACjlE,GAAD,CAAX,EAAkB;AACd,iBAAOglE,UAAU,CAAChlE,GAAD,CAAjB;AACA,iBAAOka,KAAK,CAACgrD,WAAN,CAAkBllE,GAAlB,CAAP;AACAolE,UAAAA,OAAO,GAAG,IAAV;AACH;AACJ;;AACD,UAAIlrD,KAAK,CAAC6qD,cAAV,EAA0B;AACtB,YAAIK,OAAJ,EAAa;AACTlrD,UAAAA,KAAK,CAAC6qD,cAAN,CAAqB,IAArB,EAA2Bl7D,MAAM,CAAC7J,GAAD,CAAjC;AACH;;AACD,YAAIqlE,KAAJ,EAAW;AACPnrD,UAAAA,KAAK,CAAC6qD,cAAN,CAAqBrlE,GAArB,EAA0BmK,MAAM,CAAC7J,GAAD,CAAhC;AACH;AACJ;AACJ,KA3BD;AA4BH;;AACD8kE,EAAAA,MAAM,CAAC9lE,SAAP,CAAiBmF,SAAjB,GAA6B,UAAUnE,GAAV,EAAe;AACxC,QAAIka,KAAK,GAAG,IAAZ;;AACA,QAAIorD,WAAW,GAAG,KAAKJ,WAAL,CAAiBllE,GAAjB,CAAlB;;AACA,QAAI,CAACslE,WAAL,EAAkB;AACdA,MAAAA,WAAW,GAAG,KAAKJ,WAAL,CAAiBllE,GAAjB,IAAwB,UAAUN,GAAV,EAAe;AACjDwa,QAAAA,KAAK,CAACirD,WAAN,CAAkBzlE,GAAlB,EAAuBmK,MAAM,CAAC7J,GAAD,CAA7B;AACH,OAFD;AAGH;;AACD,WAAOslE,WAAP;AACH,GATD,CApCoC,CA8CpC;AACA;AACA;;;AACAR,EAAAA,MAAM,CAAC9lE,SAAP,CAAiBumE,OAAjB,GAA2B,UAAUjyD,UAAV,EAAsBC,QAAtB,EAAgCC,IAAhC,EAAsC;AAC7D,WAAOH,eAAe,CAAC,KAAK2xD,UAAN,EAAkB1xD,UAAlB,EAA8BC,QAA9B,EAAwCC,IAAxC,CAAtB;AACH,GAFD;;AAGAsxD,EAAAA,MAAM,CAAC9lE,SAAP,CAAiBwmE,MAAjB,GAA0B,YAAY;AAClC,WAAO/yD,iBAAiB,CAAC,KAAKuyD,UAAN,CAAxB;AACH,GAFD;;AAGA,SAAOF,MAAP;AACH,CAxD2B,EAA5B;;AA0DA,SAASW,kBAAT,CAA4BC,QAA5B,EAAsC;AAClC,MAAIC,WAAW,GAAGn/D,YAAY,CAACk/D,QAAD,EAAW,uBAAX,CAA9B;AACA,MAAIE,YAAY,GAAG,CAAnB;;AACA,OAAK,IAAIxzD,EAAE,GAAG,CAAT,EAAYyzD,aAAa,GAAGF,WAAjC,EAA8CvzD,EAAE,GAAGyzD,aAAa,CAAC/+D,MAAjE,EAAyEsL,EAAE,EAA3E,EAA+E;AAC3E,QAAI0zD,UAAU,GAAGD,aAAa,CAACzzD,EAAD,CAA9B;AACAwzD,IAAAA,YAAY,GAAG73D,IAAI,CAACoO,GAAL,CAASypD,YAAT,EAAuB15D,wBAAwB,CAAC45D,UAAD,CAA/C,CAAf;AACH;;AACD,SAAO/3D,IAAI,CAACgwD,IAAL,CAAU6H,YAAV,CAAP,CAPkC,CAOF;AACnC;;AACD,SAASG,yBAAT,CAAmCt+D,KAAnC,EAA0Cu+D,aAA1C,EAAyD;AACrD,SAAOv+D,KAAK,CAACuwD,MAAN,IAAgBgO,aAAa,CAAChO,MAArC,CADqD,CACR;AAChD;;AACD,SAASiO,kBAAT,CAA4Bx+D,KAA5B,EAAmCu+D,aAAnC,EAAkD;AAC9C,SAAOA,aAAa,CAAC1B,SAAd,IAA2B,IAA3B,IAAmC;AACtCyB,EAAAA,yBAAyB,CAACt+D,KAAD,EAAQu+D,aAAR,CAD7B,CAD8C,CAEO;AACxD,EACD;;;AACA,SAASE,kBAAT,CAA4BF,aAA5B,EAA2CG,WAA3C,EAAwDje,GAAxD,EAA6D;AACzD,MAAIljC,UAAU,GAAGkjC,GAAG,CAACljC,UAArB;AACA,MAAIuH,OAAO,GAAG,OAAO45C,WAAW,CAAC55C,OAAnB,KAA+B,UAA/B,GACV45C,WAAW,CAAC55C,OAAZ,CAAoB27B,GAApB,CADU,GAEV9jD,uDAAa,CAAC,OAAD,EAAU;AACnBirB,IAAAA,SAAS,EAAE,CACP82C,WAAW,CAACC,cADL,EAEPJ,aAAa,CAACK,cAAd,GAA+B,0BAA/B,GAA4D,EAFrD,EAGTnnD,IAHS,CAGJ,GAHI,CADQ;AAKnBrX,IAAAA,KAAK,EAAE;AACHy+D,MAAAA,QAAQ,EAAEpe,GAAG,CAACqe,aADX;AAEH95D,MAAAA,KAAK,EAAEy7C,GAAG,CAACvZ,WAFR;AAGH1pB,MAAAA,MAAM,EAAED,UAAU,GAAGkjC,GAAG,CAACzZ,YAAP,GAAsB,EAHrC,CAGyC;;AAHzC;AALY,GAAV,EAUVyZ,GAAG,CAACse,iBAVM,EAUapiE,uDAAa,CAAC,OAAD,EAAU,EAAV,EAAc,OAAO+hE,WAAW,CAACM,UAAnB,KAAkC,UAAlC,GAA+CN,WAAW,CAACM,UAAZ,CAAuBve,GAAvB,CAA/C,GAA6Eie,WAAW,CAACM,UAAvG,CAV1B,CAFjB;AAaA,SAAOl6C,OAAP;AACH;;AACD,SAASm6C,eAAT,CAAyBC,KAAzB,EAAgCC,KAAhC,EAAuC;AACnC,SAAOvtD,aAAa,CAACstD,KAAD,EAAQC,KAAR,EAAej0D,YAAf,CAApB;AACH;;AACD,SAASk0D,mBAAT,CAA6BC,IAA7B,EAAmCC,WAAnC,EAAgD;AAC5C,MAAIC,QAAQ,GAAG,EAAf;AACA;AACJ;AACA;AACA;AACA;;AACI,OAAK,IAAI50D,EAAE,GAAG,CAAT,EAAY60D,MAAM,GAAGH,IAA1B,EAAgC10D,EAAE,GAAG60D,MAAM,CAACngE,MAA5C,EAAoDsL,EAAE,EAAtD,EAA0D;AACtD,QAAI80D,QAAQ,GAAGD,MAAM,CAAC70D,EAAD,CAArB;AACA,QAAIomB,IAAI,GAAG0uC,QAAQ,CAAC1uC,IAAT,IAAiB,CAA5B;;AACA,SAAK,IAAI3xB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2xB,IAApB,EAA0B3xB,CAAC,IAAI,CAA/B,EAAkC;AAC9BmgE,MAAAA,QAAQ,CAAC5jE,IAAT,CAAcgB,uDAAa,CAAC,KAAD,EAAQ;AAAEyD,QAAAA,KAAK,EAAE;AACpC4E,UAAAA,KAAK,EAAEy6D,QAAQ,CAACz6D,KAAT,KAAmB,QAAnB,GAA8B06D,mBAAmB,CAACJ,WAAD,CAAjD,GAAkEG,QAAQ,CAACz6D,KAAT,IAAkB,EADvD;AAEpC65D,UAAAA,QAAQ,EAAEY,QAAQ,CAACZ,QAAT,IAAqB;AAFK;AAAT,OAAR,CAA3B;AAIH;AACJ;;AACD,SAAOliE,yDAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAAC,CAAC,UAAD,EAAa,EAAb,CAAD,EAAmBgjE,QAAnB,CAAzC,CAAP;AACH;;AACD,SAASG,mBAAT,CAA6BJ,WAA7B,EAA0C;AACtC;AACJ;AACI,SAAOA,WAAW,IAAI,IAAf,GAAsB,CAAtB,GAA0BA,WAAjC;AACH;;AACD,SAASK,cAAT,CAAwBN,IAAxB,EAA8B;AAC1B,OAAK,IAAI10D,EAAE,GAAG,CAAT,EAAYi1D,MAAM,GAAGP,IAA1B,EAAgC10D,EAAE,GAAGi1D,MAAM,CAACvgE,MAA5C,EAAoDsL,EAAE,EAAtD,EAA0D;AACtD,QAAIwsD,GAAG,GAAGyI,MAAM,CAACj1D,EAAD,CAAhB;;AACA,QAAIwsD,GAAG,CAACnyD,KAAJ,KAAc,QAAlB,EAA4B;AACxB,aAAO,IAAP;AACH;AACJ;;AACD,SAAO,KAAP;AACH;;AACD,SAAS66D,uBAAT,CAAiCtP,MAAjC,EAAyCxzD,OAAzC,EAAkD;AAC9C,MAAI8nB,UAAU,GAAG,CACb,eADa,EAEb9nB,OAAO,CAAC6oC,KAAR,CAAcC,QAAd,CAAuB,OAAvB,CAFa,CAAjB;;AAIA,MAAI0qB,MAAJ,EAAY;AACR1rC,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,sBAAhB;AACH;;AACD,SAAOkpB,UAAP;AACH;;AACD,SAASi7C,oBAAT,CAA8BvB,aAA9B,EAA6CwB,eAA7C,EAA8D;AAC1D,MAAIl7C,UAAU,GAAG,CACb,uBADa,EAEb,2BAA2B05C,aAAa,CAAChkE,IAF5B,EAGbgkE,aAAa,CAAC32C,SAHD,CAGY;AAHZ,GAAjB;;AAKA,MAAIm4C,eAAe,IAAIxB,aAAa,CAAChO,MAAjC,IAA2CgO,aAAa,CAAC1B,SAAd,IAA2B,IAA1E,EAAgF;AAC5Eh4C,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,8BAAhB;AACH;;AACD,MAAI4iE,aAAa,CAAC9J,QAAlB,EAA4B;AACxB5vC,IAAAA,UAAU,CAAClpB,IAAX,CAAgB,8BAAhB;AACH;;AACD,SAAOkpB,UAAP;AACH;;AACD,SAASm7C,gBAAT,CAA0Bvf,GAA1B,EAA+B;AAC3B,SAAQ9jD,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE,2BAAb;AAA0CxnB,IAAAA,KAAK,EAAE;AACtE4E,MAAAA,KAAK,EAAEy7C,GAAG,CAACvZ,WAD2D;AAEtE23B,MAAAA,QAAQ,EAAEpe,GAAG,CAACqe;AAFwD;AAAjD,GAAR,CAArB;AAIH;;AACD,SAASmB,oBAAT,CAA8B/mE,OAA9B,EAAuC;AACnC,MAAIilB,iBAAiB,GAAGjlB,OAAO,CAACilB,iBAAhC;;AACA,MAAIA,iBAAiB,IAAI,IAArB,IAA6BA,iBAAiB,KAAK,MAAvD,EAA+D;AAC3DA,IAAAA,iBAAiB,GAAGjlB,OAAO,CAACskB,MAAR,KAAmB,MAAnB,IAA6BtkB,OAAO,CAACmlB,UAAR,KAAuB,MAAxE;AACH;;AACD,SAAOF,iBAAP;AACH;;AACD,SAAS+hD,wBAAT,CAAkChnE,OAAlC,EAA2C;AACvC,MAAIklB,qBAAqB,GAAGllB,OAAO,CAACklB,qBAApC;;AACA,MAAIA,qBAAqB,IAAI,IAAzB,IAAiCA,qBAAqB,KAAK,MAA/D,EAAuE;AACnEA,IAAAA,qBAAqB,GAAGllB,OAAO,CAACskB,MAAR,KAAmB,MAAnB,IAA6BtkB,OAAO,CAACmlB,UAAR,KAAuB,MAA5E;AACH;;AACD,SAAOD,qBAAP;AACH;;AAED,IAAI+hD,gBAAgB;AAAG;AAAe,UAAU/yB,MAAV,EAAkB;AACpD5wC,EAAAA,gDAAS,CAAC2jE,gBAAD,EAAmB/yB,MAAnB,CAAT;;AACA,WAAS+yB,gBAAT,GAA4B;AACxB,QAAI1tD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC2tD,WAAN,GAAoBpuD,OAAO,CAAC,UAAUjO,CAAV,EAAa;AAAE,aAAOA,CAAP;AAAW,KAA3B,EAA6Bk7D,eAA7B,CAA3B,CAFwB,CAEkD;AAC1E;;AACAxsD,IAAAA,KAAK,CAAC2sD,mBAAN,GAA4BptD,OAAO,CAACotD,mBAAD,CAAnC;AACA3sD,IAAAA,KAAK,CAAC4tD,YAAN,GAAqB,IAAIhD,MAAJ,EAArB;AACA5qD,IAAAA,KAAK,CAAC6tD,cAAN,GAAuB,IAAIjD,MAAJ,CAAW5qD,KAAK,CAAC8tD,iBAAN,CAAwB3f,IAAxB,CAA6BnuC,KAA7B,CAAX,CAAvB;AACAA,IAAAA,KAAK,CAACwkB,KAAN,GAAc;AACVqoC,MAAAA,WAAW,EAAE,IADH;AAEVkB,MAAAA,gBAAgB,EAAE,KAFR;AAGVC,MAAAA,oBAAoB,EAAE,EAHZ;AAIVC,MAAAA,qBAAqB,EAAE;AAJb,KAAd,CAPwB,CAaxB;;AACAjuD,IAAAA,KAAK,CAACkuD,YAAN,GAAqB,YAAY;AAC7BluD,MAAAA,KAAK,CAACo3C,QAAN,CAAevtD,+CAAQ,CAAC;AAAEgjE,QAAAA,WAAW,EAAE7sD,KAAK,CAACurD,kBAAN;AAAf,OAAD,EAA8CvrD,KAAK,CAACmuD,mBAAN,EAA9C,CAAvB;AACH,KAFD;;AAGA,WAAOnuD,KAAP;AACH;;AACD0tD,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2BgC,MAA3B,GAAoC,YAAY;AAC5C,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCi3B,KAAK,GAAGz2B,EAAE,CAACy2B,KAA5C;AAAA,QAAmDl6B,OAAO,GAAGyD,EAAE,CAACzD,OAAhE;;AACA,QAAI8jE,cAAc,GAAG7gE,KAAK,CAAC8gE,QAAN,IAAkB,EAAvC;AACA,QAAIzB,IAAI,GAAG,KAAKe,WAAL,CAAiBpgE,KAAK,CAACq/D,IAAvB,CAAX;AACA,QAAI0B,iBAAiB,GAAG,KAAK3B,mBAAL,CAAyBC,IAAzB,EAA+BpoC,KAAK,CAACqoC,WAArC,CAAxB;AACA,QAAIz6C,UAAU,GAAGg7C,uBAAuB,CAAC7/D,KAAK,CAACuwD,MAAP,EAAexzD,OAAf,CAAxC;;AACA,QAAIiD,KAAK,CAACghE,gBAAV,EAA4B;AACxBn8C,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,2BAAhB;AACH,KAR2C,CAS5C;;;AACA,QAAIslE,SAAS,GAAGJ,cAAc,CAACxhE,MAA/B;AACA,QAAI6hE,OAAO,GAAG,CAAd;AACA,QAAIC,aAAJ;AACA,QAAIC,gBAAgB,GAAG,EAAvB;AACA,QAAIC,gBAAgB,GAAG,EAAvB;AACA,QAAIC,gBAAgB,GAAG,EAAvB;;AACA,WAAOJ,OAAO,GAAGD,SAAV,IAAuB,CAACE,aAAa,GAAGN,cAAc,CAACK,OAAD,CAA/B,EAA0C3mE,IAA1C,KAAmD,QAAjF,EAA2F;AACvF6mE,MAAAA,gBAAgB,CAACzlE,IAAjB,CAAsB,KAAKs0D,aAAL,CAAmBkR,aAAnB,EAAkCJ,iBAAlC,CAAtB;AACAG,MAAAA,OAAO,IAAI,CAAX;AACH;;AACD,WAAOA,OAAO,GAAGD,SAAV,IAAuB,CAACE,aAAa,GAAGN,cAAc,CAACK,OAAD,CAA/B,EAA0C3mE,IAA1C,KAAmD,MAAjF,EAAyF;AACrF8mE,MAAAA,gBAAgB,CAAC1lE,IAAjB,CAAsB,KAAKs0D,aAAL,CAAmBkR,aAAnB,EAAkCJ,iBAAlC,CAAtB;AACAG,MAAAA,OAAO,IAAI,CAAX;AACH;;AACD,WAAOA,OAAO,GAAGD,SAAV,IAAuB,CAACE,aAAa,GAAGN,cAAc,CAACK,OAAD,CAA/B,EAA0C3mE,IAA1C,KAAmD,QAAjF,EAA2F;AACvF+mE,MAAAA,gBAAgB,CAAC3lE,IAAjB,CAAsB,KAAKs0D,aAAL,CAAmBkR,aAAnB,EAAkCJ,iBAAlC,CAAtB;AACAG,MAAAA,OAAO,IAAI,CAAX;AACH,KA3B2C,CA4B5C;AACA;AACA;AACA;;;AACA,QAAIK,OAAO,GAAG,CAACz/B,qBAAqB,EAApC;AACA,WAAOnlC,uDAAa,CAAC,OAAD,EAAU;AAC1BirB,MAAAA,SAAS,EAAE/C,UAAU,CAACpN,IAAX,CAAgB,GAAhB,CADe;AAE1BrX,MAAAA,KAAK,EAAE;AAAEod,QAAAA,MAAM,EAAExd,KAAK,CAACwd;AAAhB;AAFmB,KAAV,EAGjBzD,OAAO,CAAC,CAACwnD,OAAD,IAAYH,gBAAgB,CAAC/hE,MAA9B,CAAP,IAAgD1C,yDAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAAC,CAAC,OAAD,EAAU,EAAV,CAAD,EAAgB6kE,gBAAhB,CAAzC,CAH/B,EAG4GrnD,OAAO,CAAC,CAACwnD,OAAD,IAAYF,gBAAgB,CAAChiE,MAA9B,CAAP,IAAgD1C,yDAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAAC,CAAC,OAAD,EAAU,EAAV,CAAD,EAAgB8kE,gBAAhB,CAAzC,CAH5J,EAGyOtnD,OAAO,CAAC,CAACwnD,OAAD,IAAYD,gBAAgB,CAACjiE,MAA9B,CAAP,IAAgD1C,yDAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAAC,CAAC,OAAD,EAAU,EAAV,CAAD,EAAgB+kE,gBAAhB,CAAzC,CAHzR,EAGsWC,OAAO,IAAI5kE,yDAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAACA,oDAAa,CAACA,oDAAa,CAAC,CAAC,OAAD,EAAU,EAAV,CAAD,EAAgB6kE,gBAAhB,CAAd,EAAiDC,gBAAjD,CAAd,EAAkFC,gBAAlF,CAAzC,CAHjX,CAApB;AAIH,GArCD;;AAsCAnB,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2B04D,aAA3B,GAA2C,UAAUsO,aAAV,EAAyBwC,iBAAzB,EAA4C;AACnF,QAAI,kBAAkBxC,aAAtB,EAAqC;AACjC,aAAQ5hE,uDAAa,CAACC,8CAAD,EAAW;AAAErE,QAAAA,GAAG,EAAEgmE,aAAa,CAAChmE;AAArB,OAAX,EAAuCgmE,aAAa,CAACiD,YAArD,CAArB;AACH;;AACD,WAAQ7kE,uDAAa,CAAC,IAAD,EAAO;AAAEpE,MAAAA,GAAG,EAAEgmE,aAAa,CAAChmE,GAArB;AAA0BqvB,MAAAA,SAAS,EAAEk4C,oBAAoB,CAACvB,aAAD,EAAgB,KAAKv+D,KAAL,CAAWuwD,MAA3B,CAApB,CAAuD94C,IAAvD,CAA4D,GAA5D;AAArC,KAAP,EAAgH,KAAKgqD,aAAL,CAAmBlD,aAAnB,EAAkCwC,iBAAlC,EAAqDxC,aAAa,CAACmD,KAAnE,CAAhH,CAArB;AACH,GALD;;AAMAvB,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2BkqE,aAA3B,GAA2C,UAAUlD,aAAV,EAAyBwC,iBAAzB,EAA4CrC,WAA5C,EAAyD;AAChG,QAAI,kBAAkBA,WAAtB,EAAmC;AAC/B,aAAOA,WAAW,CAAC8C,YAAnB;AACH;;AACD,QAAIxhE,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIQ,EAAE,GAAG,KAAKy2B,KAAd;AAAA,QAAqBupC,gBAAgB,GAAGhgE,EAAE,CAACggE,gBAA3C;AAAA,QAA6DC,oBAAoB,GAAGjgE,EAAE,CAACigE,oBAAvF;AAAA,QAA6GC,qBAAqB,GAAGlgE,EAAE,CAACkgE,qBAAxI;AACA,QAAIxD,eAAe,GAAGsB,kBAAkB,CAACx+D,KAAD,EAAQu+D,aAAR,CAAxC,CANgG,CAMhC;;AAChE,QAAIoD,QAAQ,GAAGrD,yBAAyB,CAACt+D,KAAD,EAAQu+D,aAAR,CAAxC,CAPgG,CAQhG;AACA;;AACA,QAAI30B,SAAS,GAAG,CAAC5pC,KAAK,CAACuwD,MAAP,GAAgB,SAAhB,GACZiQ,gBAAgB,GAAG,QAAH,GACZ,CAACtD,eAAD,GAAmB,QAAnB,GACI,MAHZ;AAIA,QAAI0E,UAAU,GAAGrD,aAAa,CAAChmE,GAA/B;AACA,QAAIusB,OAAO,GAAG25C,kBAAkB,CAACF,aAAD,EAAgBG,WAAhB,EAA6B;AACzDK,MAAAA,iBAAiB,EAAEgC,iBADsC;AAEzDjC,MAAAA,aAAa,EAAE,EAF0C;AAGzD53B,MAAAA,WAAW,EAAG,CAAClnC,KAAK,CAACghE,gBAAP,IAA2BP,oBAAoB,CAACmB,UAAD,CAApB,KAAqCx3D,SAAjE,GAA8Eq2D,oBAAoB,CAACmB,UAAD,CAAlG,GAAiH,IAHrE;AAIzD56B,MAAAA,YAAY,EAAE05B,qBAAqB,CAACkB,UAAD,CAArB,KAAsCx3D,SAAtC,GAAkDs2D,qBAAqB,CAACkB,UAAD,CAAvE,GAAsF,IAJ3C;AAKzDrkD,MAAAA,UAAU,EAAEghD,aAAa,CAAChhD,UAL+B;AAMzDqhD,MAAAA,cAAc,EAAE,KANyC;AAOzDiD,MAAAA,cAAc,EAAE,EAPyC;AAQzDC,MAAAA,qBAAqB,EAAE,iCAAY,CAAG;AARmB,KAA7B,CAAhC;AAUA,WAAQnlE,uDAAa,CAAC,IAAD,EAAO;AAAEs0C,MAAAA,GAAG,EAAEytB,WAAW,CAAC7oB;AAAnB,KAAP,EACjBl5C,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE,yBAAyB+5C,QAAQ,GAAG,6BAAH,GAAmC,EAApE;AAAb,KAAR,EACThlE,uDAAa,CAAC0/D,QAAD,EAAW;AAAEprB,MAAAA,GAAG,EAAE,KAAKovB,YAAL,CAAkB3jE,SAAlB,CAA4BklE,UAA5B,CAAP;AAAgD/rB,MAAAA,KAAK,EAAE,KAAKyqB,cAAL,CAAoB5jE,SAApB,CAA8BklE,UAA9B,CAAvD;AAAkGh4B,MAAAA,SAAS,EAAEA,SAA7G;AAAwHC,MAAAA,SAAS,EAAE,CAAC7pC,KAAK,CAACuwD,MAAP,GAAgB,SAAhB,GAA4B;AAAS;AAAxK;AAA+LsM,MAAAA,SAAS,EAAE0B,aAAa,CAAC1B,SAAxN;AAAmOtM,MAAAA,MAAM,EAAEoR,QAA3O;AAAqPrF,MAAAA,gBAAgB,CAAC;AAAD,QACvR;AADkB,KAAX,EACCx3C,OADD,CADJ,CADI,CAArB;AAIH,GA7BD;;AA8BAq7C,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2BgpE,iBAA3B,GAA+C,UAAUwB,UAAV,EAAsBxpE,GAAtB,EAA2B;AACtE,QAAIypE,OAAO,GAAGC,eAAe,CAAC,KAAKjiE,KAAL,CAAW8gE,QAAZ,EAAsBvoE,GAAtB,CAA7B;;AACA,QAAIypE,OAAJ,EAAa;AACThxB,MAAAA,MAAM,CAACgxB,OAAO,CAACN,KAAR,CAAcQ,aAAf,EAA8BH,UAA9B,CAAN;AACH;AACJ,GALD;;AAMA5B,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2Bo/C,iBAA3B,GAA+C,YAAY;AACvD,SAAKgqB,YAAL;AACA,SAAK5jE,OAAL,CAAaizC,gBAAb,CAA8B,KAAK2wB,YAAnC;AACH,GAHD;;AAIAR,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2Bs/C,kBAA3B,GAAgD,YAAY;AACxD;AACA,SAAK8pB,YAAL;AACH,GAHD;;AAIAR,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2Bu/C,oBAA3B,GAAkD,YAAY;AAC1D,SAAK/5C,OAAL,CAAakzC,mBAAb,CAAiC,KAAK0wB,YAAtC;AACH,GAFD;;AAGAR,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2BymE,kBAA3B,GAAgD,YAAY;AACxD,WAAO2B,cAAc,CAAC,KAAK3/D,KAAL,CAAWq/D,IAAZ,CAAd,GACDrB,kBAAkB,CAAC,KAAKsC,cAAL,CAAoBvC,MAApB,EAAD,CADjB,GAED,CAFN;AAGH,GAJD;;AAKAoC,EAAAA,gBAAgB,CAAC5oE,SAAjB,CAA2BqpE,mBAA3B,GAAiD,YAAY;AACzD,QAAIuB,cAAc,GAAGv7B,kBAAkB,EAAvC;;AACA,QAAIpmC,EAAE,GAAG,IAAT;AAAA,QAAe6/D,YAAY,GAAG7/D,EAAE,CAAC6/D,YAAjC;AAAA,QAA+CC,cAAc,GAAG9/D,EAAE,CAAC8/D,cAAnE;;AACA,QAAIE,gBAAgB,GAAG,KAAvB;AACA,QAAIC,oBAAoB,GAAG,EAA3B;AACA,QAAIC,qBAAqB,GAAG,EAA5B;;AACA,SAAK,IAAIkB,UAAT,IAAuBvB,YAAY,CAAC9C,UAApC,EAAgD;AAC5C,UAAI6E,QAAQ,GAAG/B,YAAY,CAAC9C,UAAb,CAAwBqE,UAAxB,CAAf;;AACA,UAAIQ,QAAQ,IAAIA,QAAQ,CAAClF,eAAT,EAAhB,EAA4C;AACxCsD,QAAAA,gBAAgB,GAAG,IAAnB;AACA;AACH;AACJ;;AACD,SAAK,IAAI71D,EAAE,GAAG,CAAT,EAAYlK,EAAE,GAAG,KAAKT,KAAL,CAAW8gE,QAAjC,EAA2Cn2D,EAAE,GAAGlK,EAAE,CAACpB,MAAnD,EAA2DsL,EAAE,EAA7D,EAAiE;AAC7D,UAAIq3D,OAAO,GAAGvhE,EAAE,CAACkK,EAAD,CAAhB;AACA,UAAIi3D,UAAU,GAAGI,OAAO,CAACzpE,GAAzB;AACA,UAAIwpE,UAAU,GAAGzB,cAAc,CAAC/C,UAAf,CAA0BqE,UAA1B,CAAjB;;AACA,UAAIG,UAAJ,EAAgB;AACZ,YAAIM,SAAS,GAAGN,UAAU,CAAC9jE,UAA3B,CADY,CAC2B;;AACvCwiE,QAAAA,oBAAoB,CAACmB,UAAD,CAApB,GAAmCt7D,IAAI,CAAC6B,KAAL,CAAWk6D,SAAS,CAACt9D,qBAAV,GAAkCC,KAAlC,IAA2Cw7D,gBAAgB,GACnG2B,cAAc,CAACz6D,CADoF,CAClF;AADkF,UAEnG,CAFwC,CAAX,CAAnC;AAGAg5D,QAAAA,qBAAqB,CAACkB,UAAD,CAArB,GAAoCt7D,IAAI,CAAC6B,KAAL,CAAWk6D,SAAS,CAACt9D,qBAAV,GAAkCyY,MAA7C,CAApC;AACH;AACJ;;AACD,WAAO;AAAEgjD,MAAAA,gBAAgB,EAAEA,gBAApB;AAAsCC,MAAAA,oBAAoB,EAAEA,oBAA5D;AAAkFC,MAAAA,qBAAqB,EAAEA;AAAzG,KAAP;AACH,GA1BD;;AA2BA,SAAOP,gBAAP;AACH,CAjJqC,CAiJpCrvB,aAjJoC,CAAtC;;AAkJAqvB,gBAAgB,CAACvvB,gBAAjB,CAAkC;AAC9B6vB,EAAAA,oBAAoB,EAAEv1D,YADQ;AAE9Bw1D,EAAAA,qBAAqB,EAAEx1D;AAFO,CAAlC;;AAIA,SAAS+2D,eAAT,CAAyBnB,QAAzB,EAAmCvoE,GAAnC,EAAwC;AACpC,OAAK,IAAIoS,EAAE,GAAG,CAAT,EAAY23D,UAAU,GAAGxB,QAA9B,EAAwCn2D,EAAE,GAAG23D,UAAU,CAACjjE,MAAxD,EAAgEsL,EAAE,EAAlE,EAAsE;AAClE,QAAIq3D,OAAO,GAAGM,UAAU,CAAC33D,EAAD,CAAxB;;AACA,QAAIq3D,OAAO,CAACzpE,GAAR,KAAgBA,GAApB,EAAyB;AACrB,aAAOypE,OAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH;;AAED,IAAIO,SAAS;AAAG;AAAe,UAAUn1B,MAAV,EAAkB;AAC7C5wC,EAAAA,gDAAS,CAAC+lE,SAAD,EAAYn1B,MAAZ,CAAT;;AACA,WAASm1B,SAAT,GAAqB;AACjB,QAAI9vD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACojC,KAAN,GAAcn5C,mDAAS,EAAvB;AACA,WAAO+V,KAAP;AACH;;AACD8vD,EAAAA,SAAS,CAAChrE,SAAV,CAAoBgC,MAApB,GAA6B,YAAY;AACrC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AACA,QAAIy0B,GAAG,GAAG3tB,KAAK,CAAC2tB,GAAhB;AACA,QAAIY,UAAU,GAAGZ,GAAG,CAACY,UAArB;AACA,QAAI/E,EAAE,GAAG+E,UAAU,CAAC/E,EAApB;AACA,QAAIssB,SAAS,GAAG;AACZtc,MAAAA,KAAK,EAAE,IAAIT,QAAJ,CAAah8B,OAAb,EAAsBwxB,UAAU,CAAClhB,GAAjC,EAAsCkhB,UAAU,CAACphB,QAAjD,CADK;AAEZqlB,MAAAA,IAAI,EAAEz1B,OAAO,CAAC01B,OAFF;AAGZ+vC,MAAAA,QAAQ,EAAExiE,KAAK,CAACwiE,QAHJ;AAIZx6C,MAAAA,SAAS,EAAEwB,EAAE,CAACxB,SAJF;AAKZF,MAAAA,eAAe,EAAE0B,EAAE,CAAC1B,eALR;AAMZC,MAAAA,WAAW,EAAEyB,EAAE,CAACzB,WANJ;AAOZsI,MAAAA,WAAW,EAAE,CAACrwB,KAAK,CAACyiE,eAAP,IAA0Bj0C,mBAAmB,CAACb,GAAD,EAAM5wB,OAAN,CAP9C;AAQZuzB,MAAAA,gBAAgB,EAAE,CAACtwB,KAAK,CAAC0iE,eAAP,IAA0B7zC,wBAAwB,CAAClB,GAAD,EAAM5wB,OAAN,CARxD;AASZwzB,MAAAA,cAAc,EAAE,CAACvwB,KAAK,CAAC0iE,eAAP,IAA0B5zC,sBAAsB,CAACnB,GAAD,CATpD;AAUZyC,MAAAA,QAAQ,EAAErW,OAAO,CAAC/Z,KAAK,CAACwwB,UAAN,IAAoBxwB,KAAK,CAACywB,UAA1B,IAAwCzwB,KAAK,CAAC2iE,eAA/C,CAVL;AAWZz1C,MAAAA,OAAO,EAAEnT,OAAO,CAAC4T,GAAG,CAACT,OAAL,CAXJ;AAYZC,MAAAA,KAAK,EAAEpT,OAAO,CAAC4T,GAAG,CAACR,KAAL,CAZF;AAaZ6C,MAAAA,MAAM,EAAEjW,OAAO,CAAC/Z,KAAK,CAACgwB,MAAP,CAbH;AAcZC,MAAAA,QAAQ,EAAElW,OAAO,CAAC/Z,KAAK,CAACiwB,QAAP,CAdL;AAeZC,MAAAA,OAAO,EAAEnW,OAAO,CAAC/Z,KAAK,CAACkwB,OAAP,CAfJ;AAgBZQ,MAAAA,UAAU,EAAE3W,OAAO,CAAC/Z,KAAK,CAAC0wB,UAAP,CAhBP;AAiBZF,MAAAA,UAAU,EAAEzW,OAAO,CAAC/Z,KAAK,CAACwwB,UAAP,CAjBP;AAkBZC,MAAAA,UAAU,EAAE1W,OAAO,CAAC/Z,KAAK,CAACywB,UAAP;AAlBP,KAAhB;AAoBA,QAAImyC,kBAAkB,GAAGzyC,kBAAkB,CAAC2lB,SAAD,CAAlB,CAA8B5sC,MAA9B,CAAqCsgB,EAAE,CAAC3E,UAAxC,CAAzB;AACA,WAAQloB,uDAAa,CAAC+4C,UAAD,EAAa;AAAEI,MAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,MAAAA,UAAU,EAAE3rB,OAAO,CAACgmB,eAA5C;AAA6D4F,MAAAA,OAAO,EAAE5rB,OAAO,CAACimB,YAA9E;AAA4F82B,MAAAA,cAAc,EAAEj2C,KAAK,CAACi2C,cAAlH;AAAkIlxB,MAAAA,QAAQ,EAAE7rB,OAAO,CAACkmB,aAApJ;AAAmK4F,MAAAA,WAAW,EAAE9rB,OAAO,CAACmmB,gBAAxL;AAA0Mw2B,MAAAA,KAAK,EAAE,KAAKA;AAAtN,KAAb,EAA4O,UAAUF,SAAV,EAAqBiC,gBAArB,EAAuCzB,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,aAAOp2C,KAAK,CAACJ,QAAN,CAAe+1C,SAAf,EAA0BitB,kBAAkB,CAAC15D,MAAnB,CAA0B0uC,gBAA1B,CAA1B,EAAuEzB,UAAvE,EAAmFC,YAAnF,EAAiGN,SAAjG,CAAP;AAAqH,KAApa,CAArB;AACH,GA5BD;;AA6BAysB,EAAAA,SAAS,CAAChrE,SAAV,CAAoBo/C,iBAApB,GAAwC,YAAY;AAChDjpB,IAAAA,QAAQ,CAAC,KAAKmoB,KAAL,CAAW3E,OAAZ,EAAqB,KAAKlxC,KAAL,CAAW2tB,GAAhC,CAAR;AACH,GAFD;AAGA;AACJ;AACA;;;AACI40C,EAAAA,SAAS,CAAChrE,SAAV,CAAoBs/C,kBAApB,GAAyC,UAAUiT,SAAV,EAAqB;AAC1D,QAAIn8B,GAAG,GAAG,KAAK3tB,KAAL,CAAW2tB,GAArB;;AACA,QAAIA,GAAG,KAAKm8B,SAAS,CAACn8B,GAAtB,EAA2B;AACvBD,MAAAA,QAAQ,CAAC,KAAKmoB,KAAL,CAAW3E,OAAZ,EAAqBvjB,GAArB,CAAR;AACH;AACJ,GALD;;AAMA,SAAO40C,SAAP;AACH,CAjD8B,CAiD7BzxB,aAjD6B,CAA/B,EAmDA;;;AACA,IAAI+xB,aAAa;AAAG;AAAe,UAAUz1B,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACqmE,aAAD,EAAgBz1B,MAAhB,CAAT;;AACA,WAASy1B,aAAT,GAAyB;AACrB,WAAOz1B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDswD,EAAAA,aAAa,CAACtrE,SAAd,CAAwBgC,MAAxB,GAAiC,YAAY;AACzC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI4wB,GAAG,GAAG3tB,KAAK,CAAC2tB,GAAhB;AACA,QAAIqB,UAAU,GAAGjyB,OAAO,CAAC7D,OAAR,CAAgB6nB,eAAhB,IAAmC/gB,KAAK,CAAC8iE,iBAA1D;AACA,QAAIN,QAAQ,GAAGzzC,gBAAgB,CAACpB,GAAD,EAAMqB,UAAN,EAAkBjyB,OAAlB,EAA2BiD,KAAK,CAACivB,uBAAjC,EAA0DjvB,KAAK,CAACkvB,sBAAhE,CAA/B;AACA,WAAQvyB,uDAAa,CAAC4lE,SAAD,EAAY;AAAE50C,MAAAA,GAAG,EAAEA,GAAP;AAAY60C,MAAAA,QAAQ,EAAEA,QAAtB;AAAgCC,MAAAA,eAAe,EAAEziE,KAAK,CAACyiE,eAAvD;AAAwEC,MAAAA,eAAe,EAAE1iE,KAAK,CAAC0iE,eAA/F;AAAgHzsB,MAAAA,cAAc,EAAEj2C,KAAK,CAACi2C,cAAN,IAAwB8sB,oBAAxJ;AAA8KvyC,MAAAA,UAAU,EAAExwB,KAAK,CAACwwB,UAAhM;AAA4MC,MAAAA,UAAU,EAAEzwB,KAAK,CAACywB,UAA9N;AAA0OkyC,MAAAA,eAAe,EAAE3iE,KAAK,CAAC2iE,eAAjQ;AAAkRjyC,MAAAA,UAAU,EAAE1wB,KAAK,CAAC0wB,UAApS;AAAgTV,MAAAA,MAAM,EAAEhwB,KAAK,CAACgwB,MAA9T;AAAsUC,MAAAA,QAAQ,EAAEjwB,KAAK,CAACiwB,QAAtV;AAAgWC,MAAAA,OAAO,EAAElwB,KAAK,CAACkwB;AAA/W,KAAZ,EAAsY,UAAUylB,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2DN,SAA3D,EAAsE;AAAE,aAAQn5C,uDAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC;AAAEsrB,QAAAA,SAAS,EAAE5nB,KAAK,CAAC20D,eAAN,CAAsBzrD,MAAtB,CAA6B2b,UAA7B,EAAyCpN,IAAzC,CAA8C,GAA9C,CAAb;AAAiErX,QAAAA,KAAK,EAAE;AACvkB2nB,UAAAA,WAAW,EAAE+tB,SAAS,CAAC/tB,WADgjB;AAEvkBD,UAAAA,eAAe,EAAEguB,SAAS,CAAChuB;AAF4iB,SAAxE;AAGhgBmpB,QAAAA,GAAG,EAAE0E;AAH2f,OAAD,EAG7eqtB,iBAAiB,CAACr1C,GAAD,CAH4d,CAAd,EAIpfhxB,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,eAAb;AAA8BqpB,QAAAA,GAAG,EAAEkF,UAAnC;AAA+C/1C,QAAAA,KAAK,EAAE;AAAEynB,UAAAA,KAAK,EAAEiuB,SAAS,CAAC9tB;AAAnB;AAAtD,OAAR,EAAgGouB,YAAhG,CAJue,EAKpfN,SAAS,CAACxlB,gBAAV,IACI3zB,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,CANme,EAOpfkuB,SAAS,CAACvlB,cAAV,IACI5zB,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,CARme,CAArB;AAQ1Y,KARpE,CAArB;AASH,GAdD;;AAeA,SAAOi7C,aAAP;AACH,CArBkC,CAqBjC/xB,aArBiC,CAAnC;;AAsBA,SAASiyB,oBAAT,CAA8BE,UAA9B,EAA0C;AACtC,SAAQtmE,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE;AAAb,GAAR,EACjBq7C,UAAU,CAACT,QAAX,IAAwB7lE,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE;AAAb,GAAR,EAAwCq7C,UAAU,CAACT,QAAnD,CADpB,EAEjB7lE,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE;AAAb,GAAR,EACTjrB,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE;AAAb,GAAR,EAAmDq7C,UAAU,CAACzpC,KAAX,CAAiB3Q,KAAjB,IAA0BlsB,uDAAa,CAACC,8CAAD,EAAW,IAAX,EAAiB,MAAjB,CAA1F,CADJ,CAFI,CAArB;AAIH;;AACD,SAASomE,iBAAT,CAA2Br1C,GAA3B,EAAgC;AAC5B,MAAI9vB,GAAG,GAAG8vB,GAAG,CAACY,UAAJ,CAAelhB,GAAf,CAAmBxP,GAA7B;AACA,SAAOA,GAAG,GAAG;AAAE+yD,IAAAA,IAAI,EAAE/yD;AAAR,GAAH,GAAmB,EAA7B;AACH;;AAED,IAAIqlE,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUljE,KAAV,EAAiB;AAAE,SAAQrD,uDAAa,CAAC8yC,eAAe,CAAC8G,QAAjB,EAA2B,IAA3B,EAAiC,UAAUx5C,OAAV,EAAmB;AAC/G,QAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AACA,QAAI48C,SAAS,GAAG;AACZqtB,MAAAA,MAAM,EAAEnjE,KAAK,CAACmjE,MADF;AAEZ36D,MAAAA,IAAI,EAAEzL,OAAO,CAACqP,OAAR,CAAgBslB,MAAhB,CAAuB1xB,KAAK,CAACwI,IAA7B,CAFM;AAGZgqB,MAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAHF,KAAhB;AAKA,WAAQ91B,uDAAa,CAAC+4C,UAAD,EAAa;AAAEI,MAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,MAAAA,UAAU,EAAE3rB,OAAO,CAAC+iB,sBAA5C;AAAoE6I,MAAAA,OAAO,EAAE5rB,OAAO,CAACgjB,mBAArF;AAA0G6I,MAAAA,QAAQ,EAAE7rB,OAAO,CAACijB,oBAA5H;AAAkJ6I,MAAAA,WAAW,EAAE9rB,OAAO,CAACkjB;AAAvK,KAAb,EAA+Mpc,KAAK,CAACJ,QAArN,CAArB;AACH,GAR8D,CAArB;AAQpC,CARN;;AAUA,IAAIwjE,cAAc,GAAGhqD,eAAe,CAAC;AAAExK,EAAAA,GAAG,EAAE;AAAP,CAAD,CAApC;;AACA,IAAIy0D,cAAc;AAAG;AAAe,UAAUj2B,MAAV,EAAkB;AAClD5wC,EAAAA,gDAAS,CAAC6mE,cAAD,EAAiBj2B,MAAjB,CAAT;;AACA,WAASi2B,cAAT,GAA0B;AACtB,WAAOj2B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD8wD,EAAAA,cAAc,CAAC9rE,SAAf,CAAyBgC,MAAzB,GAAkC,YAAY;AAC1C,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AACA,QAAI48C,SAAS,GAAGwtB,sBAAsB,CAAC;AACnC96D,MAAAA,IAAI,EAAExI,KAAK,CAACwI,IADuB;AAEnCyrB,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAFgB;AAGnCpE,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAHiB;AAInC0zC,MAAAA,aAAa,EAAEvjE,KAAK,CAACujE,aAJc;AAKnCC,MAAAA,UAAU,EAAExjE,KAAK,CAACs0D,cALiB;AAMnC7hC,MAAAA,OAAO,EAAE11B,OAAO,CAAC01B,OANkB;AAOnCrmB,MAAAA,OAAO,EAAErP,OAAO,CAACqP;AAPkB,KAAD,CAAtC;AASA,WAAQzP,uDAAa,CAACq5C,WAAD,EAAc;AAAEF,MAAAA,SAAS,EAAEA,SAAb;AAAwBhxB,MAAAA,OAAO,EAAE5rB,OAAO,CAAC6hB,cAAzC;AAAyDk7B,MAAAA,cAAc,EAAEj2C,KAAK,CAACi2C;AAA/E,KAAd,EAA+Gj2C,KAAK,CAACJ,QAArH,CAArB;AACH,GAbD;;AAcA,SAAOyjE,cAAP;AACH,CApBmC,CAoBlCvyB,aApBkC,CAApC;;AAqBA,SAASwyB,sBAAT,CAAgCh+C,GAAhC,EAAqC;AACjC,MAAI9c,IAAI,GAAG8c,GAAG,CAAC9c,IAAf;AAAA,MAAqB4D,OAAO,GAAGkZ,GAAG,CAAClZ,OAAnC;AACA,MAAI8nD,OAAO,GAAG1uB,WAAW,CAACh9B,IAAD,EAAO8c,GAAG,CAACuK,UAAX,EAAuB,IAAvB,EAA6BvK,GAAG,CAAC2O,WAAjC,CAAzB;AACA,SAAO33B,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC;AAAEkM,IAAAA,IAAI,EAAE4D,OAAO,CAACslB,MAAR,CAAelpB,IAAf,CAAR;AAA8BgqB,IAAAA,IAAI,EAAElN,GAAG,CAACmN;AAAxC,GAAD,EAAoDyhC,OAApD,CAAT,EAAuE;AAAEuP,IAAAA,aAAa,EAAEn+C,GAAG,CAACi+C,aAAJ,GAAoBn3D,OAAO,CAACtO,MAAR,CAAe0K,IAAf,EAAqB46D,cAArB,CAApB,GAA2D;AAA5E,GAAvE,CAAT,EAAmK99C,GAAG,CAACk+C,UAAvK,CAAf;AACH;;AAED,IAAIE,WAAW;AAAG;AAAe,UAAUt2B,MAAV,EAAkB;AAC/C5wC,EAAAA,gDAAS,CAACknE,WAAD,EAAct2B,MAAd,CAAT;;AACA,WAASs2B,WAAT,GAAuB;AACnB,QAAIjxD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACkxD,eAAN,GAAwBnxD,aAAa,CAAC8wD,sBAAD,CAArC;AACA7wD,IAAAA,KAAK,CAAC4jC,mBAAN,GAA4BiB,wBAAwB,EAApD;AACA,WAAO7kC,KAAP;AACH;;AACDixD,EAAAA,WAAW,CAACnsE,SAAZ,CAAsBgC,MAAtB,GAA+B,YAAY;AACvC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AACA,QAAI48C,SAAS,GAAG,KAAK6tB,eAAL,CAAqB;AACjCn7D,MAAAA,IAAI,EAAExI,KAAK,CAACwI,IADqB;AAEjCyrB,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAFc;AAGjCpE,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAHe;AAIjC0zC,MAAAA,aAAa,EAAEvjE,KAAK,CAACujE,aAJY;AAKjCC,MAAAA,UAAU,EAAExjE,KAAK,CAACs0D,cALe;AAMjC7hC,MAAAA,OAAO,EAAE11B,OAAO,CAAC01B,OANgB;AAOjCrmB,MAAAA,OAAO,EAAErP,OAAO,CAACqP;AAPgB,KAArB,CAAhB;AASA,QAAIyY,UAAU,GAAG8gB,gBAAgB,CAACmQ,SAAD,EAAY/4C,OAAO,CAAC6oC,KAApB,CAAhB,CAA2C18B,MAA3C,CAAkD4sC,SAAS,CAACrQ,UAAV,GAC7D,EAD6D,CAC1D;AAD0D,MAE7D,KAAK4Q,mBAAL,CAAyBn9C,OAAO,CAAC4hB,iBAAjC,EAAoDg7B,SAApD,CAFW,CAAjB;AAGA,QAAI8tB,SAAS,GAAG9tB,SAAS,CAACrQ,UAAV,GAAuB,EAAvB,GAA4B;AACxC,mBAAav0B,eAAe,CAAClR,KAAK,CAACwI,IAAP;AADY,KAA5C;AAGA,WAAQ7L,uDAAa,CAACo5C,SAAD,EAAY;AAAED,MAAAA,SAAS,EAAEA,SAAb;AAAwB/wB,MAAAA,QAAQ,EAAE7rB,OAAO,CAAC8hB,eAA1C;AAA2DgK,MAAAA,WAAW,EAAE9rB,OAAO,CAAC+hB,kBAAhF;AAAoG46B,MAAAA,KAAK,EAAE71C,KAAK,CAAC61C;AAAjH,KAAZ,EAAsI,UAAUF,SAAV,EAAqB;AAAE,aAAO31C,KAAK,CAACJ,QAAN,CAAe+1C,SAAf,EAA0B9wB,UAA1B,EAAsC++C,SAAtC,EAAiD9tB,SAAS,CAACrQ,UAA3D,CAAP;AAAgF,KAA7O,CAArB;AACH,GAnBD;;AAoBA,SAAOi+B,WAAP;AACH,CA7BgC,CA6B/B5yB,aA7B+B,CAAjC;;AA+BA,SAAS+yB,UAAT,CAAoBC,QAApB,EAA8B;AAC1B,SAAQnnE,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE,QAAQk8C;AAArB,GAAR,CAArB;AACH;;AACD,IAAIC,OAAO,GAAG,SAAVA,OAAU,CAAU/jE,KAAV,EAAiB;AAAE,SAAQrD,uDAAa,CAAC4lE,SAAD,EAAY;AAAEtsB,IAAAA,cAAc,EAAES,kBAAlB;AAAsC/oB,IAAAA,GAAG,EAAE3tB,KAAK,CAAC2tB;AAAI;AAArD;AAA6E60C,IAAAA,QAAQ,EAAE,EAAvF;AAA2FC,IAAAA,eAAe,EAAE,IAA5G;AAAkHC,IAAAA,eAAe,EAAE,IAAnI;AAAyIlyC,IAAAA,UAAU,EAAE,KAArJ;AAA4JC,IAAAA,UAAU,EAAE,KAAxK;AAA+KkyC,IAAAA,eAAe,EAAE,KAAhM;AAAuMjyC,IAAAA,UAAU,EAAE,KAAnN;AAA0NV,IAAAA,MAAM,EAAEhwB,KAAK,CAACgwB,MAAxO;AAAgPC,IAAAA,QAAQ,EAAEjwB,KAAK,CAACiwB,QAAhQ;AAA0QC,IAAAA,OAAO,EAAElwB,KAAK,CAACkwB;AAAzR,GAAZ,EAAgT,UAAUylB,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2DN,SAA3D,EAAsE;AAAE,WAAQn5C,uDAAa,CAAC,KAAD,EAAQ;AAAEs0C,MAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,MAAAA,SAAS,EAAE,CAAC,aAAD,EAAgB1e,MAAhB,CAAuB2b,UAAvB,EAAmCpN,IAAnC,CAAwC,GAAxC,CAA7B;AAA2ErX,MAAAA,KAAK,EAAE;AACrhB0nB,QAAAA,eAAe,EAAEguB,SAAS,CAAChuB;AAD0f;AAAlF,KAAR,EAE1bsuB,YAF0b,CAArB;AAEpZ,GAF4B,CAArB;AAEF,CAF/B;;AAGA,SAASM,kBAAT,CAA4B12C,KAA5B,EAAmC;AAC/B,MAAI6oB,KAAK,GAAG7oB,KAAK,CAACw5B,KAAN,CAAY3Q,KAAxB;AACA,SAAOA,KAAK,IAAKlsB,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE;AAAb,GAAR,EAAyC5nB,KAAK,CAACw5B,KAAN,CAAY3Q,KAArD,CAA9B;AACH;;AAED,IAAIm7C,cAAc,GAAG,SAAjBA,cAAiB,CAAUhkE,KAAV,EAAiB;AAAE,SAAQrD,uDAAa,CAAC8yC,eAAe,CAAC8G,QAAjB,EAA2B,IAA3B,EAAiC,UAAUx5C,OAAV,EAAmB;AAC7G,QAAIqP,OAAO,GAAGrP,OAAO,CAACqP,OAAtB;AAAA,QAA+BlT,OAAO,GAAG6D,OAAO,CAAC7D,OAAjD;AACA,QAAIsP,IAAI,GAAGxI,KAAK,CAACwI,IAAjB;AACA,QAAI1K,MAAM,GAAG5E,OAAO,CAACwkB,gBAAR,IAA4B1d,KAAK,CAACikE,aAA/C;AACA,QAAI9sD,GAAG,GAAG/K,OAAO,CAAC6J,iBAAR,CAA0BzN,IAA1B,CAAV,CAJ6G,CAIlE;;AAC3C,QAAI+3C,IAAI,GAAGn0C,OAAO,CAACtO,MAAR,CAAe0K,IAAf,EAAqB1K,MAArB,CAAX;AACA,QAAIg4C,SAAS,GAAG;AAAE3+B,MAAAA,GAAG,EAAEA,GAAP;AAAYopC,MAAAA,IAAI,EAAEA,IAAlB;AAAwB/3C,MAAAA,IAAI,EAAEA;AAA9B,KAAhB;AACA,WAAQ7L,uDAAa,CAAC+4C,UAAD,EAAa;AAAEI,MAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,MAAAA,UAAU,EAAE3rB,OAAO,CAACsiB,oBAA5C;AAAkEsJ,MAAAA,OAAO,EAAE5rB,OAAO,CAACuiB,iBAAnF;AAAsGw6B,MAAAA,cAAc,EAAEiuB,WAAtH;AAAmIn/C,MAAAA,QAAQ,EAAE7rB,OAAO,CAACwiB,kBAArJ;AAAyKsJ,MAAAA,WAAW,EAAE9rB,OAAO,CAACyiB;AAA9L,KAAb,EAAoO3b,KAAK,CAACJ,QAA1O,CAArB;AACH,GAR4D,CAArB;AAQlC,CARN;;AASA,SAASskE,WAAT,CAAqBjB,UAArB,EAAiC;AAC7B,SAAOA,UAAU,CAAC1iB,IAAlB;AACH;;AAED,IAAI4jB,qBAAqB,GAAG,EAA5B;;AACA,IAAIC,OAAO;AAAG;AAAe,UAAUh3B,MAAV,EAAkB;AAC3C5wC,EAAAA,gDAAS,CAAC4nE,OAAD,EAAUh3B,MAAV,CAAT;;AACA,WAASg3B,OAAT,GAAmB;AACf,QAAI3xD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACmjC,YAAN,GAAqB,UAAU53C,EAAV,EAAc;AAC/ByU,MAAAA,KAAK,CAAC4kC,MAAN,GAAer5C,EAAf;;AACA,UAAIyU,KAAK,CAACzS,KAAN,CAAY61C,KAAhB,EAAuB;AACnB7E,QAAAA,MAAM,CAACv+B,KAAK,CAACzS,KAAN,CAAY61C,KAAb,EAAoB73C,EAApB,CAAN;AACH;AACJ,KALD,CAFe,CAQf;;;AACAyU,IAAAA,KAAK,CAAC4xD,uBAAN,GAAgC,UAAU9jE,EAAV,EAAc;AAC1C;AACA,UAAII,MAAM,GAAGL,qBAAqB,CAACC,EAAD,CAAlC;;AACA,UAAI,CAACkS,KAAK,CAAC4kC,MAAN,CAAa94C,QAAb,CAAsBoC,MAAtB,CAAL,EAAoC;AAChC8R,QAAAA,KAAK,CAAC6xD,gBAAN;AACH;AACJ,KAND;;AAOA7xD,IAAAA,KAAK,CAAC6xD,gBAAN,GAAyB,YAAY;AACjC,UAAIC,OAAO,GAAG9xD,KAAK,CAACzS,KAAN,CAAYukE,OAA1B;;AACA,UAAIA,OAAJ,EAAa;AACTA,QAAAA,OAAO;AACV;AACJ,KALD;;AAMA,WAAO9xD,KAAP;AACH;;AACD2xD,EAAAA,OAAO,CAAC7sE,SAAR,CAAkBgC,MAAlB,GAA2B,YAAY;AACnC,QAAIqsC,KAAK,GAAG,KAAK7oC,OAAL,CAAa6oC,KAAzB;AACA,QAAI5lC,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAI6kB,UAAU,GAAG,CACb,YADa,EAEb+gB,KAAK,CAACC,QAAN,CAAe,SAAf,CAFa,EAGf38B,MAHe,CAGRlJ,KAAK,CAAC20D,eAAN,IAAyB,EAHjB,CAAjB;AAIA,WAAO93D,sDAAY,CAACF,uDAAa,CAAC,KAAD,EAAQL,+CAAQ,CAAC;AAAEsrB,MAAAA,SAAS,EAAE/C,UAAU,CAACpN,IAAX,CAAgB,GAAhB;AAAb,KAAD,EAAsCzX,KAAK,CAACwkE,UAA5C,EAAwD;AAAEvzB,MAAAA,GAAG,EAAE,KAAK2E;AAAZ,KAAxD,CAAhB,EAC7Bj5C,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE,uBAAuBge,KAAK,CAACC,QAAN,CAAe,eAAf;AAApC,KAAR,EACTlpC,uDAAa,CAAC,MAAD,EAAS;AAAEirB,MAAAA,SAAS,EAAE;AAAb,KAAT,EAA4C5nB,KAAK,CAAC6oB,KAAlD,CADJ,EAETlsB,uDAAa,CAAC,MAAD,EAAS;AAAEirB,MAAAA,SAAS,EAAE,sBAAsBge,KAAK,CAAC4I,YAAN,CAAmB,OAAnB,CAAnC;AAAgEghB,MAAAA,OAAO,EAAE,KAAK8U;AAA9E,KAAT,CAFJ,CADgB,EAI7B3nE,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE,qBAAqBge,KAAK,CAACC,QAAN,CAAe,gBAAf;AAAlC,KAAR,EAA8E7lC,KAAK,CAACJ,QAApF,CAJgB,CAAd,EAI8FI,KAAK,CAACykE,QAJpG,CAAnB;AAKH,GAZD;;AAaAL,EAAAA,OAAO,CAAC7sE,SAAR,CAAkBo/C,iBAAlB,GAAsC,YAAY;AAC9Ct4C,IAAAA,QAAQ,CAAC8C,gBAAT,CAA0B,WAA1B,EAAuC,KAAKkjE,uBAA5C;AACA,SAAKpuC,UAAL;AACH,GAHD;;AAIAmuC,EAAAA,OAAO,CAAC7sE,SAAR,CAAkBu/C,oBAAlB,GAAyC,YAAY;AACjDz4C,IAAAA,QAAQ,CAAC+C,mBAAT,CAA6B,WAA7B,EAA0C,KAAKijE,uBAA/C;AACH,GAFD;;AAGAD,EAAAA,OAAO,CAAC7sE,SAAR,CAAkB0+B,UAAlB,GAA+B,YAAY;AACvC,QAAIwY,KAAK,GAAG,KAAK1xC,OAAL,CAAa0xC,KAAzB;AACA,QAAIjuC,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqB0kE,WAAW,GAAGlkE,EAAE,CAACkkE,WAAtC;AAAA,QAAmDC,YAAY,GAAGnkE,EAAE,CAACmkE,YAArE;AACA,QAAIttB,MAAM,GAAG,KAAKA,MAAlB;AACA,QAAIutB,aAAa,GAAG37B,wBAAwB,CAACy7B,WAAD,CAA5C;;AACA,QAAIE,aAAJ,EAAmB;AACf,UAAIC,WAAW,GAAGxtB,MAAM,CAACtyC,qBAAP,EAAlB,CADe,CAEf;;AACA,UAAI+/D,UAAU,GAAGH,YAAY,GACvBxmE,cAAc,CAACumE,WAAD,EAAc,gBAAd,CAAd,CAA8C3/D,qBAA9C,GAAsEi8B,GAD/C,GAEvB4jC,aAAa,CAAC5jC,GAFpB;AAGA,UAAI+jC,WAAW,GAAGt2B,KAAK,GAAGm2B,aAAa,CAAC7jC,KAAd,GAAsB8jC,WAAW,CAAC7/D,KAArC,GAA6C4/D,aAAa,CAAC9jC,IAAlF,CANe,CAOf;;AACAgkC,MAAAA,UAAU,GAAGx+D,IAAI,CAACoO,GAAL,CAASowD,UAAT,EAAqBX,qBAArB,CAAb;AACAY,MAAAA,WAAW,GAAGz+D,IAAI,CAACwB,GAAL,CAASi9D,WAAT,EAAsB1mE,QAAQ,CAACC,eAAT,CAAyB4oC,WAAzB,GAAuCi9B,qBAAvC,GAA+DU,WAAW,CAAC7/D,KAAjG,CAAd;AACA+/D,MAAAA,WAAW,GAAGz+D,IAAI,CAACoO,GAAL,CAASqwD,WAAT,EAAsBZ,qBAAtB,CAAd;AACA,UAAIa,QAAQ,GAAG3tB,MAAM,CAAC4tB,YAAP,CAAoBlgE,qBAApB,EAAf;AACAhF,MAAAA,UAAU,CAACs3C,MAAD,EAAS;AACfrW,QAAAA,GAAG,EAAE8jC,UAAU,GAAGE,QAAQ,CAAChkC,GADZ;AAEfF,QAAAA,IAAI,EAAEikC,WAAW,GAAGC,QAAQ,CAAClkC;AAFd,OAAT,CAAV;AAIH;AACJ,GAtBD;;AAuBA,SAAOsjC,OAAP;AACH,CAtE4B,CAsE3BtzB,aAtE2B,CAA7B;;AAwEA,IAAIo0B,WAAW;AAAG;AAAe,UAAU93B,MAAV,EAAkB;AAC/C5wC,EAAAA,gDAAS,CAAC0oE,WAAD,EAAc93B,MAAd,CAAT;;AACA,WAAS83B,WAAT,GAAuB;AACnB,QAAIzyD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACmjC,YAAN,GAAqB,UAAUyB,MAAV,EAAkB;AACnC5kC,MAAAA,KAAK,CAAC4kC,MAAN,GAAeA,MAAf;;AACA,UAAIA,MAAJ,EAAY;AACR5kC,QAAAA,KAAK,CAAC1V,OAAN,CAAc+yC,4BAAd,CAA2Cr9B,KAA3C,EAAkD;AAC9CzU,UAAAA,EAAE,EAAEq5C,MAD0C;AAE9CyW,UAAAA,cAAc,EAAE;AAF8B,SAAlD;AAIH,OALD,MAMK;AACDr7C,QAAAA,KAAK,CAAC1V,OAAN,CAAcgzC,8BAAd,CAA6Ct9B,KAA7C;AACH;AACJ,KAXD;;AAYA,WAAOA,KAAP;AACH;;AACDyyD,EAAAA,WAAW,CAAC3tE,SAAZ,CAAsBgC,MAAtB,GAA+B,YAAY;AACvC,QAAIiH,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuB7D,OAAO,GAAGsH,EAAE,CAACtH,OAApC;AAAA,QAA6CkT,OAAO,GAAG5L,EAAE,CAAC4L,OAA1D;AACA,QAAIpM,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAImlE,SAAS,GAAGnlE,KAAK,CAACmlE,SAAtB;AAAA,QAAiCt1C,UAAU,GAAG7vB,KAAK,CAAC6vB,UAApD;AAAA,QAAgEoE,WAAW,GAAGj0B,KAAK,CAACi0B,WAApF;AACA,QAAIpL,KAAK,GAAGzc,OAAO,CAACtO,MAAR,CAAeqnE,SAAf,EAA0BjsE,OAAO,CAACghB,gBAAlC,CAAZ;AACA,WAAQvd,uDAAa,CAAC+mE,WAAD,EAAc;AAAEl7D,MAAAA,IAAI,EAAE28D,SAAR;AAAmBlxC,MAAAA,WAAW,EAAEA,WAAhC;AAA6CpE,MAAAA,UAAU,EAAEA,UAAzD;AAAqEgmB,MAAAA,KAAK,EAAE,KAAKD;AAAjF,KAAd,EAA+G,UAAUD,SAAV,EAAqByvB,aAArB,EAAoCxB,SAApC,EAA+C;AAAE,aAAQjnE,uDAAa,CAACynE,OAAD,EAAU;AAAEvuB,QAAAA,KAAK,EAAEF,SAAT;AAAoB9sB,QAAAA,KAAK,EAAEA,KAA3B;AAAkC8rC,QAAAA,eAAe,EAAE,CAAC,iBAAD,EAAoBzrD,MAApB,CAA2Bk8D,aAA3B,CAAnD;AAA8FZ,QAAAA,UAAU,EAAEZ;AAAU;AAApH;AAA2Ka,QAAAA,QAAQ,EAAEzkE,KAAK,CAACykE,QAA3L;AAAqMC,QAAAA,WAAW,EAAE1kE,KAAK,CAAC0kE,WAAxN;AAAqOC,QAAAA,YAAY,EAAE3kE,KAAK,CAAC2kE,YAAzP;AAAuQJ,QAAAA,OAAO,EAAEvkE,KAAK,CAACukE;AAAtR,OAAV,EACtM5nE,uDAAa,CAAC0mE,cAAD,EAAiB;AAAE76D,QAAAA,IAAI,EAAE28D,SAAR;AAAmBlxC,QAAAA,WAAW,EAAEA,WAAhC;AAA6CpE,QAAAA,UAAU,EAAEA;AAAzD,OAAjB,EAAwF,UAAUsmB,UAAV,EAAsBC,YAAtB,EAAoC;AAAE,eAAQA,YAAY,IAC3Jz5C,uDAAa,CAAC,KAAD,EAAQ;AAAEirB,UAAAA,SAAS,EAAE,sBAAb;AAAqCqpB,UAAAA,GAAG,EAAEkF;AAA1C,SAAR,EAAgEC,YAAhE,CAD0H;AACzC,OADrF,CADyL,EAGtMp2C,KAAK,CAACJ,QAHgM,CAArB;AAG9J,KAHF,CAArB;AAIH,GATD;;AAUAslE,EAAAA,WAAW,CAAC3tE,SAAZ,CAAsB+5C,QAAtB,GAAiC,UAAUC,YAAV,EAAwBC,WAAxB,EAAqCC,OAArC,EAA8CC,QAA9C,EAAwD;AACrF,QAAIlxC,EAAE,GAAG,IAAT;AAAA,QAAe62C,MAAM,GAAG72C,EAAE,CAAC62C,MAA3B;AAAA,QAAmCr3C,KAAK,GAAGQ,EAAE,CAACR,KAA9C;;AACA,QAAIuxC,YAAY,IAAI,CAAhB,IAAqBA,YAAY,GAAGE,OAApC,IACAD,WAAW,IAAI,CADf,IACoBA,WAAW,GAAGE,QADtC,EACgD;AAC5C,aAAO;AACHzd,QAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WADhB;AAEHlC,QAAAA,QAAQ,EAAEz1B,+CAAQ,CAAC;AAAEkQ,UAAAA,MAAM,EAAE,IAAV;AAAgB/C,UAAAA,KAAK,EAAE;AAClCkE,YAAAA,KAAK,EAAE3N,KAAK,CAACmlE,SADqB;AAElCv3D,YAAAA,GAAG,EAAE5N,KAAK,CAACy4B;AAFuB;AAAvB,SAAD,EAGTz4B,KAAK,CAACqlE,aAHG,CAFf;AAMHC,QAAAA,KAAK,EAAEjuB,MANJ;AAOHxW,QAAAA,IAAI,EAAE;AACFC,UAAAA,IAAI,EAAE,CADJ;AAEFE,UAAAA,GAAG,EAAE,CAFH;AAGFD,UAAAA,KAAK,EAAE0Q,OAHL;AAIFxQ,UAAAA,MAAM,EAAEyQ;AAJN,SAPH;AAaH6zB,QAAAA,KAAK,EAAE,CAbJ,CAaO;;AAbP,OAAP;AAeH;;AACD,WAAO,IAAP;AACH,GArBD;;AAsBA,SAAOL,WAAP;AACH,CAnDgC,CAmD/B/zB,aAnD+B,CAAjC;;AAqDA,IAAIq0B,YAAY;AAAG;AAAe,UAAUp4B,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAACgpE,YAAD,EAAep4B,MAAf,CAAT;;AACA,WAASo4B,YAAT,GAAwB;AACpB,QAAI/yD,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACgzD,SAAN,GAAkB/oE,mDAAS,EAA3B;AACA+V,IAAAA,KAAK,CAACwkB,KAAN,GAAc;AACVyuC,MAAAA,aAAa,EAAE;AADL,KAAd;;AAGAjzD,IAAAA,KAAK,CAACkzD,WAAN,GAAoB,UAAUplE,EAAV,EAAc;AAC9B,UAAIC,EAAE,GAAGiS,KAAT;AAAA,UAAgBzS,KAAK,GAAGQ,EAAE,CAACR,KAA3B;AAAA,UAAkCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA/C;AACA,UAAIwlB,aAAa,GAAGxlB,OAAO,CAAC7D,OAAR,CAAgBqpB,aAApC;AACA,UAAI/Z,IAAI,GAAGo9D,YAAY,CAAC5lE,KAAD,CAAZ,CAAoB2N,KAA/B;;AACA,eAASk4D,cAAT,CAAwBl4C,GAAxB,EAA6B;AACzB,YAAIntB,EAAE,GAAGmtB,GAAG,CAACY,UAAb;AAAA,YAAyBlhB,GAAG,GAAG7M,EAAE,CAAC6M,GAAlC;AAAA,YAAuCF,QAAQ,GAAG3M,EAAE,CAAC2M,QAArD;AAAA,YAA+D1D,KAAK,GAAGjJ,EAAE,CAACiJ,KAA1E;AACA,eAAO;AACH+vB,UAAAA,KAAK,EAAE,IAAIT,QAAJ,CAAah8B,OAAb,EAAsBsQ,GAAtB,EAA2BF,QAA3B,CADJ;AAEHQ,UAAAA,KAAK,EAAE5Q,OAAO,CAACqP,OAAR,CAAgBslB,MAAhB,CAAuBjoB,KAAK,CAACkE,KAA7B,CAFJ;AAGHC,UAAAA,GAAG,EAAE7Q,OAAO,CAACqP,OAAR,CAAgBslB,MAAhB,CAAuBjoB,KAAK,CAACmE,GAA7B,CAHF;AAIHsf,UAAAA,OAAO,EAAES,GAAG,CAACT,OAJV;AAKHC,UAAAA,KAAK,EAAEQ,GAAG,CAACR;AALR,SAAP;AAOH;;AACD,UAAI,OAAO5K,aAAP,KAAyB,UAA7B,EAAyC;AACrCA,QAAAA,aAAa,GAAGA,aAAa,CAAC;AAC1B/Z,UAAAA,IAAI,EAAEA,IADoB;AAE1BgE,UAAAA,MAAM,EAAEuN,OAAO,CAAC/Z,KAAK,CAAC8lE,UAAP,CAFW;AAG1BC,UAAAA,OAAO,EAAE/lE,KAAK,CAAC+lE,OAAN,CAAcnuE,GAAd,CAAkBiuE,cAAlB,CAHiB;AAI1BG,UAAAA,UAAU,EAAEhmE,KAAK,CAACgmE,UAAN,CAAiBpuE,GAAjB,CAAqBiuE,cAArB,CAJc;AAK1BvzC,UAAAA,OAAO,EAAE/xB,EALiB;AAM1BiyB,UAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AANY,SAAD,CAA7B;AAQH;;AACD,UAAI,CAAClQ,aAAD,IAAkBA,aAAa,KAAK,SAAxC,EAAmD;AAC/C9P,QAAAA,KAAK,CAACo3C,QAAN,CAAe;AAAE6b,UAAAA,aAAa,EAAE;AAAjB,SAAf;AACH,OAFD,MAGK,IAAI,OAAOnjD,aAAP,KAAyB,QAA7B,EAAuC;AAAE;AAC1CxlB,QAAAA,OAAO,CAAC21B,WAAR,CAAoBsE,MAApB,CAA2BxuB,IAA3B,EAAiC+Z,aAAjC;AACH;AACJ,KA9BD;;AA+BA9P,IAAAA,KAAK,CAACwzD,kBAAN,GAA2B,YAAY;AACnCxzD,MAAAA,KAAK,CAACo3C,QAAN,CAAe;AAAE6b,QAAAA,aAAa,EAAE;AAAjB,OAAf;AACH,KAFD;;AAGA,WAAOjzD,KAAP;AACH;;AACD+yD,EAAAA,YAAY,CAACjuE,SAAb,CAAuBgC,MAAvB,GAAgC,YAAY;AACxC,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIzS,KAAK,GAAG,KAAKA,KAAjB;AACA,WAAQrD,uDAAa,CAAC8yC,eAAe,CAAC8G,QAAjB,EAA2B,IAA3B,EAAiC,UAAUx5C,OAAV,EAAmB;AACrE,UAAI01B,OAAO,GAAG11B,OAAO,CAAC01B,OAAtB;AAAA,UAA+Bv5B,OAAO,GAAG6D,OAAO,CAAC7D,OAAjD;AAAA,UAA0Dw5B,WAAW,GAAG31B,OAAO,CAAC21B,WAAhF;AACA,UAAIzR,YAAY,GAAG/nB,OAAO,CAAC+nB,YAA3B;AACA,UAAIilD,OAAO,GAAGlmE,KAAK,CAACkmE,OAApB;AACA,UAAIz8D,KAAK,GAAGm8D,YAAY,CAAC5lE,KAAD,CAAxB;AACA,UAAI81C,SAAS,GAAG;AACZ3+B,QAAAA,GAAG,EAAE+uD,OADO;AAEZC,QAAAA,SAAS,EAAE,MAAMD,OAFL;AAGZ3lB,QAAAA,IAAI,EAAE,OAAOt/B,YAAP,KAAwB,UAAxB,GACAA,YAAY,CAAC9oB,IAAb,CAAkBu6B,WAAlB,EAA+BwzC,OAA/B,CADA,GAEA,MAAMA,OAAN,GAAgB,GAAhB,GAAsBjlD,YALhB;AAMZuR,QAAAA,IAAI,EAAEC;AANM,OAAhB;AAQA,aAAQ91B,uDAAa,CAACC,8CAAD,EAAW,IAAX,EACjBmd,OAAO,CAAC/Z,KAAK,CAACkmE,OAAP,CAAP,IAA2BvpE,uDAAa,CAAC+4C,UAAD,EAAa;AAAEG,QAAAA,KAAK,EAAEpjC,KAAK,CAACgzD,SAAf;AAA0B3vB,QAAAA,SAAS,EAAEA,SAArC;AAAgDjxB,QAAAA,UAAU,EAAE3rB,OAAO,CAACspB,kBAApE;AAAwFsC,QAAAA,OAAO,EAAE5rB,OAAO,CAACupB,eAAzG;AAA0HwzB,QAAAA,cAAc,EAAEj2C,KAAK,CAACi2C,cAAN,IAAwBmwB,mBAAlK;AAAuLrhD,QAAAA,QAAQ,EAAE7rB,OAAO,CAACwpB,gBAAzM;AAA2NsC,QAAAA,WAAW,EAAE9rB,OAAO,CAACypB;AAAhP,OAAb,EAAoR,UAAUgzB,SAAV,EAAqBiC,gBAArB,EAAuCzB,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,eAAOp2C,KAAK,CAACJ,QAAN,CAAe+1C,SAAf,EAA0B,CAAC,cAAD,EAAiBzsC,MAAjB,CAAwB0uC,gBAAxB,CAA1B,EAAqEzB,UAArE,EAAiFC,YAAjF,EAA+F3jC,KAAK,CAACkzD,WAArG,CAAP;AAA2H,OAAld,CADvB,EAEjBlzD,KAAK,CAACwkB,KAAN,CAAYyuC,aAAZ,IAA8B/oE,uDAAa,CAACuoE,WAAD,EAAc;AAAEC,QAAAA,SAAS,EAAE17D,KAAK,CAACkE,KAAnB;AAA0B8qB,QAAAA,OAAO,EAAEhvB,KAAK,CAACmE,GAAzC;AAA8CqmB,QAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAAjE;AAA8EpE,QAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAAhG;AAA4Gw1C,QAAAA,aAAa,EAAErlE,KAAK,CAACqlE,aAAjI;AAAgJZ,QAAAA,QAAQ,EAAEhyD,KAAK,CAACgyD,QAAhK;AAA0KC,QAAAA,WAAW,EAAE1kE,KAAK,CAACqmE,cAAN,CAAqBn1B,OAA5M;AAAqNyzB,QAAAA,YAAY,EAAE3kE,KAAK,CAAC2kE,YAAzO;AAAuPJ,QAAAA,OAAO,EAAE9xD,KAAK,CAACwzD;AAAtQ,OAAd,EAA0SjmE,KAAK,CAACsmE,cAAN,EAA1S,CAF1B,CAArB;AAGH,KAhBoB,CAArB;AAiBH,GApBD;;AAqBAd,EAAAA,YAAY,CAACjuE,SAAb,CAAuBo/C,iBAAvB,GAA2C,YAAY;AACnD,SAAK4vB,cAAL;AACH,GAFD;;AAGAf,EAAAA,YAAY,CAACjuE,SAAb,CAAuBs/C,kBAAvB,GAA4C,YAAY;AACpD,SAAK0vB,cAAL;AACH,GAFD;;AAGAf,EAAAA,YAAY,CAACjuE,SAAb,CAAuBgvE,cAAvB,GAAwC,YAAY;AAChD,QAAI,KAAKd,SAAL,CAAev0B,OAAnB,EAA4B;AACxB,WAAKuzB,QAAL,GAAgBtmE,cAAc,CAAC,KAAKsnE,SAAL,CAAev0B,OAAhB,EAAyB,kBAAzB,CAA9B;AACH;AACJ,GAJD;;AAKA,SAAOs0B,YAAP;AACH,CA7EiC,CA6EhC10B,aA7EgC,CAAlC;;AA8EA,SAASs1B,mBAAT,CAA6BpmE,KAA7B,EAAoC;AAChC,SAAOA,KAAK,CAACugD,IAAb;AACH;;AACD,SAASqlB,YAAT,CAAsB5lE,KAAtB,EAA6B;AACzB,MAAIA,KAAK,CAAC8lE,UAAV,EAAsB;AAClB,WAAO;AACHn4D,MAAAA,KAAK,EAAE3N,KAAK,CAAC8lE,UADV;AAEHl4D,MAAAA,GAAG,EAAEtI,OAAO,CAACtF,KAAK,CAAC8lE,UAAP,EAAmB,CAAnB;AAFT,KAAP;AAIH;;AACD,MAAIE,UAAU,GAAGhmE,KAAK,CAACgmE,UAAvB;AACA,SAAO;AACHr4D,IAAAA,KAAK,EAAE64D,uBAAuB,CAACR,UAAD,CAD3B;AAEHp4D,IAAAA,GAAG,EAAE64D,mBAAmB,CAACT,UAAD;AAFrB,GAAP;AAIH;;AACD,SAASQ,uBAAT,CAAiCv4C,IAAjC,EAAuC;AACnC,SAAOA,IAAI,CAAC1F,MAAL,CAAYm+C,iBAAZ,EAA+Bn4C,UAA/B,CAA0C9kB,KAA1C,CAAgDkE,KAAvD;AACH;;AACD,SAAS+4D,iBAAT,CAA2BC,IAA3B,EAAiCC,IAAjC,EAAuC;AACnC,SAAOD,IAAI,CAACp4C,UAAL,CAAgB9kB,KAAhB,CAAsBkE,KAAtB,GAA8Bi5D,IAAI,CAACr4C,UAAL,CAAgB9kB,KAAhB,CAAsBkE,KAApD,GAA4Dg5D,IAA5D,GAAmEC,IAA1E;AACH;;AACD,SAASH,mBAAT,CAA6Bx4C,IAA7B,EAAmC;AAC/B,SAAOA,IAAI,CAAC1F,MAAL,CAAYs+C,aAAZ,EAA2Bt4C,UAA3B,CAAsC9kB,KAAtC,CAA4CmE,GAAnD;AACH;;AACD,SAASi5D,aAAT,CAAuBF,IAAvB,EAA6BC,IAA7B,EAAmC;AAC/B,SAAOD,IAAI,CAACp4C,UAAL,CAAgB9kB,KAAhB,CAAsBmE,GAAtB,GAA4Bg5D,IAAI,CAACr4C,UAAL,CAAgB9kB,KAAhB,CAAsBmE,GAAlD,GAAwD+4D,IAAxD,GAA+DC,IAAtE;AACH,EAED;AACA;;;AACA,IAAIE,OAAO,GAAG,OAAd,EAAuB;;;;;;;;;;;;;;;;;;;;;;;;ACzqSvB;AACA,IAAI,OAAOE,gBAAP,KAA4B,WAAhC,EAA6C;AACzC,QAAM,IAAIliE,KAAJ,CAAU,oFAAV,CAAN;AACH;;AACD,IAAIjO,SAAS,GAAGmwE,gBAAgB,CAACnwE,SAAjC;AACA,IAAI8F,aAAa,GAAGqqE,gBAAgB,CAACrqE,aAArC;AACA,IAAIpD,MAAM,GAAGytE,gBAAgB,CAACztE,MAA9B;AACA,IAAImD,SAAS,GAAGsqE,gBAAgB,CAACtqE,SAAjC;AACA,IAAIE,QAAQ,GAAGoqE,gBAAgB,CAACpqE,QAAhC;AACA,IAAIH,aAAa,GAAGuqE,gBAAgB,CAACvqE,aAArC;AACA,IAAII,YAAY,GAAGmqE,gBAAgB,CAACnqE,YAApC;AACA,IAAIoqE,UAAU,GAAGD,gBAAgB,CAACC,UAAlC;AACA,IAAIC,sBAAsB,GAAGF,gBAAgB,CAACE,sBAA9C;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIhwE,QAAQ;AAAG;AAAe,UAAUk2C,MAAV,EAAkB;AAC5C5wC,EAAAA,gDAAS,CAACtF,QAAD,EAAWk2C,MAAX,CAAT;;AACA,WAASl2C,QAAT,CAAkB8G,EAAlB,EAAsBo6C,eAAtB,EAAuC;AACnC,QAAIA,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,MAAAA,eAAe,GAAG,EAAlB;AAAuB;;AACzD,QAAI3lC,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAsa,IAAAA,KAAK,CAAC00D,WAAN,GAAoB,KAApB;AACA10D,IAAAA,KAAK,CAAC20D,UAAN,GAAmB,KAAnB;AACA30D,IAAAA,KAAK,CAACglC,iBAAN,GAA0B,EAA1B;AACAhlC,IAAAA,KAAK,CAAC40D,qBAAN,GAA8B,CAA9B,CANmC,CAMF;;AACjC50D,IAAAA,KAAK,CAAC60D,YAAN,GAAqB,UAAU/xC,MAAV,EAAkB;AACnC;AACA,cAAQA,MAAM,CAACh7B,IAAf;AACI,aAAK,gBAAL;AACA,aAAK,kBAAL;AACIkY,UAAAA,KAAK,CAAC80D,YAAN,CAAmBviB,QAAnB;;AAHR;AAKH,KAPD;;AAQAvyC,IAAAA,KAAK,CAACk3C,UAAN,GAAmB,UAAUrC,IAAV,EAAgB;AAC/B70C,MAAAA,KAAK,CAACymB,WAAN,GAAoBouB,IAApB;;AACA70C,MAAAA,KAAK,CAAC80D,YAAN,CAAmBr4B,OAAnB,CAA2BoY,IAAI,CAACvvB,eAAL,CAAqB/W,aAAhD;AACH,KAHD;;AAIAvO,IAAAA,KAAK,CAAC+0D,mBAAN,GAA4B,YAAY;AACpC,UAAI/0D,KAAK,CAAC00D,WAAV,EAAuB;AACnB10D,QAAAA,KAAK,CAAC20D,UAAN,GAAmB,IAAnB;AACA,YAAIK,aAAa,GAAGh1D,KAAK,CAACymB,WAA1B;AACA3/B,QAAAA,4DAAM,CAACoD,mEAAa,CAAC+2D,8DAAD,EAAe;AAAEx6D,UAAAA,OAAO,EAAEuuE,aAAa,CAAC1vC,eAAzB;AAA0C6N,UAAAA,KAAK,EAAE6hC,aAAa,CAAC7hC,KAA/D;AAAsEzT,UAAAA,OAAO,EAAEs1C,aAAa,CAACt1C;AAA7F,SAAf,EAAuH,UAAUtN,UAAV,EAAsBrH,MAAtB,EAA8Bi1C,YAA9B,EAA4CC,QAA5C,EAAsD;AAC7LjgD,UAAAA,KAAK,CAACi1D,aAAN,CAAoB7iD,UAApB;;AACApS,UAAAA,KAAK,CAACk1D,SAAN,CAAgBnqD,MAAhB;;AACA,iBAAQ7gB,mEAAa,CAAC25C,qFAAD,EAAsC;AAAE3lC,YAAAA,KAAK,EAAE8B,KAAK,CAAC40D;AAAf,WAAtC,EACjB1qE,mEAAa,CAAC40D,iEAAD,EAAkBj1D,+CAAQ,CAAC;AAAEm2D,YAAAA,YAAY,EAAEA,YAAhB;AAA8BC,YAAAA,QAAQ,EAAEA;AAAxC,WAAD,EAAqD+U,aAArD,CAA1B,CADI,CAArB;AAEH,SALmB,CAAd,EAKFh1D,KAAK,CAACzU,EALJ,CAAN;AAMH,OATD,MAUK,IAAIyU,KAAK,CAAC20D,UAAV,EAAsB;AACvB30D,QAAAA,KAAK,CAAC20D,UAAN,GAAmB,KAAnB;AACAF,QAAAA,4EAAsB,CAACz0D,KAAK,CAACzU,EAAP,CAAtB;;AACAyU,QAAAA,KAAK,CAACi1D,aAAN,CAAoB,EAApB;;AACAj1D,QAAAA,KAAK,CAACk1D,SAAN,CAAgB,EAAhB;AACH;;AACDV,MAAAA,gEAAU;AACb,KAlBD;;AAmBAx0D,IAAAA,KAAK,CAACzU,EAAN,GAAWA,EAAX;AACAyU,IAAAA,KAAK,CAAC80D,YAAN,GAAqB,IAAIhjB,+DAAJ,CAAkB9xC,KAAK,CAAC+0D,mBAAxB,CAArB;AACA,QAAIrhB,qEAAJ,CAAwB;AACpB/N,MAAAA,eAAe,EAAEA,eADG;AAEpB1lB,MAAAA,WAAW,EAAEjgB,KAFO;AAGpB+1C,MAAAA,QAAQ,EAAE/1C,KAAK,CAAC60D,YAHI;AAIpBze,MAAAA,MAAM,EAAEp2C,KAAK,CAACk3C;AAJM,KAAxB;AAMA,WAAOl3C,KAAP;AACH;;AACDnb,EAAAA,MAAM,CAACiG,cAAP,CAAsBrG,QAAQ,CAACK,SAA/B,EAA0C,MAA1C,EAAkD;AAC9CiG,IAAAA,GAAG,EAAE,eAAY;AAAE,aAAO,KAAK07B,WAAL,CAAiBzG,OAAxB;AAAkC,KADP,CACQ;AADR;AAG9C/0B,IAAAA,UAAU,EAAE,KAHkC;AAI9CC,IAAAA,YAAY,EAAE;AAJgC,GAAlD;;AAMAzG,EAAAA,QAAQ,CAACK,SAAT,CAAmBgC,MAAnB,GAA4B,YAAY;AACpC,QAAIquE,YAAY,GAAG,KAAKT,WAAxB;;AACA,QAAI,CAACS,YAAL,EAAmB;AACf,WAAKT,WAAL,GAAmB,IAAnB;AACH,KAFD,MAGK;AACD,WAAKE,qBAAL,IAA8B,CAA9B;AACH;;AACD,SAAKE,YAAL,CAAkBr4B,OAAlB;;AACA,QAAI04B,YAAJ,EAAkB;AACd,WAAK3xC,UAAL;AACH;AACJ,GAZD;;AAaA/+B,EAAAA,QAAQ,CAACK,SAAT,CAAmByC,OAAnB,GAA6B,YAAY;AACrC,QAAI,KAAKmtE,WAAT,EAAsB;AAClB,WAAKA,WAAL,GAAmB,KAAnB;AACA,WAAKI,YAAL,CAAkBr4B,OAAlB;AACH;AACJ,GALD;;AAMAh4C,EAAAA,QAAQ,CAACK,SAAT,CAAmB0+B,UAAnB,GAAgC,YAAY;AACxCmX,IAAAA,MAAM,CAAC71C,SAAP,CAAiB0+B,UAAjB,CAA4B99B,IAA5B,CAAiC,IAAjC;;AACA8uE,IAAAA,gEAAU;AACb,GAHD;;AAIA/vE,EAAAA,QAAQ,CAACK,SAAT,CAAmBy+B,cAAnB,GAAoC,UAAU39B,IAAV,EAAgB;AAChD,SAAKkvE,YAAL,CAAkBriB,KAAlB,CAAwB,gBAAxB;AACA7sD,IAAAA,IAAI;AACJ,SAAKkvE,YAAL,CAAkBniB,MAAlB,CAAyB,gBAAzB;AACH,GAJD;;AAKAluD,EAAAA,QAAQ,CAACK,SAAT,CAAmBsC,cAAnB,GAAoC,YAAY;AAC5C,SAAK0tE,YAAL,CAAkBriB,KAAlB,CAAwB,gBAAxB;AACH,GAFD;;AAGAhuD,EAAAA,QAAQ,CAACK,SAAT,CAAmBwC,eAAnB,GAAqC,YAAY;AAC7C,SAAKwtE,YAAL,CAAkBniB,MAAlB,CAAyB,gBAAzB,EAA2C,IAA3C;AACH,GAFD;;AAGAluD,EAAAA,QAAQ,CAACK,SAAT,CAAmBuC,YAAnB,GAAkC,UAAUs+C,eAAV,EAA2B6P,MAA3B,EAAmC;AACjE,SAAKlyB,kBAAL,CAAwBj8B,YAAxB,CAAqCs+C,eAArC,EAAsD6P,MAAtD;AACH,GAFD;;AAGA/wD,EAAAA,QAAQ,CAACK,SAAT,CAAmBmwE,aAAnB,GAAmC,UAAU7iD,UAAV,EAAsB;AACrD,QAAI,CAACjT,mEAAa,CAACiT,UAAD,EAAa,KAAK4yB,iBAAlB,CAAlB,EAAwD;AACpD,UAAIl1C,SAAS,GAAG,KAAKvE,EAAL,CAAQuE,SAAxB;;AACA,WAAK,IAAIoI,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKi3C,iBAA3B,EAA8C9sC,EAAE,GAAGnK,EAAE,CAACnB,MAAtD,EAA8DsL,EAAE,EAAhE,EAAoE;AAChE,YAAIid,SAAS,GAAGpnB,EAAE,CAACmK,EAAD,CAAlB;AACApI,QAAAA,SAAS,CAACtF,MAAV,CAAiB2qB,SAAjB;AACH;;AACD,WAAK,IAAInnB,EAAE,GAAG,CAAT,EAAYonE,YAAY,GAAGhjD,UAAhC,EAA4CpkB,EAAE,GAAGonE,YAAY,CAACxoE,MAA9D,EAAsEoB,EAAE,EAAxE,EAA4E;AACxE,YAAImnB,SAAS,GAAGigD,YAAY,CAACpnE,EAAD,CAA5B;AACA8B,QAAAA,SAAS,CAACC,GAAV,CAAcolB,SAAd;AACH;;AACD,WAAK6vB,iBAAL,GAAyB5yB,UAAzB;AACH;AACJ,GAbD;;AAcA3tB,EAAAA,QAAQ,CAACK,SAAT,CAAmBowE,SAAnB,GAA+B,UAAUnqD,MAAV,EAAkB;AAC7Ctd,IAAAA,oEAAc,CAAC,KAAKlC,EAAN,EAAU,QAAV,EAAoBwf,MAApB,CAAd;AACH,GAFD;;AAGA,SAAOtmB,QAAP;AACH,CA/G6B,CA+G5B4+B,6DA/G4B,CAA9B;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AAEA,IAAIkyC,SAAS,GAAG,OAAOC,UAAP,KAAsB,WAAtB,GAAoCA,UAApC,GAAiD3gC,MAAjE,EAAyE;;AACzE,IAAI0gC,SAAS,CAAChB,gBAAd,EAAgC;AAC5BtwC,EAAAA,OAAO,CAACC,IAAR,CAAa,kCAAb;AACH,CAFD,MAGK;AACDqxC,EAAAA,SAAS,CAAChB,gBAAV,GAA6B;AACzBnwE,IAAAA,SAAS,EAAEixE,6CADc;AAEzBnrE,IAAAA,aAAa,EAAEmrE,iDAFU;AAGzBvuE,IAAAA,MAAM,EAAEuuE,0CAHiB;AAIzBprE,IAAAA,SAAS,EAAEorE,6CAJc;AAKzBlrE,IAAAA,QAAQ,EAAEkrE,4CALe;AAMzBrrE,IAAAA,aAAa,EAAEA,aANU;AAOzBI,IAAAA,YAAY,EAAEkrE,uDAPW;AAQzBd,IAAAA,UAAU,EAAEA,UARa;AASzBC,IAAAA,sBAAsB,EAAEA;AATC,GAA7B;AAWH,EACD;AACA;AACA;;;AACA,SAASD,UAAT,GAAsB;AAClB,MAAIiB,oBAAoB,GAAGJ,6DAA3B,CADkB,CAC2C;;AAC7D,MAAIM,SAAS,GAAG,EAAhB;;AACA,WAASC,gBAAT,CAA0BvmE,QAA1B,EAAoC;AAChCsmE,IAAAA,SAAS,CAACzsE,IAAV,CAAemG,QAAf;AACH;;AACDgmE,EAAAA,6DAAA,GAAmCO,gBAAnC;AACAP,EAAAA,0CAAA,CAAcA,iDAAA,CAAqBQ,aAArB,EAAoC,EAApC,CAAd,EAAuDjqE,QAAQ,CAAC1B,aAAT,CAAuB,KAAvB,CAAvD;;AACA,SAAOyrE,SAAS,CAAC/oE,MAAjB,EAAyB;AACrB+oE,IAAAA,SAAS,CAACriB,KAAV;AACH;;AACD+hB,EAAAA,6DAAA,GAAmCI,oBAAnC;AACH;;AACD,IAAII,aAAa;AAAG;AAAe,UAAUl7B,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAAC8rE,aAAD,EAAgBl7B,MAAhB,CAAT;;AACA,WAASk7B,aAAT,GAAyB;AACrB,WAAOl7B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD+1D,EAAAA,aAAa,CAAC/wE,SAAd,CAAwBgC,MAAxB,GAAiC,YAAY;AAAE,WAAOuuE,iDAAA,CAAqB,KAArB,EAA4B,EAA5B,CAAP;AAAyC,GAAxF;;AACAQ,EAAAA,aAAa,CAAC/wE,SAAd,CAAwBo/C,iBAAxB,GAA4C,YAAY;AAAE,SAAKkT,QAAL,CAAc,EAAd;AAAoB,GAA9E;;AACA,SAAOye,aAAP;AACH,CARkC,CAQjCR,6CARiC,CAAnC;;AASA,SAASrrE,aAAT,CAAuB8rE,YAAvB,EAAqC;AACjC,MAAIC,WAAW,GAAGV,iDAAA,CAAqBS,YAArB,CAAlB;AACA,MAAIE,YAAY,GAAGD,WAAW,CAAC5V,QAA/B;;AACA4V,EAAAA,WAAW,CAAC5V,QAAZ,GAAuB,YAAY;AAC/B,QAAIngD,KAAK,GAAG,IAAZ;;AACA,QAAIi2D,KAAK,GAAG,CAAC,KAAKC,eAAlB;AACA,QAAI/oE,QAAQ,GAAG6oE,YAAY,CAACr/D,KAAb,CAAmB,IAAnB,EAAyBmJ,SAAzB,CAAf,CAH+B,CAGqB;;AACpD,QAAIm2D,KAAJ,EAAW;AACP,UAAIE,MAAM,GAAG,EAAb;;AACA,WAAKx4B,qBAAL,GAA6B,UAAUy4B,MAAV,EAAkB;AAC3C,YAAIp2D,KAAK,CAACzS,KAAN,CAAY2Q,KAAZ,KAAsBk4D,MAAM,CAACl4D,KAAjC,EAAwC;AACpCi4D,UAAAA,MAAM,CAAC5mE,OAAP,CAAe,UAAUqsB,CAAV,EAAa;AACxBA,YAAAA,CAAC,CAACtxB,OAAF,GAAY8rE,MAAM,CAACl4D,KAAnB;AACA0d,YAAAA,CAAC,CAACy6C,WAAF;AACH,WAHD;AAIH;AACJ,OAPD;;AAQA,WAAK7hD,GAAL,GAAW,UAAUoH,CAAV,EAAa;AACpBu6C,QAAAA,MAAM,CAACjtE,IAAP,CAAY0yB,CAAZ;AACA,YAAI06C,GAAG,GAAG16C,CAAC,CAACyoB,oBAAZ;;AACAzoB,QAAAA,CAAC,CAACyoB,oBAAF,GAAyB,YAAY;AACjC8xB,UAAAA,MAAM,CAACj3D,MAAP,CAAci3D,MAAM,CAAC1wD,OAAP,CAAemW,CAAf,CAAd,EAAiC,CAAjC;AACA06C,UAAAA,GAAG,IAAIA,GAAG,CAAC5wE,IAAJ,CAASk2B,CAAT,CAAP;AACH,SAHD;AAIH,OAPD;AAQH;;AACD,WAAOzuB,QAAP;AACH,GAxBD;;AAyBA,SAAO4oE,WAAP;AACH;;AACD,SAAStB,sBAAT,CAAgC8B,IAAhC,EAAsC;AAClClB,EAAAA,0CAAA,CAAc,IAAd,EAAoBkB,IAApB;AACH;;;;;;;;;;;;;;;;;;;;;;AC9ED;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;AACA,IAAIC,SAAS;AAAG;AAAe,UAAU77B,MAAV,EAAkB;AAC7C5wC,EAAAA,gDAAS,CAACysE,SAAD,EAAY77B,MAAZ,CAAT;;AACA,WAAS67B,SAAT,GAAqB;AACjB,QAAIx2D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACy2D,WAAN,GAAoBxsE,+DAAS,EAA7B;AACA,WAAO+V,KAAP;AACH;;AACDw2D,EAAAA,SAAS,CAAC1xE,SAAV,CAAoB4xE,kBAApB,GAAyC,UAAUC,gBAAV,EAA4BC,WAA5B,EAAyC;AAC9E,QAAI7oE,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI+jE,QAAQ,GAAG,EAAf;AACA,QAAI3iD,iBAAiB,GAAG8hD,0EAAoB,CAACljE,OAAO,CAAC7D,OAAT,CAA5C;;AACA,QAAIkwE,gBAAJ,EAAsB;AAClBtI,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,QAAAA,IAAI,EAAE,QADI;AAEVhC,QAAAA,GAAG,EAAE,QAFK;AAGVk8D,QAAAA,QAAQ,EAAEt2C,iBAHA;AAIVujD,QAAAA,KAAK,EAAE;AACH7rB,UAAAA,KAAK,EAAE,KAAKqzB,WADT;AAEHvK,UAAAA,cAAc,EAAE,eAFb;AAGHK,UAAAA,UAAU,EAAEoK;AAHT;AAJG,OAAd;AAUH;;AACDtI,IAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,MAAAA,IAAI,EAAE,MADI;AAEVhC,MAAAA,GAAG,EAAE,MAFK;AAGVg4D,MAAAA,MAAM,EAAE,IAHE;AAIVmR,MAAAA,KAAK,EAAE;AAAE58C,QAAAA,OAAO,EAAEukD;AAAX;AAJG,KAAd;AAMA,WAAQ1sE,mEAAa,CAACg7C,0DAAD,EAAW;AAAEhI,MAAAA,QAAQ,EAAE5yC,OAAO,CAAC4yC;AAApB,KAAX,EAA2C,UAAUgG,SAAV,EAAqB9wB,UAArB,EAAiC;AAAE,aAAQloB,mEAAa,CAAC,KAAD,EAAQ;AAAEs0C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE,CAAC,YAAD,EAAe1e,MAAf,CAAsB2b,UAAtB,EAAkCpN,IAAlC,CAAuC,GAAvC;AAA7B,OAAR,EACpH9a,mEAAa,CAACwjE,kEAAD,EAAmB;AAAE5P,QAAAA,MAAM,EAAE,CAACvwD,KAAK,CAACyyD,YAAP,IAAuB,CAACzyD,KAAK,CAAC0yD,QAAxC;AAAkDsO,QAAAA,gBAAgB,EAAEhhE,KAAK,CAAC0yD,QAA1E;AAAoF2M,QAAAA,IAAI,EAAE;AAAG;AAA7F;AAAyHyB,QAAAA,QAAQ,EAAEA;AAAnI,OAAnB,CADuG,CAArB;AACoF,KADlK,CAArB;AAEH,GAxBD;;AAyBAmI,EAAAA,SAAS,CAAC1xE,SAAV,CAAoB+xE,mBAApB,GAA0C,UAAUF,gBAAV,EAA4BC,WAA5B,EAAyCjV,MAAzC,EAAiD9zC,WAAjD,EAA8D;AACpG,QAAIipD,UAAU,GAAG,KAAKxsE,OAAL,CAAaiQ,WAAb,CAAyBgmC,cAA1C;;AACA,QAAI,CAACu2B,UAAL,EAAiB;AACb,YAAM,IAAIzkE,KAAJ,CAAU,8BAAV,CAAN;AACH;;AACD,QAAItE,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAIohB,iBAAiB,GAAG,CAACne,KAAK,CAAC0yD,QAAP,IAAmBuN,0EAAoB,CAACljE,OAAO,CAAC7D,OAAT,CAA/D;AACA,QAAIklB,qBAAqB,GAAG,CAACpe,KAAK,CAAC0yD,QAAP,IAAmBwN,8EAAwB,CAACnjE,OAAO,CAAC7D,OAAT,CAAvE;AACA,QAAI4nE,QAAQ,GAAG,EAAf;;AACA,QAAIsI,gBAAJ,EAAsB;AAClBtI,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,QAAAA,IAAI,EAAE,QADI;AAEVhC,QAAAA,GAAG,EAAE,QAFK;AAGVk8D,QAAAA,QAAQ,EAAEt2C,iBAHA;AAIVqrD,QAAAA,MAAM,EAAE,CAAC;AACDjxE,UAAAA,GAAG,EAAE,MADJ;AAEDs9C,UAAAA,KAAK,EAAE,KAAKqzB,WAFX;AAGDvK,UAAAA,cAAc,EAAE,eAHf;AAIDK,UAAAA,UAAU,EAAEoK;AAJX,SAAD;AAJE,OAAd;AAWH;;AACDtI,IAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,MAAAA,IAAI,EAAE,MADI;AAEVhC,MAAAA,GAAG,EAAE,MAFK;AAGVg4D,MAAAA,MAAM,EAAE,IAHE;AAIViZ,MAAAA,MAAM,EAAE,CAAC;AACDjxE,QAAAA,GAAG,EAAE,MADJ;AAEDusB,QAAAA,OAAO,EAAEukD;AAFR,OAAD;AAJE,KAAd;;AASA,QAAIjrD,qBAAJ,EAA2B;AACvB0iD,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,QAAAA,IAAI,EAAE,QADI;AAEVhC,QAAAA,GAAG,EAAE,QAFK;AAGVk8D,QAAAA,QAAQ,EAAE,IAHA;AAIV+U,QAAAA,MAAM,EAAE,CAAC;AACDjxE,UAAAA,GAAG,EAAE,MADJ;AAEDusB,UAAAA,OAAO,EAAEk7C,kEAAgBA;AAFxB,SAAD;AAJE,OAAd;AASH;;AACD,WAAQrjE,mEAAa,CAACg7C,0DAAD,EAAW;AAAEhI,MAAAA,QAAQ,EAAE5yC,OAAO,CAAC4yC;AAApB,KAAX,EAA2C,UAAUgG,SAAV,EAAqB9wB,UAArB,EAAiC;AAAE,aAAQloB,mEAAa,CAAC,KAAD,EAAQ;AAAEs0C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE,CAAC,YAAD,EAAe1e,MAAf,CAAsB2b,UAAtB,EAAkCpN,IAAlC,CAAuC,GAAvC;AAA7B,OAAR,EACpH9a,mEAAa,CAAC4sE,UAAD,EAAa;AAAEhZ,QAAAA,MAAM,EAAE,CAACvwD,KAAK,CAACyyD,YAAP,IAAuB,CAACzyD,KAAK,CAAC0yD,QAAxC;AAAkDsO,QAAAA,gBAAgB,EAAEhhE,KAAK,CAAC0yD,QAA1E;AAAoF+W,QAAAA,SAAS,EAAE,CAAC;AAAEpK,UAAAA,IAAI,EAAE,CAAC;AAAEtuC,YAAAA,IAAI,EAAEqjC,MAAR;AAAgByK,YAAAA,QAAQ,EAAEv+C;AAA1B,WAAD;AAAR,SAAD,CAA/F;AAAsJwgD,QAAAA,QAAQ,EAAEA;AAAhK,OAAb,CADuG,CAArB;AAC2G,KADzL,CAArB;AAEH,GA5CD;;AA6CA,SAAOmI,SAAP;AACH,CA9E8B,CA8E7B93B,+DA9E6B,CAA/B;;AAgFA,SAASu4B,cAAT,CAAwBz7C,IAAxB,EAA8B2oC,MAA9B,EAAsC;AAClC,MAAI+S,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIvqE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGw3D,MAApB,EAA4Bx3D,CAAC,IAAI,CAAjC,EAAoC;AAChCuqE,IAAAA,KAAK,CAACvqE,CAAD,CAAL,GAAW,EAAX;AACH;;AACD,OAAK,IAAIuL,EAAE,GAAG,CAAT,EAAYouD,MAAM,GAAG9qC,IAA1B,EAAgCtjB,EAAE,GAAGouD,MAAM,CAAC15D,MAA5C,EAAoDsL,EAAE,EAAtD,EAA0D;AACtD,QAAIgjB,GAAG,GAAGorC,MAAM,CAACpuD,EAAD,CAAhB;AACAg/D,IAAAA,KAAK,CAACh8C,GAAG,CAACupC,GAAL,CAAL,CAAev7D,IAAf,CAAoBgyB,GAApB;AACH;;AACD,SAAOg8C,KAAP;AACH;;AACD,SAASC,mBAAT,CAA6B37C,IAA7B,EAAmCmmC,MAAnC,EAA2C;AACvC,MAAIyV,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIzqE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGg1D,MAApB,EAA4Bh1D,CAAC,IAAI,CAAjC,EAAoC;AAChCyqE,IAAAA,KAAK,CAACzqE,CAAD,CAAL,GAAW,EAAX;AACH;;AACD,OAAK,IAAIuL,EAAE,GAAG,CAAT,EAAYwuD,MAAM,GAAGlrC,IAA1B,EAAgCtjB,EAAE,GAAGwuD,MAAM,CAAC95D,MAA5C,EAAoDsL,EAAE,EAAtD,EAA0D;AACtD,QAAIgjB,GAAG,GAAGwrC,MAAM,CAACxuD,EAAD,CAAhB;AACAk/D,IAAAA,KAAK,CAACl8C,GAAG,CAAC4pC,QAAL,CAAL,CAAoB57D,IAApB,CAAyBgyB,GAAzB;AACH;;AACD,SAAOk8C,KAAP;AACH;;AACD,SAASC,qBAAT,CAA+BtgD,EAA/B,EAAmCotC,MAAnC,EAA2C;AACvC,MAAI+S,KAAK,GAAG,EAAZ;;AACA,MAAI,CAACngD,EAAL,EAAS;AACL,SAAK,IAAIpqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGw3D,MAApB,EAA4Bx3D,CAAC,IAAI,CAAjC,EAAoC;AAChCuqE,MAAAA,KAAK,CAACvqE,CAAD,CAAL,GAAW,IAAX;AACH;AACJ,GAJD,MAKK;AACD,SAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGw3D,MAApB,EAA4Bx3D,CAAC,IAAI,CAAjC,EAAoC;AAChCuqE,MAAAA,KAAK,CAACvqE,CAAD,CAAL,GAAW;AACP05D,QAAAA,iBAAiB,EAAEtvC,EAAE,CAACsvC,iBADf;AAEP3zB,QAAAA,OAAO,EAAE3b,EAAE,CAAC2b,OAFL;AAGPlX,QAAAA,IAAI,EAAE;AAHC,OAAX;AAKH;;AACD,SAAK,IAAItjB,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGgpB,EAAE,CAACyE,IAAzB,EAA+BtjB,EAAE,GAAGnK,EAAE,CAACnB,MAAvC,EAA+CsL,EAAE,EAAjD,EAAqD;AACjD,UAAIgjB,GAAG,GAAGntB,EAAE,CAACmK,EAAD,CAAZ;AACAg/D,MAAAA,KAAK,CAACh8C,GAAG,CAACupC,GAAL,CAAL,CAAejpC,IAAf,CAAoBtyB,IAApB,CAAyBgyB,GAAzB;AACH;AACJ;;AACD,SAAOg8C,KAAP;AACH;;AAED,IAAII,YAAY;AAAG;AAAe,UAAU38B,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAACutE,YAAD,EAAe38B,MAAf,CAAT;;AACA,WAAS28B,YAAT,GAAwB;AACpB,WAAO38B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDw3D,EAAAA,YAAY,CAACxyE,SAAb,CAAuBgC,MAAvB,GAAgC,YAAY;AACxC,QAAIyG,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIm0D,YAAY,GAAG,KAAKp3D,OAAL,CAAa7D,OAAb,CAAqB4nB,QAArB,GACb;AAAE,sBAAgBilB,sEAAgB,CAAC/lC,KAAK,CAACwI,IAAP,CAAlC;AAAgD6rD,MAAAA,QAAQ,EAAE;AAA1D,KADa,GAEb,EAFN;AAGA,WAAQ13D,mEAAa,CAAC0mE,gEAAD,EAAiB;AAAE76D,MAAAA,IAAI,EAAExI,KAAK,CAACwI,IAAd;AAAoByrB,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAAvC;AAAoDpE,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAAtE;AAAkF0zC,MAAAA,aAAa,EAAEvjE,KAAK,CAACujE,aAAvG;AAAsHjP,MAAAA,cAAc,EAAEt0D,KAAK,CAACs0D,cAA5I;AAA4Jre,MAAAA,cAAc,EAAE+zB;AAA5K,KAAjB,EAA+M,UAAU7zB,UAAV,EAAsBC,YAAtB,EAAoC;AAAE,aAAQ,CAACA,YAAY,IAAIp2C,KAAK,CAACiqE,WAAvB,KAAwCttE,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,oBAAb;AAAmCqpB,QAAAA,GAAG,EAAEkF;AAAxC,OAAR,EACnUx5C,mEAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC;AAAEsrB,QAAAA,SAAS,EAAE;AAAb,OAAD,EAAyCusC,YAAzC,CAAd,EAAsE/d,YAAY,IAAIz5C,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAAiB,MAAjB,CAAnG,CADsT,CAA7D;AACrH,KADhI,CAArB;AAEH,GAPD;;AAQA,SAAOmtE,YAAP;AACH,CAdiC,CAchCj5B,+DAdgC,CAAlC;;AAeA,SAASk5B,cAAT,CAAwBhqE,KAAxB,EAA+B;AAC3B,SAAOA,KAAK,CAACyjE,aAAb;AACH;;AAED,IAAIyG,+BAA+B,GAAG9wD,qEAAe,CAAC;AAClDtK,EAAAA,IAAI,EAAE,SAD4C;AAElDE,EAAAA,MAAM,EAAE,SAF0C;AAGlDyE,EAAAA,cAAc,EAAE,IAHkC;AAIlDC,EAAAA,QAAQ,EAAE;AAJwC,CAAD,CAArD;;AAMA,SAASy2D,kBAAT,CAA4Bx8C,GAA5B,EAAiC;AAC7B,MAAIvW,OAAO,GAAGuW,GAAG,CAACY,UAAJ,CAAe/E,EAAf,CAAkBpS,OAAhC;AACA,SAAOA,OAAO,KAAK,WAAZ,IAA4BA,OAAO,KAAK,MAAZ,IAC/B,CAACuW,GAAG,CAACY,UAAJ,CAAelhB,GAAf,CAAmBb,MADW,IAE/BmhB,GAAG,CAAC4pC,QAAJ,KAAiB5pC,GAAG,CAAC6pC,OAFU,IAEC;AAChC7pC,EAAAA,GAAG,CAACT,OAH2B,IAGhB;AACfS,EAAAA,GAAG,CAACR,KAJD,CAIO;AAJd;AAMH;;AAED,IAAIi9C,eAAe;AAAG;AAAe,UAAUh9B,MAAV,EAAkB;AACnD5wC,EAAAA,gDAAS,CAAC4tE,eAAD,EAAkBh9B,MAAlB,CAAT;;AACA,WAASg9B,eAAT,GAA2B;AACvB,WAAOh9B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD63D,EAAAA,eAAe,CAAC7yE,SAAhB,CAA0BgC,MAA1B,GAAmC,YAAY;AAC3C,QAAIyG,KAAK,GAAG,KAAKA,KAAjB;AACA,WAAQrD,mEAAa,CAACkmE,+DAAD,EAAgBvmE,+CAAQ,CAAC,EAAD,EAAK0D,KAAL,EAAY;AAAE20D,MAAAA,eAAe,EAAE,CAAC,kBAAD,EAAqB,wBAArB,EAA+C,YAA/C,CAAnB;AAAiFmO,MAAAA,iBAAiB,EAAEoH,+BAApG;AAAqIh7C,MAAAA,sBAAsB,EAAElvB,KAAK,CAACkvB,sBAAnK;AAA2LwzC,MAAAA,eAAe,EAAE,CAAC1iE,KAAK,CAAC2tB,GAAN,CAAUY,UAAV,CAAqBlhB,GAArB,CAAyBb;AAAtO,KAAZ,CAAxB,CAArB;AACH,GAHD;;AAIA,SAAO49D,eAAP;AACH,CAVoC,CAUnCt5B,+DAVmC,CAArC;;AAYA,IAAIu5B,kBAAkB;AAAG;AAAe,UAAUj9B,MAAV,EAAkB;AACtD5wC,EAAAA,gDAAS,CAAC6tE,kBAAD,EAAqBj9B,MAArB,CAAT;;AACA,WAASi9B,kBAAT,GAA8B;AAC1B,WAAOj9B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD83D,EAAAA,kBAAkB,CAAC9yE,SAAnB,CAA6BgC,MAA7B,GAAsC,YAAY;AAC9C,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAIiyB,UAAU,GAAGjyB,OAAO,CAAC7D,OAAR,CAAgB6nB,eAAhB,IAAmCmpD,+BAApD;AACA,QAAI1H,QAAQ,GAAGzzC,sEAAgB,CAAC/uB,KAAK,CAAC2tB,GAAP,EAAYqB,UAAZ,EAAwBjyB,OAAxB,EAAiC,IAAjC,EAAuCiD,KAAK,CAACkvB,sBAA7C,CAA/B;AACA,WAAQvyB,mEAAa,CAAC4lE,2DAAD,EAAY;AAAE50C,MAAAA,GAAG,EAAE3tB,KAAK,CAAC2tB,GAAb;AAAkB60C,MAAAA,QAAQ,EAAEA,QAA5B;AAAsCvsB,MAAAA,cAAc,EAAES,kBAAtD;AAA0ElmB,MAAAA,UAAU,EAAExwB,KAAK,CAACwwB,UAA5F;AAAwGC,MAAAA,UAAU,EAAE,KAApH;AAA2HkyC,MAAAA,eAAe,EAAE,KAA5I;AAAmJjyC,MAAAA,UAAU,EAAE1wB,KAAK,CAAC0wB,UAArK;AAAiLV,MAAAA,MAAM,EAAEhwB,KAAK,CAACgwB,MAA/L;AAAuMC,MAAAA,QAAQ,EAAEjwB,KAAK,CAACiwB,QAAvN;AAAiOC,MAAAA,OAAO,EAAElwB,KAAK,CAACkwB;AAAhP,KAAZ,EAAuQ,UAAUylB,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2D;AAAE,aAAS;AAClWz5C,QAAAA,mEAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC;AAAEsrB,UAAAA,SAAS,EAAE,CAAC,kBAAD,EAAqB,sBAArB,EAA6C1e,MAA7C,CAAoD2b,UAApD,EAAgEpN,IAAhE,CAAqE,GAArE,CAAb;AAAwFw5B,UAAAA,GAAG,EAAE0E;AAA7F,SAAD,EAA2GqtB,iBAAiB,CAAChjE,KAAK,CAAC2tB,GAAP,CAA5H,CAAd,EAAwJyoB,YAAxJ;AAD4U;AACnK,KADjK,CAArB;AAEH,GAND;;AAOA,SAAOi0B,kBAAP;AACH,CAbuC,CAatCv5B,+DAbsC,CAAxC;;AAcA,SAAS4F,kBAAT,CAA4BusB,UAA5B,EAAwC;AACpC,SAAQtmE,mEAAa,CAACC,0DAAD,EAAW,IAAX,EACjBD,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE,sBAAb;AAAqCxnB,IAAAA,KAAK,EAAE;AAAE2nB,MAAAA,WAAW,EAAEk7C,UAAU,CAACl7C,WAAX,IAA0Bk7C,UAAU,CAACn7C;AAApD;AAA5C,GAAR,CADI,EAEjBm7C,UAAU,CAACT,QAAX,IAAwB7lE,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE;AAAb,GAAR,EAAwCq7C,UAAU,CAACT,QAAnD,CAFpB,EAGjB7lE,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,IAAAA,SAAS,EAAE;AAAb,GAAR,EAAyCq7C,UAAU,CAACzpC,KAAX,CAAiB3Q,KAAjB,IAA0BlsB,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAAiB,MAAjB,CAAhF,CAHI,CAArB;AAIH;;AACD,SAASomE,iBAAT,CAA2Br1C,GAA3B,EAAgC;AAC5B,MAAI9vB,GAAG,GAAG8vB,GAAG,CAACY,UAAJ,CAAelhB,GAAf,CAAmBxP,GAA7B;AACA,SAAOA,GAAG,GAAG;AAAE+yD,IAAAA,IAAI,EAAE/yD;AAAR,GAAH,GAAmB,EAA7B;AACH;;AAED,IAAIysE,iBAAiB;AAAG;AAAe,UAAUl9B,MAAV,EAAkB;AACrD5wC,EAAAA,gDAAS,CAAC8tE,iBAAD,EAAoBl9B,MAApB,CAAT;;AACA,WAASk9B,iBAAT,GAA6B;AACzB,QAAI73D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC83D,WAAN,GAAoBv4D,6DAAO,CAACu4D,WAAD,CAA3B;AACA,WAAO93D,KAAP;AACH;;AACD63D,EAAAA,iBAAiB,CAAC/yE,SAAlB,CAA4BgC,MAA5B,GAAqC,YAAY;AAC7C,QAAIyG,KAAK,GAAG,KAAKA,KAAjB;;AACA,QAAIQ,EAAE,GAAG,KAAK+pE,WAAL,CAAiBvqE,KAAK,CAACwqE,gBAAvB,CAAT;AAAA,QAAmDzE,OAAO,GAAGvlE,EAAE,CAACulE,OAAhE;AAAA,QAAyE0E,aAAa,GAAGjqE,EAAE,CAACiqE,aAA5F;;AACA,WAAQ9tE,mEAAa,CAAC6oE,8DAAD,EAAe;AAAEvxC,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAArB;AAAkCpE,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAApD;AAAgEi2C,MAAAA,UAAU,EAAE9lE,KAAK,CAAC8lE,UAAlF;AAA8FI,MAAAA,OAAO,EAAElmE,KAAK,CAACkmE,OAA7G;AAAsHH,MAAAA,OAAO,EAAEA,OAA/H;AAAwIC,MAAAA,UAAU,EAAEyE,aAApJ;AAAmKpE,MAAAA,cAAc,EAAErmE,KAAK,CAACqmE,cAAzL;AAAyM1B,MAAAA,YAAY,EAAE3kE,KAAK,CAAC2kE,YAA7N;AAA2OU,MAAAA,aAAa,EAAErlE,KAAK,CAACqlE,aAAhQ;AAA+QiB,MAAAA,cAAc,EAAE,0BAAY;AACvU,YAAIoE,iBAAiB,GAAG,CAAC1qE,KAAK,CAAC4jC,SAAN,GAAkB5jC,KAAK,CAAC4jC,SAAN,CAAgBk1B,iBAAlC,GAAsD,IAAvD,MACnB94D,KAAK,CAAC8jC,WAAN,GAAoB9jC,KAAK,CAAC8jC,WAAN,CAAkBg1B,iBAAtC,GAA0D,IADvC,KAEpB,EAFJ;AAGA,eAAQn8D,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAAiBmpE,OAAO,CAACnuE,GAAR,CAAY,UAAU+1B,GAAV,EAAe;AAC7D,cAAI/jB,UAAU,GAAG+jB,GAAG,CAACY,UAAJ,CAAephB,QAAf,CAAwBvD,UAAzC;AACA,iBAAQjN,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,YAAAA,SAAS,EAAE,0BAAb;AAAyCrvB,YAAAA,GAAG,EAAEqR,UAA9C;AAA0DxJ,YAAAA,KAAK,EAAE;AACtFuqE,cAAAA,UAAU,EAAED,iBAAiB,CAAC9gE,UAAD,CAAjB,GAAgC,QAAhC,GAA2C;AAD+B;AAAjE,WAAR,EAEZugE,kBAAkB,CAACx8C,GAAD,CAAlB,GAA2BhxB,mEAAa,CAAC0tE,kBAAD,EAAqB/tE,+CAAQ,CAAC;AAAEqxB,YAAAA,GAAG,EAAEA,GAAP;AAAY6C,YAAAA,UAAU,EAAE,KAAxB;AAA+BE,YAAAA,UAAU,EAAE9mB,UAAU,KAAK5J,KAAK,CAACmkC,cAAhE;AAAgFjV,YAAAA,sBAAsB,EAAE;AAAxG,WAAD,EAAkHU,gEAAU,CAACjC,GAAD,EAAM3tB,KAAK,CAAC6vB,UAAZ,CAA5H,CAA7B,CAAxC,GAA+NlzB,mEAAa,CAACytE,eAAD,EAAkB9tE,+CAAQ,CAAC;AAAEqxB,YAAAA,GAAG,EAAEA,GAAP;AAAY6C,YAAAA,UAAU,EAAE,KAAxB;AAA+BC,YAAAA,UAAU,EAAE,KAA3C;AAAkDkyC,YAAAA,eAAe,EAAE,KAAnE;AAA0EjyC,YAAAA,UAAU,EAAE9mB,UAAU,KAAK5J,KAAK,CAACmkC,cAA3G;AAA2HjV,YAAAA,sBAAsB,EAAE;AAAnJ,WAAD,EAA6JU,gEAAU,CAACjC,GAAD,EAAM3tB,KAAK,CAAC6vB,UAAZ,CAAvK,CAA1B,CAFhO,CAArB;AAGH,SALqC,CAAjB,CAArB;AAMH;AAV+B,KAAf,EAUZ,UAAU8lB,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2DuvB,WAA3D,EAAwE;AAAE,aAAQhpE,mEAAa,CAAC,GAAD,EAAM;AAAEs0C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE,CAAC,sBAAD,EAAyB1e,MAAzB,CAAgC2b,UAAhC,EAA4CpN,IAA5C,CAAiD,GAAjD,CAA7B;AAAoF+3C,QAAAA,OAAO,EAAEmW;AAA7F,OAAN,EAAkHvvB,YAAlH,CAArB;AAAwJ,KAVtN,CAArB;AAWH,GAdD;;AAeA,SAAOk0B,iBAAP;AACH,CAvBsC,CAuBrCx5B,+DAvBqC,CAAvC;;AAwBA,SAASy5B,WAAT,CAAqBC,gBAArB,EAAuC;AACnC,MAAIzE,OAAO,GAAG,EAAd;AACA,MAAI0E,aAAa,GAAG,EAApB;;AACA,OAAK,IAAI9/D,EAAE,GAAG,CAAT,EAAYigE,kBAAkB,GAAGJ,gBAAtC,EAAwD7/D,EAAE,GAAGigE,kBAAkB,CAACvrE,MAAhF,EAAwFsL,EAAE,EAA1F,EAA8F;AAC1F,QAAIkgE,SAAS,GAAGD,kBAAkB,CAACjgE,EAAD,CAAlC;AACAo7D,IAAAA,OAAO,CAACpqE,IAAR,CAAakvE,SAAS,CAACl9C,GAAvB;;AACA,QAAI,CAACk9C,SAAS,CAACC,SAAf,EAA0B;AACtBL,MAAAA,aAAa,CAAC9uE,IAAd,CAAmBkvE,SAAS,CAACl9C,GAA7B;AACH;AACJ;;AACD,SAAO;AAAEo4C,IAAAA,OAAO,EAAEA,OAAX;AAAoB0E,IAAAA,aAAa,EAAEA;AAAnC,GAAP;AACH;;AAED,IAAIM,uBAAuB,GAAG3xD,qEAAe,CAAC;AAAE9J,EAAAA,IAAI,EAAE;AAAR,CAAD,CAA7C;;AACA,IAAI07D,SAAS;AAAG;AAAe,UAAU59B,MAAV,EAAkB;AAC7C5wC,EAAAA,gDAAS,CAACwuE,SAAD,EAAY59B,MAAZ,CAAT;;AACA,WAAS49B,SAAT,GAAqB;AACjB,QAAIv4D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACkjC,SAAN,GAAkBj5C,+DAAS,EAA3B;;AACA+V,IAAAA,KAAK,CAACmjC,YAAN,GAAqB,UAAU53C,EAAV,EAAc;AAC/BgzC,MAAAA,4DAAM,CAACv+B,KAAK,CAACkjC,SAAP,EAAkB33C,EAAlB,CAAN;AACAgzC,MAAAA,4DAAM,CAACv+B,KAAK,CAACzS,KAAN,CAAY61C,KAAb,EAAoB73C,EAApB,CAAN;AACH,KAHD;;AAIA,WAAOyU,KAAP;AACH;;AACDu4D,EAAAA,SAAS,CAACzzE,SAAV,CAAoBgC,MAApB,GAA6B,YAAY;AACrC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;AAAA,QAAuD44C,SAAS,GAAGn1C,EAAE,CAACm1C,SAAtE;;AACA,QAAIz8C,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AACA,QAAIsP,IAAI,GAAGxI,KAAK,CAACwI,IAAjB;AAAA,QAAuByrB,WAAW,GAAGj0B,KAAK,CAACi0B,WAA3C;AACA,QAAIkgC,YAAY,GAAGj7D,OAAO,CAAC4nB,QAAR,GACb;AAAE,sBAAgBilB,sEAAgB,CAACv9B,IAAD,EAAO,MAAP,CAAlC;AAAkD6rD,MAAAA,QAAQ,EAAE;AAA5D,KADa,GAEb,EAFN;AAGA,WAAQ13D,mEAAa,CAAC+mE,6DAAD,EAAc;AAAEl7D,MAAAA,IAAI,EAAEA,IAAR;AAAcyrB,MAAAA,WAAW,EAAEA,WAA3B;AAAwCpE,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAA1D;AAAsE0zC,MAAAA,aAAa,EAAEvjE,KAAK,CAACujE,aAA3F;AAA0GjP,MAAAA,cAAc,EAAEt0D,KAAK,CAACs0D,cAAhI;AAAgJze,MAAAA,KAAK,EAAE,KAAKD;AAA5J,KAAd,EAA0L,UAAUq1B,QAAV,EAAoB7F,aAApB,EAAmC8F,aAAnC,EAAkDzlC,UAAlD,EAA8D;AAAE,aAAQ9oC,mEAAa,CAAC,IAAD,EAAOL,+CAAQ,CAAC;AAAE20C,QAAAA,GAAG,EAAEg6B,QAAP;AAAiBrjD,QAAAA,SAAS,EAAE,CAAC,gBAAD,EAAmB1e,MAAnB,CAA0Bk8D,aAA1B,EAAyCplE,KAAK,CAAC20D,eAAN,IAAyB,EAAlE,EAAsEl9C,IAAtE,CAA2E,GAA3E;AAA5B,OAAD,EAAgHyzD,aAAhH,EAA+HlrE,KAAK,CAACw0D,cAArI,CAAf,EAChS73D,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,+CAAb;AAA8DqpB,QAAAA,GAAG,EAAEjxC,KAAK,CAACm2C;AAAW;;AAApF,OAAR,EACTn2C,KAAK,CAACmrE,cAAN,IAAyBxuE,mEAAa,CAACqnE,gEAAD,EAAiB;AAAEx7D,QAAAA,IAAI,EAAEA,IAAR;AAAcy7D,QAAAA,aAAa,EAAE8G;AAA7B,OAAjB,EAAyE,UAAUK,SAAV,EAAqBC,cAArB,EAAqCl1B,UAArC,EAAiDC,YAAjD,EAA+D;AAAE,eAAQz5C,mEAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC;AAAE20C,UAAAA,GAAG,EAAEm6B,SAAP;AAAkBxjD,UAAAA,SAAS,EAAE,CAAC,wBAAD,EAA2B1e,MAA3B,CAAkCmiE,cAAlC,EAAkD5zD,IAAlD,CAAuD,GAAvD;AAA7B,SAAD,EAA6F08C,YAA7F,CAAd,EAA0H/d,YAA1H,CAArB;AAAgK,OAA1S,CAD7B,EAET,CAAC3Q,UAAD,IAAgB9oC,mEAAa,CAACotE,YAAD,EAAe;AAAEvhE,QAAAA,IAAI,EAAEA,IAAR;AAAcyrB,QAAAA,WAAW,EAAEA,WAA3B;AAAwCsvC,QAAAA,aAAa,EAAEvjE,KAAK,CAACujE,aAA7D;AAA4E0G,QAAAA,WAAW,EAAEjqE,KAAK,CAACiqE,WAA/F;AAA4Gp6C,QAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAA9H;AAA0IykC,QAAAA,cAAc,EAAEt0D,KAAK,CAACs0D;AAAhK,OAAf,CAFpB,EAGT33D,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,uBAAb;AAAsCqpB,QAAAA,GAAG,EAAEjxC,KAAK,CAACsrE;AAAjD,OAAR,EACTtrE,KAAK,CAACurE,SADG,EAET5uE,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,uBAAb;AAAsCxnB,QAAAA,KAAK,EAAE;AAAEspC,UAAAA,SAAS,EAAE1pC,KAAK,CAACwrE;AAAnB;AAA7C,OAAR,EACT7uE,mEAAa,CAAC2tE,iBAAD,EAAoB;AAAExE,QAAAA,UAAU,EAAEt9D,IAAd;AAAoBgiE,QAAAA,gBAAgB,EAAExqE,KAAK,CAACwqE,gBAA5C;AAA8DtE,QAAAA,OAAO,EAAElmE,KAAK,CAACkmE,OAA7E;AAAsFG,QAAAA,cAAc,EAAE1wB,SAAtG;AAAiHgvB,QAAAA,YAAY,EAAE,CAAC3kE,KAAK,CAACujE,aAAtI;AAAqJ8B,QAAAA,aAAa,EAAErlE,KAAK,CAACqlE,aAA1K;AAAyLpxC,QAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAA5M;AAAyNkQ,QAAAA,cAAc,EAAEnkC,KAAK,CAACmkC,cAA/O;AAA+PP,QAAAA,SAAS,EAAE5jC,KAAK,CAAC4jC,SAAhR;AAA2RE,QAAAA,WAAW,EAAE9jC,KAAK,CAAC8jC,WAA9S;AAA2TjU,QAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB;AAA7U,OAApB,CADJ,CAFJ,CAHJ,EAOTlzB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EAA4C5nB,KAAK,CAACyrE,SAAlD,CAPJ,CADmR,CAArB;AAQxL,KARlE,CAArB;AASH,GAhBD;;AAiBA,SAAOT,SAAP;AACH,CA7B8B,CA6B7B75B,+DA7B6B,CAA/B;;AA+BA,SAASu6B,qBAAT,CAA+Bz9C,IAA/B,EAAqC;AACrC7N,YADA,EACcC,eADd,EAC+B8pC,WAD/B,EAC4CwhB,oBAD5C,EACkEC,gBADlE,EACoF/U,KADpF,EAC2F;AACvF,MAAIgV,SAAS,GAAG,IAAIC,mBAAJ,EAAhB;AACAD,EAAAA,SAAS,CAACzhB,cAAV,GAA2B,IAA3B;AACAyhB,EAAAA,SAAS,CAAC1hB,WAAV,GAAwBA,WAAxB;;AACA,MAAI/pC,YAAY,KAAK,IAAjB,IAAyBC,eAAe,KAAK,IAAjD,EAAuD;AACnDwrD,IAAAA,SAAS,CAACxhB,QAAV,GAAqBuhB,gBAArB;AACAC,IAAAA,SAAS,CAACE,cAAV,GAA2B,IAA3B;AACH,GAHD,MAIK,IAAI,OAAO3rD,YAAP,KAAwB,QAA5B,EAAsC;AACvCyrD,IAAAA,SAAS,CAACvhB,WAAV,GAAwBlqC,YAAxB;AACH,GAFI,MAGA,IAAI,OAAOC,eAAP,KAA2B,QAA/B,EAAyC;AAC1CwrD,IAAAA,SAAS,CAACvhB,WAAV,GAAwBjqC,eAAxB;AACAwrD,IAAAA,SAAS,CAACE,cAAV,GAA2B,IAA3B;AACH,GAdsF,CAevF;;;AACA,MAAIphB,SAAS,GAAG,EAAhB;AACA,MAAIqhB,iBAAiB,GAAG,EAAxB;;AACA,OAAK,IAAI5sE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6uB,IAAI,CAAC5uB,MAAzB,EAAiCD,CAAC,IAAI,CAAtC,EAAyC;AACrC,QAAIuuB,GAAG,GAAGM,IAAI,CAAC7uB,CAAD,CAAd;AACA,QAAIwK,UAAU,GAAG+jB,GAAG,CAACY,UAAJ,CAAephB,QAAf,CAAwBvD,UAAzC;AACA,QAAIqiE,WAAW,GAAGN,oBAAoB,CAAC/hE,UAAD,CAAtC;;AACA,QAAIqiE,WAAW,IAAI,IAAnB,EAAyB;AACrBthB,MAAAA,SAAS,CAAChvD,IAAV,CAAe;AACXoxD,QAAAA,KAAK,EAAE3tD,CADI;AAEX4rD,QAAAA,SAAS,EAAEr9B,GAAG,CAAC4pC,QAFJ;AAGXtM,QAAAA,OAAO,EAAEt9B,GAAG,CAAC6pC,OAAJ,GAAc,CAHZ;AAIXtM,QAAAA,SAAS,EAAE+gB;AAJA,OAAf;AAMH,KAPD,MAQK;AACDD,MAAAA,iBAAiB,CAACrwE,IAAlB,CAAuBgyB,GAAvB;AACH;AACJ;;AACD,MAAIi9B,aAAa,GAAGihB,SAAS,CAACnhB,OAAV,CAAkBC,SAAlB,CAApB;AACA,MAAIuhB,QAAQ,GAAGL,SAAS,CAACjf,OAAV,EAAf;;AACA,MAAIpsD,EAAE,GAAG2rE,UAAU,CAACD,QAAD,EAAWj+C,IAAX,EAAiB4oC,KAAjB,CAAnB;AAAA,MAA4CuV,mBAAmB,GAAG5rE,EAAE,CAAC4rE,mBAArE;AAAA,MAA0FC,kBAAkB,GAAG7rE,EAAE,CAAC6rE,kBAAlH;AAAA,MAAsIC,eAAe,GAAG9rE,EAAE,CAAC8rE,eAA3J;;AACA,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,cAAc,GAAG,EAArB,CAtCuF,CAuCvF;;AACA,OAAK,IAAI7hE,EAAE,GAAG,CAAT,EAAY8hE,mBAAmB,GAAGT,iBAAvC,EAA0DrhE,EAAE,GAAG8hE,mBAAmB,CAACptE,MAAnF,EAA2FsL,EAAE,EAA7F,EAAiG;AAC7F,QAAIgjB,GAAG,GAAG8+C,mBAAmB,CAAC9hE,EAAD,CAA7B;AACA0hE,IAAAA,kBAAkB,CAAC1+C,GAAG,CAAC4pC,QAAL,CAAlB,CAAiC57D,IAAjC,CAAsC;AAClCgyB,MAAAA,GAAG,EAAEA,GAD6B;AAElCm9C,MAAAA,SAAS,EAAE,KAFuB;AAGlCvO,MAAAA,UAAU,EAAE,IAHsB;AAIlCmQ,MAAAA,WAAW,EAAE,CAJqB;AAKlChjC,MAAAA,SAAS,EAAE;AALuB,KAAtC;;AAOA,SAAK,IAAIytB,GAAG,GAAGxpC,GAAG,CAAC4pC,QAAnB,EAA6BJ,GAAG,IAAIxpC,GAAG,CAAC6pC,OAAxC,EAAiDL,GAAG,IAAI,CAAxD,EAA2D;AACvDiV,MAAAA,mBAAmB,CAACjV,GAAD,CAAnB,CAAyBx7D,IAAzB,CAA8B;AAC1BgyB,QAAAA,GAAG,EAAEg/C,UAAU,CAACh/C,GAAD,EAAMwpC,GAAN,EAAWA,GAAG,GAAG,CAAjB,EAAoBN,KAApB,CADW;AAE1BiU,QAAAA,SAAS,EAAE,KAFe;AAG1BvO,QAAAA,UAAU,EAAE,KAHc;AAI1BmQ,QAAAA,WAAW,EAAE,CAJa;AAK1BhjC,QAAAA,SAAS,EAAE;AALe,OAA9B;AAOH;AACJ,GA1DsF,CA2DvF;;;AACA,OAAK,IAAIytB,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,KAAK,CAACx3D,MAA9B,EAAsC83D,GAAG,IAAI,CAA7C,EAAgD;AAC5CoV,IAAAA,QAAQ,CAAC5wE,IAAT,CAAc,CAAd;AACH;;AACD,OAAK,IAAI8E,EAAE,GAAG,CAAT,EAAYmsE,eAAe,GAAGhiB,aAAnC,EAAkDnqD,EAAE,GAAGmsE,eAAe,CAACvtE,MAAvE,EAA+EoB,EAAE,EAAjF,EAAqF;AACjF,QAAIosE,WAAW,GAAGD,eAAe,CAACnsE,EAAD,CAAjC;AACA,QAAIktB,GAAG,GAAGM,IAAI,CAAC4+C,WAAW,CAAC/hB,QAAZ,CAAqBiC,KAAtB,CAAd;AACAsf,IAAAA,kBAAkB,CAACQ,WAAW,CAAC7hB,SAAb,CAAlB,CAA0CrvD,IAA1C,CAA+C;AAC3CgyB,MAAAA,GAAG,EAAEA,GADsC;AAE3Cm9C,MAAAA,SAAS,EAAE,KAFgC;AAG3CvO,MAAAA,UAAU,EAAE,IAH+B;AAI3CmQ,MAAAA,WAAW,EAAE,CAJ8B;AAK3ChjC,MAAAA,SAAS,EAAE;AALgC,KAA/C;;AAOA,SAAK,IAAIytB,GAAG,GAAG0V,WAAW,CAAC7hB,SAA3B,EAAsCmM,GAAG,GAAG0V,WAAW,CAAC5hB,OAAxD,EAAiEkM,GAAG,IAAI,CAAxE,EAA2E;AACvEoV,MAAAA,QAAQ,CAACpV,GAAD,CAAR,IAAiB,CAAjB;AACAiV,MAAAA,mBAAmB,CAACjV,GAAD,CAAnB,CAAyBx7D,IAAzB,CAA8B;AAC1BgyB,QAAAA,GAAG,EAAEg/C,UAAU,CAACh/C,GAAD,EAAMwpC,GAAN,EAAWA,GAAG,GAAG,CAAjB,EAAoBN,KAApB,CADW;AAE1BiU,QAAAA,SAAS,EAAE,KAFe;AAG1BvO,QAAAA,UAAU,EAAE,KAHc;AAI1BmQ,QAAAA,WAAW,EAAE,CAJa;AAK1BhjC,QAAAA,SAAS,EAAE;AALe,OAA9B;AAOH;AACJ,GAnFsF,CAoFvF;;;AACA,OAAK,IAAIytB,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,KAAK,CAACx3D,MAA9B,EAAsC83D,GAAG,IAAI,CAA7C,EAAgD;AAC5CqV,IAAAA,cAAc,CAAC7wE,IAAf,CAAoB2wE,eAAe,CAACnV,GAAD,CAAnC;AACH;;AACD,SAAO;AAAEiV,IAAAA,mBAAmB,EAAEA,mBAAvB;AAA4CC,IAAAA,kBAAkB,EAAEA,kBAAhE;AAAoFE,IAAAA,QAAQ,EAAEA,QAA9F;AAAwGC,IAAAA,cAAc,EAAEA;AAAxH,GAAP;AACH,EACD;;;AACA,SAASL,UAAT,CAAoBW,QAApB,EAA8B7+C,IAA9B,EAAoC4oC,KAApC,EAA2C;AACvC,MAAIkW,cAAc,GAAGC,mBAAmB,CAACF,QAAD,EAAWjW,KAAK,CAACx3D,MAAjB,CAAxC;AACA,MAAI+sE,mBAAmB,GAAG,EAA1B;AACA,MAAIC,kBAAkB,GAAG,EAAzB;AACA,MAAIC,eAAe,GAAG,EAAtB;;AACA,OAAK,IAAInV,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,KAAK,CAACx3D,MAA9B,EAAsC83D,GAAG,IAAI,CAA7C,EAAgD;AAC5C,QAAItK,KAAK,GAAGkgB,cAAc,CAAC5V,GAAD,CAA1B,CAD4C,CAE5C;;AACA,QAAIqT,gBAAgB,GAAG,EAAvB;AACA,QAAIyC,aAAa,GAAG,CAApB;AACA,QAAIC,gBAAgB,GAAG,CAAvB;;AACA,SAAK,IAAIviE,EAAE,GAAG,CAAT,EAAYwiE,OAAO,GAAGtgB,KAA3B,EAAkCliD,EAAE,GAAGwiE,OAAO,CAAC9tE,MAA/C,EAAuDsL,EAAE,EAAzD,EAA6D;AACzD,UAAIk2B,IAAI,GAAGssC,OAAO,CAACxiE,EAAD,CAAlB;AACA,UAAIgjB,GAAG,GAAGM,IAAI,CAAC4S,IAAI,CAACiqB,QAAL,CAAciC,KAAf,CAAd;AACAyd,MAAAA,gBAAgB,CAAC7uE,IAAjB,CAAsB;AAClBgyB,QAAAA,GAAG,EAAEg/C,UAAU,CAACh/C,GAAD,EAAMwpC,GAAN,EAAWA,GAAG,GAAG,CAAjB,EAAoBN,KAApB,CADG;AAElBiU,QAAAA,SAAS,EAAE,IAFO;AAGlBvO,QAAAA,UAAU,EAAE,KAHM;AAIlBmQ,QAAAA,WAAW,EAAE,CAJK;AAKlBhjC,QAAAA,SAAS,EAAE7I,IAAI,CAAC2qB,UAAL,GAAkByhB;AALX,OAAtB;AAOAA,MAAAA,aAAa,GAAGpsC,IAAI,CAAC2qB,UAAL,GAAkB3qB,IAAI,CAACqqB,SAAvC;AACH,KAjB2C,CAkB5C;;;AACA,QAAIkiB,eAAe,GAAG,EAAtB;AACAH,IAAAA,aAAa,GAAG,CAAhB;AACAC,IAAAA,gBAAgB,GAAG,CAAnB;;AACA,SAAK,IAAI1sE,EAAE,GAAG,CAAT,EAAY6sE,OAAO,GAAGxgB,KAA3B,EAAkCrsD,EAAE,GAAG6sE,OAAO,CAAChuE,MAA/C,EAAuDmB,EAAE,EAAzD,EAA6D;AACzD,UAAIqgC,IAAI,GAAGwsC,OAAO,CAAC7sE,EAAD,CAAlB;AACA,UAAImtB,GAAG,GAAGM,IAAI,CAAC4S,IAAI,CAACiqB,QAAL,CAAciC,KAAf,CAAd;AACA,UAAIwP,UAAU,GAAG17B,IAAI,CAACoqB,OAAL,GAAepqB,IAAI,CAACmqB,SAApB,GAAgC,CAAjD,CAHyD,CAGL;;AACpD,UAAIsiB,UAAU,GAAGzsC,IAAI,CAACmqB,SAAL,KAAmBmM,GAApC;AACA+V,MAAAA,gBAAgB,IAAIrsC,IAAI,CAAC2qB,UAAL,GAAkByhB,aAAtC,CALyD,CAKJ;;AACrDA,MAAAA,aAAa,GAAGpsC,IAAI,CAAC2qB,UAAL,GAAkB3qB,IAAI,CAACqqB,SAAvC,CANyD,CAMP;;AAClD,UAAIqR,UAAJ,EAAgB;AACZ2Q,QAAAA,gBAAgB,IAAIrsC,IAAI,CAACqqB,SAAzB;;AACA,YAAIoiB,UAAJ,EAAgB;AACZF,UAAAA,eAAe,CAACzxE,IAAhB,CAAqB;AACjBgyB,YAAAA,GAAG,EAAEg/C,UAAU,CAACh/C,GAAD,EAAMkT,IAAI,CAACmqB,SAAX,EAAsBnqB,IAAI,CAACoqB,OAA3B,EAAoC4L,KAApC,CADE;AAEjBiU,YAAAA,SAAS,EAAE,IAFM;AAGjBvO,YAAAA,UAAU,EAAE,IAHK;AAIjBmQ,YAAAA,WAAW,EAAE7rC,IAAI,CAAC2qB,UAJD;AAKjB9hB,YAAAA,SAAS,EAAE;AALM,WAArB;AAOH;AACJ,OAXD,MAYK,IAAI4jC,UAAJ,EAAgB;AACjBF,QAAAA,eAAe,CAACzxE,IAAhB,CAAqB;AACjBgyB,UAAAA,GAAG,EAAEg/C,UAAU,CAACh/C,GAAD,EAAMkT,IAAI,CAACmqB,SAAX,EAAsBnqB,IAAI,CAACoqB,OAA3B,EAAoC4L,KAApC,CADE;AAEjBiU,UAAAA,SAAS,EAAE,IAFM;AAGjBvO,UAAAA,UAAU,EAAE,KAHK;AAIjBmQ,UAAAA,WAAW,EAAE,CAJI;AAKjBhjC,UAAAA,SAAS,EAAEwjC,gBALM,CAKY;;AALZ,SAArB;AAOAA,QAAAA,gBAAgB,GAAG,CAAnB;AACH;AACJ;;AACDd,IAAAA,mBAAmB,CAACzwE,IAApB,CAAyB6uE,gBAAzB;AACA6B,IAAAA,kBAAkB,CAAC1wE,IAAnB,CAAwByxE,eAAxB;AACAd,IAAAA,eAAe,CAAC3wE,IAAhB,CAAqBuxE,gBAArB;AACH;;AACD,SAAO;AAAEd,IAAAA,mBAAmB,EAAEA,mBAAvB;AAA4CC,IAAAA,kBAAkB,EAAEA,kBAAhE;AAAoFC,IAAAA,eAAe,EAAEA;AAArG,GAAP;AACH;;AACD,SAASU,mBAAT,CAA6BngB,KAA7B,EAAoCuH,MAApC,EAA4C;AACxC,MAAI2Y,cAAc,GAAG,EAArB;;AACA,OAAK,IAAI5V,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG/C,MAAxB,EAAgC+C,GAAG,IAAI,CAAvC,EAA0C;AACtC4V,IAAAA,cAAc,CAACpxE,IAAf,CAAoB,EAApB;AACH;;AACD,OAAK,IAAIgP,EAAE,GAAG,CAAT,EAAY4iE,OAAO,GAAG1gB,KAA3B,EAAkCliD,EAAE,GAAG4iE,OAAO,CAACluE,MAA/C,EAAuDsL,EAAE,EAAzD,EAA6D;AACzD,QAAIk2B,IAAI,GAAG0sC,OAAO,CAAC5iE,EAAD,CAAlB;;AACA,SAAK,IAAIwsD,GAAG,GAAGt2B,IAAI,CAACmqB,SAApB,EAA+BmM,GAAG,GAAGt2B,IAAI,CAACoqB,OAA1C,EAAmDkM,GAAG,IAAI,CAA1D,EAA6D;AACzD4V,MAAAA,cAAc,CAAC5V,GAAD,CAAd,CAAoBx7D,IAApB,CAAyBklC,IAAzB;AACH;AACJ;;AACD,SAAOksC,cAAP;AACH;;AACD,SAASJ,UAAT,CAAoBh/C,GAApB,EAAyBq9B,SAAzB,EAAoCC,OAApC,EAA6C4L,KAA7C,EAAoD;AAChD,MAAIlpC,GAAG,CAAC4pC,QAAJ,KAAiBvM,SAAjB,IAA8Br9B,GAAG,CAAC6pC,OAAJ,KAAgBvM,OAAO,GAAG,CAA5D,EAA+D;AAC3D,WAAOt9B,GAAP;AACH;;AACD,MAAIY,UAAU,GAAGZ,GAAG,CAACY,UAArB;AACA,MAAIxB,SAAS,GAAGwB,UAAU,CAAC9kB,KAA3B;AACA,MAAIwjB,WAAW,GAAGpB,qEAAe,CAACkB,SAAD,EAAY;AACzCpf,IAAAA,KAAK,EAAEkpD,KAAK,CAAC7L,SAAD,CAAL,CAAiBxiD,IADiB;AAEzCoF,IAAAA,GAAG,EAAEtI,6DAAO,CAACuxD,KAAK,CAAC5L,OAAO,GAAG,CAAX,CAAL,CAAmBziD,IAApB,EAA0B,CAA1B;AAF6B,GAAZ,CAAjC;AAIA,SAAOlM,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKqxB,GAAL,CAAT,EAAoB;AAAE4pC,IAAAA,QAAQ,EAAEvM,SAAZ;AAAuBwM,IAAAA,OAAO,EAAEvM,OAAO,GAAG,CAA1C;AAA6C18B,IAAAA,UAAU,EAAE;AACpFlhB,MAAAA,GAAG,EAAEkhB,UAAU,CAAClhB,GADoE;AAEpFmc,MAAAA,EAAE,EAAEltB,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKiyB,UAAU,CAAC/E,EAAhB,CAAT,EAA8B;AAAEhC,QAAAA,gBAAgB,EAAE;AAApB,OAA9B,CAFwE;AAGpFra,MAAAA,QAAQ,EAAEohB,UAAU,CAACphB,QAH+D;AAIpF1D,MAAAA,KAAK,EAAEwjB;AAJ6E,KAAzD;AAK5BC,IAAAA,OAAO,EAAES,GAAG,CAACT,OAAJ,IAAeD,WAAW,CAACtf,KAAZ,CAAkB7V,OAAlB,OAAgCi1B,SAAS,CAACpf,KAAV,CAAgB7V,OAAhB,EAL5B;AAKuDq1B,IAAAA,KAAK,EAAEQ,GAAG,CAACR,KAAJ,IAAaF,WAAW,CAACrf,GAAZ,CAAgB9V,OAAhB,OAA8Bi1B,SAAS,CAACnf,GAAV,CAAc9V,OAAd;AALzG,GAApB,CAAf;AAMH;;AACD,IAAIg0E,mBAAmB;AAAG;AAAe,UAAU1+B,MAAV,EAAkB;AACvD5wC,EAAAA,gDAAS,CAACsvE,mBAAD,EAAsB1+B,MAAtB,CAAT;;AACA,WAAS0+B,mBAAT,GAA+B;AAC3B,QAAIr5D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE,CAD2B,CAE3B;;;AACAE,IAAAA,KAAK,CAACs5D,cAAN,GAAuB,KAAvB,CAH2B,CAI3B;;AACAt5D,IAAAA,KAAK,CAAC+6D,WAAN,GAAoB,EAApB;AACA,WAAO/6D,KAAP;AACH;;AACDq5D,EAAAA,mBAAmB,CAACv0E,SAApB,CAA8BmzD,OAA9B,GAAwC,UAAUC,SAAV,EAAqB;AACzD,QAAIl4C,KAAK,GAAG,IAAZ;;AACA,QAAIuzD,UAAU,GAAG54B,MAAM,CAAC71C,SAAP,CAAiBmzD,OAAjB,CAAyBvyD,IAAzB,CAA8B,IAA9B,EAAoCwyD,SAApC,CAAjB;;AACA,QAAIH,cAAc,GAAG,KAAKA,cAA1B;;AACA,QAAIijB,aAAa,GAAG,SAAhBA,aAAgB,CAAUtiB,KAAV,EAAiB;AAAE,aAAO,CAAC14C,KAAK,CAAC+6D,WAAN,CAAkBthB,mEAAa,CAACf,KAAD,CAA/B,CAAR;AAAkD,KAAzF,CAJyD,CAKzD;;;AACA,SAAK,IAAIkB,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG7B,cAAc,CAACnrD,MAA3C,EAAmDgtD,KAAK,IAAI,CAA5D,EAA+D;AAC3D7B,MAAAA,cAAc,CAAC6B,KAAD,CAAd,GAAwB7B,cAAc,CAAC6B,KAAD,CAAd,CAAsB5rB,MAAtB,CAA6BgtC,aAA7B,CAAxB;AACH;;AACD,WAAOzH,UAAP;AACH,GAVD;;AAWA8F,EAAAA,mBAAmB,CAACv0E,SAApB,CAA8Bg0D,sBAA9B,GAAuD,UAAU91C,SAAV,EAAqB01C,KAArB,EAA4BP,aAA5B,EAA2C;AAC9F,QAAIpqD,EAAE,GAAG,IAAT;AAAA,QAAegqD,cAAc,GAAGhqD,EAAE,CAACgqD,cAAnC;AAAA,QAAmDgjB,WAAW,GAAGhtE,EAAE,CAACgtE,WAApE;;AACA,QAAInhB,KAAK,GAAG52C,SAAS,CAACs2C,SAAV,GAAsB,CAAlC;;AACA,QAAI,KAAKggB,cAAL,IAAuB1f,KAAK,IAAI,CAApC,EAAuC;AACnC,WAAK,IAAIqhB,OAAO,GAAGj4D,SAAS,CAAC62C,YAA7B,EAA2CohB,OAAO,GAAGj4D,SAAS,CAACw2C,UAA/D,EAA2EyhB,OAAO,IAAI,CAAtF,EAAyF;AACrF,YAAIC,YAAY,GAAGnjB,cAAc,CAAC6B,KAAD,CAAd,CAAsBqhB,OAAtB,CAAnB;;AACA,YAAI,KAAKtjB,cAAT,EAAyB;AACrB,cAAIwjB,gBAAgB,GAAGtxE,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKqxE,YAAL,CAAT,EAA6B;AAAE3iB,YAAAA,SAAS,EAAE1kD,IAAI,CAACoO,GAAL,CAASi5D,YAAY,CAAC3iB,SAAtB,EAAiCG,KAAK,CAACH,SAAvC,CAAb;AAAgEC,YAAAA,OAAO,EAAE3kD,IAAI,CAACwB,GAAL,CAAS6lE,YAAY,CAAC1iB,OAAtB,EAA+BE,KAAK,CAACF,OAArC;AAAzE,WAA7B,CAA/B;;AACA,cAAI4iB,kBAAkB,GAAG3hB,mEAAa,CAAC0hB,gBAAD,CAAtC;;AACA,cAAI,CAACJ,WAAW,CAACK,kBAAD,CAAhB,EAAsC;AAClCL,YAAAA,WAAW,CAACK,kBAAD,CAAX,GAAkC,IAAlC;AACArjB,YAAAA,cAAc,CAAC6B,KAAD,CAAd,CAAsBqhB,OAAtB,IAAiCE,gBAAjC;AACA,iBAAKjiB,UAAL,CAAgBgiB,YAAhB,EAA8BxiB,KAA9B,EAAqCP,aAArC,EAHkC,CAGmB;AACxD;AACJ,SARD,MASK;AACD,cAAIijB,kBAAkB,GAAG3hB,mEAAa,CAACyhB,YAAD,CAAtC;;AACA,cAAI,CAACH,WAAW,CAACK,kBAAD,CAAhB,EAAsC;AAClCL,YAAAA,WAAW,CAACK,kBAAD,CAAX,GAAkC,IAAlC;AACAjjB,YAAAA,aAAa,CAACjvD,IAAd,CAAmBgyE,YAAnB;AACH;AACJ;AACJ;AACJ;;AACD,WAAOvgC,MAAM,CAAC71C,SAAP,CAAiBg0D,sBAAjB,CAAwCpzD,IAAxC,CAA6C,IAA7C,EAAmDsd,SAAnD,EAA8D01C,KAA9D,EAAqEP,aAArE,CAAP;AACH,GAzBD;;AA0BA,SAAOkhB,mBAAP;AACH,CAhDwC,CAgDvC5hB,8DAhDuC,CAAzC;;AAkDA,IAAI4jB,QAAQ;AAAG;AAAe,UAAU1gC,MAAV,EAAkB;AAC5C5wC,EAAAA,gDAAS,CAACsxE,QAAD,EAAW1gC,MAAX,CAAT;;AACA,WAAS0gC,QAAT,GAAoB;AAChB,QAAIr7D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACs7D,UAAN,GAAmB,IAAI1Q,wDAAJ,EAAnB,CAFgB,CAEiB;;AACjC5qD,IAAAA,KAAK,CAACu7D,WAAN,GAAoB,IAAI3Q,wDAAJ,EAApB,CAHgB,CAGkB;;AAClC5qD,IAAAA,KAAK,CAACw7D,QAAN,GAAiB,IAAI5Q,wDAAJ,EAAjB,CAJgB,CAIe;;AAC/B5qD,IAAAA,KAAK,CAACy7D,cAAN,GAAuB,IAAI7Q,wDAAJ,EAAvB,CALgB,CAKqB;;AACrC5qD,IAAAA,KAAK,CAACkjC,SAAN,GAAkBj5C,+DAAS,EAA3B;AACA+V,IAAAA,KAAK,CAACwkB,KAAN,GAAc;AACVk3C,MAAAA,cAAc,EAAE,IADN;AAEVvC,MAAAA,gBAAgB,EAAE,IAFR;AAGVD,MAAAA,oBAAoB,EAAE;AAHZ,KAAd;AAKA,WAAOl5D,KAAP;AACH;;AACDq7D,EAAAA,QAAQ,CAACv2E,SAAT,CAAmBgC,MAAnB,GAA4B,YAAY;AACpC,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCi3B,KAAK,GAAGz2B,EAAE,CAACy2B,KAA5C;AAAA,QAAmDl6B,OAAO,GAAGyD,EAAE,CAACzD,OAAhE;;AACA,QAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AACA,QAAIk7D,MAAM,GAAGp0D,KAAK,CAAC62D,KAAN,CAAYx3D,MAAzB;AACA,QAAI+uE,kBAAkB,GAAGxE,mBAAmB,CAAC5pE,KAAK,CAACu4D,gBAAP,EAAyBnE,MAAzB,CAA5C;AACA,QAAIia,gBAAgB,GAAGzE,mBAAmB,CAAC5pE,KAAK,CAACy4D,WAAP,EAAoBrE,MAApB,CAA1C;AACA,QAAIka,kBAAkB,GAAG1E,mBAAmB,CAAC,KAAK2E,gBAAL,EAAD,EAA0Bna,MAA1B,CAA5C;AACA,QAAIoa,eAAe,GAAG5E,mBAAmB,CAAC,KAAK6E,aAAL,EAAD,EAAuBra,MAAvB,CAAzC;;AACA,QAAI3zD,EAAE,GAAGirE,qBAAqB,CAAC19C,mEAAa,CAAChuB,KAAK,CAACw4D,WAAP,EAAoBt/D,OAAO,CAAC+jB,UAA5B,CAAd,EAAuDjd,KAAK,CAACogB,YAA7D,EAA2EpgB,KAAK,CAACqgB,eAAjF,EAAkGnnB,OAAO,CAACgkB,gBAA1G,EAA4H+Z,KAAK,CAAC00C,oBAAlI,EAAwJ10C,KAAK,CAAC20C,gBAA9J,EAAgL5rE,KAAK,CAAC62D,KAAtL,CAA9B;AAAA,QAA4NuV,mBAAmB,GAAG3rE,EAAE,CAAC2rE,mBAArP;AAAA,QAA0QC,kBAAkB,GAAG5rE,EAAE,CAAC4rE,kBAAlS;AAAA,QAAsTE,QAAQ,GAAG9rE,EAAE,CAAC8rE,QAApU;AAAA,QAA8UC,cAAc,GAAG/rE,EAAE,CAAC+rE,cAAlW;;AACA,QAAI9B,iBAAiB,GAAG;AACtB1qE,IAAAA,KAAK,CAAC4jC,SAAN,IAAmB5jC,KAAK,CAAC4jC,SAAN,CAAgBk1B,iBAApC,IACI94D,KAAK,CAAC8jC,WAAN,IAAqB9jC,KAAK,CAAC8jC,WAAN,CAAkBg1B,iBAD3C,IAEG,EAHJ;AAIA,WAAQn8D,mEAAa,CAAC,IAAD,EAAO;AAAEs0C,MAAAA,GAAG,EAAE,KAAK0E;AAAZ,KAAP,EACjB31C,KAAK,CAACy1D,WAAN,IAAqBz1D,KAAK,CAACy1D,WAAN,EADJ,EAEjBz1D,KAAK,CAAC62D,KAAN,CAAYj/D,GAAZ,CAAgB,UAAU82E,IAAV,EAAgBvX,GAAhB,EAAqB;AACjC,UAAIwX,aAAa,GAAGl8D,KAAK,CAACm8D,YAAN,CAAmBzX,GAAnB,EAAwBn3D,KAAK,CAAC0yD,QAAN,GAAiB0Z,mBAAmB,CAACjV,GAAD,CAApC,GAA4CkV,kBAAkB,CAAClV,GAAD,CAAtF,EAA6Fn3D,KAAK,CAAC6vB,UAAnG,EAA+G66C,iBAA/G,CAApB;;AACA,UAAImE,aAAa,GAAGp8D,KAAK,CAACm8D,YAAN,CAAmBzX,GAAnB,EAAwB2X,qBAAqB,CAACN,eAAe,CAACrX,GAAD,CAAhB,EAAuBkV,kBAAvB,CAA7C,EAAyFrsE,KAAK,CAAC6vB,UAA/F,EAA2G,EAA3G,EAA+G9V,OAAO,CAAC/Z,KAAK,CAAC4jC,SAAP,CAAtH,EAAyI7pB,OAAO,CAAC/Z,KAAK,CAAC8jC,WAAP,CAAhJ,EAAqK,KAArK,CAApB;;AACA,aAAQnnC,mEAAa,CAACquE,SAAD,EAAY;AAAEzyE,QAAAA,GAAG,EAAEm2E,IAAI,CAACn2E,GAAZ;AAAiBs9C,QAAAA,KAAK,EAAEpjC,KAAK,CAACs7D,UAAN,CAAiBrxE,SAAjB,CAA2BgyE,IAAI,CAACn2E,GAAhC,CAAxB;AAA8D49C,QAAAA,UAAU,EAAE1jC,KAAK,CAACu7D,WAAN,CAAkBtxE,SAAlB,CAA4BgyE,IAAI,CAACn2E,GAAjC;AAAsC;AAAhH;AAA0L07B,QAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAA7M;AAA0NzrB,QAAAA,IAAI,EAAEkmE,IAAI,CAAClmE,IAArO;AAA2O+6D,QAAAA,aAAa,EAAEvjE,KAAK,CAAC+uE,cAAhQ;AAAgR5D,QAAAA,cAAc,EAAEnrE,KAAK,CAACgvE,eAAN,IAAyB7X,GAAG,KAAK,CAAjU;AAAoU8S,QAAAA,WAAW,EAAEjqE,KAAK,CAACgvE;AAAgB;AAAvW;AAAman/C,QAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAArb;AAAicsU,QAAAA,cAAc,EAAEnkC,KAAK,CAACmkC,cAAvd;AAAueP,QAAAA,SAAS,EAAE5jC,KAAK,CAAC4jC,SAAxf;AAAmgBE,QAAAA,WAAW,EAAE9jC,KAAK,CAAC8jC,WAAthB;AAAmiBwwB,QAAAA,cAAc,EAAEoa,IAAI,CAACpa,cAAxjB;AAAwkBE,QAAAA,cAAc,EAAEka,IAAI,CAACla,cAA7lB;AAA6mBG,QAAAA,eAAe,EAAE+Z,IAAI,CAAC/Z,eAAnoB;AAAopB0Q,QAAAA,aAAa,EAAEqJ,IAAI,CAACrJ,aAAxqB;AAAurBa,QAAAA,OAAO,EAAEqG,QAAQ,CAACpV,GAAD,CAAxsB;AAA+sBqU,QAAAA,aAAa,EAAEgB,cAAc,CAACrV,GAAD,CAA5uB;AAAmvBqT,QAAAA,gBAAgB,EAAE4B,mBAAmB,CAACjV,GAAD,CAAxxB;AAA+xBmU,QAAAA,cAAc,EAAE74D,KAAK,CAACw7D,QAAN,CAAevxE,SAAf,CAAyBgyE,IAAI,CAACn2E,GAA9B,CAA/yB;AAAm1BgzE,QAAAA,SAAS,EAAI;AAC73B5uE,QAAAA,mEAAa,CAACC,0DAAD,EAAW,IAAX,EACTD,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAAiB+xE,aAAjB,CADJ,EAEThyE,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAAiBiyE,aAAjB,CAFJ,CADgB;AAGuBpD,QAAAA,SAAS,EAAI;AACjE9uE,QAAAA,mEAAa,CAACC,0DAAD,EAAW,IAAX,EACT6V,KAAK,CAACw8D,cAAN,CAAqBX,kBAAkB,CAACnX,GAAD,CAAvC,EAA8C,WAA9C,CADS,EAET1kD,KAAK,CAACw8D,cAAN,CAAqBb,kBAAkB,CAACjX,GAAD,CAAvC,EAA8C,cAA9C,CAFS,EAGT1kD,KAAK,CAACw8D,cAAN,CAAqBZ,gBAAgB,CAAClX,GAAD,CAArC,EAA4C,UAA5C,CAHS;AAJgB,OAAZ,CAArB;AAQH,KAXD,CAFiB,CAArB;AAcH,GA5BD;;AA6BA2W,EAAAA,QAAQ,CAACv2E,SAAT,CAAmBo/C,iBAAnB,GAAuC,YAAY;AAC/C,SAAKu4B,YAAL,CAAkB,IAAlB;AACH,GAFD;;AAGApB,EAAAA,QAAQ,CAACv2E,SAAT,CAAmBs/C,kBAAnB,GAAwC,UAAUiT,SAAV,EAAqBqlB,SAArB,EAAgC;AACpE,QAAIC,YAAY,GAAG,KAAKpvE,KAAxB;AACA,SAAKkvE,YAAL,CAAkB,CAAChkE,kEAAY,CAAC4+C,SAAD,EAAYslB,YAAZ,CAA/B;AACH,GAHD;;AAIAtB,EAAAA,QAAQ,CAACv2E,SAAT,CAAmBg3E,gBAAnB,GAAsC,YAAY;AAC9C,QAAIvuE,KAAK,GAAG,KAAKA,KAAjB;;AACA,QAAIA,KAAK,CAAC4jC,SAAN,IAAmB5jC,KAAK,CAAC4jC,SAAN,CAAgB3V,IAAhB,CAAqB5uB,MAA5C,EAAoD;AAAE;AAClD,aAAOW,KAAK,CAAC4jC,SAAN,CAAgB3V,IAAvB;AACH;;AACD,QAAIjuB,KAAK,CAAC8jC,WAAN,IAAqB9jC,KAAK,CAAC8jC,WAAN,CAAkB7V,IAAlB,CAAuB5uB,MAAhD,EAAwD;AAAE;AACtD,aAAOW,KAAK,CAAC8jC,WAAN,CAAkB7V,IAAzB;AACH;;AACD,WAAOjuB,KAAK,CAACs4D,iBAAb;AACH,GATD;;AAUAwV,EAAAA,QAAQ,CAACv2E,SAAT,CAAmBk3E,aAAnB,GAAmC,YAAY;AAC3C,QAAIzuE,KAAK,GAAG,KAAKA,KAAjB;;AACA,QAAIA,KAAK,CAAC8jC,WAAN,IAAqB9jC,KAAK,CAAC8jC,WAAN,CAAkB7V,IAAlB,CAAuB5uB,MAAhD,EAAwD;AAAE;AACtD,aAAOW,KAAK,CAAC8jC,WAAN,CAAkB7V,IAAzB;AACH;;AACD,WAAO,EAAP;AACH,GAND;;AAOA6/C,EAAAA,QAAQ,CAACv2E,SAAT,CAAmBq3E,YAAnB,GAAkC,UAAUzX,GAAV,EAAekY,aAAf,EAA8Bx/C,UAA9B,EAA0C66C,iBAA1C,EAA6Dl6C,UAA7D,EAAyEC,UAAzE,EAAqFkyC,eAArF,EAAsG;AACpI,QAAI5lE,OAAO,GAAG,KAAKA,OAAnB;AACA,QAAIonC,cAAc,GAAG,KAAKnkC,KAAL,CAAWmkC,cAAhC;AACA,QAAIgqC,cAAc,GAAG,KAAKl3C,KAAL,CAAWk3C,cAAhC;AACA,QAAIj/C,sBAAsB,GAAG,KAAKlvB,KAAL,CAAW62D,KAAX,CAAiBx3D,MAAjB,KAA4B,CAAzD,CAJoI,CAIxE;;AAC5D,QAAI+wB,QAAQ,GAAGI,UAAU,IAAIC,UAAd,IAA4BkyC,eAA3C;AACA,QAAI2M,KAAK,GAAG,EAAZ;;AACA,QAAInB,cAAJ,EAAoB;AAChB,WAAK,IAAIxjE,EAAE,GAAG,CAAT,EAAY4kE,eAAe,GAAGF,aAAnC,EAAkD1kE,EAAE,GAAG4kE,eAAe,CAAClwE,MAAvE,EAA+EsL,EAAE,EAAjF,EAAqF;AACjF,YAAIkgE,SAAS,GAAG0E,eAAe,CAAC5kE,EAAD,CAA/B;AACA,YAAIgjB,GAAG,GAAGk9C,SAAS,CAACl9C,GAApB;AACA,YAAI/jB,UAAU,GAAG+jB,GAAG,CAACY,UAAJ,CAAephB,QAAf,CAAwBvD,UAAzC;AACA,YAAIrR,GAAG,GAAGqR,UAAU,GAAG,GAAb,GAAmButD,GAA7B;AACA,YAAI2T,SAAS,GAAGD,SAAS,CAACC,SAAV,IAAuB,CAACJ,iBAAiB,CAAC9gE,UAAD,CAAzD;AACA,YAAI2yD,UAAU,GAAGsO,SAAS,CAACtO,UAA3B;AACA,YAAIz7B,IAAI,GAAG,EAAX;AACA,YAAIC,KAAK,GAAG,EAAZ;;AACA,YAAIw7B,UAAJ,EAAgB;AACZ,cAAIx/D,OAAO,CAAC0xC,KAAZ,EAAmB;AACf1N,YAAAA,KAAK,GAAG,CAAR;AACAD,YAAAA,IAAI,GAAGqtC,cAAc,CAAC5iC,KAAf,CAAqB5d,GAAG,CAAC6pC,OAAzB,IAAoC2W,cAAc,CAAC5iC,KAAf,CAAqB5d,GAAG,CAAC4pC,QAAzB,CAA3C;AACH,WAHD,MAIK;AACDz2B,YAAAA,IAAI,GAAG,CAAP;AACAC,YAAAA,KAAK,GAAGotC,cAAc,CAAC3iC,MAAf,CAAsB7d,GAAG,CAAC4pC,QAA1B,IAAsC4W,cAAc,CAAC3iC,MAAf,CAAsB7d,GAAG,CAAC6pC,OAA1B,CAA9C;AACH;AACJ;AACD;AAChB;AACA;AACA;;;AACgB8X,QAAAA,KAAK,CAAC3zE,IAAN,CAAWgB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,UAAAA,SAAS,EAAE,8BAA8B20C,UAAU,GAAG,+BAAH,GAAqC,EAA7E,CAAb;AAA+FhkE,UAAAA,GAAG,EAAEA,GAApG;AAAyG04C,UAAAA,GAAG,EAAE7gB,QAAQ,GAAG,IAAH,GAAU,KAAK89C,cAAL,CAAoBxxE,SAApB,CAA8BnE,GAA9B,CAAhI;AAAoK6H,UAAAA,KAAK,EAAE;AACnMuqE,YAAAA,UAAU,EAAEG,SAAS,GAAG,EAAH,GAAQ,QADsK;AAEnMphC,YAAAA,SAAS,EAAE6yB,UAAU,GAAG,EAAH,GAAQsO,SAAS,CAACnhC,SAF4J;AAGnM1I,YAAAA,GAAG,EAAEu7B,UAAU,GAAGsO,SAAS,CAAC6B,WAAb,GAA2B,EAHyJ;AAInM5rC,YAAAA,IAAI,EAAEA,IAJ6L;AAKnMC,YAAAA,KAAK,EAAEA;AAL4L;AAA3K,SAAR,EAMfopC,kBAAkB,CAACx8C,GAAD,CAAlB,GAA2BhxB,mEAAa,CAAC0tE,kBAAD,EAAqB/tE,+CAAQ,CAAC;AAAEqxB,UAAAA,GAAG,EAAEA,GAAP;AAAY6C,UAAAA,UAAU,EAAEA,UAAxB;AAAoCE,UAAAA,UAAU,EAAE9mB,UAAU,KAAKu6B,cAA/D;AAA+EjV,UAAAA,sBAAsB,EAAEA;AAAvG,SAAD,EAAkIU,gEAAU,CAACjC,GAAD,EAAMkC,UAAN,CAA5I,CAA7B,CAAxC,GAAyOlzB,mEAAa,CAACytE,eAAD,EAAkB9tE,+CAAQ,CAAC;AAAEqxB,UAAAA,GAAG,EAAEA,GAAP;AAAY6C,UAAAA,UAAU,EAAEA,UAAxB;AAAoCC,UAAAA,UAAU,EAAEA,UAAhD;AAA4DkyC,UAAAA,eAAe,EAAEA,eAA7E;AAA8FjyC,UAAAA,UAAU,EAAE9mB,UAAU,KAAKu6B,cAAzH;AAAyIjV,UAAAA,sBAAsB,EAAEA;AAAjK,SAAD,EAA4LU,gEAAU,CAACjC,GAAD,EAAMkC,UAAN,CAAtM,CAA1B,CANvO,CAAxB;AAOH;AACJ;;AACD,WAAOy/C,KAAP;AACH,GAzCD;;AA0CAxB,EAAAA,QAAQ,CAACv2E,SAAT,CAAmB03E,cAAnB,GAAoC,UAAUhhD,IAAV,EAAgB61C,QAAhB,EAA0B;AAC1D,QAAIr1B,KAAK,GAAG,KAAK1xC,OAAL,CAAa0xC,KAAzB;AACA,QAAI5e,UAAU,GAAG,KAAK7vB,KAAL,CAAW6vB,UAA5B;AACA,QAAIs+C,cAAc,GAAG,KAAKl3C,KAAL,CAAWk3C,cAAhC;AACA,QAAImB,KAAK,GAAG,EAAZ;;AACA,QAAInB,cAAJ,EAAoB;AAChB,WAAK,IAAIxjE,EAAE,GAAG,CAAT,EAAYouD,MAAM,GAAG9qC,IAA1B,EAAgCtjB,EAAE,GAAGouD,MAAM,CAAC15D,MAA5C,EAAoDsL,EAAE,EAAtD,EAA0D;AACtD,YAAIgjB,GAAG,GAAGorC,MAAM,CAACpuD,EAAD,CAAhB;AACA,YAAI6kE,YAAY,GAAG/gC,KAAK,GAAG;AACvB1N,UAAAA,KAAK,EAAE,CADgB;AAEvBD,UAAAA,IAAI,EAAEqtC,cAAc,CAAC5iC,KAAf,CAAqB5d,GAAG,CAAC6pC,OAAzB,IAAoC2W,cAAc,CAAC5iC,KAAf,CAAqB5d,GAAG,CAAC4pC,QAAzB;AAFnB,SAAH,GAGpB;AACAz2B,UAAAA,IAAI,EAAE,CADN;AAEAC,UAAAA,KAAK,EAAEotC,cAAc,CAAC3iC,MAAf,CAAsB7d,GAAG,CAAC4pC,QAA1B,IAAsC4W,cAAc,CAAC3iC,MAAf,CAAsB7d,GAAG,CAAC6pC,OAA1B;AAF7C,SAHJ;AAOA8X,QAAAA,KAAK,CAAC3zE,IAAN,CAAWgB,mEAAa,CAAC,KAAD,EAAQ;AAAEpE,UAAAA,GAAG,EAAEo4B,wEAAkB,CAAChD,GAAG,CAACY,UAAL,CAAzB;AAA2C3G,UAAAA,SAAS,EAAE,uBAAtD;AAA+ExnB,UAAAA,KAAK,EAAEovE;AAAtF,SAAR,EAA8G1L,QAAQ,KAAK,UAAb,GAClInnE,mEAAa,CAAConE,yDAAD,EAAUznE,+CAAQ,CAAC;AAAEqxB,UAAAA,GAAG,EAAEA;AAAP,SAAD,EAAeiC,gEAAU,CAACjC,GAAD,EAAMkC,UAAN,CAAzB,CAAlB,CADqH,GAElIg0C,gEAAU,CAACC,QAAD,CAFU,CAAxB;AAGH;AACJ;;AACD,WAAOnnE,qEAAA,CAAoB,KAAK,CAAzB,EAA4BJ,oDAAa,CAAC,CAACK,0DAAD,EAAW,EAAX,CAAD,EAAiB0yE,KAAjB,CAAzC,CAAP;AACH,GArBD;;AAsBAxB,EAAAA,QAAQ,CAACv2E,SAAT,CAAmB23E,YAAnB,GAAkC,UAAUO,sBAAV,EAAkC;AAChE,QAAIjvE,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCguE,WAAW,GAAGxtE,EAAE,CAACwtE,WAAlD;;AACA,QAAI,CAAChuE,KAAK,CAAC0yD,QAAP,IACA1yD,KAAK,CAACknC,WAAN,KAAsB,IAD1B,CAC+B;AAD/B,MAEE;AACE,UAAIuoC,sBAAJ,EAA4B;AACxB,YAAIC,QAAQ,GAAG1vE,KAAK,CAAC62D,KAAN,CAAYj/D,GAAZ,CAAgB,UAAU82E,IAAV,EAAgB;AAAE,iBAAOV,WAAW,CAACzQ,UAAZ,CAAuBmR,IAAI,CAACn2E,GAA5B,CAAP;AAA0C,SAA5E,CAAf;;AACA,YAAIm3E,QAAQ,CAACrwE,MAAb,EAAqB;AACjB,cAAI0rC,QAAQ,GAAG,KAAK4K,SAAL,CAAezE,OAA9B;AACA,eAAK2Y,QAAL,CAAc;AACVskB,YAAAA,cAAc,EAAE,IAAIrjC,+DAAJ,CAAkBC,QAAlB,EAA4B2kC,QAA5B,EAAsC,IAAtC,EAA4C;AAC5D,iBADgB;AADN,WAAd;AAIH;AACJ;;AACD,UAAIC,oBAAoB,GAAG3vE,KAAK,CAACogB,YAAN,KAAuB,IAAvB,IAA+BpgB,KAAK,CAACqgB,eAAN,KAA0B,IAApF;AACA,WAAKwpC,QAAL,CAAc;AACV8hB,QAAAA,oBAAoB,EAAE,KAAKiE,yBAAL,EADZ;AAEVhE,QAAAA,gBAAgB,EAAE+D,oBAAoB,GAAG,KAAKE,uBAAL,EAAH,GAAoC;AAFhE,OAAd;AAIH;AACJ,GArBD;;AAsBA/B,EAAAA,QAAQ,CAACv2E,SAAT,CAAmBq4E,yBAAnB,GAA+C,YAAY;AACvD,QAAIE,QAAQ,GAAG,KAAK5B,cAAL,CAAoB3Q,UAAnC;AACA,QAAIoO,oBAAoB,GAAG,EAA3B,CAFuD,CAGvD;;AACA,SAAK,IAAIpzE,GAAT,IAAgBu3E,QAAhB,EAA0B;AACtB,UAAItyD,MAAM,GAAGlX,IAAI,CAACC,KAAL,CAAWupE,QAAQ,CAACv3E,GAAD,CAAR,CAAcwM,qBAAd,GAAsCyY,MAAjD,CAAb;AACA,UAAI5T,UAAU,GAAGrR,GAAG,CAAC2K,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAjB,CAFsB,CAEc;;AACpCyoE,MAAAA,oBAAoB,CAAC/hE,UAAD,CAApB,GAAmCtD,IAAI,CAACoO,GAAL,CAASi3D,oBAAoB,CAAC/hE,UAAD,CAApB,IAAoC,CAA7C,EAAgD4T,MAAhD,CAAnC;AACH;;AACD,WAAOmuD,oBAAP;AACH,GAVD;;AAWAmC,EAAAA,QAAQ,CAACv2E,SAAT,CAAmBs4E,uBAAnB,GAA6C,YAAY;AACrD,QAAIE,QAAQ,GAAG,KAAK/vE,KAAL,CAAW62D,KAAX,CAAiB,CAAjB,EAAoBt+D,GAAnC;AACA,QAAImM,MAAM,GAAG,KAAKqpE,UAAL,CAAgBxQ,UAAhB,CAA2BwS,QAA3B,CAAb;AACA,QAAIC,aAAa,GAAG,KAAK/B,QAAL,CAAc1Q,UAAd,CAAyBwS,QAAzB,CAApB;AACA,WAAOrrE,MAAM,CAACK,qBAAP,GAA+Bk8B,MAA/B,GAAwC+uC,aAAa,CAACjrE,qBAAd,GAAsCi8B,GAArF;AACH,GALD;;AAMA8sC,EAAAA,QAAQ,CAACv2E,SAAT,CAAmB04E,UAAnB,GAAgC,YAAY;AACxC,QAAIC,KAAK,GAAG,KAAKnC,UAAL,CAAgBxQ,UAA5B;AACA,WAAO,KAAKv9D,KAAL,CAAW62D,KAAX,CAAiBj/D,GAAjB,CAAqB,UAAU82E,IAAV,EAAgB;AAAE,aAAOwB,KAAK,CAACxB,IAAI,CAACn2E,GAAN,CAAZ;AAAyB,KAAhE,CAAP;AACH,GAHD;;AAIA,SAAOu1E,QAAP;AACH,CAjL6B,CAiL5B38B,+DAjL4B,CAA9B;;AAkLA28B,QAAQ,CAACl9B,gBAAT,CAA0B;AACtB+6B,EAAAA,oBAAoB,EAAEzgE,8DAAYA;AADZ,CAA1B;;AAGA,SAAS4jE,qBAAT,CAA+BqB,UAA/B,EAA2CC,aAA3C,EAA0D;AACtD,MAAI,CAACD,UAAU,CAAC9wE,MAAhB,EAAwB;AACpB,WAAO,EAAP;AACH;;AACD,MAAIgxE,gBAAgB,GAAGC,oBAAoB,CAACF,aAAD,CAA3C,CAJsD,CAIM;;AAC5D,SAAOD,UAAU,CAACv4E,GAAX,CAAe,UAAU+1B,GAAV,EAAe;AAAE,WAAQ;AAC3CA,MAAAA,GAAG,EAAEA,GADsC;AAE3Cm9C,MAAAA,SAAS,EAAE,IAFgC;AAG3CvO,MAAAA,UAAU,EAAE,IAH+B;AAI3CmQ,MAAAA,WAAW,EAAE2D,gBAAgB,CAAC1iD,GAAG,CAACY,UAAJ,CAAephB,QAAf,CAAwBvD,UAAzB,CAJc;AAK3C8/B,MAAAA,SAAS,EAAE;AALgC,KAAR;AAMlC,GANE,CAAP;AAOH;;AACD,SAAS4mC,oBAAT,CAA8BF,aAA9B,EAA6C;AACzC,MAAIC,gBAAgB,GAAG,EAAvB;;AACA,OAAK,IAAI1lE,EAAE,GAAG,CAAT,EAAY4lE,eAAe,GAAGH,aAAnC,EAAkDzlE,EAAE,GAAG4lE,eAAe,CAAClxE,MAAvE,EAA+EsL,EAAE,EAAjF,EAAqF;AACjF,QAAI6lE,UAAU,GAAGD,eAAe,CAAC5lE,EAAD,CAAhC;;AACA,SAAK,IAAInK,EAAE,GAAG,CAAT,EAAYiwE,YAAY,GAAGD,UAAhC,EAA4ChwE,EAAE,GAAGiwE,YAAY,CAACpxE,MAA9D,EAAsEmB,EAAE,EAAxE,EAA4E;AACxE,UAAIqqE,SAAS,GAAG4F,YAAY,CAACjwE,EAAD,CAA5B;AACA6vE,MAAAA,gBAAgB,CAACxF,SAAS,CAACl9C,GAAV,CAAcY,UAAd,CAAyBphB,QAAzB,CAAkCvD,UAAnC,CAAhB,GAAiEihE,SAAS,CAAC6B,WAA3E;AACH;AACJ;;AACD,SAAO0D,aAAP;AACH;;AAED,IAAIM,KAAK;AAAG;AAAe,UAAUtjC,MAAV,EAAkB;AACzC5wC,EAAAA,gDAAS,CAACk0E,KAAD,EAAQtjC,MAAR,CAAT;;AACA,WAASsjC,KAAT,GAAiB;AACb,QAAIj+D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACk+D,qBAAN,GAA8B3+D,6DAAO,CAAC03D,cAAD,CAArC;AACAj3D,IAAAA,KAAK,CAACm+D,gBAAN,GAAyB5+D,6DAAO,CAAC03D,cAAD,CAAhC;AACAj3D,IAAAA,KAAK,CAACo+D,gBAAN,GAAyB7+D,6DAAO,CAAC03D,cAAD,CAAhC;AACAj3D,IAAAA,KAAK,CAACq+D,sBAAN,GAA+B9+D,6DAAO,CAAC03D,cAAD,CAAtC;AACAj3D,IAAAA,KAAK,CAACuwB,cAAN,GAAuBhxB,6DAAO,CAAC83D,qBAAD,CAA9B;AACAr3D,IAAAA,KAAK,CAACywB,gBAAN,GAAyBlxB,6DAAO,CAAC83D,qBAAD,CAAhC;AACAr3D,IAAAA,KAAK,CAACs+D,OAAN,GAAgB,IAAI1T,wDAAJ,EAAhB;;AACA5qD,IAAAA,KAAK,CAACmjC,YAAN,GAAqB,UAAUyB,MAAV,EAAkB;AACnC5kC,MAAAA,KAAK,CAAC4kC,MAAN,GAAeA,MAAf;;AACA,UAAIA,MAAJ,EAAY;AACR5kC,QAAAA,KAAK,CAAC1V,OAAN,CAAc+yC,4BAAd,CAA2Cr9B,KAA3C,EAAkD;AAC9CzU,UAAAA,EAAE,EAAEq5C,MAD0C;AAE9CuW,UAAAA,iBAAiB,EAAEn7C,KAAK,CAACzS,KAAN,CAAY4tD;AAFe,SAAlD;AAIH,OALD,MAMK;AACDn7C,QAAAA,KAAK,CAAC1V,OAAN,CAAcgzC,8BAAd,CAA6Ct9B,KAA7C;AACH;AACJ,KAXD;;AAYA,WAAOA,KAAP;AACH;;AACDi+D,EAAAA,KAAK,CAACn5E,SAAN,CAAgBgC,MAAhB,GAAyB,YAAY;AACjC,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIzS,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIi0B,WAAW,GAAGj0B,KAAK,CAACi0B,WAAxB;AAAA,QAAqC5T,eAAe,GAAGrgB,KAAK,CAACqgB,eAA7D;AAAA,QAA8ED,YAAY,GAAGpgB,KAAK,CAACogB,YAAnG;AAAA,QAAiH7C,UAAU,GAAGvd,KAAK,CAACud,UAApI;AACA,QAAIq5C,MAAM,GAAG52D,KAAK,CAAC62D,KAAN,CAAYx3D,MAAzB;AACA,QAAI2xE,qBAAqB,GAAG,KAAKL,qBAAL,CAA2B3wE,KAAK,CAACu4D,gBAAjC,EAAmD3B,MAAnD,CAA5B;AACA,QAAIqa,gBAAgB,GAAG,KAAKL,gBAAL,CAAsB5wE,KAAK,CAACy4D,WAA5B,EAAyC7B,MAAzC,CAAvB;AACA,QAAIsa,gBAAgB,GAAG,KAAKL,gBAAL,CAAsB7wE,KAAK,CAACw4D,WAA5B,EAAyC5B,MAAzC,CAAvB;AACA,QAAIua,sBAAsB,GAAG,KAAKL,sBAAL,CAA4B9wE,KAAK,CAACs4D,iBAAlC,EAAqD1B,MAArD,CAA7B;AACA,QAAIwa,cAAc,GAAG,KAAKpuC,cAAL,CAAoBhjC,KAAK,CAAC4jC,SAA1B,EAAqCgzB,MAArC,CAArB;AACA,QAAIya,gBAAgB,GAAG,KAAKnuC,gBAAL,CAAsBljC,KAAK,CAAC8jC,WAA5B,EAAyC8yB,MAAzC,CAAvB;AACA,QAAI0a,gBAAgB,GAAGlxD,YAAY,KAAK,IAAjB,IAAyBC,eAAe,KAAK,IAApE,CAXiC,CAYjC;AACA;;AACA,QAAIixD,gBAAgB,IAAI,CAAC/zD,UAAzB,EAAqC;AACjC+zD,MAAAA,gBAAgB,GAAG,KAAnB;AACAjxD,MAAAA,eAAe,GAAG,IAAlB;AACAD,MAAAA,YAAY,GAAG,IAAf;AACH;;AACD,QAAIyE,UAAU,GAAG,CACb,iBADa,EAEbysD,gBAAgB,GAAG,0BAAH,GAAgC,4BAFnC,EAGb/zD,UAAU,GAAG,EAAH,GAAQ,yBAHL,CAGgC;AAHhC,KAAjB;AAKA,WAAQ5gB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE/C,UAAU,CAACpN,IAAX,CAAgB,GAAhB,CAAb;AAAmCw5B,MAAAA,GAAG,EAAE,KAAK2E,YAA7C;AAA2Dx1C,MAAAA,KAAK,EAAE;AACvF;AACA;AACA4E,QAAAA,KAAK,EAAEhF,KAAK,CAACknC,WAH0E;AAIvF23B,QAAAA,QAAQ,EAAE7+D,KAAK,CAAC8+D;AAJuE;AAAlE,KAAR,EAMjBniE,mEAAa,CAACi4D,0DAAD,EAAW;AAAEvmD,MAAAA,IAAI,EAAE;AAAR,KAAX,EAA4B,UAAUyhB,OAAV,EAAmBD,UAAnB,EAA+B;AAAE,aAAQlzB,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAC3FD,mEAAa,CAAC,OAAD,EAAU;AAAEirB,QAAAA,SAAS,EAAE,0BAAb;AAAyCxnB,QAAAA,KAAK,EAAE;AAC/D4E,UAAAA,KAAK,EAAEhF,KAAK,CAACknC,WADkD;AAE/D23B,UAAAA,QAAQ,EAAE7+D,KAAK,CAAC8+D,aAF+C;AAG/DthD,UAAAA,MAAM,EAAED,UAAU,GAAGvd,KAAK,CAACgnC,YAAT,GAAwB;AAHqB;AAAhD,OAAV,EAKThnC,KAAK,CAACuxE,YALG,EAMT50E,mEAAa,CAAC,OAAD,EAAU,IAAV,EAAgBqD,KAAK,CAAC62D,KAAN,CAAYj/D,GAAZ,CAAgB,UAAUi/D,KAAV,EAAiBK,GAAjB,EAAsB;AAAE,eAAQv6D,mEAAa,CAACmxE,QAAD,EAAW;AAAE78B,UAAAA,GAAG,EAAEx+B,KAAK,CAACs+D,OAAN,CAAcr0E,SAAd,CAAwBw6D,GAAxB,CAAP;AAAqC3+D,UAAAA,GAAG,EAAEs+D,KAAK,CAACx3D,MAAN,GACrIw3D,KAAK,CAAC,CAAD,CAAL,CAASruD,IAAT,CAAcuI,WAAd;AAA4B;AADyG,YAErImmD,GAF2F,CAEvF;AAFuF;AAG/F6X,UAAAA,cAAc,EAAEnY,MAAM,GAAG,CAHsE;AAGnEoY,UAAAA,eAAe,EAAEhvE,KAAK,CAACgvE,eAH4C;AAG3Bn/C,UAAAA,UAAU,EAAEA,UAHe;AAGHoE,UAAAA,WAAW,EAAEA,WAHV;AAGuB4iC,UAAAA,KAAK,EAAEA,KAH9B;AAGqCpB,UAAAA,WAAW,EAAEz1D,KAAK,CAACwxE,cAHxD;AAGwEjZ,UAAAA,gBAAgB,EAAEyY,qBAAqB,CAAC9Z,GAAD,CAH/G;AAGsH/yB,UAAAA,cAAc,EAAEnkC,KAAK,CAACmkC,cAH5I;AAG4Js0B,UAAAA,WAAW,EAAEwY,gBAAgB,CAAC/Z,GAAD,CAAhB,CAAsBz2B,MAAtB,CAA6BgxC,WAA7B;AAA0C;AAHnN;AAG+NjZ,UAAAA,WAAW,EAAE0Y,gBAAgB,CAACha,GAAD,CAH5P;AAGmQoB,UAAAA,iBAAiB,EAAE6Y,sBAAsB,CAACja,GAAD,CAH5S;AAGmTtzB,UAAAA,SAAS,EAAEwtC,cAAc,CAACla,GAAD,CAH5U;AAGmVpzB,UAAAA,WAAW,EAAEutC,gBAAgB,CAACna,GAAD,CAHhX;AAGuX92C,UAAAA,YAAY,EAAEA,YAHrY;AAGmZC,UAAAA,eAAe,EAAEA,eAHpa;AAGqb6mB,UAAAA,WAAW,EAAElnC,KAAK,CAACknC,WAHxc;AAGqdF,UAAAA,YAAY,EAAEhnC,KAAK,CAACgnC,YAHze;AAGuf0rB,UAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD;AAHvgB,SAAX,CAArB;AAGsjB,OAH9lB,CAAhB,CANJ,CAD8E,CAArB;AAUikB,KAV9nB,CANI,CAArB;AAiBH,GAzCD,CAzByC,CAmEzC;AACA;;;AACAge,EAAAA,KAAK,CAACn5E,SAAN,CAAgB85C,WAAhB,GAA8B,YAAY;AACtC,SAAKqgC,YAAL,GAAoB,IAAI5mC,+DAAJ,CAAkB,KAAKuM,MAAvB,EAA+B,KAAK05B,OAAL,CAAajT,OAAb,GAAuBlmE,GAAvB,CAA2B,UAAU+5E,MAAV,EAAkB;AAAE,aAAOA,MAAM,CAAC1B,UAAP,GAAoB,CAApB,CAAP;AAAgC,KAA/E,CAA/B,EAAiH;AACrI,SADoB,EACb,IADa,CAApB;AAEA,SAAK2B,YAAL,GAAoB,IAAI9mC,+DAAJ,CAAkB,KAAKuM,MAAvB,EAA+B,KAAK05B,OAAL,CAAaxT,UAAb,CAAwB,CAAxB,EAA2B0S,UAA3B,EAA/B,EAAwE;AAC5F,QADoB,EACd;AACN,SAFoB,CAApB;AAGH,GAND;;AAOAS,EAAAA,KAAK,CAACn5E,SAAN,CAAgB+5C,QAAhB,GAA2B,UAAUC,YAAV,EAAwBC,WAAxB,EAAqC;AAC5D,QAAIhxC,EAAE,GAAG,IAAT;AAAA,QAAeoxE,YAAY,GAAGpxE,EAAE,CAACoxE,YAAjC;AAAA,QAA+CF,YAAY,GAAGlxE,EAAE,CAACkxE,YAAjE;;AACA,QAAIva,GAAG,GAAGya,YAAY,CAAChmC,WAAb,CAAyB2F,YAAzB,CAAV;AACA,QAAI2lB,GAAG,GAAGwa,YAAY,CAAC5lC,UAAb,CAAwB0F,WAAxB,CAAV;;AACA,QAAI0lB,GAAG,IAAI,IAAP,IAAeC,GAAG,IAAI,IAA1B,EAAgC;AAC5B,UAAIuX,IAAI,GAAG,KAAK1uE,KAAL,CAAW62D,KAAX,CAAiBK,GAAjB,EAAsBC,GAAtB,CAAX;AACA,aAAO;AACHljC,QAAAA,WAAW,EAAE,KAAKj0B,KAAL,CAAWi0B,WADrB;AAEHlC,QAAAA,QAAQ,EAAEz1B,+CAAQ,CAAC;AAAEmN,UAAAA,KAAK,EAAE,KAAKooE,YAAL,CAAkB3a,GAAlB,EAAuBC,GAAvB,CAAT;AAAsC3qD,UAAAA,MAAM,EAAE;AAA9C,SAAD,EAAuDkiE,IAAI,CAACrJ,aAA5D,CAFf;AAGHC,QAAAA,KAAK,EAAE,KAAKwM,SAAL,CAAe5a,GAAf,EAAoBC,GAApB,CAHJ;AAIHt2B,QAAAA,IAAI,EAAE;AACFC,UAAAA,IAAI,EAAE8wC,YAAY,CAACrmC,KAAb,CAAmB4rB,GAAnB,CADJ;AAEFp2B,UAAAA,KAAK,EAAE6wC,YAAY,CAACpmC,MAAb,CAAoB2rB,GAApB,CAFL;AAGFn2B,UAAAA,GAAG,EAAE0wC,YAAY,CAAChmC,IAAb,CAAkBwrB,GAAlB,CAHH;AAIFj2B,UAAAA,MAAM,EAAEywC,YAAY,CAAC/lC,OAAb,CAAqBurB,GAArB;AAJN,SAJH;AAUHqO,QAAAA,KAAK,EAAE;AAVJ,OAAP;AAYH;;AACD,WAAO,IAAP;AACH,GApBD;;AAqBAmL,EAAAA,KAAK,CAACn5E,SAAN,CAAgBu6E,SAAhB,GAA4B,UAAU5a,GAAV,EAAeC,GAAf,EAAoB;AAC5C,WAAO,KAAK4Z,OAAL,CAAaxT,UAAb,CAAwBrG,GAAxB,EAA6B+Y,UAA7B,GAA0C9Y,GAA1C,CAAP,CAD4C,CACW;AAC1D,GAFD;;AAGAuZ,EAAAA,KAAK,CAACn5E,SAAN,CAAgBs6E,YAAhB,GAA+B,UAAU3a,GAAV,EAAeC,GAAf,EAAoB;AAC/C,QAAIxpD,KAAK,GAAG,KAAK3N,KAAL,CAAW62D,KAAX,CAAiBK,GAAjB,EAAsBC,GAAtB,EAA2B3uD,IAAvC;AACA,QAAIoF,GAAG,GAAGtI,6DAAO,CAACqI,KAAD,EAAQ,CAAR,CAAjB;AACA,WAAO;AAAEA,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,GAAG,EAAEA;AAArB,KAAP;AACH,GAJD;;AAKA,SAAO8iE,KAAP;AACH,CA1G0B,CA0GzBv/B,+DA1GyB,CAA3B;;AA2GA,SAASsgC,WAAT,CAAqB9jD,GAArB,EAA0B;AACtB,SAAOA,GAAG,CAACY,UAAJ,CAAelhB,GAAf,CAAmBb,MAA1B;AACH;;AAED,IAAIulE,cAAc;AAAG;AAAe,UAAU3kC,MAAV,EAAkB;AAClD5wC,EAAAA,gDAAS,CAACu1E,cAAD,EAAiB3kC,MAAjB,CAAT;;AACA,WAAS2kC,cAAT,GAA0B;AACtB,QAAIt/D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACylD,kBAAN,GAA2B,IAA3B;AACA,WAAOzlD,KAAP;AACH;;AACDs/D,EAAAA,cAAc,CAACx6E,SAAf,CAAyBy+D,UAAzB,GAAsC,UAAUxqC,SAAV,EAAqBwmD,aAArB,EAAoC;AACtE,WAAOA,aAAa,CAAChc,UAAd,CAAyBxqC,SAAzB,CAAP;AACH,GAFD;;AAGA,SAAOumD,cAAP;AACH,CAXmC,CAWlCta,wDAXkC,CAApC;;AAaA,IAAIwa,QAAQ;AAAG;AAAe,UAAU7kC,MAAV,EAAkB;AAC5C5wC,EAAAA,gDAAS,CAACy1E,QAAD,EAAW7kC,MAAX,CAAT;;AACA,WAAS6kC,QAAT,GAAoB;AAChB,QAAIx/D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACy/D,MAAN,GAAe,IAAIH,cAAJ,EAAf;AACAt/D,IAAAA,KAAK,CAAC0/D,QAAN,GAAiBz1E,+DAAS,EAA1B;AACA,WAAO+V,KAAP;AACH;;AACDw/D,EAAAA,QAAQ,CAAC16E,SAAT,CAAmBgC,MAAnB,GAA4B,YAAY;AACpC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,WAAQJ,mEAAa,CAAC+zE,KAAD,EAAQp0E,+CAAQ,CAAC;AAAE20C,MAAAA,GAAG,EAAE,KAAKkhC;AAAZ,KAAD,EAAyB,KAAKD,MAAL,CAAY/Z,UAAZ,CAAuBn4D,KAAvB,EAA8BA,KAAK,CAACi0B,WAApC,EAAiDj0B,KAAK,CAAC4Z,gBAAvD,EAAyE7c,OAAzE,EAAkFiD,KAAK,CAACgyE,aAAxF,CAAzB,EAAiI;AAAE/9C,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAArB;AAAkC4iC,MAAAA,KAAK,EAAE72D,KAAK,CAACgyE,aAAN,CAAoBnb,KAA7D;AAAoE0a,MAAAA,YAAY,EAAEvxE,KAAK,CAACuxE,YAAxF;AAAsGzS,MAAAA,aAAa,EAAE9+D,KAAK,CAAC8+D,aAA3H;AAA0I0S,MAAAA,cAAc,EAAExxE,KAAK,CAACwxE,cAAhK;AAAgLpxD,MAAAA,YAAY,EAAEpgB,KAAK,CAACogB,YAApM;AAAkNC,MAAAA,eAAe,EAAErgB,KAAK,CAACqgB,eAAzO;AAA0P2uD,MAAAA,eAAe,EAAEhvE,KAAK,CAACgvE,eAAjR;AAAkSzxD,MAAAA,UAAU,EAAEvd,KAAK,CAACud,UAApT;AAAgU60D,MAAAA,gBAAgB,EAAEpyE,KAAK,CAACoyE,gBAAxV;AAA0WlrC,MAAAA,WAAW,EAAElnC,KAAK,CAACknC,WAA7X;AAA0YF,MAAAA,YAAY,EAAEhnC,KAAK,CAACgnC,YAA9Z;AAA4a0rB,MAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD;AAA5b,KAAjI,CAAhB,CAArB;AACH,GAHD;;AAIA,SAAOuf,QAAP;AACH,CAb6B,CAa5B9gC,+DAb4B,CAA9B;;AAeA,IAAIkhC,YAAY;AAAG;AAAe,UAAUjlC,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAAC61E,YAAD,EAAejlC,MAAf,CAAT;;AACA,WAASilC,YAAT,GAAwB;AACpB,QAAI5/D,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC6/D,kBAAN,GAA2BtgE,6DAAO,CAACsgE,kBAAD,CAAlC;AACA7/D,IAAAA,KAAK,CAACm/C,SAAN,GAAkBl1D,+DAAS,EAA3B;AACA+V,IAAAA,KAAK,CAAC0/D,QAAN,GAAiBz1E,+DAAS,EAA1B;AACA,WAAO+V,KAAP;AACH;;AACD4/D,EAAAA,YAAY,CAAC96E,SAAb,CAAuBgC,MAAvB,GAAgC,YAAY;AACxC,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuB7D,OAAO,GAAGsH,EAAE,CAACtH,OAApC;AAAA,QAA6C22C,oBAAoB,GAAGrvC,EAAE,CAACqvC,oBAAvE;AACA,QAAI7vC,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIgyE,aAAa,GAAG,KAAKM,kBAAL,CAAwBtyE,KAAK,CAACi0B,WAA9B,EAA2C4b,oBAA3C,CAApB;AACA,QAAI0iC,aAAa,GAAGr5E,OAAO,CAACshB,UAAR,IAAuB7d,mEAAa,CAAC24D,2DAAD,EAAY;AAAErkB,MAAAA,GAAG,EAAE,KAAK2gB,SAAZ;AAAuB39B,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAA1C;AAAuDuhC,MAAAA,KAAK,EAAEwc,aAAa,CAACjb,WAA5E;AAAyFjD,MAAAA,oBAAoB,EAAEke,aAAa,CAACpb,MAAd,KAAyB;AAAxI,KAAZ,CAAxD;;AACA,QAAIyS,WAAW,GAAG,SAAdA,WAAc,CAAUmJ,UAAV,EAAsB;AAAE,aAAQ71E,mEAAa,CAACs1E,QAAD,EAAW;AAAEhhC,QAAAA,GAAG,EAAEx+B,KAAK,CAAC0/D,QAAb;AAAuBl+C,QAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAA1C;AAAuD+9C,QAAAA,aAAa,EAAEA,aAAtE;AAAqFj0D,QAAAA,aAAa,EAAE/d,KAAK,CAAC+d,aAA1G;AAAyH4a,QAAAA,aAAa,EAAE34B,KAAK,CAAC24B,aAA9I;AAA6J7rB,QAAAA,UAAU,EAAE9M,KAAK,CAAC8M,UAA/K;AAA2Lyf,QAAAA,YAAY,EAAEvsB,KAAK,CAACusB,YAA/M;AAA6N4X,QAAAA,cAAc,EAAEnkC,KAAK,CAACmkC,cAAnP;AAAmQP,QAAAA,SAAS,EAAE5jC,KAAK,CAAC4jC,SAApR;AAA+RE,QAAAA,WAAW,EAAE9jC,KAAK,CAAC8jC,WAAlT;AAA+TlqB,QAAAA,gBAAgB,EAAE1gB,OAAO,CAAC0gB,gBAAzV;AAA2W23D,QAAAA,YAAY,EAAEiB,UAAU,CAACzT,iBAApY;AAAuZD,QAAAA,aAAa,EAAE0T,UAAU,CAAC1T,aAAjb;AAAgc1+C,QAAAA,YAAY,EAAElnB,OAAO,CAACknB,YAAtd;AAAoeC,QAAAA,eAAe,EAAEnnB,OAAO,CAACmnB,eAA7f;AAA8gB2uD,QAAAA,eAAe,EAAE91E,OAAO,CAACqiB,WAAviB;AAAojBgC,QAAAA,UAAU,EAAE,CAACvd,KAAK,CAACyyD,YAAvkB;AAAqlB2f,QAAAA,gBAAgB,EAAE3/D,KAAK,CAACy2D,WAA7mB;AAA0nBhiC,QAAAA,WAAW,EAAEsrC,UAAU,CAACtrC,WAAlpB;AAA+pBF,QAAAA,YAAY,EAAEwrC,UAAU,CAACxrC,YAAxrB;AAAssB0rB,QAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD;AAAttB,OAAX,CAArB;AAAqwB,KAA/yB;;AACA,WAAOx5D,OAAO,CAAConB,WAAR,GACD,KAAKgpD,mBAAL,CAAyBiJ,aAAzB,EAAwClJ,WAAxC,EAAqD2I,aAAa,CAAC5d,MAAnE,EAA2El7D,OAAO,CAAConB,WAAnF,CADC,GAED,KAAK6oD,kBAAL,CAAwBoJ,aAAxB,EAAuClJ,WAAvC,CAFN;AAGH,GAVD;;AAWA,SAAOgJ,YAAP;AACH,CArBiC,CAqBhCpJ,SArBgC,CAAlC;;AAsBA,SAASqJ,kBAAT,CAA4Br+C,WAA5B,EAAyC4b,oBAAzC,EAA+D;AAC3D,MAAI4mB,SAAS,GAAG,IAAIb,gEAAJ,CAAmB3hC,WAAW,CAACimB,WAA/B,EAA4CrK,oBAA5C,CAAhB;AACA,SAAO,IAAI2mB,+DAAJ,CAAkBC,SAAlB,EAA6B,kBAAkBp2D,IAAlB,CAAuB4zB,WAAW,CAAC2lB,gBAAnC,CAA7B,CAAP;AACH;;AAED,IAAI64B,yBAAyB;AAAG;AAAe,UAAUrlC,MAAV,EAAkB;AAC7D5wC,EAAAA,gDAAS,CAACi2E,yBAAD,EAA4BrlC,MAA5B,CAAT;;AACA,WAASqlC,yBAAT,GAAqC;AACjC,WAAOrlC,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH,GAJ4D,CAK7D;;;AACAkgE,EAAAA,yBAAyB,CAACl7E,SAA1B,CAAoCgjD,gBAApC,GAAuD,UAAUpmB,YAAV,EAAwBylB,gBAAxB,EAA0CK,aAA1C,EAAyD;AAC5G,QAAI7tC,OAAO,GAAG,KAAKpM,KAAL,CAAWoM,OAAzB;;AACA,QAAI8tC,WAAW,GAAG9M,MAAM,CAAC71C,SAAP,CAAiBgjD,gBAAjB,CAAkCpiD,IAAlC,CAAuC,IAAvC,EAA6Cg8B,YAA7C,EAA2DylB,gBAA3D,EAA6EK,aAA7E,CAAlB;;AACA,QAAItsC,KAAK,GAAGusC,WAAW,CAACvsC,KAAxB;AACA,QAAIC,GAAG,GAAGssC,WAAW,CAACtsC,GAAtB;AACA,QAAI8kE,SAAJ,CAL4G,CAM5G;;AACA,QAAI,iBAAiBryE,IAAjB,CAAsBu5C,gBAAtB,CAAJ,EAA6C;AACzCjsC,MAAAA,KAAK,GAAGvB,OAAO,CAAC4xB,WAAR,CAAoBrwB,KAApB,CAAR,CADyC,CAEzC;;AACA+kE,MAAAA,SAAS,GAAGtmE,OAAO,CAAC4xB,WAAR,CAAoBpwB,GAApB,CAAZ;;AACA,UAAI8kE,SAAS,CAAC56E,OAAV,OAAwB8V,GAAG,CAAC9V,OAAJ,EAA5B,EAA2C;AACvC8V,QAAAA,GAAG,GAAG1I,8DAAQ,CAACwtE,SAAD,EAAY,CAAZ,CAAd;AACH;AACJ,KAd2G,CAe5G;;;AACA,QAAI,KAAK1yE,KAAL,CAAWiiB,SAAX,IACA,KAAKjiB,KAAL,CAAWkiB,cADf,EAC+B;AAC3B,UAAI00C,MAAM,GAAGtwD,IAAI,CAACgwD,IAAL,EAAU;AACvB9wD,MAAAA,+DAAS,CAACmI,KAAD,EAAQC,GAAR,CADI,CAAb;AAEAA,MAAAA,GAAG,GAAG1I,8DAAQ,CAAC0I,GAAD,EAAM,IAAIgpD,MAAV,CAAd;AACH;;AACD,WAAO;AAAEjpD,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,GAAG,EAAEA;AAArB,KAAP;AACH,GAvBD;;AAwBA,SAAO6kE,yBAAP;AACH,CA/B8C,CA+B7Cn5B,sEA/B6C,CAA/C;;AAiCA,IAAIq5B,IAAI,GAAG9gC,kEAAY,CAAC;AACpB32B,EAAAA,WAAW,EAAE,cADO;AAEpBkJ,EAAAA,KAAK,EAAE;AACHwuD,IAAAA,OAAO,EAAE;AACLnuD,MAAAA,SAAS,EAAE4tD,YADN;AAEL1tD,MAAAA,yBAAyB,EAAE8tD;AAFtB,KADN;AAKHI,IAAAA,UAAU,EAAE;AACRt4E,MAAAA,IAAI,EAAE,SADE;AAERmS,MAAAA,QAAQ,EAAE;AAAErG,QAAAA,IAAI,EAAE;AAAR;AAFF,KALT;AASHysE,IAAAA,WAAW,EAAE;AACTv4E,MAAAA,IAAI,EAAE,SADG;AAETmS,MAAAA,QAAQ,EAAE;AAAE2C,QAAAA,KAAK,EAAE;AAAT;AAFD,KATV;AAaH0jE,IAAAA,YAAY,EAAE;AACVx4E,MAAAA,IAAI,EAAE,SADI;AAEVmS,MAAAA,QAAQ,EAAE;AAAEtG,QAAAA,MAAM,EAAE;AAAV,OAFA;AAGV6b,MAAAA,SAAS,EAAE,IAHD;AAIVC,MAAAA,cAAc,EAAE;AAJN;AAbX;AAFa,CAAD,CAAvB;AAwBA,+DAAeywD,IAAf;;;;;;;;;;;;;;;;;;;;ACh7BA;AACA;AACA;AACA;AACA;AACA;AACA;AAEArkB,6EAAA,GAA8B,GAA9B;AACA,IAAI4kB,gBAAgB,GAAG,CAAvB;AACA,IAAIC,WAAW,GAAG,CAAlB;AACA,IAAIC,0BAA0B,GAAG,KAAjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,eAAe;AAAG;AAAe,YAAY;AAC7C,WAASA,eAAT,CAAyBC,WAAzB,EAAsC;AAClC,QAAI7gE,KAAK,GAAG,IAAZ;;AACA,SAAK8gE,SAAL,GAAiB,IAAjB,CAFkC,CAGlC;;AACA,SAAKh4E,QAAL,GAAgB,EAAhB,CAJkC,CAId;;AACpB,SAAKi4E,cAAL,GAAsB,EAAtB;AACA,SAAKC,gBAAL,GAAwB,KAAxB;AACA,SAAKC,iBAAL,GAAyB,IAAzB,CAPkC,CAOH;AAC/B;;AACA,SAAKljD,UAAL,GAAkB,KAAlB;AACA,SAAKmjD,eAAL,GAAuB,KAAvB;AACA,SAAKC,cAAL,GAAsB,KAAtB,CAXkC,CAYlC;AACA;;AACA,SAAKC,eAAL,GAAuB,UAAUtzE,EAAV,EAAc;AACjC,UAAI,CAACkS,KAAK,CAACqhE,iBAAN,EAAD,IACAC,oBAAoB,CAACxzE,EAAD,CADpB,IAEAkS,KAAK,CAACuhE,QAAN,CAAezzE,EAAf,CAFJ,EAEwB;AACpB,YAAI2xB,GAAG,GAAGzf,KAAK,CAACwhE,oBAAN,CAA2B1zE,EAA3B,EAA+B,IAA/B,CAAV;;AACAkS,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqCF,GAArC;;AACAzf,QAAAA,KAAK,CAACyhE,eAAN,CAAsBhiD,GAAtB;;AACA,YAAI,CAACzf,KAAK,CAACghE,gBAAX,EAA6B;AACzBp1E,UAAAA,QAAQ,CAAC8C,gBAAT,CAA0B,WAA1B,EAAuCsR,KAAK,CAAC0hE,eAA7C;AACH;;AACD91E,QAAAA,QAAQ,CAAC8C,gBAAT,CAA0B,SAA1B,EAAqCsR,KAAK,CAAC2hE,aAA3C;AACH;AACJ,KAZD;;AAaA,SAAKD,eAAL,GAAuB,UAAU5zE,EAAV,EAAc;AACjC,UAAI2xB,GAAG,GAAGzf,KAAK,CAACwhE,oBAAN,CAA2B1zE,EAA3B,CAAV;;AACAkS,MAAAA,KAAK,CAAC4hE,YAAN,CAAmBniD,GAAnB;;AACAzf,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqCF,GAArC;AACH,KAJD;;AAKA,SAAKkiD,aAAL,GAAqB,UAAU7zE,EAAV,EAAc;AAC/BlC,MAAAA,QAAQ,CAAC+C,mBAAT,CAA6B,WAA7B,EAA0CqR,KAAK,CAAC0hE,eAAhD;AACA91E,MAAAA,QAAQ,CAAC+C,mBAAT,CAA6B,SAA7B,EAAwCqR,KAAK,CAAC2hE,aAA9C;;AACA3hE,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC3f,KAAK,CAACwhE,oBAAN,CAA2B1zE,EAA3B,CAAnC;;AACAkS,MAAAA,KAAK,CAAC6hE,OAAN,GAJ+B,CAId;;AACpB,KALD,CAhCkC,CAsClC;AACA;;;AACA,SAAKC,gBAAL,GAAwB,UAAUh0E,EAAV,EAAc;AAClC,UAAIkS,KAAK,CAACuhE,QAAN,CAAezzE,EAAf,CAAJ,EAAwB;AACpBkS,QAAAA,KAAK,CAACkhE,eAAN,GAAwB,IAAxB;;AACA,YAAIzhD,GAAG,GAAGzf,KAAK,CAAC+hE,oBAAN,CAA2Bj0E,EAA3B,EAA+B,IAA/B,CAAV;;AACAkS,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqCF,GAArC;;AACAzf,QAAAA,KAAK,CAACyhE,eAAN,CAAsBhiD,GAAtB,EAJoB,CAKpB;AACA;;;AACA,YAAIuiD,QAAQ,GAAGl0E,EAAE,CAACI,MAAlB;;AACA,YAAI,CAAC8R,KAAK,CAACghE,gBAAX,EAA6B;AACzBgB,UAAAA,QAAQ,CAACtzE,gBAAT,CAA0B,WAA1B,EAAuCsR,KAAK,CAACiiE,eAA7C;AACH;;AACDD,QAAAA,QAAQ,CAACtzE,gBAAT,CAA0B,UAA1B,EAAsCsR,KAAK,CAACkiE,cAA5C;AACAF,QAAAA,QAAQ,CAACtzE,gBAAT,CAA0B,aAA1B,EAAyCsR,KAAK,CAACkiE,cAA/C,EAZoB,CAY4C;AAChE;AACA;AACA;;AACArtC,QAAAA,MAAM,CAACnmC,gBAAP,CAAwB,QAAxB,EAAkCsR,KAAK,CAACmiE,iBAAxC,EAA2D,IAA3D;AACH;AACJ,KAnBD;;AAoBA,SAAKF,eAAL,GAAuB,UAAUn0E,EAAV,EAAc;AACjC,UAAI2xB,GAAG,GAAGzf,KAAK,CAAC+hE,oBAAN,CAA2Bj0E,EAA3B,CAAV;;AACAkS,MAAAA,KAAK,CAAC4hE,YAAN,CAAmBniD,GAAnB;;AACAzf,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqCF,GAArC;AACH,KAJD;;AAKA,SAAKyiD,cAAL,GAAsB,UAAUp0E,EAAV,EAAc;AAChC,UAAIkS,KAAK,CAAC+d,UAAV,EAAsB;AAAE;AACpB,YAAIikD,QAAQ,GAAGl0E,EAAE,CAACI,MAAlB;AACA8zE,QAAAA,QAAQ,CAACrzE,mBAAT,CAA6B,WAA7B,EAA0CqR,KAAK,CAACiiE,eAAhD;AACAD,QAAAA,QAAQ,CAACrzE,mBAAT,CAA6B,UAA7B,EAAyCqR,KAAK,CAACkiE,cAA/C;AACAF,QAAAA,QAAQ,CAACrzE,mBAAT,CAA6B,aAA7B,EAA4CqR,KAAK,CAACkiE,cAAlD;AACArtC,QAAAA,MAAM,CAAClmC,mBAAP,CAA2B,QAA3B,EAAqCqR,KAAK,CAACmiE,iBAA3C,EAA8D,IAA9D,EALkB,CAKmD;;AACrEniE,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC3f,KAAK,CAAC+hE,oBAAN,CAA2Bj0E,EAA3B,CAAnC;;AACAkS,QAAAA,KAAK,CAAC6hE,OAAN,GAPkB,CAOD;;;AACjB7hE,QAAAA,KAAK,CAACkhE,eAAN,GAAwB,KAAxB;AACAkB,QAAAA,kBAAkB;AACrB;AACJ,KAZD;;AAaA,SAAKD,iBAAL,GAAyB,YAAY;AACjCniE,MAAAA,KAAK,CAACmhE,cAAN,GAAuB,IAAvB;AACH,KAFD;;AAGA,SAAKkB,YAAL,GAAoB,UAAUv0E,EAAV,EAAc;AAC9B,UAAI,CAACkS,KAAK,CAACghE,gBAAX,EAA6B;AACzB,YAAIsB,KAAK,GAAIztC,MAAM,CAACyB,WAAP,GAAqBt2B,KAAK,CAACuiE,WAA5B,GAA2CviE,KAAK,CAACwiE,SAA7D;AACA,YAAIC,KAAK,GAAI5tC,MAAM,CAAC0B,WAAP,GAAqBv2B,KAAK,CAAC0iE,WAA5B,GAA2C1iE,KAAK,CAAC2iE,SAA7D;;AACA3iE,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqC;AACjCG,UAAAA,SAAS,EAAEhyB,EADsB;AAEjC80E,UAAAA,OAAO,EAAE5iE,KAAK,CAACkhE,eAFkB;AAGjCJ,UAAAA,SAAS,EAAE9gE,KAAK,CAAC8gE,SAHgB;AAIjCwB,UAAAA,KAAK,EAAEA,KAJ0B;AAKjCG,UAAAA,KAAK,EAAEA,KAL0B;AAMjC5zC,UAAAA,MAAM,EAAEyzC,KAAK,GAAGtiE,KAAK,CAAC6iE,SANW;AAOjC/zC,UAAAA,MAAM,EAAE2zC,KAAK,GAAGziE,KAAK,CAAC8iE;AAPW,SAArC;AASH;AACJ,KAdD;;AAeA,SAAKjC,WAAL,GAAmBA,WAAnB;AACA,SAAKnhD,OAAL,GAAe,IAAIgY,yDAAJ,EAAf;AACAmpC,IAAAA,WAAW,CAACnyE,gBAAZ,CAA6B,WAA7B,EAA0C,KAAK0yE,eAA/C;AACAP,IAAAA,WAAW,CAACnyE,gBAAZ,CAA6B,YAA7B,EAA2C,KAAKozE,gBAAhD,EAAkE;AAAEiB,MAAAA,OAAO,EAAE;AAAX,KAAlE;AACAC,IAAAA,eAAe;AAClB;;AACDpC,EAAAA,eAAe,CAAC97E,SAAhB,CAA0ByC,OAA1B,GAAoC,YAAY;AAC5C,SAAKs5E,WAAL,CAAiBlyE,mBAAjB,CAAqC,WAArC,EAAkD,KAAKyyE,eAAvD;AACA,SAAKP,WAAL,CAAiBlyE,mBAAjB,CAAqC,YAArC,EAAmD,KAAKmzE,gBAAxD,EAA0E;AAAEiB,MAAAA,OAAO,EAAE;AAAX,KAA1E;AACAE,IAAAA,iBAAiB;AACpB,GAJD;;AAKArC,EAAAA,eAAe,CAAC97E,SAAhB,CAA0By8E,QAA1B,GAAqC,UAAUzzE,EAAV,EAAc;AAC/C,QAAIgzE,SAAS,GAAG,KAAKoC,cAAL,CAAoBp1E,EAApB,CAAhB;AACA,QAAIq1E,MAAM,GAAGr1E,EAAE,CAACI,MAAhB;;AACA,QAAI4yE,SAAS,KACR,CAAC,KAAKC,cAAN,IAAwBr1E,oEAAc,CAACy3E,MAAD,EAAS,KAAKpC,cAAd,CAD9B,CAAb,EAC2E;AACvE,WAAKD,SAAL,GAAiBA,SAAjB;AACA,WAAK/iD,UAAL,GAAkB,IAAlB,CAFuE,CAE/C;;AACxB,WAAKojD,cAAL,GAAsB,KAAtB;AACA,aAAO,IAAP;AACH;;AACD,WAAO,KAAP;AACH,GAXD;;AAYAP,EAAAA,eAAe,CAAC97E,SAAhB,CAA0B+8E,OAA1B,GAAoC,YAAY;AAC5ClB,IAAAA,0BAA0B,GAAG,KAA7B;AACA,SAAK5iD,UAAL,GAAkB,KAAlB;AACA,SAAK+iD,SAAL,GAAiB,IAAjB,CAH4C,CAI5C;;AACA,SAAKsC,kBAAL;AACH,GAND;;AAOAxC,EAAAA,eAAe,CAAC97E,SAAhB,CAA0Bo+E,cAA1B,GAA2C,UAAUp1E,EAAV,EAAc;AACrD,QAAI,KAAKhF,QAAT,EAAmB;AACf,aAAO4C,oEAAc,CAACoC,EAAE,CAACI,MAAJ,EAAY,KAAKpF,QAAjB,CAArB;AACH;;AACD,WAAO,KAAK+3E,WAAZ;AACH,GALD;;AAMAD,EAAAA,eAAe,CAAC97E,SAAhB,CAA0Bu8E,iBAA1B,GAA8C,YAAY;AACtD,WAAOZ,gBAAgB,IAAI,KAAKS,eAAhC;AACH,GAFD,CArI6C,CAwI7C;;;AACAN,EAAAA,eAAe,CAAC97E,SAAhB,CAA0Bu+E,iBAA1B,GAA8C,YAAY;AACtD,QAAI,KAAKtlD,UAAT,EAAqB;AACjB4iD,MAAAA,0BAA0B,GAAG,IAA7B;AACH;AACJ,GAJD,CAzI6C,CA8I7C;AACA;;;AACAC,EAAAA,eAAe,CAAC97E,SAAhB,CAA0B28E,eAA1B,GAA4C,UAAU3zE,EAAV,EAAc;AACtD,QAAI,KAAKmzE,iBAAT,EAA4B;AACxB,WAAKW,YAAL,CAAkB9zE,EAAlB;AACA+mC,MAAAA,MAAM,CAACnmC,gBAAP,CAAwB,QAAxB,EAAkC,KAAK2zE,YAAvC,EAAqD,IAArD,EAFwB,CAEoC;AAC/D;AACJ,GALD;;AAMAzB,EAAAA,eAAe,CAAC97E,SAAhB,CAA0B88E,YAA1B,GAAyC,UAAU9zE,EAAV,EAAc;AACnD,QAAI,KAAKmzE,iBAAT,EAA4B;AACxB,WAAKuB,SAAL,GAAiB10E,EAAE,CAACw0E,KAApB;AACA,WAAKK,SAAL,GAAiB70E,EAAE,CAAC20E,KAApB;AACA,WAAKF,WAAL,GAAmB1tC,MAAM,CAACyB,WAA1B;AACA,WAAKosC,WAAL,GAAmB7tC,MAAM,CAAC0B,WAA1B;AACH;AACJ,GAPD;;AAQAqqC,EAAAA,eAAe,CAAC97E,SAAhB,CAA0Bs+E,kBAA1B,GAA+C,YAAY;AACvD,QAAI,KAAKnC,iBAAT,EAA4B;AACxBpsC,MAAAA,MAAM,CAAClmC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK0zE,YAA1C,EAAwD,IAAxD,EADwB,CACuC;AAClE;AACJ,GAJD,CA9J6C,CAmK7C;AACA;;;AACAzB,EAAAA,eAAe,CAAC97E,SAAhB,CAA0B08E,oBAA1B,GAAiD,UAAU1zE,EAAV,EAAcw1E,OAAd,EAAuB;AACpE,QAAIz0C,MAAM,GAAG,CAAb;AACA,QAAIC,MAAM,GAAG,CAAb,CAFoE,CAGpE;;AACA,QAAIw0C,OAAJ,EAAa;AACT,WAAKT,SAAL,GAAiB/0E,EAAE,CAACw0E,KAApB;AACA,WAAKQ,SAAL,GAAiBh1E,EAAE,CAAC20E,KAApB;AACH,KAHD,MAIK;AACD5zC,MAAAA,MAAM,GAAG/gC,EAAE,CAACw0E,KAAH,GAAW,KAAKO,SAAzB;AACA/zC,MAAAA,MAAM,GAAGhhC,EAAE,CAAC20E,KAAH,GAAW,KAAKK,SAAzB;AACH;;AACD,WAAO;AACHhjD,MAAAA,SAAS,EAAEhyB,EADR;AAEH80E,MAAAA,OAAO,EAAE,KAFN;AAGH9B,MAAAA,SAAS,EAAE,KAAKA,SAHb;AAIHwB,MAAAA,KAAK,EAAEx0E,EAAE,CAACw0E,KAJP;AAKHG,MAAAA,KAAK,EAAE30E,EAAE,CAAC20E,KALP;AAMH5zC,MAAAA,MAAM,EAAEA,MANL;AAOHC,MAAAA,MAAM,EAAEA;AAPL,KAAP;AASH,GArBD;;AAsBA8xC,EAAAA,eAAe,CAAC97E,SAAhB,CAA0Bi9E,oBAA1B,GAAiD,UAAUj0E,EAAV,EAAcw1E,OAAd,EAAuB;AACpE,QAAIC,OAAO,GAAGz1E,EAAE,CAACy1E,OAAjB;AACA,QAAIjB,KAAJ;AACA,QAAIG,KAAJ;AACA,QAAI5zC,MAAM,GAAG,CAAb;AACA,QAAIC,MAAM,GAAG,CAAb,CALoE,CAMpE;AACA;;AACA,QAAIy0C,OAAO,IAAIA,OAAO,CAAC32E,MAAvB,EAA+B;AAC3B01E,MAAAA,KAAK,GAAGiB,OAAO,CAAC,CAAD,CAAP,CAAWjB,KAAnB;AACAG,MAAAA,KAAK,GAAGc,OAAO,CAAC,CAAD,CAAP,CAAWd,KAAnB;AACH,KAHD,MAIK;AACDH,MAAAA,KAAK,GAAGx0E,EAAE,CAACw0E,KAAX;AACAG,MAAAA,KAAK,GAAG30E,EAAE,CAAC20E,KAAX;AACH,KAfmE,CAgBpE;;;AACA,QAAIa,OAAJ,EAAa;AACT,WAAKT,SAAL,GAAiBP,KAAjB;AACA,WAAKQ,SAAL,GAAiBL,KAAjB;AACH,KAHD,MAIK;AACD5zC,MAAAA,MAAM,GAAGyzC,KAAK,GAAG,KAAKO,SAAtB;AACA/zC,MAAAA,MAAM,GAAG2zC,KAAK,GAAG,KAAKK,SAAtB;AACH;;AACD,WAAO;AACHhjD,MAAAA,SAAS,EAAEhyB,EADR;AAEH80E,MAAAA,OAAO,EAAE,IAFN;AAGH9B,MAAAA,SAAS,EAAE,KAAKA,SAHb;AAIHwB,MAAAA,KAAK,EAAEA,KAJJ;AAKHG,MAAAA,KAAK,EAAEA,KALJ;AAMH5zC,MAAAA,MAAM,EAAEA,MANL;AAOHC,MAAAA,MAAM,EAAEA;AAPL,KAAP;AASH,GAlCD;;AAmCA,SAAO8xC,eAAP;AACH,CA/NoC,EAArC,EAgOA;;;AACA,SAASU,oBAAT,CAA8BxzE,EAA9B,EAAkC;AAC9B,SAAOA,EAAE,CAACi0C,MAAH,KAAc,CAAd,IAAmB,CAACj0C,EAAE,CAAC01E,OAA9B;AACH,EACD;AACA;;;AACA,SAASpB,kBAAT,GAA8B;AAC1B3B,EAAAA,gBAAgB,IAAI,CAApB;AACAjuB,EAAAA,UAAU,CAAC,YAAY;AACnBiuB,IAAAA,gBAAgB,IAAI,CAApB;AACH,GAFS,EAEP5kB,6EAFO,CAAV;AAGH,EACD;AACA;;;AACA,SAASmnB,eAAT,GAA2B;AACvBtC,EAAAA,WAAW,IAAI,CAAf;;AACA,MAAIA,WAAW,KAAK,CAApB,EAAuB;AACnB7rC,IAAAA,MAAM,CAACnmC,gBAAP,CAAwB,WAAxB,EAAqC+0E,iBAArC,EAAwD;AAAEV,MAAAA,OAAO,EAAE;AAAX,KAAxD;AACH;AACJ;;AACD,SAASE,iBAAT,GAA6B;AACzBvC,EAAAA,WAAW,IAAI,CAAf;;AACA,MAAI,CAACA,WAAL,EAAkB;AACd7rC,IAAAA,MAAM,CAAClmC,mBAAP,CAA2B,WAA3B,EAAwC80E,iBAAxC,EAA2D;AAAEV,MAAAA,OAAO,EAAE;AAAX,KAA3D;AACH;AACJ;;AACD,SAASU,iBAAT,CAA2B31E,EAA3B,EAA+B;AAC3B,MAAI6yE,0BAAJ,EAAgC;AAC5B7yE,IAAAA,EAAE,CAACK,cAAH;AACH;AACJ;AAED;AACA;AACA;AACA;AACA;;;AACA,IAAIu1E,aAAa;AAAG;AAAe,YAAY;AAC3C,WAASA,aAAT,GAAyB;AACrB,SAAKrL,SAAL,GAAiB,KAAjB,CADqB,CACG;;AACxB,SAAKsL,QAAL,GAAgB,IAAhB;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,YAAL,GAAoB,IAApB,CAJqB,CAIK;AAC1B;;AACA,SAAKr4E,UAAL,GAAkBI,QAAQ,CAACiE,IAA3B;AACA,SAAKi0E,MAAL,GAAc,IAAd;AACA,SAAKC,cAAL,GAAsB,CAAtB;AACH;;AACDL,EAAAA,aAAa,CAAC5+E,SAAd,CAAwBoW,KAAxB,GAAgC,UAAUyoE,QAAV,EAAoBrB,KAApB,EAA2BG,KAA3B,EAAkC;AAC9D,SAAKkB,QAAL,GAAgBA,QAAhB;AACA,SAAKE,YAAL,GAAoB,KAAKF,QAAL,CAAcrxE,qBAAd,EAApB;AACA,SAAK0xE,WAAL,GAAmB1B,KAAK,GAAGztC,MAAM,CAACyB,WAAlC;AACA,SAAK2tC,WAAL,GAAmBxB,KAAK,GAAG5tC,MAAM,CAAC0B,WAAlC;AACA,SAAK1H,MAAL,GAAc,CAAd;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKo1C,gBAAL;AACH,GARD;;AASAR,EAAAA,aAAa,CAAC5+E,SAAd,CAAwBq/E,UAAxB,GAAqC,UAAU7B,KAAV,EAAiBG,KAAjB,EAAwB;AACzD,SAAK5zC,MAAL,GAAeyzC,KAAK,GAAGztC,MAAM,CAACyB,WAAhB,GAA+B,KAAK0tC,WAAlD;AACA,SAAKl1C,MAAL,GAAe2zC,KAAK,GAAG5tC,MAAM,CAAC0B,WAAhB,GAA+B,KAAK0tC,WAAlD;AACA,SAAKC,gBAAL;AACH,GAJD,CApB2C,CAyB3C;;;AACAR,EAAAA,aAAa,CAAC5+E,SAAd,CAAwBs/E,YAAxB,GAAuC,UAAU1oB,IAAV,EAAgB;AACnD,QAAIA,IAAJ,EAAU;AACN,UAAI,CAAC,KAAK2c,SAAV,EAAqB;AACjB,YAAI,KAAKuL,QAAT,EAAmB;AACf,eAAKA,QAAL,CAAcj2E,KAAd,CAAoBgX,OAApB,GAA8B,EAA9B;AACH;;AACD,aAAK0zD,SAAL,GAAiB3c,IAAjB,CAJiB,CAIM;;AACvB,aAAKwoB,gBAAL,GALiB,CAKQ;AAC5B;AACJ,KARD,MASK,IAAI,KAAK7L,SAAT,EAAoB;AACrB,UAAI,KAAKuL,QAAT,EAAmB;AACf,aAAKA,QAAL,CAAcj2E,KAAd,CAAoBgX,OAApB,GAA8B,MAA9B;AACH;;AACD,WAAK0zD,SAAL,GAAiB3c,IAAjB;AACH;AACJ,GAhBD,CA1B2C,CA2C3C;;;AACAgoB,EAAAA,aAAa,CAAC5+E,SAAd,CAAwBu/E,IAAxB,GAA+B,UAAUC,oBAAV,EAAgCj1E,QAAhC,EAA0C;AACrE,QAAI2Q,KAAK,GAAG,IAAZ;;AACA,QAAIukE,IAAI,GAAG,SAAPA,IAAO,GAAY;AACnBvkE,MAAAA,KAAK,CAAC6hE,OAAN;;AACAxyE,MAAAA,QAAQ;AACX,KAHD;;AAIA,QAAIi1E,oBAAoB,IACpB,KAAKV,QADL,IAEA,KAAKvL,SAFL,IAGA,KAAK0L,cAHL,MAGuB;AACtB,SAAKl1C,MAAL,IAAe,KAAKC,MAJrB,CAAJ,CAIiC;AAJjC,MAKE;AACE,WAAK01C,iBAAL,CAAuBD,IAAvB,EAA6B,KAAKR,cAAlC;AACH,KAPD,MAQK;AACDvxB,MAAAA,UAAU,CAAC+xB,IAAD,EAAO,CAAP,CAAV;AACH;AACJ,GAjBD;;AAkBAb,EAAAA,aAAa,CAAC5+E,SAAd,CAAwB0/E,iBAAxB,GAA4C,UAAUn1E,QAAV,EAAoB00E,cAApB,EAAoC;AAC5E,QAAIH,QAAQ,GAAG,KAAKA,QAApB;AACA,QAAIa,iBAAiB,GAAG,KAAKd,QAAL,CAAcrxE,qBAAd,EAAxB,CAF4E,CAEb;;AAC/DsxE,IAAAA,QAAQ,CAACj2E,KAAT,CAAe+2E,UAAf,GACI,SAASX,cAAT,GAA0B,KAA1B,GACI,OADJ,GACcA,cADd,GAC+B,IAFnC;AAGAz2E,IAAAA,gEAAU,CAACs2E,QAAD,EAAW;AACjBv1C,MAAAA,IAAI,EAAEo2C,iBAAiB,CAACp2C,IADP;AAEjBE,MAAAA,GAAG,EAAEk2C,iBAAiB,CAACl2C;AAFN,KAAX,CAAV;AAIAn/B,IAAAA,wEAAkB,CAACw0E,QAAD,EAAW,YAAY;AACrCA,MAAAA,QAAQ,CAACj2E,KAAT,CAAe+2E,UAAf,GAA4B,EAA5B;AACAr1E,MAAAA,QAAQ;AACX,KAHiB,CAAlB;AAIH,GAdD;;AAeAq0E,EAAAA,aAAa,CAAC5+E,SAAd,CAAwB+8E,OAAxB,GAAkC,YAAY;AAC1C,QAAI,KAAK+B,QAAT,EAAmB;AACft4E,MAAAA,mEAAa,CAAC,KAAKs4E,QAAN,CAAb;AACA,WAAKA,QAAL,GAAgB,IAAhB;AACH;;AACD,SAAKD,QAAL,GAAgB,IAAhB;AACH,GAND;;AAOAD,EAAAA,aAAa,CAAC5+E,SAAd,CAAwBo/E,gBAAxB,GAA2C,YAAY;AACnD,QAAI,KAAKP,QAAL,IAAiB,KAAKtL,SAA1B,EAAqC;AACjC/qE,MAAAA,gEAAU,CAAC,KAAKq3E,WAAL,EAAD,EAAqB;AAC3Bt2C,QAAAA,IAAI,EAAE,KAAKw1C,YAAL,CAAkBx1C,IAAlB,GAAyB,KAAKQ,MADT;AAE3BN,QAAAA,GAAG,EAAE,KAAKs1C,YAAL,CAAkBt1C,GAAlB,GAAwB,KAAKO;AAFP,OAArB,CAAV;AAIH;AACJ,GAPD;;AAQA40C,EAAAA,aAAa,CAAC5+E,SAAd,CAAwB6/E,WAAxB,GAAsC,YAAY;AAC9C,QAAId,YAAY,GAAG,KAAKA,YAAxB;AACA,QAAID,QAAQ,GAAG,KAAKA,QAApB;;AACA,QAAI,CAACA,QAAL,EAAe;AACXA,MAAAA,QAAQ,GAAG,KAAKA,QAAL,GAAgB,KAAKD,QAAL,CAAciB,SAAd,CAAwB,IAAxB,CAA3B,CADW,CAC+C;AAC1D;AACA;;AACAhB,MAAAA,QAAQ,CAAC9zE,SAAT,CAAmBC,GAAnB,CAAuB,iBAAvB;AACA6zE,MAAAA,QAAQ,CAAC9zE,SAAT,CAAmBC,GAAnB,CAAuB,mBAAvB;AACAzC,MAAAA,gEAAU,CAACs2E,QAAD,EAAW;AACjBr0C,QAAAA,QAAQ,EAAE,OADO;AAEjBu0C,QAAAA,MAAM,EAAE,KAAKA,MAFI;AAGjB5L,QAAAA,UAAU,EAAE,EAHK;AAIjB2M,QAAAA,SAAS,EAAE,YAJM;AAKjBtyE,QAAAA,KAAK,EAAEsxE,YAAY,CAACv1C,KAAb,GAAqBu1C,YAAY,CAACx1C,IALxB;AAMjBtjB,QAAAA,MAAM,EAAE84D,YAAY,CAACr1C,MAAb,GAAsBq1C,YAAY,CAACt1C,GAN1B;AAOjBD,QAAAA,KAAK,EAAE,MAPU;AAQjBE,QAAAA,MAAM,EAAE,MARS;AASjBs2C,QAAAA,MAAM,EAAE;AATS,OAAX,CAAV;AAWA,WAAKt5E,UAAL,CAAgBikC,WAAhB,CAA4Bm0C,QAA5B;AACH;;AACD,WAAOA,QAAP;AACH,GAvBD;;AAwBA,SAAOF,aAAP;AACH,CArHkC,EAAnC;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIqB,eAAe;AAAG;AAAe,UAAUpqC,MAAV,EAAkB;AACnD5wC,EAAAA,gDAAS,CAACg7E,eAAD,EAAkBpqC,MAAlB,CAAT;;AACA,WAASoqC,eAAT,CAAyBC,gBAAzB,EAA2CC,aAA3C,EAA0D;AACtD,QAAIjlE,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAsa,IAAAA,KAAK,CAACqiE,YAAN,GAAqB,YAAY;AAC7BriE,MAAAA,KAAK,CAAC46B,SAAN,GAAkB56B,KAAK,CAACglE,gBAAN,CAAuB3qC,YAAvB,EAAlB;AACAr6B,MAAAA,KAAK,CAAC66B,UAAN,GAAmB76B,KAAK,CAACglE,gBAAN,CAAuBxqC,aAAvB,EAAnB;;AACAx6B,MAAAA,KAAK,CAACklE,kBAAN;AACH,KAJD;;AAKAllE,IAAAA,KAAK,CAACglE,gBAAN,GAAyBA,gBAAzB;AACAhlE,IAAAA,KAAK,CAACilE,aAAN,GAAsBA,aAAtB;AACAjlE,IAAAA,KAAK,CAAC46B,SAAN,GAAkB56B,KAAK,CAACmlE,aAAN,GAAsBH,gBAAgB,CAAC3qC,YAAjB,EAAxC;AACAr6B,IAAAA,KAAK,CAAC66B,UAAN,GAAmB76B,KAAK,CAAColE,cAAN,GAAuBJ,gBAAgB,CAACxqC,aAAjB,EAA1C;AACAx6B,IAAAA,KAAK,CAACg7B,WAAN,GAAoBgqC,gBAAgB,CAAChrC,cAAjB,EAApB;AACAh6B,IAAAA,KAAK,CAACi7B,YAAN,GAAqB+pC,gBAAgB,CAACnrC,eAAjB,EAArB;AACA75B,IAAAA,KAAK,CAACy0B,WAAN,GAAoBuwC,gBAAgB,CAAC/qC,cAAjB,EAApB;AACAj6B,IAAAA,KAAK,CAACu0B,YAAN,GAAqBywC,gBAAgB,CAAClrC,eAAjB,EAArB;AACA95B,IAAAA,KAAK,CAACqlE,UAAN,GAAmBrlE,KAAK,CAACslE,iBAAN,EAAnB,CAfsD,CAeR;;AAC9C,QAAItlE,KAAK,CAACilE,aAAV,EAAyB;AACrBjlE,MAAAA,KAAK,CAACulE,cAAN,GAAuB72E,gBAAvB,CAAwC,QAAxC,EAAkDsR,KAAK,CAACqiE,YAAxD;AACH;;AACD,WAAOriE,KAAP;AACH;;AACD+kE,EAAAA,eAAe,CAACjgF,SAAhB,CAA0ByC,OAA1B,GAAoC,YAAY;AAC5C,QAAI,KAAK09E,aAAT,EAAwB;AACpB,WAAKM,cAAL,GAAsB52E,mBAAtB,CAA0C,QAA1C,EAAoD,KAAK0zE,YAAzD;AACH;AACJ,GAJD;;AAKA0C,EAAAA,eAAe,CAACjgF,SAAhB,CAA0Bu1C,YAA1B,GAAyC,YAAY;AACjD,WAAO,KAAKO,SAAZ;AACH,GAFD;;AAGAmqC,EAAAA,eAAe,CAACjgF,SAAhB,CAA0B01C,aAA1B,GAA0C,YAAY;AAClD,WAAO,KAAKK,UAAZ;AACH,GAFD;;AAGAkqC,EAAAA,eAAe,CAACjgF,SAAhB,CAA0Bg2C,YAA1B,GAAyC,UAAUvM,GAAV,EAAe;AACpD,SAAKy2C,gBAAL,CAAsBlqC,YAAtB,CAAmCvM,GAAnC;;AACA,QAAI,CAAC,KAAK02C,aAAV,EAAyB;AACrB;AACA;AACA,WAAKrqC,SAAL,GAAiB/mC,IAAI,CAACoO,GAAL,CAASpO,IAAI,CAACwB,GAAL,CAASk5B,GAAT,EAAc,KAAKqL,eAAL,EAAd,CAAT,EAAgD,CAAhD,CAAjB;AACA,WAAKsrC,kBAAL;AACH;AACJ,GARD;;AASAH,EAAAA,eAAe,CAACjgF,SAAhB,CAA0Bi2C,aAA1B,GAA0C,UAAUxM,GAAV,EAAe;AACrD,SAAKy2C,gBAAL,CAAsBjqC,aAAtB,CAAoCxM,GAApC;;AACA,QAAI,CAAC,KAAK02C,aAAV,EAAyB;AACrB;AACA;AACA,WAAKpqC,UAAL,GAAkBhnC,IAAI,CAACoO,GAAL,CAASpO,IAAI,CAACwB,GAAL,CAASk5B,GAAT,EAAc,KAAKwL,gBAAL,EAAd,CAAT,EAAiD,CAAjD,CAAlB;AACA,WAAKmrC,kBAAL;AACH;AACJ,GARD;;AASAH,EAAAA,eAAe,CAACjgF,SAAhB,CAA0Bm1C,cAA1B,GAA2C,YAAY;AACnD,WAAO,KAAKxF,WAAZ;AACH,GAFD;;AAGAswC,EAAAA,eAAe,CAACjgF,SAAhB,CAA0Bg1C,eAA1B,GAA4C,YAAY;AACpD,WAAO,KAAKvF,YAAZ;AACH,GAFD;;AAGAwwC,EAAAA,eAAe,CAACjgF,SAAhB,CAA0Bk1C,cAA1B,GAA2C,YAAY;AACnD,WAAO,KAAKgB,WAAZ;AACH,GAFD;;AAGA+pC,EAAAA,eAAe,CAACjgF,SAAhB,CAA0B+0C,eAA1B,GAA4C,YAAY;AACpD,WAAO,KAAKoB,YAAZ;AACH,GAFD;;AAGA8pC,EAAAA,eAAe,CAACjgF,SAAhB,CAA0BogF,kBAA1B,GAA+C,YAAY,CAC1D,CADD;;AAEA,SAAOH,eAAP;AACH,CAnEoC,CAmEnCprC,kEAnEmC,CAArC;;AAqEA,IAAI6rC,sBAAsB;AAAG;AAAe,UAAU7qC,MAAV,EAAkB;AAC1D5wC,EAAAA,gDAAS,CAACy7E,sBAAD,EAAyB7qC,MAAzB,CAAT;;AACA,WAAS6qC,sBAAT,CAAgCj6E,EAAhC,EAAoC05E,aAApC,EAAmD;AAC/C,WAAOtqC,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkB,IAAIg1C,yEAAJ,CAA4BnvC,EAA5B,CAAlB,EAAmD05E,aAAnD,KAAqE,IAA5E;AACH;;AACDO,EAAAA,sBAAsB,CAAC1gF,SAAvB,CAAiCygF,cAAjC,GAAkD,YAAY;AAC1D,WAAO,KAAKP,gBAAL,CAAsBz5E,EAA7B;AACH,GAFD;;AAGAi6E,EAAAA,sBAAsB,CAAC1gF,SAAvB,CAAiCwgF,iBAAjC,GAAqD,YAAY;AAC7D,WAAOtvC,sEAAgB,CAAC,KAAKgvC,gBAAL,CAAsBz5E,EAAvB,CAAvB;AACH,GAFD;;AAGA,SAAOi6E,sBAAP;AACH,CAZ2C,CAY1CT,eAZ0C,CAA5C;;AAcA,IAAIU,qBAAqB;AAAG;AAAe,UAAU9qC,MAAV,EAAkB;AACzD5wC,EAAAA,gDAAS,CAAC07E,qBAAD,EAAwB9qC,MAAxB,CAAT;;AACA,WAAS8qC,qBAAT,CAA+BR,aAA/B,EAA8C;AAC1C,WAAOtqC,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkB,IAAIw1C,wEAAJ,EAAlB,EAAgD+pC,aAAhD,KAAkE,IAAzE;AACH;;AACDQ,EAAAA,qBAAqB,CAAC3gF,SAAtB,CAAgCygF,cAAhC,GAAiD,YAAY;AACzD,WAAO1wC,MAAP;AACH,GAFD;;AAGA4wC,EAAAA,qBAAqB,CAAC3gF,SAAtB,CAAgCwgF,iBAAhC,GAAoD,YAAY;AAC5D,WAAO;AACHj3C,MAAAA,IAAI,EAAE,KAAKwM,UADR;AAEHvM,MAAAA,KAAK,EAAE,KAAKuM,UAAL,GAAkB,KAAKpG,WAF3B;AAGHlG,MAAAA,GAAG,EAAE,KAAKqM,SAHP;AAIHpM,MAAAA,MAAM,EAAE,KAAKoM,SAAL,GAAiB,KAAKrG;AAJ3B,KAAP;AAMH,GAPD,CARyD,CAgBzD;AACA;;;AACAkxC,EAAAA,qBAAqB,CAAC3gF,SAAtB,CAAgCogF,kBAAhC,GAAqD,YAAY;AAC7D,SAAKG,UAAL,GAAkB,KAAKC,iBAAL,EAAlB;AACH,GAFD;;AAGA,SAAOG,qBAAP;AACH,CAtB0C,CAsBzCV,eAtByC,CAA3C,EAwBA;AACA;AACA;;;AACA,IAAIW,OAAO,GAAG,OAAOC,WAAP,KAAuB,UAAvB,GAAoCA,WAAW,CAACn6D,GAAhD,GAAsDpmB,IAAI,CAAComB,GAAzE;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIo6D,YAAY;AAAG;AAAe,YAAY;AAC1C,WAASA,YAAT,GAAwB;AACpB,QAAI5lE,KAAK,GAAG,IAAZ,CADoB,CAEpB;;;AACA,SAAK6lE,SAAL,GAAiB,IAAjB;AACA,SAAKC,WAAL,GAAmB,CAACjxC,MAAD,EAAS,cAAT,CAAnB;AACA,SAAKkxC,aAAL,GAAqB,EAArB,CALoB,CAKK;;AACzB,SAAKC,WAAL,GAAmB,GAAnB,CANoB,CAMI;AACxB;;AACA,SAAKC,cAAL,GAAsB,IAAtB;AACA,SAAKC,cAAL,GAAsB,IAAtB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,YAAL,GAAoB,IAApB,CAXoB,CAYpB;;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAqB,KAArB;AACA,SAAKC,aAAL,GAAqB,KAArB;AACA,SAAKC,cAAL,GAAsB,KAAtB;;AACA,SAAKC,OAAL,GAAe,YAAY;AACvB,UAAIzmE,KAAK,CAACmmE,WAAV,EAAuB;AAAE;AACrB,YAAIO,IAAI,GAAG1mE,KAAK,CAAC2mE,eAAN,CAAsB3mE,KAAK,CAACimE,cAAN,GAAuBpxC,MAAM,CAACyB,WAApD,EAAiEt2B,KAAK,CAACkmE,cAAN,GAAuBrxC,MAAM,CAAC0B,WAA/F,CAAX;;AACA,YAAImwC,IAAJ,EAAU;AACN,cAAIl7D,GAAG,GAAGk6D,OAAO,EAAjB;;AACA1lE,UAAAA,KAAK,CAAC4mE,UAAN,CAAiBF,IAAjB,EAAuB,CAACl7D,GAAG,GAAGxL,KAAK,CAAC6mE,cAAb,IAA+B,IAAtD;;AACA7mE,UAAAA,KAAK,CAAC8mE,gBAAN,CAAuBt7D,GAAvB;AACH,SAJD,MAKK;AACDxL,UAAAA,KAAK,CAACmmE,WAAN,GAAoB,KAApB,CADC,CAC0B;AAC9B;AACJ;AACJ,KAZD;AAaH;;AACDP,EAAAA,YAAY,CAAC9gF,SAAb,CAAuBoW,KAAvB,GAA+B,UAAUonE,KAAV,EAAiBG,KAAjB,EAAwB;AACnD,QAAI,KAAKoD,SAAT,EAAoB;AAChB,WAAKO,YAAL,GAAoB,KAAKW,WAAL,EAApB;AACA,WAAKd,cAAL,GAAsB,IAAtB;AACA,WAAKC,cAAL,GAAsB,IAAtB;AACA,WAAKG,WAAL,GAAmB,KAAnB;AACA,WAAKC,aAAL,GAAqB,KAArB;AACA,WAAKC,aAAL,GAAqB,KAArB;AACA,WAAKC,cAAL,GAAsB,KAAtB;AACA,WAAKrC,UAAL,CAAgB7B,KAAhB,EAAuBG,KAAvB;AACH;AACJ,GAXD;;AAYAmD,EAAAA,YAAY,CAAC9gF,SAAb,CAAuBq/E,UAAvB,GAAoC,UAAU7B,KAAV,EAAiBG,KAAjB,EAAwB;AACxD,QAAI,KAAKoD,SAAT,EAAoB;AAChB,UAAII,cAAc,GAAG3D,KAAK,GAAGztC,MAAM,CAACyB,WAApC;AACA,UAAI4vC,cAAc,GAAGzD,KAAK,GAAG5tC,MAAM,CAAC0B,WAApC;AACA,UAAIywC,MAAM,GAAG,KAAKd,cAAL,KAAwB,IAAxB,GAA+B,CAA/B,GAAmCA,cAAc,GAAG,KAAKA,cAAtE;AACA,UAAIe,MAAM,GAAG,KAAKhB,cAAL,KAAwB,IAAxB,GAA+B,CAA/B,GAAmCA,cAAc,GAAG,KAAKA,cAAtE;;AACA,UAAIe,MAAM,GAAG,CAAb,EAAgB;AACZ,aAAKX,WAAL,GAAmB,IAAnB;AACH,OAFD,MAGK,IAAIW,MAAM,GAAG,CAAb,EAAgB;AACjB,aAAKV,aAAL,GAAqB,IAArB;AACH;;AACD,UAAIW,MAAM,GAAG,CAAb,EAAgB;AACZ,aAAKV,aAAL,GAAqB,IAArB;AACH,OAFD,MAGK,IAAIU,MAAM,GAAG,CAAb,EAAgB;AACjB,aAAKT,cAAL,GAAsB,IAAtB;AACH;;AACD,WAAKP,cAAL,GAAsBA,cAAtB;AACA,WAAKC,cAAL,GAAsBA,cAAtB;;AACA,UAAI,CAAC,KAAKC,WAAV,EAAuB;AACnB,aAAKA,WAAL,GAAmB,IAAnB;AACA,aAAKW,gBAAL,CAAsBpB,OAAO,EAA7B;AACH;AACJ;AACJ,GAzBD;;AA0BAE,EAAAA,YAAY,CAAC9gF,SAAb,CAAuBu/E,IAAvB,GAA8B,YAAY;AACtC,QAAI,KAAKwB,SAAT,EAAoB;AAChB,WAAKM,WAAL,GAAmB,KAAnB,CADgB,CACU;;AAC1B,WAAK,IAAIjuE,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKq4E,YAA3B,EAAyCluE,EAAE,GAAGnK,EAAE,CAACnB,MAAjD,EAAyDsL,EAAE,EAA3D,EAA+D;AAC3D,YAAIgvE,WAAW,GAAGn5E,EAAE,CAACmK,EAAD,CAApB;AACAgvE,QAAAA,WAAW,CAAC3/E,OAAZ;AACH;;AACD,WAAK6+E,YAAL,GAAoB,IAApB;AACH;AACJ,GATD;;AAUAR,EAAAA,YAAY,CAAC9gF,SAAb,CAAuBgiF,gBAAvB,GAA0C,UAAUt7D,GAAV,EAAe;AACrD,SAAKq7D,cAAL,GAAsBr7D,GAAtB;AACA27D,IAAAA,qBAAqB,CAAC,KAAKV,OAAN,CAArB;AACH,GAHD;;AAIAb,EAAAA,YAAY,CAAC9gF,SAAb,CAAuB8hF,UAAvB,GAAoC,UAAUF,IAAV,EAAgBlqE,OAAhB,EAAyB;AACzD,QAAI0qE,WAAW,GAAGR,IAAI,CAACQ,WAAvB;AACA,QAAInB,aAAa,GAAG,KAAKA,aAAzB;AACA,QAAIqB,WAAW,GAAGrB,aAAa,GAAGW,IAAI,CAACW,QAAvC;AACA,QAAIC,QAAQ,GAAG;AACZF,IAAAA,WAAW,GAAGA,WAAf,IAA+BrB,aAAa,GAAGA,aAA/C,CAAD,GAAkE;AAC/D,SAAKC,WADR,GACsBxpE,OAFvB;AAGA,QAAIR,IAAI,GAAG,CAAX;;AACA,YAAQ0qE,IAAI,CAACh5E,IAAb;AACI,WAAK,MAAL;AACIsO,QAAAA,IAAI,GAAG,CAAC,CAAR;AACJ;;AACA,WAAK,OAAL;AACIkrE,QAAAA,WAAW,CAACnsC,aAAZ,CAA0BmsC,WAAW,CAAC1sC,aAAZ,KAA8B8sC,QAAQ,GAAGtrE,IAAnE;AACA;;AACJ,WAAK,KAAL;AACIA,QAAAA,IAAI,GAAG,CAAC,CAAR;AACJ;;AACA,WAAK,QAAL;AACIkrE,QAAAA,WAAW,CAACpsC,YAAZ,CAAyBosC,WAAW,CAAC7sC,YAAZ,KAA6BitC,QAAQ,GAAGtrE,IAAjE;AACA;AAZR;AAcH,GAtBD,CApF0C,CA2G1C;;;AACA4pE,EAAAA,YAAY,CAAC9gF,SAAb,CAAuB6hF,eAAvB,GAAyC,UAAUt4C,IAAV,EAAgBE,GAAhB,EAAqB;AAC1D,QAAIw3C,aAAa,GAAG,KAAKA,aAAzB;AACA,QAAIwB,QAAQ,GAAG,IAAf;;AACA,SAAK,IAAIrvE,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKq4E,YAA3B,EAAyCluE,EAAE,GAAGnK,EAAE,CAACnB,MAAjD,EAAyDsL,EAAE,EAA3D,EAA+D;AAC3D,UAAIgvE,WAAW,GAAGn5E,EAAE,CAACmK,EAAD,CAApB;AACA,UAAIk2B,IAAI,GAAG84C,WAAW,CAAC7B,UAAvB;AACA,UAAImC,QAAQ,GAAGn5C,IAAI,GAAGD,IAAI,CAACC,IAA3B;AACA,UAAIo5C,SAAS,GAAGr5C,IAAI,CAACE,KAAL,GAAaD,IAA7B;AACA,UAAIq5C,OAAO,GAAGn5C,GAAG,GAAGH,IAAI,CAACG,GAAzB;AACA,UAAIo5C,UAAU,GAAGv5C,IAAI,CAACI,MAAL,GAAcD,GAA/B,CAN2D,CAO3D;;AACA,UAAIi5C,QAAQ,IAAI,CAAZ,IAAiBC,SAAS,IAAI,CAA9B,IAAmCC,OAAO,IAAI,CAA9C,IAAmDC,UAAU,IAAI,CAArE,EAAwE;AACpE,YAAID,OAAO,IAAI3B,aAAX,IAA4B,KAAKM,WAAjC,IAAgDa,WAAW,CAAC9sC,WAAZ,EAAhD,KACC,CAACmtC,QAAD,IAAaA,QAAQ,CAACF,QAAT,GAAoBK,OADlC,CAAJ,EACgD;AAC5CH,UAAAA,QAAQ,GAAG;AAAEL,YAAAA,WAAW,EAAEA,WAAf;AAA4Bx5E,YAAAA,IAAI,EAAE,KAAlC;AAAyC25E,YAAAA,QAAQ,EAAEK;AAAnD,WAAX;AACH;;AACD,YAAIC,UAAU,IAAI5B,aAAd,IAA+B,KAAKO,aAApC,IAAqDY,WAAW,CAAC5sC,aAAZ,EAArD,KACC,CAACitC,QAAD,IAAaA,QAAQ,CAACF,QAAT,GAAoBM,UADlC,CAAJ,EACmD;AAC/CJ,UAAAA,QAAQ,GAAG;AAAEL,YAAAA,WAAW,EAAEA,WAAf;AAA4Bx5E,YAAAA,IAAI,EAAE,QAAlC;AAA4C25E,YAAAA,QAAQ,EAAEM;AAAtD,WAAX;AACH;;AACD,YAAIH,QAAQ,IAAIzB,aAAZ,IAA6B,KAAKQ,aAAlC,IAAmDW,WAAW,CAAC3sC,aAAZ,EAAnD,KACC,CAACgtC,QAAD,IAAaA,QAAQ,CAACF,QAAT,GAAoBG,QADlC,CAAJ,EACiD;AAC7CD,UAAAA,QAAQ,GAAG;AAAEL,YAAAA,WAAW,EAAEA,WAAf;AAA4Bx5E,YAAAA,IAAI,EAAE,MAAlC;AAA0C25E,YAAAA,QAAQ,EAAEG;AAApD,WAAX;AACH;;AACD,YAAIC,SAAS,IAAI1B,aAAb,IAA8B,KAAKS,cAAnC,IAAqDU,WAAW,CAACzsC,cAAZ,EAArD,KACC,CAAC8sC,QAAD,IAAaA,QAAQ,CAACF,QAAT,GAAoBI,SADlC,CAAJ,EACkD;AAC9CF,UAAAA,QAAQ,GAAG;AAAEL,YAAAA,WAAW,EAAEA,WAAf;AAA4Bx5E,YAAAA,IAAI,EAAE,OAAlC;AAA2C25E,YAAAA,QAAQ,EAAEI;AAArD,WAAX;AACH;AACJ;AACJ;;AACD,WAAOF,QAAP;AACH,GA/BD;;AAgCA3B,EAAAA,YAAY,CAAC9gF,SAAb,CAAuBiiF,WAAvB,GAAqC,YAAY;AAC7C,WAAO,KAAKa,cAAL,GAAsBziF,GAAtB,CAA0B,UAAUoG,EAAV,EAAc;AAC3C,UAAIA,EAAE,KAAKspC,MAAX,EAAmB;AACf,eAAO,IAAI4wC,qBAAJ,CAA0B,KAA1B,CAAP,CADe,CAC0B;AAC5C;;AACD,aAAO,IAAID,sBAAJ,CAA2Bj6E,EAA3B,EAA+B,KAA/B,CAAP,CAJ2C,CAIG;AACjD,KALM,CAAP;AAMH,GAPD;;AAQAq6E,EAAAA,YAAY,CAAC9gF,SAAb,CAAuB8iF,cAAvB,GAAwC,YAAY;AAChD,QAAIrvC,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIrgC,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAK+3E,WAA3B,EAAwC5tE,EAAE,GAAGnK,EAAE,CAACnB,MAAhD,EAAwDsL,EAAE,EAA1D,EAA8D;AAC1D,UAAI2vE,KAAK,GAAG95E,EAAE,CAACmK,EAAD,CAAd;;AACA,UAAI,OAAO2vE,KAAP,KAAiB,QAArB,EAA+B;AAC3BtvC,QAAAA,GAAG,CAACrvC,IAAJ,CAAS2+E,KAAT;AACH,OAFD,MAGK;AACDtvC,QAAAA,GAAG,CAACrvC,IAAJ,CAASyN,KAAT,CAAe4hC,GAAf,EAAoBtzC,KAAK,CAACH,SAAN,CAAgBW,KAAhB,CAAsBC,IAAtB,CAA2BkG,QAAQ,CAACiB,gBAAT,CAA0Bg7E,KAA1B,CAA3B,CAApB;AACH;AACJ;;AACD,WAAOtvC,GAAP;AACH,GAZD;;AAaA,SAAOqtC,YAAP;AACH,CAlKiC,EAAlC;AAoKA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIkC,yBAAyB;AAAG;AAAe,UAAUntC,MAAV,EAAkB;AAC7D5wC,EAAAA,gDAAS,CAAC+9E,yBAAD,EAA4BntC,MAA5B,CAAT;;AACA,WAASmtC,yBAAT,CAAmCjH,WAAnC,EAAgD/3E,QAAhD,EAA0D;AACtD,QAAIkX,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkBm7E,WAAlB,KAAkC,IAA9C,CADsD,CAEtD;AACA;;;AACA7gE,IAAAA,KAAK,CAACoyC,KAAN,GAAc,IAAd;AACApyC,IAAAA,KAAK,CAAC+nE,WAAN,GAAoB,CAApB;AACA/nE,IAAAA,KAAK,CAACgoE,kBAAN,GAA2B,IAA3B,CANsD,CAMrB;;AACjChoE,IAAAA,KAAK,CAACioE,iBAAN,GAA0B,KAA1B;AACAjoE,IAAAA,KAAK,CAACkoE,aAAN,GAAsB,KAAtB,CARsD,CAQzB;;AAC7BloE,IAAAA,KAAK,CAAC+d,UAAN,GAAmB,KAAnB,CATsD,CAS5B;;AAC1B/d,IAAAA,KAAK,CAACmoE,YAAN,GAAqB,KAArB;AACAnoE,IAAAA,KAAK,CAACooE,mBAAN,GAA4B,KAA5B;AACApoE,IAAAA,KAAK,CAACqoE,cAAN,GAAuB,IAAvB;;AACAroE,IAAAA,KAAK,CAACsoE,aAAN,GAAsB,UAAUx6E,EAAV,EAAc;AAChC,UAAI,CAACkS,KAAK,CAAC+d,UAAX,EAAuB;AAAE;AACrB/d,QAAAA,KAAK,CAACkoE,aAAN,GAAsB,IAAtB;AACAloE,QAAAA,KAAK,CAACmoE,YAAN,GAAqB,KAArB;AACAnoE,QAAAA,KAAK,CAACooE,mBAAN,GAA4B,KAA5B;AACAn4E,QAAAA,sEAAgB,CAACrE,QAAQ,CAACiE,IAAV,CAAhB;AACAM,QAAAA,wEAAkB,CAACvE,QAAQ,CAACiE,IAAV,CAAlB,CALmB,CAMnB;AACA;AACA;;AACA,YAAI,CAAC/B,EAAE,CAAC80E,OAAR,EAAiB;AACb90E,UAAAA,EAAE,CAACgyB,SAAH,CAAa3xB,cAAb;AACH;;AACD6R,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqC7xB,EAArC;;AACA,YAAIkS,KAAK,CAACkoE,aAAN,IAAuB;AACvB,SAACloE,KAAK,CAACuoE,OAAN,CAAcvH,gBADnB,EACqC;AACjC;AACAhhE,UAAAA,KAAK,CAACwoE,MAAN,CAAapE,YAAb,CAA0B,KAA1B,EAFiC,CAEC;;;AAClCpkE,UAAAA,KAAK,CAACwoE,MAAN,CAAattE,KAAb,CAAmBpN,EAAE,CAACgzE,SAAtB,EAAiChzE,EAAE,CAACw0E,KAApC,EAA2Cx0E,EAAE,CAAC20E,KAA9C,EAHiC,CAGqB;;;AACtDziE,UAAAA,KAAK,CAACyoE,UAAN,CAAiB36E,EAAjB;;AACA,cAAI,CAACkS,KAAK,CAAC+nE,WAAX,EAAwB;AACpB/nE,YAAAA,KAAK,CAAC0oE,uBAAN,CAA8B56E,EAA9B;AACH;AACJ;AACJ;AACJ,KAzBD;;AA0BAkS,IAAAA,KAAK,CAAC2oE,aAAN,GAAsB,UAAU76E,EAAV,EAAc;AAChC,UAAIkS,KAAK,CAACkoE,aAAV,EAAyB;AACrBloE,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqC7xB,EAArC;;AACA,YAAI,CAACkS,KAAK,CAACooE,mBAAX,EAAgC;AAC5B,cAAIL,WAAW,GAAG/nE,KAAK,CAAC+nE,WAAxB;AACA,cAAIa,UAAU,GAAG,KAAK,CAAtB,CAF4B,CAEH;;AACzB,cAAI/5C,MAAM,GAAG/gC,EAAE,CAAC+gC,MAAhB;AAAA,cAAwBC,MAAM,GAAGhhC,EAAE,CAACghC,MAApC;AACA85C,UAAAA,UAAU,GAAG/5C,MAAM,GAAGA,MAAT,GAAkBC,MAAM,GAAGA,MAAxC;;AACA,cAAI85C,UAAU,IAAIb,WAAW,GAAGA,WAAhC,EAA6C;AAAE;AAC3C/nE,YAAAA,KAAK,CAAC0oE,uBAAN,CAA8B56E,EAA9B;AACH;AACJ;;AACD,YAAIkS,KAAK,CAAC+d,UAAV,EAAsB;AAClB;AACA,cAAIjwB,EAAE,CAACgyB,SAAH,CAAah4B,IAAb,KAAsB,QAA1B,EAAoC;AAChCkY,YAAAA,KAAK,CAACwoE,MAAN,CAAarE,UAAb,CAAwBr2E,EAAE,CAACw0E,KAA3B,EAAkCx0E,EAAE,CAAC20E,KAArC;;AACAziE,YAAAA,KAAK,CAAC6oE,YAAN,CAAmB1E,UAAnB,CAA8Br2E,EAAE,CAACw0E,KAAjC,EAAwCx0E,EAAE,CAAC20E,KAA3C;AACH;;AACDziE,UAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,UAAtB,EAAkC7xB,EAAlC;AACH;AACJ;AACJ,KArBD;;AAsBAkS,IAAAA,KAAK,CAAC8oE,WAAN,GAAoB,UAAUh7E,EAAV,EAAc;AAC9B,UAAIkS,KAAK,CAACkoE,aAAV,EAAyB;AACrBloE,QAAAA,KAAK,CAACkoE,aAAN,GAAsB,KAAtB;AACAh4E,QAAAA,oEAAc,CAACtE,QAAQ,CAACiE,IAAV,CAAd;AACAO,QAAAA,sEAAgB,CAACxE,QAAQ,CAACiE,IAAV,CAAhB;;AACAmQ,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC7xB,EAAnC,EAJqB,CAImB;;;AACxC,YAAIkS,KAAK,CAAC+d,UAAV,EAAsB;AAClB/d,UAAAA,KAAK,CAAC6oE,YAAN,CAAmBxE,IAAnB;;AACArkE,UAAAA,KAAK,CAAC+oE,WAAN,CAAkBj7E,EAAlB,EAFkB,CAEK;;AAC1B;;AACD,YAAIkS,KAAK,CAACqoE,cAAV,EAA0B;AACtB/1B,UAAAA,YAAY,CAACtyC,KAAK,CAACqoE,cAAP,CAAZ;AACAroE,UAAAA,KAAK,CAACqoE,cAAN,GAAuB,IAAvB;AACH;AACJ;AACJ,KAfD;;AAgBA,QAAIE,OAAO,GAAGvoE,KAAK,CAACuoE,OAAN,GAAgB,IAAI3H,eAAJ,CAAoBC,WAApB,CAA9B;AACA0H,IAAAA,OAAO,CAAC7oD,OAAR,CAAgBoE,EAAhB,CAAmB,aAAnB,EAAkC9jB,KAAK,CAACsoE,aAAxC;AACAC,IAAAA,OAAO,CAAC7oD,OAAR,CAAgBoE,EAAhB,CAAmB,aAAnB,EAAkC9jB,KAAK,CAAC2oE,aAAxC;AACAJ,IAAAA,OAAO,CAAC7oD,OAAR,CAAgBoE,EAAhB,CAAmB,WAAnB,EAAgC9jB,KAAK,CAAC8oE,WAAtC;;AACA,QAAIhgF,QAAJ,EAAc;AACVy/E,MAAAA,OAAO,CAACz/E,QAAR,GAAmBA,QAAnB;AACH;;AACDkX,IAAAA,KAAK,CAACwoE,MAAN,GAAe,IAAI9E,aAAJ,EAAf;AACA1jE,IAAAA,KAAK,CAAC6oE,YAAN,GAAqB,IAAIjD,YAAJ,EAArB;AACA,WAAO5lE,KAAP;AACH;;AACD8nE,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoCyC,OAApC,GAA8C,YAAY;AACtD,SAAKghF,OAAL,CAAahhF,OAAb,GADsD,CAEtD;AACA;;AACA,SAAKuhF,WAAL,CAAiB,EAAjB;AACH,GALD;;AAMAhB,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoC2jF,UAApC,GAAiD,UAAU36E,EAAV,EAAc;AAC3D,QAAIkS,KAAK,GAAG,IAAZ;;AACA,QAAI,OAAO,KAAKoyC,KAAZ,KAAsB,QAA1B,EAAoC;AAChC,WAAKi2B,cAAL,GAAsB71B,UAAU,CAAC,YAAY;AACzCxyC,QAAAA,KAAK,CAACqoE,cAAN,GAAuB,IAAvB;;AACAroE,QAAAA,KAAK,CAACgpE,cAAN,CAAqBl7E,EAArB;AACH,OAH+B,EAG7B,KAAKskD,KAHwB,CAAhC,CADgC,CAIhB;AACnB,KALD,MAMK;AACD,WAAK42B,cAAL,CAAoBl7E,EAApB;AACH;AACJ,GAXD;;AAYAg6E,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoCkkF,cAApC,GAAqD,UAAUl7E,EAAV,EAAc;AAC/D,SAAKq6E,YAAL,GAAoB,IAApB;AACA,SAAKc,YAAL,CAAkBn7E,EAAlB;AACH,GAHD;;AAIAg6E,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoC4jF,uBAApC,GAA8D,UAAU56E,EAAV,EAAc;AACxE,SAAKs6E,mBAAL,GAA2B,IAA3B;AACA,SAAKa,YAAL,CAAkBn7E,EAAlB;AACH,GAHD;;AAIAg6E,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoCmkF,YAApC,GAAmD,UAAUn7E,EAAV,EAAc;AAC7D,QAAI,KAAKq6E,YAAL,IAAqB,KAAKC,mBAA9B,EAAmD;AAC/C,UAAI,CAAC,KAAKG,OAAL,CAAapH,cAAd,IAAgC,KAAK6G,kBAAzC,EAA6D;AACzD,aAAKjqD,UAAL,GAAkB,IAAlB;AACA,aAAKkqD,iBAAL,GAAyB,KAAzB;AACA,aAAKY,YAAL,CAAkB3tE,KAAlB,CAAwBpN,EAAE,CAACw0E,KAA3B,EAAkCx0E,EAAE,CAAC20E,KAArC;AACA,aAAK/iD,OAAL,CAAaC,OAAb,CAAqB,WAArB,EAAkC7xB,EAAlC;;AACA,YAAI,KAAKk6E,kBAAL,KAA4B,KAAhC,EAAuC;AACnC,eAAKO,OAAL,CAAalF,iBAAb;AACH;AACJ;AACJ;AACJ,GAZD;;AAaAyE,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoCikF,WAApC,GAAkD,UAAUj7E,EAAV,EAAc;AAC5D;AACA;AACA,SAAK06E,MAAL,CAAYnE,IAAZ,CAAiB,KAAK4D,iBAAtB,EAAyC,KAAKiB,QAAL,CAAc/6B,IAAd,CAAmB,IAAnB,EAAyBrgD,EAAzB,CAAzC;AACH,GAJD;;AAKAg6E,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoCokF,QAApC,GAA+C,UAAUp7E,EAAV,EAAc;AACzD,SAAKiwB,UAAL,GAAkB,KAAlB;AACA,SAAK2B,OAAL,CAAaC,OAAb,CAAqB,SAArB,EAAgC7xB,EAAhC;AACH,GAHD,CAtI6D,CA0I7D;;;AACAg6E,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoCqkF,aAApC,GAAoD,UAAUztB,IAAV,EAAgB;AAChE,SAAK6sB,OAAL,CAAavH,gBAAb,GAAgCtlB,IAAhC;AACH,GAFD;;AAGAosB,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoC22D,kBAApC,GAAyD,UAAUC,IAAV,EAAgB;AACrE,SAAK8sB,MAAL,CAAYpE,YAAZ,CAAyB1oB,IAAzB;AACH,GAFD;;AAGAosB,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoC62D,oBAApC,GAA2D,UAAUD,IAAV,EAAgB;AACvE,SAAKusB,iBAAL,GAAyBvsB,IAAzB;AACH,GAFD;;AAGAosB,EAAAA,yBAAyB,CAAChjF,SAA1B,CAAoC82D,oBAApC,GAA2D,UAAUF,IAAV,EAAgB;AACvE,SAAKmtB,YAAL,CAAkBhD,SAAlB,GAA8BnqB,IAA9B;AACH,GAFD;;AAGA,SAAOosB,yBAAP;AACH,CAxJ8C,CAwJ7CtsB,iEAxJ6C,CAA/C;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAI4tB,aAAa;AAAG;AAAe,YAAY;AAC3C,WAASA,aAAT,CAAuB79E,EAAvB,EAA2B;AACvB,SAAK89E,QAAL,GAAgBjzC,iEAAW,CAAC7qC,EAAD,CAA3B,CADuB,CAEvB;;AACA,SAAK66E,YAAL,GAAoB1vC,wEAAkB,CAACnrC,EAAD,CAAlB,CAAuBpG,GAAvB,CAA2B,UAAUmkF,QAAV,EAAoB;AAAE,aAAO,IAAI9D,sBAAJ,CAA2B8D,QAA3B,EAAqC,IAArC,CAAP;AAAoD,KAArG,CAApB;AACH;;AACDF,EAAAA,aAAa,CAACtkF,SAAd,CAAwByC,OAAxB,GAAkC,YAAY;AAC1C,SAAK,IAAI2Q,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKq4E,YAA3B,EAAyCluE,EAAE,GAAGnK,EAAE,CAACnB,MAAjD,EAAyDsL,EAAE,EAA3D,EAA+D;AAC3D,UAAIgvE,WAAW,GAAGn5E,EAAE,CAACmK,EAAD,CAApB;AACAgvE,MAAAA,WAAW,CAAC3/E,OAAZ;AACH;AACJ,GALD;;AAMA6hF,EAAAA,aAAa,CAACtkF,SAAd,CAAwBykF,WAAxB,GAAsC,YAAY;AAC9C,QAAIl7C,IAAI,GAAG,KAAKg7C,QAAL,CAAch7C,IAAzB;;AACA,SAAK,IAAIn2B,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKq4E,YAA3B,EAAyCluE,EAAE,GAAGnK,EAAE,CAACnB,MAAjD,EAAyDsL,EAAE,EAA3D,EAA+D;AAC3D,UAAIgvE,WAAW,GAAGn5E,EAAE,CAACmK,EAAD,CAApB;AACAm2B,MAAAA,IAAI,IAAI64C,WAAW,CAAC9B,cAAZ,GAA6B8B,WAAW,CAAC1sC,aAAZ,EAArC;AACH;;AACD,WAAOnM,IAAP;AACH,GAPD;;AAQA+6C,EAAAA,aAAa,CAACtkF,SAAd,CAAwB0kF,UAAxB,GAAqC,YAAY;AAC7C,QAAIj7C,GAAG,GAAG,KAAK86C,QAAL,CAAc96C,GAAxB;;AACA,SAAK,IAAIr2B,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKq4E,YAA3B,EAAyCluE,EAAE,GAAGnK,EAAE,CAACnB,MAAjD,EAAyDsL,EAAE,EAA3D,EAA+D;AAC3D,UAAIgvE,WAAW,GAAGn5E,EAAE,CAACmK,EAAD,CAApB;AACAq2B,MAAAA,GAAG,IAAI24C,WAAW,CAAC/B,aAAZ,GAA4B+B,WAAW,CAAC7sC,YAAZ,EAAnC;AACH;;AACD,WAAO9L,GAAP;AACH,GAPD;;AAQA66C,EAAAA,aAAa,CAACtkF,SAAd,CAAwB2kF,gBAAxB,GAA2C,UAAUnH,KAAV,EAAiBG,KAAjB,EAAwB;AAC/D,QAAIt0C,KAAK,GAAG;AAAEE,MAAAA,IAAI,EAAEi0C,KAAR;AAAe/zC,MAAAA,GAAG,EAAEk0C;AAApB,KAAZ;;AACA,SAAK,IAAIvqE,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAG,KAAKq4E,YAA3B,EAAyCluE,EAAE,GAAGnK,EAAE,CAACnB,MAAjD,EAAyDsL,EAAE,EAA3D,EAA+D;AAC3D,UAAIgvE,WAAW,GAAGn5E,EAAE,CAACmK,EAAD,CAApB;;AACA,UAAI,CAACwxE,iBAAiB,CAACxC,WAAW,CAAC3B,cAAZ,EAAD,CAAlB,IACA,CAACr3C,qEAAe,CAACC,KAAD,EAAQ+4C,WAAW,CAAC7B,UAApB,CADpB,EACqD;AACjD,eAAO,KAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAVD;;AAWA,SAAO+D,aAAP;AACH,CAxCkC,EAAnC,EAyCA;AACA;;;AACA,SAASM,iBAAT,CAA2BnT,IAA3B,EAAiC;AAC7B,MAAIoT,OAAO,GAAGpT,IAAI,CAACoT,OAAnB;AACA,SAAOA,OAAO,KAAK,MAAZ,IAAsBA,OAAO,KAAK,MAAzC;AACH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,WAAW;AAAG;AAAe,YAAY;AACzC,WAASA,WAAT,CAAqBC,QAArB,EAA+BC,cAA/B,EAA+C;AAC3C,QAAI9pE,KAAK,GAAG,IAAZ,CAD2C,CAE3C;;;AACA,SAAK+pE,gBAAL,GAAwB,KAAxB;AACA,SAAKC,cAAL,GAAsB,IAAtB,CAJ2C,CAIf;;AAC5B,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,QAAL,GAAgB,IAAhB,CAP2C,CAOrB;;AACtB,SAAKC,iBAAL,GAAyB,UAAUt8E,EAAV,EAAc;AACnC,UAAI+7E,QAAQ,GAAG7pE,KAAK,CAAC6pE,QAArB;AACA7pE,MAAAA,KAAK,CAACiqE,UAAN,GAAmB,IAAnB;AACAjqE,MAAAA,KAAK,CAACkqE,SAAN,GAAkB,IAAlB;AACAlqE,MAAAA,KAAK,CAACmqE,QAAN,GAAiB,IAAjB;;AACAnqE,MAAAA,KAAK,CAAC4+B,WAAN;;AACA5+B,MAAAA,KAAK,CAACqqE,iBAAN,CAAwBv8E,EAAxB;;AACA,UAAIkS,KAAK,CAACiqE,UAAN,IAAoB,CAACjqE,KAAK,CAACgqE,cAA/B,EAA+C;AAC3CH,QAAAA,QAAQ,CAACV,aAAT,CAAuB,KAAvB,EAD2C,CAE3C;;AACAnpE,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqC7xB,EAArC;AACH,OAJD,MAKK;AACD+7E,QAAAA,QAAQ,CAACV,aAAT,CAAuB,IAAvB;AACH;AACJ,KAfD;;AAgBA,SAAKmB,eAAL,GAAuB,UAAUx8E,EAAV,EAAc;AACjCkS,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC7xB,EAAnC;;AACAkS,MAAAA,KAAK,CAACmkE,UAAN,CAAiBr2E,EAAjB,EAAqB,IAArB,EAFiC,CAEL;;AAC/B,KAHD;;AAIA,SAAKy8E,cAAL,GAAsB,UAAUz8E,EAAV,EAAc;AAChCkS,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,UAAtB,EAAkC7xB,EAAlC;;AACAkS,MAAAA,KAAK,CAACmkE,UAAN,CAAiBr2E,EAAjB;AACH,KAHD;;AAIA,SAAK08E,eAAL,GAAuB,UAAU18E,EAAV,EAAc;AACjCkS,MAAAA,KAAK,CAACyqE,WAAN;;AACAzqE,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC7xB,EAAnC;AACH,KAHD;;AAIA,SAAK48E,aAAL,GAAqB,UAAU58E,EAAV,EAAc;AAC/B,UAAIkS,KAAK,CAACkqE,SAAV,EAAqB;AACjBlqE,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC,IAAnC,EAAyC,IAAzC,EAA+C7xB,EAA/C;AACH;;AACDkS,MAAAA,KAAK,CAACmqE,QAAN,GAAiBnqE,KAAK,CAACkqE,SAAvB;AACAlqE,MAAAA,KAAK,CAACkqE,SAAN,GAAkB,IAAlB;;AACAlqE,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,SAAtB,EAAiC7xB,EAAjC;AACH,KAPD;;AAQA,SAAKg8E,cAAL,GAAsBA,cAAtB;AACAD,IAAAA,QAAQ,CAACnqD,OAAT,CAAiBoE,EAAjB,CAAoB,aAApB,EAAmC,KAAKsmD,iBAAxC;AACAP,IAAAA,QAAQ,CAACnqD,OAAT,CAAiBoE,EAAjB,CAAoB,WAApB,EAAiC,KAAKwmD,eAAtC;AACAT,IAAAA,QAAQ,CAACnqD,OAAT,CAAiBoE,EAAjB,CAAoB,UAApB,EAAgC,KAAKymD,cAArC;AACAV,IAAAA,QAAQ,CAACnqD,OAAT,CAAiBoE,EAAjB,CAAoB,WAApB,EAAiC,KAAK0mD,eAAtC;AACAX,IAAAA,QAAQ,CAACnqD,OAAT,CAAiBoE,EAAjB,CAAoB,SAApB,EAA+B,KAAK4mD,aAApC;AACA,SAAKb,QAAL,GAAgBA,QAAhB;AACA,SAAKnqD,OAAL,GAAe,IAAIgY,yDAAJ,EAAf;AACH,GArDwC,CAsDzC;AACA;;;AACAkyC,EAAAA,WAAW,CAAC9kF,SAAZ,CAAsBulF,iBAAtB,GAA0C,UAAUv8E,EAAV,EAAc;AACpD,QAAI68E,SAAS,GAAG;AAAEt8C,MAAAA,IAAI,EAAEvgC,EAAE,CAACw0E,KAAX;AAAkB/zC,MAAAA,GAAG,EAAEzgC,EAAE,CAAC20E;AAA1B,KAAhB;AACA,QAAImI,aAAa,GAAGD,SAApB;AACA,QAAI7J,SAAS,GAAGhzE,EAAE,CAACgzE,SAAnB;AACA,QAAI+J,WAAJ;;AACA,QAAI/J,SAAS,KAAKl1E,QAAlB,EAA4B;AACxBi/E,MAAAA,WAAW,GAAGz0C,iEAAW,CAAC0qC,SAAD,CAAzB;AACA8J,MAAAA,aAAa,GAAG77C,oEAAc,CAAC67C,aAAD,EAAgBC,WAAhB,CAA9B;AACH;;AACD,QAAIZ,UAAU,GAAG,KAAKA,UAAL,GAAkB,KAAKa,iBAAL,CAAuBF,aAAa,CAACv8C,IAArC,EAA2Cu8C,aAAa,CAACr8C,GAAzD,CAAnC;;AACA,QAAI07C,UAAJ,EAAgB;AACZ,UAAI,KAAKF,gBAAL,IAAyBc,WAA7B,EAA0C;AACtC,YAAIE,iBAAiB,GAAGt8C,oEAAc,CAACo8C,WAAD,EAAcZ,UAAU,CAAC77C,IAAzB,CAAtC;;AACA,YAAI28C,iBAAJ,EAAuB;AACnBH,UAAAA,aAAa,GAAG57C,mEAAa,CAAC+7C,iBAAD,CAA7B;AACH;AACJ;;AACD,WAAKC,WAAL,GAAmB/7C,gEAAU,CAAC27C,aAAD,EAAgBD,SAAhB,CAA7B;AACH,KARD,MASK;AACD,WAAKK,WAAL,GAAmB;AAAE38C,QAAAA,IAAI,EAAE,CAAR;AAAWE,QAAAA,GAAG,EAAE;AAAhB,OAAnB;AACH;AACJ,GAtBD;;AAuBAq7C,EAAAA,WAAW,CAAC9kF,SAAZ,CAAsBq/E,UAAtB,GAAmC,UAAUr2E,EAAV,EAAcm9E,WAAd,EAA2B;AAC1D,QAAIC,GAAG,GAAG,KAAKJ,iBAAL,CAAuBh9E,EAAE,CAACw0E,KAAH,GAAW,KAAK0I,WAAL,CAAiB38C,IAAnD,EAAyDvgC,EAAE,CAAC20E,KAAH,GAAW,KAAKuI,WAAL,CAAiBz8C,GAArF,CAAV;;AACA,QAAI08C,WAAW,IAAI,CAACE,WAAW,CAAC,KAAKjB,SAAN,EAAiBgB,GAAjB,CAA/B,EAAsD;AAClD,WAAKhB,SAAL,GAAiBgB,GAAjB;AACA,WAAKxrD,OAAL,CAAaC,OAAb,CAAqB,WAArB,EAAkCurD,GAAlC,EAAuC,KAAvC,EAA8Cp9E,EAA9C;AACH;AACJ,GAND;;AAOA87E,EAAAA,WAAW,CAAC9kF,SAAZ,CAAsB85C,WAAtB,GAAoC,YAAY;AAC5C,SAAKwsC,cAAL,GAAsB9lF,6DAAO,CAAC,KAAKwkF,cAAN,EAAsB,UAAUuB,mBAAV,EAA+B;AAC9EA,MAAAA,mBAAmB,CAACr5D,SAApB,CAA8B4sB,WAA9B;AACA,aAAO,IAAIwqC,aAAJ,CAAkBiC,mBAAmB,CAAC9/E,EAAtC,CAAP;AACH,KAH4B,CAA7B;AAIH,GALD;;AAMAq+E,EAAAA,WAAW,CAAC9kF,SAAZ,CAAsB2lF,WAAtB,GAAoC,YAAY;AAC5C,QAAIW,cAAc,GAAG,KAAKA,cAA1B;;AACA,SAAK,IAAIj1D,EAAT,IAAei1D,cAAf,EAA+B;AAC3BA,MAAAA,cAAc,CAACj1D,EAAD,CAAd,CAAmB5uB,OAAnB;AACH;;AACD,SAAK6jF,cAAL,GAAsB,EAAtB;AACH,GAND;;AAOAxB,EAAAA,WAAW,CAAC9kF,SAAZ,CAAsBgmF,iBAAtB,GAA0C,UAAUQ,UAAV,EAAsBC,SAAtB,EAAiC;AACvE,QAAIx9E,EAAE,GAAG,IAAT;AAAA,QAAe+7E,cAAc,GAAG/7E,EAAE,CAAC+7E,cAAnC;AAAA,QAAmDsB,cAAc,GAAGr9E,EAAE,CAACq9E,cAAvE;;AACA,QAAII,OAAO,GAAG,IAAd;;AACA,SAAK,IAAIr1D,EAAT,IAAe2zD,cAAf,EAA+B;AAC3B,UAAI93D,SAAS,GAAG83D,cAAc,CAAC3zD,EAAD,CAAd,CAAmBnE,SAAnC;AACA,UAAIy5D,aAAa,GAAGL,cAAc,CAACj1D,EAAD,CAAlC;;AACA,UAAIs1D,aAAa,IAAI;AACjBA,MAAAA,aAAa,CAAChC,gBAAd,CAA+B6B,UAA/B,EAA2CC,SAA3C,CADJ,EAC2D;AACvD,YAAIG,UAAU,GAAGD,aAAa,CAAClC,WAAd,EAAjB;AACA,YAAIoC,SAAS,GAAGF,aAAa,CAACjC,UAAd,EAAhB;AACA,YAAI1qC,YAAY,GAAGwsC,UAAU,GAAGI,UAAhC;AACA,YAAI3sC,WAAW,GAAGwsC,SAAS,GAAGI,SAA9B;AACA,YAAItC,QAAQ,GAAGoC,aAAa,CAACpC,QAA7B;AACA,YAAI92E,KAAK,GAAG82E,QAAQ,CAAC/6C,KAAT,GAAiB+6C,QAAQ,CAACh7C,IAAtC;AACA,YAAItjB,MAAM,GAAGs+D,QAAQ,CAAC76C,MAAT,GAAkB66C,QAAQ,CAAC96C,GAAxC;;AACA,aACA;AACAuQ,QAAAA,YAAY,IAAI,CAAhB,IAAqBA,YAAY,GAAGvsC,KAApC,IACIwsC,WAAW,IAAI,CADnB,IACwBA,WAAW,GAAGh0B,MAHtC,EAG8C;AAC1C,cAAImgE,GAAG,GAAGl5D,SAAS,CAAC6sB,QAAV,CAAmBC,YAAnB,EAAiCC,WAAjC,EAA8CxsC,KAA9C,EAAqDwY,MAArD,CAAV;;AACA,cAAImgE,GAAG,IACP;AACA1xD,UAAAA,wEAAkB,CAAC0xD,GAAG,CAAC1pD,WAAJ,CAAgBC,WAAjB,EAA8BypD,GAAG,CAAC5rD,QAAJ,CAAatoB,KAA3C,CAFd,KAGC,CAACw0E,OAAD,IAAYN,GAAG,CAACpY,KAAJ,GAAY0Y,OAAO,CAAC1Y,KAHjC,CAAJ,EAG6C;AACzCoY,YAAAA,GAAG,CAACU,WAAJ,GAAkBz1D,EAAlB;AACA+0D,YAAAA,GAAG,CAAC5gF,OAAJ,GAAc0nB,SAAS,CAAC1nB,OAAxB,CAFyC,CAGzC;;AACA4gF,YAAAA,GAAG,CAAC98C,IAAJ,CAASC,IAAT,IAAiBq9C,UAAjB;AACAR,YAAAA,GAAG,CAAC98C,IAAJ,CAASE,KAAT,IAAkBo9C,UAAlB;AACAR,YAAAA,GAAG,CAAC98C,IAAJ,CAASG,GAAT,IAAgBo9C,SAAhB;AACAT,YAAAA,GAAG,CAAC98C,IAAJ,CAASI,MAAT,IAAmBm9C,SAAnB;AACAH,YAAAA,OAAO,GAAGN,GAAV;AACH;AACJ;AACJ;AACJ;;AACD,WAAOM,OAAP;AACH,GArCD;;AAsCA,SAAO5B,WAAP;AACH,CA1IgC,EAAjC;;AA2IA,SAASuB,WAAT,CAAqBU,IAArB,EAA2BC,IAA3B,EAAiC;AAC7B,MAAI,CAACD,IAAD,IAAS,CAACC,IAAd,EAAoB;AAChB,WAAO,IAAP;AACH;;AACD,MAAIxkE,OAAO,CAACukE,IAAD,CAAP,KAAkBvkE,OAAO,CAACwkE,IAAD,CAA7B,EAAqC;AACjC,WAAO,KAAP;AACH;;AACD,SAAOrtD,sEAAgB,CAACotD,IAAI,CAACvsD,QAAN,EAAgBwsD,IAAI,CAACxsD,QAArB,CAAvB;AACH;;AAED,SAASysD,4BAAT,CAAsCzsD,QAAtC,EAAgDh1B,OAAhD,EAAyD;AACrD,MAAIiD,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAI2K,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGzD,OAAO,CAACiQ,WAAR,CAAoBolC,mBAA1C,EAA+DznC,EAAE,GAAGnK,EAAE,CAACnB,MAAvE,EAA+EsL,EAAE,EAAjF,EAAqF;AACjF,QAAIkoB,SAAS,GAAGryB,EAAE,CAACmK,EAAD,CAAlB;;AACArO,IAAAA,+CAAQ,CAAC0D,KAAD,EAAQ6yB,SAAS,CAACd,QAAD,EAAWh1B,OAAX,CAAjB,CAAR;AACH;;AACDT,EAAAA,+CAAQ,CAAC0D,KAAD,EAAQy+E,iBAAiB,CAAC1sD,QAAD,EAAWh1B,OAAO,CAACqP,OAAnB,CAAzB,CAAR;;AACA,SAAOpM,KAAP;AACH;;AACD,SAASy+E,iBAAT,CAA2B1tD,IAA3B,EAAiC3kB,OAAjC,EAA0C;AACtC,SAAO;AACH5D,IAAAA,IAAI,EAAE4D,OAAO,CAACslB,MAAR,CAAeX,IAAI,CAACtnB,KAAL,CAAWkE,KAA1B,CADH;AAEH+wE,IAAAA,OAAO,EAAEtyE,OAAO,CAACwlB,SAAR,CAAkBb,IAAI,CAACtnB,KAAL,CAAWkE,KAA7B,EAAoC;AAAE8jB,MAAAA,QAAQ,EAAEV,IAAI,CAACvkB;AAAjB,KAApC,CAFN;AAGHA,IAAAA,MAAM,EAAEukB,IAAI,CAACvkB;AAHV,GAAP;AAKH;AAED;AACA;AACA;AACA;;;AACA,IAAImyE,YAAY;AAAG;AAAe,UAAUvxC,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAACmiF,YAAD,EAAevxC,MAAf,CAAT;;AACA,WAASuxC,YAAT,CAAsBpmD,QAAtB,EAAgC;AAC5B,QAAI9lB,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkBogC,QAAlB,KAA+B,IAA3C;;AACA9lB,IAAAA,KAAK,CAACoqE,iBAAN,GAA0B,UAAU3qD,GAAV,EAAe;AACrC,UAAIoqD,QAAQ,GAAG7pE,KAAK,CAAC6pE,QAArB;AACA,UAAI1G,MAAM,GAAG1jD,GAAG,CAACK,SAAJ,CAAc5xB,MAA3B,CAFqC,CAGrC;;AACA27E,MAAAA,QAAQ,CAACV,aAAT,CAAuB,CAACnpE,KAAK,CAACgS,SAAN,CAAgBmtB,iBAAhB,CAAkCgkC,MAAlC,CAAxB;AACH,KALD,CAF4B,CAQ5B;;;AACAnjE,IAAAA,KAAK,CAAC0qE,aAAN,GAAsB,UAAU58E,EAAV,EAAc;AAChC,UAAIkkB,SAAS,GAAGhS,KAAK,CAACgS,SAAtB;AACA,UAAIu2D,OAAO,GAAGvoE,KAAK,CAAC6pE,QAAN,CAAetB,OAA7B;;AACA,UAAI,CAACA,OAAO,CAACpH,cAAb,EAA6B;AACzB,YAAIpzE,EAAE,GAAGiS,KAAK,CAACmsE,WAAf;AAAA,YAA4BlC,UAAU,GAAGl8E,EAAE,CAACk8E,UAA5C;AAAA,YAAwDE,QAAQ,GAAGp8E,EAAE,CAACo8E,QAAtE;;AACA,YAAIF,UAAU,IAAIE,QAAd,IAA0BgB,WAAW,CAAClB,UAAD,EAAaE,QAAb,CAAzC,EAAiE;AAC7D,cAAI7/E,OAAO,GAAG0nB,SAAS,CAAC1nB,OAAxB;;AACA,cAAI0jD,GAAG,GAAGnkD,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKkiF,4BAA4B,CAAC9B,UAAU,CAAC3qD,QAAZ,EAAsBh1B,OAAtB,CAAjC,CAAT,EAA2E;AAAEuoE,YAAAA,KAAK,EAAEoX,UAAU,CAACpX,KAApB;AAA2BhzC,YAAAA,OAAO,EAAE/xB,EAAE,CAACgyB,SAAvC;AAAkDC,YAAAA,IAAI,EAAEz1B,OAAO,CAAC01B,OAAR,IAAmB11B,OAAO,CAAC21B,WAAR,CAAoBF;AAA/F,WAA3E,CAAlB;;AACAz1B,UAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,WAAxB,EAAqCquB,GAArC;AACH;AACJ;AACJ,KAXD,CAT4B,CAqB5B;;;AACAhuC,IAAAA,KAAK,CAAC6pE,QAAN,GAAiB,IAAI/B,yBAAJ,CAA8BhiD,QAAQ,CAACv6B,EAAvC,CAAjB;AACAyU,IAAAA,KAAK,CAAC6pE,QAAN,CAAehB,YAAf,CAA4BhD,SAA5B,GAAwC,KAAxC;AACA,QAAIsG,WAAW,GAAGnsE,KAAK,CAACmsE,WAAN,GAAoB,IAAIvC,WAAJ,CAAgB5pE,KAAK,CAAC6pE,QAAtB,EAAgCvuB,gFAA0B,CAACx1B,QAAD,CAA1D,CAAtC;AACAqmD,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,aAAvB,EAAsC9jB,KAAK,CAACoqE,iBAA5C;AACA+B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,SAAvB,EAAkC9jB,KAAK,CAAC0qE,aAAxC;AACA,WAAO1qE,KAAP;AACH;;AACDksE,EAAAA,YAAY,CAACpnF,SAAb,CAAuByC,OAAvB,GAAiC,YAAY;AACzC,SAAKsiF,QAAL,CAActiF,OAAd;AACH,GAFD;;AAGA,SAAO2kF,YAAP;AACH,CAnCiC,CAmChChxB,6DAnCgC,CAAlC;AAqCA;AACA;AACA;AACA;;;AACA,IAAIkxB,aAAa;AAAG;AAAe,UAAUzxC,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACqiF,aAAD,EAAgBzxC,MAAhB,CAAT;;AACA,WAASyxC,aAAT,CAAuBtmD,QAAvB,EAAiC;AAC7B,QAAI9lB,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkBogC,QAAlB,KAA+B,IAA3C;;AACA9lB,IAAAA,KAAK,CAACqsE,aAAN,GAAsB,IAAtB;;AACArsE,IAAAA,KAAK,CAACoqE,iBAAN,GAA0B,UAAUt8E,EAAV,EAAc;AACpC,UAAIC,EAAE,GAAGiS,KAAT;AAAA,UAAgBgS,SAAS,GAAGjkB,EAAE,CAACikB,SAA/B;AAAA,UAA0C63D,QAAQ,GAAG97E,EAAE,CAAC87E,QAAxD;AACA,UAAIpjF,OAAO,GAAGurB,SAAS,CAAC1nB,OAAV,CAAkB7D,OAAhC;AACA,UAAI6lF,SAAS,GAAG7lF,OAAO,CAACioB,UAAR,IACZsD,SAAS,CAACmtB,iBAAV,CAA4BrxC,EAAE,CAACgyB,SAAH,CAAa5xB,MAAzC,CADJ,CAHoC,CAKpC;;AACA27E,MAAAA,QAAQ,CAACV,aAAT,CAAuB,CAACmD,SAAxB,EANoC,CAOpC;;AACAzC,MAAAA,QAAQ,CAACz3B,KAAT,GAAiBtkD,EAAE,CAAC80E,OAAH,GAAa2J,wBAAwB,CAACv6D,SAAD,CAArC,GAAmD,IAApE;AACH,KATD;;AAUAhS,IAAAA,KAAK,CAACsqE,eAAN,GAAwB,UAAUx8E,EAAV,EAAc;AAClCkS,MAAAA,KAAK,CAACgS,SAAN,CAAgB1nB,OAAhB,CAAwB21B,WAAxB,CAAoCjP,QAApC,CAA6CljB,EAA7C,EADkC,CACgB;;AACrD,KAFD;;AAGAkS,IAAAA,KAAK,CAACwsE,eAAN,GAAwB,UAAUtB,GAAV,EAAeuB,OAAf,EAAwB;AAC5C,UAAIniF,OAAO,GAAG0V,KAAK,CAACgS,SAAN,CAAgB1nB,OAA9B;AACA,UAAI+hF,aAAa,GAAG,IAApB;AACA,UAAIK,SAAS,GAAG,KAAhB;;AACA,UAAIxB,GAAJ,EAAS;AACL,YAAIjB,UAAU,GAAGjqE,KAAK,CAACmsE,WAAN,CAAkBlC,UAAnC;AACA,YAAI0C,UAAU,GAAGzB,GAAG,CAACU,WAAJ,KAAoB3B,UAAU,CAAC2B,WAA/B,IACV5rE,KAAK,CAACm7C,iBADI,IAEV,CAACn7C,KAAK,CAACm7C,iBAAN,CAAwB8uB,UAAxB,EAAoCiB,GAApC,CAFR;;AAGA,YAAI,CAACyB,UAAL,EAAiB;AACbN,UAAAA,aAAa,GAAGO,qBAAqB,CAAC3C,UAAD,EAAaiB,GAAb,EAAkB5gF,OAAO,CAACiQ,WAAR,CAAoBmlC,yBAAtC,CAArC;AACH;;AACD,YAAI,CAAC2sC,aAAD,IAAkB,CAACvlB,0EAAoB,CAACulB,aAAD,EAAgBnB,GAAG,CAAC1pD,WAApB,EAAiCl3B,OAAjC,CAA3C,EAAsF;AAClFoiF,UAAAA,SAAS,GAAG,IAAZ;AACAL,UAAAA,aAAa,GAAG,IAAhB;AACH;AACJ;;AACD,UAAIA,aAAJ,EAAmB;AACf/hF,QAAAA,OAAO,CAACG,QAAR,CAAiB;AAAE3C,UAAAA,IAAI,EAAE,cAAR;AAAwB03B,UAAAA,SAAS,EAAE6sD;AAAnC,SAAjB;AACH,OAFD,MAGK,IAAI,CAACI,OAAL,EAAc;AAAE;AACjBniF,QAAAA,OAAO,CAACG,QAAR,CAAiB;AAAE3C,UAAAA,IAAI,EAAE;AAAR,SAAjB;AACH;;AACD,UAAI,CAAC4kF,SAAL,EAAgB;AACZ18E,QAAAA,kEAAY;AACf,OAFD,MAGK;AACDJ,QAAAA,mEAAa;AAChB;;AACD,UAAI,CAAC68E,OAAL,EAAc;AACVzsE,QAAAA,KAAK,CAACqsE,aAAN,GAAsBA,aAAtB,CADU,CAC2B;AACxC;AACJ,KAhCD;;AAiCArsE,IAAAA,KAAK,CAACwqE,eAAN,GAAwB,UAAU/qD,GAAV,EAAe;AACnC,UAAIzf,KAAK,CAACqsE,aAAV,EAAyB;AACrB;AACA9sD,QAAAA,uEAAiB,CAACvf,KAAK,CAACqsE,aAAP,EAAsB5sD,GAAtB,EAA2Bzf,KAAK,CAACgS,SAAN,CAAgB1nB,OAA3C,CAAjB;AACA0V,QAAAA,KAAK,CAACqsE,aAAN,GAAsB,IAAtB;AACH;AACJ,KAND;;AAOA,QAAIr6D,SAAS,GAAG8T,QAAQ,CAAC9T,SAAzB;AACA,QAAIvrB,OAAO,GAAGurB,SAAS,CAAC1nB,OAAV,CAAkB7D,OAAhC;AACA,QAAIojF,QAAQ,GAAG7pE,KAAK,CAAC6pE,QAAN,GAAiB,IAAI/B,yBAAJ,CAA8BhiD,QAAQ,CAACv6B,EAAvC,CAAhC;AACAs+E,IAAAA,QAAQ,CAAC7B,kBAAT,GAA8B,KAA9B;AACA6B,IAAAA,QAAQ,CAAC9B,WAAT,GAAuBthF,OAAO,CAACgoB,iBAAR,IAA6B,CAApD;AACAo7D,IAAAA,QAAQ,CAAChB,YAAT,CAAsBhD,SAAtB,GAAkCp/E,OAAO,CAAC2jB,UAA1C;AACA,QAAI+hE,WAAW,GAAGnsE,KAAK,CAACmsE,WAAN,GAAoB,IAAIvC,WAAJ,CAAgB5pE,KAAK,CAAC6pE,QAAtB,EAAgCvuB,gFAA0B,CAACx1B,QAAD,CAA1D,CAAtC;AACAqmD,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,aAAvB,EAAsC9jB,KAAK,CAACoqE,iBAA5C;AACA+B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC9jB,KAAK,CAACsqE,eAA1C;AACA6B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC9jB,KAAK,CAACwsE,eAA1C;AACAL,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC9jB,KAAK,CAACwqE,eAA1C;AACA,WAAOxqE,KAAP;AACH;;AACDosE,EAAAA,aAAa,CAACtnF,SAAd,CAAwByC,OAAxB,GAAkC,YAAY;AAC1C,SAAKsiF,QAAL,CAActiF,OAAd;AACH,GAFD;;AAGA,SAAO6kF,aAAP;AACH,CA3EkC,CA2EjClxB,6DA3EiC,CAAnC;;AA4EA,SAASqxB,wBAAT,CAAkCv6D,SAAlC,EAA6C;AACzC,MAAIvrB,OAAO,GAAGurB,SAAS,CAAC1nB,OAAV,CAAkB7D,OAAhC;AACA,MAAI2rD,KAAK,GAAG3rD,OAAO,CAACkoB,oBAApB;;AACA,MAAIyjC,KAAK,IAAI,IAAb,EAAmB;AACfA,IAAAA,KAAK,GAAG3rD,OAAO,CAACmkB,cAAhB;AACH;;AACD,SAAOwnC,KAAP;AACH;;AACD,SAASw6B,qBAAT,CAA+Bf,IAA/B,EAAqCC,IAArC,EAA2CpsC,yBAA3C,EAAsE;AAClE,MAAImtC,SAAS,GAAGhB,IAAI,CAACvsD,QAArB;AACA,MAAIwtD,SAAS,GAAGhB,IAAI,CAACxsD,QAArB;AACA,MAAI3iB,EAAE,GAAG,CACLkwE,SAAS,CAAC71E,KAAV,CAAgBkE,KADX,EAEL2xE,SAAS,CAAC71E,KAAV,CAAgBmE,GAFX,EAGL2xE,SAAS,CAAC91E,KAAV,CAAgBkE,KAHX,EAIL4xE,SAAS,CAAC91E,KAAV,CAAgBmE,GAJX,CAAT;AAMAwB,EAAAA,EAAE,CAACqc,IAAH,CAAQnnB,gEAAR;AACA,MAAItE,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAI2K,EAAE,GAAG,CAAT,EAAY60E,2BAA2B,GAAGrtC,yBAA/C,EAA0ExnC,EAAE,GAAG60E,2BAA2B,CAACngF,MAA3G,EAAmHsL,EAAE,EAArH,EAAyH;AACrH,QAAIikB,WAAW,GAAG4wD,2BAA2B,CAAC70E,EAAD,CAA7C;AACA,QAAIqB,GAAG,GAAG4iB,WAAW,CAAC0vD,IAAD,EAAOC,IAAP,CAArB;;AACA,QAAIvyE,GAAG,KAAK,KAAZ,EAAmB;AACf,aAAO,IAAP;AACH;;AACD,QAAIA,GAAJ,EAAS;AACL1P,MAAAA,+CAAQ,CAAC0D,KAAD,EAAQgM,GAAR,CAAR;AACH;AACJ;;AACDhM,EAAAA,KAAK,CAACyJ,KAAN,GAAc;AAAEkE,IAAAA,KAAK,EAAEyB,EAAE,CAAC,CAAD,CAAX;AAAgBxB,IAAAA,GAAG,EAAEwB,EAAE,CAAC,CAAD;AAAvB,GAAd;AACApP,EAAAA,KAAK,CAACwM,MAAN,GAAe8yE,SAAS,CAAC9yE,MAAzB;AACA,SAAOxM,KAAP;AACH;;AAED,IAAIy/E,aAAa;AAAG;AAAe,UAAUryC,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACijF,aAAD,EAAgBryC,MAAhB,CAAT;;AACA,WAASqyC,aAAT,CAAuBlnD,QAAvB,EAAiC;AAC7B,QAAI9lB,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkBogC,QAAlB,KAA+B,IAA3C,CAD6B,CAE7B;;;AACA9lB,IAAAA,KAAK,CAAC8gE,SAAN,GAAkB,IAAlB;AACA9gE,IAAAA,KAAK,CAACitE,UAAN,GAAmB,IAAnB,CAJ6B,CAIJ;;AACzBjtE,IAAAA,KAAK,CAAC+d,UAAN,GAAmB,KAAnB;AACA/d,IAAAA,KAAK,CAAC8b,UAAN,GAAmB,IAAnB;AACA9b,IAAAA,KAAK,CAACopB,cAAN,GAAuB,IAAvB,CAP6B,CAOA;;AAC7BppB,IAAAA,KAAK,CAACktE,gBAAN,GAAyB,IAAzB;AACAltE,IAAAA,KAAK,CAACmtE,aAAN,GAAsB,IAAtB;AACAntE,IAAAA,KAAK,CAACotE,qBAAN,GAA8B,IAA9B;;AACAptE,IAAAA,KAAK,CAACoqE,iBAAN,GAA0B,UAAUt8E,EAAV,EAAc;AACpC,UAAIu/E,UAAU,GAAGv/E,EAAE,CAACgyB,SAAH,CAAa5xB,MAA9B;AACA,UAAIH,EAAE,GAAGiS,KAAT;AAAA,UAAgBgS,SAAS,GAAGjkB,EAAE,CAACikB,SAA/B;AAAA,UAA0C63D,QAAQ,GAAG97E,EAAE,CAAC87E,QAAxD;AACA,UAAIrB,MAAM,GAAGqB,QAAQ,CAACrB,MAAtB;AACA,UAAI/hF,OAAO,GAAGurB,SAAS,CAAC1nB,OAAV,CAAkB7D,OAAhC;AACA,UAAI6mF,cAAc,GAAGt7D,SAAS,CAAC1nB,OAA/B;AACA0V,MAAAA,KAAK,CAAC8gE,SAAN,GAAkBhzE,EAAE,CAACgzE,SAArB;AACA,UAAImM,UAAU,GAAGjtE,KAAK,CAACitE,UAAN,GAAmB7xD,8DAAQ,CAACttB,EAAE,CAACgzE,SAAJ,CAA5C;AACA,UAAIhlD,UAAU,GAAG9b,KAAK,CAAC8b,UAAN,GAAmBmxD,UAAU,CAACnxD,UAA/C;AACA,UAAI2wB,eAAe,GAAG3wB,UAAU,CAACphB,QAAX,CAAoBvD,UAA1C;AACA6I,MAAAA,KAAK,CAACopB,cAAN,GAAuB3V,uEAAiB,CAAC65D,cAAc,CAAChsD,cAAf,GAAgCjnB,UAAjC,EAA6CoyC,eAA7C,CAAxC;AACAo9B,MAAAA,QAAQ,CAAC9B,WAAT,GAAuBj6E,EAAE,CAAC80E,OAAH,GAAa,CAAb,GAAiBn8E,OAAO,CAACokB,oBAAhD;AACAg/D,MAAAA,QAAQ,CAACz3B,KAAT,GACI;AACCtkD,MAAAA,EAAE,CAAC80E,OAAH,IAAcn2B,eAAe,KAAKz6B,SAAS,CAACzkB,KAAV,CAAgBmkC,cAAnD,GACI67C,sBAAsB,CAACv7D,SAAD,CAD1B,GAEI,IAJR;;AAKA,UAAIvrB,OAAO,CAAC+mF,iBAAZ,EAA+B;AAC3BhF,QAAAA,MAAM,CAACh9E,UAAP,GAAoB/E,OAAO,CAAC+mF,iBAA5B;AACH,OAFD,MAGK;AACDhF,QAAAA,MAAM,CAACh9E,UAAP,GAAoBE,oEAAc,CAAC2hF,UAAD,EAAa,KAAb,CAAlC;AACH;;AACD7E,MAAAA,MAAM,CAACzE,cAAP,GAAwBt9E,OAAO,CAAC0jB,kBAAhC;AACA,UAAIu9B,OAAO,GAAG11B,SAAS,CAACktB,gBAAV,CAA2BmuC,UAA3B,KACV,CAAC3hF,oEAAc,CAAC2hF,UAAD,EAAa,mBAAb,CADnB,CAxBoC,CAyBkB;;AACtDxD,MAAAA,QAAQ,CAACV,aAAT,CAAuB,CAACzhC,OAAxB,EA1BoC,CA2BpC;AACA;;AACA1nC,MAAAA,KAAK,CAAC+d,UAAN,GAAmB2pB,OAAO,IACtB55C,EAAE,CAACgzE,SAAH,CAAahxE,SAAb,CAAuBhE,QAAvB,CAAgC,oBAAhC,CADJ;AAEH,KA/BD;;AAgCAkU,IAAAA,KAAK,CAACsqE,eAAN,GAAwB,UAAUx8E,EAAV,EAAc;AAClC,UAAIw/E,cAAc,GAAGttE,KAAK,CAACgS,SAAN,CAAgB1nB,OAArC;AACA,UAAIwxB,UAAU,GAAG9b,KAAK,CAAC8b,UAAvB;AACA,UAAI2wB,eAAe,GAAG3wB,UAAU,CAACphB,QAAX,CAAoBvD,UAA1C;;AACA,UAAIrJ,EAAE,CAAC80E,OAAP,EAAgB;AACZ;AACA,YAAIn2B,eAAe,KAAKzsC,KAAK,CAACgS,SAAN,CAAgBzkB,KAAhB,CAAsBmkC,cAA9C,EAA8D;AAC1D47C,UAAAA,cAAc,CAAC7iF,QAAf,CAAwB;AAAE3C,YAAAA,IAAI,EAAE,cAAR;AAAwB2kD,YAAAA,eAAe,EAAEA;AAAzC,WAAxB;AACH;AACJ,OALD,MAMK;AACD;AACA6gC,QAAAA,cAAc,CAAC7iF,QAAf,CAAwB;AAAE3C,UAAAA,IAAI,EAAE;AAAR,SAAxB;AACH;;AACD,UAAIkY,KAAK,CAAC+d,UAAV,EAAsB;AAClBuvD,QAAAA,cAAc,CAACrtD,WAAf,CAA2BjP,QAA3B,CAAoCljB,EAApC,EADkB,CACuB;;AACzCw/E,QAAAA,cAAc,CAAC5tD,OAAf,CAAuBC,OAAvB,CAA+B,gBAA/B,EAAiD;AAC7Cp0B,UAAAA,EAAE,EAAEyU,KAAK,CAAC8gE,SADmC;AAE7C/5C,UAAAA,KAAK,EAAE,IAAIT,0DAAJ,CAAagnD,cAAb,EAA6BxxD,UAAU,CAAClhB,GAAxC,EAA6CkhB,UAAU,CAACphB,QAAxD,CAFsC;AAG7CmlB,UAAAA,OAAO,EAAE/xB,EAAE,CAACgyB,SAHiC;AAI7CC,UAAAA,IAAI,EAAEutD,cAAc,CAACttD;AAJwB,SAAjD;AAMH;AACJ,KAvBD;;AAwBAhgB,IAAAA,KAAK,CAACwsE,eAAN,GAAwB,UAAUtB,GAAV,EAAeuB,OAAf,EAAwB;AAC5C,UAAI,CAACzsE,KAAK,CAAC+d,UAAX,EAAuB;AACnB;AACH;;AACD,UAAIqL,cAAc,GAAGppB,KAAK,CAACopB,cAA3B;AACA,UAAI6gD,UAAU,GAAGjqE,KAAK,CAACmsE,WAAN,CAAkBlC,UAAnC;AACA,UAAIqD,cAAc,GAAGttE,KAAK,CAACgS,SAAN,CAAgB1nB,OAArC,CAN4C,CAO5C;;AACA,UAAI4iF,gBAAgB,GAAG,IAAvB;AACA,UAAI1sD,QAAQ,GAAG,IAAf;AACA,UAAI4sD,qBAAqB,GAAG,IAA5B;AACA,UAAIV,SAAS,GAAG,KAAhB;AACA,UAAIx6C,WAAW,GAAG;AACdG,QAAAA,cAAc,EAAEjJ,cADF;AAEdmJ,QAAAA,aAAa,EAAErf,2EAAqB,EAFtB;AAGdwf,QAAAA,OAAO,EAAE;AAHK,OAAlB;;AAKA,UAAIw4C,GAAJ,EAAS;AACLgC,QAAAA,gBAAgB,GAAGhC,GAAG,CAAC5gF,OAAvB;AACA,YAAImjF,gBAAgB,GAAGP,gBAAgB,CAACzmF,OAAxC;;AACA,YAAI6mF,cAAc,KAAKJ,gBAAnB,IACCO,gBAAgB,CAACtkE,QAAjB,IAA6BskE,gBAAgB,CAACzgE,SADnD,EAC+D;AAC3DwT,UAAAA,QAAQ,GAAGktD,oBAAoB,CAACzD,UAAD,EAAaiB,GAAb,EAAkBgC,gBAAgB,CAAC5rD,cAAjB,GAAkC/mB,WAAlC,CAA8CklC,0BAAhE,CAA/B;;AACA,cAAIjf,QAAJ,EAAc;AACV4sD,YAAAA,qBAAqB,GAAG9sD,+EAAyB,CAAC8I,cAAD,EAAiB8jD,gBAAgB,CAAC5rD,cAAjB,GAAkCxH,YAAnD,EAAiE0G,QAAjE,EAA2E0sD,gBAA3E,CAAjD;AACAh7C,YAAAA,WAAW,CAACK,aAAZ,GAA4B66C,qBAA5B;;AACA,gBAAI,CAACxmB,wEAAkB,CAAC10B,WAAD,EAAcg5C,GAAG,CAAC1pD,WAAlB,EAA+B0rD,gBAA/B,CAAvB,EAAyE;AACrER,cAAAA,SAAS,GAAG,IAAZ;AACAlsD,cAAAA,QAAQ,GAAG,IAAX;AACA4sD,cAAAA,qBAAqB,GAAG,IAAxB;AACAl7C,cAAAA,WAAW,CAACK,aAAZ,GAA4Brf,2EAAqB,EAAjD;AACH;AACJ;AACJ,SAbD,MAcK;AACDg6D,UAAAA,gBAAgB,GAAG,IAAnB;AACH;AACJ;;AACDltE,MAAAA,KAAK,CAAC2tE,WAAN,CAAkBT,gBAAlB,EAAoCh7C,WAApC;;AACA,UAAI,CAACw6C,SAAL,EAAgB;AACZ18E,QAAAA,kEAAY;AACf,OAFD,MAGK;AACDJ,QAAAA,mEAAa;AAChB;;AACD,UAAI,CAAC68E,OAAL,EAAc;AACV,YAAIa,cAAc,KAAKJ,gBAAnB,IAAuC;AACvC/B,QAAAA,WAAW,CAAClB,UAAD,EAAaiB,GAAb,CADf,EACkC;AAC9B1qD,UAAAA,QAAQ,GAAG,IAAX;AACH;;AACDxgB,QAAAA,KAAK,CAAC6pE,QAAN,CAAeluB,oBAAf,CAAoC,CAACn7B,QAArC,EALU,CAMV;AACA;;;AACAxgB,QAAAA,KAAK,CAAC6pE,QAAN,CAAepuB,kBAAf,CAAkC,CAACyvB,GAAD,IAAQ,CAACt/E,QAAQ,CAACuG,aAAT,CAAuB,kBAAvB,CAA3C,EARU,CASV;;;AACA6N,QAAAA,KAAK,CAACktE,gBAAN,GAAyBA,gBAAzB;AACAltE,QAAAA,KAAK,CAACmtE,aAAN,GAAsB3sD,QAAtB;AACAxgB,QAAAA,KAAK,CAACotE,qBAAN,GAA8BA,qBAA9B;AACH;AACJ,KA3DD;;AA4DAptE,IAAAA,KAAK,CAACwqE,eAAN,GAAwB,YAAY;AAChC,UAAI,CAACxqE,KAAK,CAAC+d,UAAX,EAAuB;AACnB/d,QAAAA,KAAK,CAAC6hE,OAAN,GADmB,CACF;;AACpB;AACJ,KAJD;;AAKA7hE,IAAAA,KAAK,CAAC0qE,aAAN,GAAsB,UAAU58E,EAAV,EAAc;AAChC,UAAIkS,KAAK,CAAC+d,UAAV,EAAsB;AAClB,YAAI6vD,gBAAgB,GAAG5tE,KAAK,CAACgS,SAAN,CAAgB1nB,OAAvC;AACA,YAAIme,WAAW,GAAGmlE,gBAAgB,CAAC5tD,OAAnC;AACA,YAAIjyB,EAAE,GAAGiS,KAAT;AAAA,YAAgB6tE,kBAAkB,GAAG9/E,EAAE,CAACm/E,gBAAxC;AAAA,YAA0DC,aAAa,GAAGp/E,EAAE,CAACo/E,aAA7E;AACA,YAAI/xE,QAAQ,GAAG4E,KAAK,CAAC8b,UAAN,CAAiBlhB,GAAhC;AACA,YAAIgiB,aAAa,GAAG5c,KAAK,CAAC8b,UAAN,CAAiBphB,QAArC;AACA,YAAIosB,QAAQ,GAAG,IAAIR,0DAAJ,CAAasnD,gBAAb,EAA+BxyE,QAA/B,EAAyCwhB,aAAzC,CAAf;AACA,YAAIkxD,gBAAgB,GAAG9tE,KAAK,CAACopB,cAA7B;AACA,YAAI2kD,uBAAuB,GAAG/tE,KAAK,CAACotE,qBAApC;AACA,YAAIjD,QAAQ,GAAGnqE,KAAK,CAACmsE,WAAN,CAAkBhC,QAAjC;;AACAnqE,QAAAA,KAAK,CAACguE,SAAN,GAVkB,CAUC;;;AACnBJ,QAAAA,gBAAgB,CAACluD,OAAjB,CAAyBC,OAAzB,CAAiC,eAAjC,EAAkD;AAC9Cp0B,UAAAA,EAAE,EAAEyU,KAAK,CAAC8gE,SADoC;AAE9C/5C,UAAAA,KAAK,EAAED,QAFuC;AAG9CjH,UAAAA,OAAO,EAAE/xB,EAAE,CAACgyB,SAHkC;AAI9CC,UAAAA,IAAI,EAAEtX;AAJwC,SAAlD;;AAMA,YAAI0kE,aAAJ,EAAmB;AACf;AACA,cAAIU,kBAAkB,KAAKD,gBAA3B,EAA6C;AACzC,gBAAIK,eAAe,GAAG,IAAI3nD,0DAAJ,CAAasnD,gBAAb,EAA+BG,uBAAuB,CAACvzE,IAAxB,CAA6BY,QAAQ,CAACrE,KAAtC,CAA/B,EAA6E6lB,aAAa,GAAGmxD,uBAAuB,CAACtzE,SAAxB,CAAkCmiB,aAAa,CAACzlB,UAAhD,CAAH,GAAiE,IAA3J,CAAtB;AACAy2E,YAAAA,gBAAgB,CAACnjF,QAAjB,CAA0B;AACtB3C,cAAAA,IAAI,EAAE,cADgB;AAEtBuS,cAAAA,UAAU,EAAE0zE;AAFU,aAA1B;AAIA,gBAAIG,cAAc,GAAG;AACjB7kD,cAAAA,QAAQ,EAAEvC,QADO;AAEjBC,cAAAA,KAAK,EAAEknD,eAFU;AAGjBjnD,cAAAA,aAAa,EAAEK,oEAAc,CAAC0mD,uBAAD,EAA0BH,gBAA1B,EAA4ChxD,aAA5C,CAHZ;AAIjBqK,cAAAA,MAAM,EAAE,kBAAY;AAChB2mD,gBAAAA,gBAAgB,CAACnjF,QAAjB,CAA0B;AACtB3C,kBAAAA,IAAI,EAAE,cADgB;AAEtBuS,kBAAAA,UAAU,EAAEyzE,gBAFU,CAEQ;;AAFR,iBAA1B;AAIH;AATgB,aAArB;AAWA,gBAAIK,WAAW,GAAG,EAAlB;;AACA,iBAAK,IAAIj2E,EAAE,GAAG,CAAT,EAAYlK,EAAE,GAAG4/E,gBAAgB,CAACtsD,cAAjB,GAAkC/mB,WAAlC,CAA8CylC,qBAApE,EAA2F9nC,EAAE,GAAGlK,EAAE,CAACpB,MAAnG,EAA2GsL,EAAE,EAA7G,EAAiH;AAC7G,kBAAIikB,WAAW,GAAGnuB,EAAE,CAACkK,EAAD,CAApB;;AACArO,cAAAA,+CAAQ,CAACskF,WAAD,EAAchyD,WAAW,CAACgxD,aAAD,EAAgBS,gBAAhB,CAAzB,CAAR;AACH;;AACDA,YAAAA,gBAAgB,CAACluD,OAAjB,CAAyBC,OAAzB,CAAiC,WAAjC,EAA8C91B,+CAAQ,CAACA,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKqkF,cAAL,CAAT,EAA+BC,WAA/B,CAAT,EAAsD;AAAE5iF,cAAAA,EAAE,EAAEuC,EAAE,CAACgzE,SAAT;AAAoBn7C,cAAAA,KAAK,EAAEwnD,aAAa,CAAC/rD,UAAzC;AAAqDvB,cAAAA,OAAO,EAAE/xB,EAAE,CAACgyB,SAAjE;AAA4EC,cAAAA,IAAI,EAAEtX;AAAlF,aAAtD,CAAtD;AACAmlE,YAAAA,gBAAgB,CAACluD,OAAjB,CAAyBC,OAAzB,CAAiC,aAAjC,EAAgDuuD,cAAhD,EAvByC,CAwBzC;AACH,WAzBD,MA0BK,IAAIL,kBAAJ,EAAwB;AACzB,gBAAIO,cAAc,GAAG;AACjBrnD,cAAAA,KAAK,EAAED,QADU;AAEjBE,cAAAA,aAAa,EAAEK,oEAAc,CAACymD,gBAAD,EAAmBF,gBAAnB,EAAqChxD,aAArC,CAFZ;AAGjBqK,cAAAA,MAAM,EAAE,kBAAY;AAChB2mD,gBAAAA,gBAAgB,CAACnjF,QAAjB,CAA0B;AACtB3C,kBAAAA,IAAI,EAAE,cADgB;AAEtBuS,kBAAAA,UAAU,EAAEyzE;AAFU,iBAA1B;AAIH;AARgB,aAArB;AAUAF,YAAAA,gBAAgB,CAACluD,OAAjB,CAAyBC,OAAzB,CAAiC,YAAjC,EAA+C91B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKukF,cAAL,CAAT,EAA+B;AAAEC,cAAAA,SAAS,EAAEvgF,EAAE,CAACgzE,SAAhB;AAA2B/gD,cAAAA,IAAI,EAAEtX;AAAjC,aAA/B,CAAvD;AACAmlE,YAAAA,gBAAgB,CAACnjF,QAAjB,CAA0B;AACtB3C,cAAAA,IAAI,EAAE,eADgB;AAEtBuS,cAAAA,UAAU,EAAEyzE;AAFU,aAA1B;AAIAF,YAAAA,gBAAgB,CAACluD,OAAjB,CAAyBC,OAAzB,CAAiC,aAAjC,EAAgDyuD,cAAhD;AACA,gBAAIE,aAAa,GAAGP,uBAAuB,CAACvzE,IAAxB,CAA6BY,QAAQ,CAACrE,KAAtC,CAApB;AACA,gBAAIw3E,kBAAkB,GAAGR,uBAAuB,CAACtzE,SAAxB,CAAkCmiB,aAAa,CAACzlB,UAAhD,CAAzB;AACA,gBAAIq3E,aAAa,GAAG,IAAIloD,0DAAJ,CAAaunD,kBAAb,EAAiCS,aAAjC,EAAgDC,kBAAhD,CAApB;AACAV,YAAAA,kBAAkB,CAACpjF,QAAnB,CAA4B;AACxB3C,cAAAA,IAAI,EAAE,cADkB;AAExBuS,cAAAA,UAAU,EAAE0zE;AAFY,aAA5B;AAIA,gBAAIU,WAAW,GAAG;AACd1nD,cAAAA,KAAK,EAAEynD,aADO;AAEdxnD,cAAAA,aAAa,EAAEK,oEAAc,CAAC0mD,uBAAD,EAA0BF,kBAA1B,EAA8CU,kBAA9C,CAFf;AAGdtnD,cAAAA,MAAM,EAAE,kBAAY;AAChB4mD,gBAAAA,kBAAkB,CAACpjF,QAAnB,CAA4B;AACxB3C,kBAAAA,IAAI,EAAE,eADkB;AAExBuS,kBAAAA,UAAU,EAAE0zE;AAFY,iBAA5B;AAIH;AARa,aAAlB;AAUAF,YAAAA,kBAAkB,CAACnuD,OAAnB,CAA2BC,OAA3B,CAAmC,UAAnC,EAA+C8uD,WAA/C;;AACA,gBAAI3gF,EAAE,CAAC80E,OAAP,EAAgB;AACZiL,cAAAA,kBAAkB,CAACpjF,QAAnB,CAA4B;AACxB3C,gBAAAA,IAAI,EAAE,cADkB;AAExB2kD,gBAAAA,eAAe,EAAE7vB,aAAa,CAACzlB;AAFP,eAA5B;AAIH;;AACD02E,YAAAA,kBAAkB,CAACnuD,OAAnB,CAA2BC,OAA3B,CAAmC,MAAnC,EAA2C91B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKkiF,4BAA4B,CAAC5B,QAAQ,CAAC7qD,QAAV,EAAoBuuD,kBAApB,CAAjC,CAAT,EAAoF;AAAEQ,cAAAA,SAAS,EAAEvgF,EAAE,CAACgzE,SAAhB;AAA2BjhD,cAAAA,OAAO,EAAE/xB,EAAE,CAACgyB,SAAvC;AAAkDC,cAAAA,IAAI,EAAEoqD,QAAQ,CAAC7/E,OAAT,CAAiB01B;AAAzE,aAApF,CAAnD;AACA6tD,YAAAA,kBAAkB,CAACnuD,OAAnB,CAA2BC,OAA3B,CAAmC,cAAnC,EAAmD91B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK4kF,WAAL,CAAT,EAA4B;AAAEJ,cAAAA,SAAS,EAAEvgF,EAAE,CAACgzE,SAAhB;AAA2B/gD,cAAAA,IAAI,EAAEoqD,QAAQ,CAAC7/E,OAAT,CAAiB01B;AAAlD,aAA5B,CAA3D;AACH;AACJ,SAxED,MAyEK;AACD4tD,UAAAA,gBAAgB,CAACluD,OAAjB,CAAyBC,OAAzB,CAAiC,cAAjC;AACH;AACJ;;AACD3f,MAAAA,KAAK,CAAC6hE,OAAN;AACH,KAhGD;;AAiGA,QAAI7vD,SAAS,GAAGhS,KAAK,CAACgS,SAAtB;AACA,QAAIvrB,OAAO,GAAGurB,SAAS,CAAC1nB,OAAV,CAAkB7D,OAAhC;AACA,QAAIojF,QAAQ,GAAG7pE,KAAK,CAAC6pE,QAAN,GAAiB,IAAI/B,yBAAJ,CAA8BhiD,QAAQ,CAACv6B,EAAvC,CAAhC;AACAs+E,IAAAA,QAAQ,CAACtB,OAAT,CAAiBz/E,QAAjB,GAA4BkkF,aAAa,CAAC0B,QAA1C;AACA7E,IAAAA,QAAQ,CAAC7B,kBAAT,GAA8B,KAA9B;AACA6B,IAAAA,QAAQ,CAAChB,YAAT,CAAsBhD,SAAtB,GAAkCp/E,OAAO,CAAC2jB,UAA1C;AACA,QAAI+hE,WAAW,GAAGnsE,KAAK,CAACmsE,WAAN,GAAoB,IAAIvC,WAAJ,CAAgB5pE,KAAK,CAAC6pE,QAAtB,EAAgCtuB,0EAAhC,CAAtC;AACA4wB,IAAAA,WAAW,CAACpC,gBAAZ,GAA+BjkD,QAAQ,CAACu1B,cAAxC;AACA8wB,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,aAAvB,EAAsC9jB,KAAK,CAACoqE,iBAA5C;AACA+B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC9jB,KAAK,CAACsqE,eAA1C;AACA6B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC9jB,KAAK,CAACwsE,eAA1C;AACAL,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC9jB,KAAK,CAACwqE,eAA1C;AACA2B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,SAAvB,EAAkC9jB,KAAK,CAAC0qE,aAAxC;AACA,WAAO1qE,KAAP;AACH;;AACDgtE,EAAAA,aAAa,CAACloF,SAAd,CAAwByC,OAAxB,GAAkC,YAAY;AAC1C,SAAKsiF,QAAL,CAActiF,OAAd;AACH,GAFD,CAtPiD,CAyPjD;;;AACAylF,EAAAA,aAAa,CAACloF,SAAd,CAAwB6oF,WAAxB,GAAsC,UAAUgB,WAAV,EAAuBnqD,KAAvB,EAA8B;AAChE,QAAI8oD,cAAc,GAAG,KAAKt7D,SAAL,CAAe1nB,OAApC;AACA,QAAIskF,WAAW,GAAG,KAAK1B,gBAAvB,CAFgE,CAGhE;;AACA,QAAI0B,WAAW,IAAIA,WAAW,KAAKD,WAAnC,EAAgD;AAC5C;AACA;AACA,UAAIC,WAAW,KAAKtB,cAApB,EAAoC;AAChCsB,QAAAA,WAAW,CAACnkF,QAAZ,CAAqB;AACjB3C,UAAAA,IAAI,EAAE,gBADW;AAEjB08B,UAAAA,KAAK,EAAE;AACH6N,YAAAA,cAAc,EAAE7N,KAAK,CAAC6N,cADnB;AAEHE,YAAAA,aAAa,EAAErf,2EAAqB,EAFjC;AAGHwf,YAAAA,OAAO,EAAE;AAHN;AAFU,SAArB,EADgC,CAShC;AACH,OAVD,MAWK;AACDk8C,QAAAA,WAAW,CAACnkF,QAAZ,CAAqB;AAAE3C,UAAAA,IAAI,EAAE;AAAR,SAArB;AACH;AACJ;;AACD,QAAI6mF,WAAJ,EAAiB;AACbA,MAAAA,WAAW,CAAClkF,QAAZ,CAAqB;AAAE3C,QAAAA,IAAI,EAAE,gBAAR;AAA0B08B,QAAAA,KAAK,EAAEA;AAAjC,OAArB;AACH;AACJ,GAzBD;;AA0BAwoD,EAAAA,aAAa,CAACloF,SAAd,CAAwBkpF,SAAxB,GAAoC,YAAY;AAC5C,QAAIa,eAAe,GAAG,KAAK78D,SAAL,CAAe1nB,OAArC;AACA,QAAI4iF,gBAAgB,GAAG,KAAKA,gBAA5B;;AACA,QAAIA,gBAAJ,EAAsB;AAClBA,MAAAA,gBAAgB,CAACziF,QAAjB,CAA0B;AAAE3C,QAAAA,IAAI,EAAE;AAAR,OAA1B;AACH,KAL2C,CAM5C;;;AACA,QAAI+mF,eAAe,KAAK3B,gBAAxB,EAA0C;AACtC2B,MAAAA,eAAe,CAACpkF,QAAhB,CAAyB;AAAE3C,QAAAA,IAAI,EAAE;AAAR,OAAzB;AACH;AACJ,GAVD;;AAWAklF,EAAAA,aAAa,CAACloF,SAAd,CAAwB+8E,OAAxB,GAAkC,YAAY;AAC1C,SAAKoL,UAAL,GAAkB,IAAlB;AACA,SAAKlvD,UAAL,GAAkB,KAAlB;AACA,SAAKjC,UAAL,GAAkB,IAAlB;AACA,SAAKsN,cAAL,GAAsB,IAAtB;AACA,SAAK8jD,gBAAL,GAAwB,IAAxB;AACA,SAAKC,aAAL,GAAqB,IAArB;AACA,SAAKC,qBAAL,GAA6B,IAA7B;AACH,GARD,CA/RiD,CAwSjD;AACA;;;AACAJ,EAAAA,aAAa,CAAC0B,QAAd,GAAyB,0CAAzB;AACA,SAAO1B,aAAP;AACH,CA5SkC,CA4SjC9xB,6DA5SiC,CAAnC;;AA6SA,SAASwyB,oBAAT,CAA8B7B,IAA9B,EAAoCC,IAApC,EAA0CgD,SAA1C,EAAqD;AACjD,MAAIjC,SAAS,GAAGhB,IAAI,CAACvsD,QAArB;AACA,MAAIwtD,SAAS,GAAGhB,IAAI,CAACxsD,QAArB;AACA,MAAIlH,KAAK,GAAGy0D,SAAS,CAAC71E,KAAV,CAAgBkE,KAA5B;AACA,MAAImd,KAAK,GAAGy0D,SAAS,CAAC91E,KAAV,CAAgBkE,KAA5B;AACA,MAAIsjB,aAAa,GAAG,EAApB;;AACA,MAAIquD,SAAS,CAAC9yE,MAAV,KAAqB+yE,SAAS,CAAC/yE,MAAnC,EAA2C;AACvCykB,IAAAA,aAAa,CAACzkB,MAAd,GAAuB+yE,SAAS,CAAC/yE,MAAjC;AACAykB,IAAAA,aAAa,CAAC1H,MAAd,GAAuBg1D,IAAI,CAACxhF,OAAL,CAAa7D,OAAb,CAAqB4jB,sBAA5C;;AACA,QAAIyiE,SAAS,CAAC/yE,MAAd,EAAsB;AAClB;AACA;AACAqe,MAAAA,KAAK,GAAG5kB,gEAAU,CAAC4kB,KAAD,CAAlB;AACH;AACJ;;AACD,MAAIuN,KAAK,GAAGxN,+DAAS,CAACC,KAAD,EAAQC,KAAR,EAAewzD,IAAI,CAACvhF,OAAL,CAAaqP,OAA5B,EAAqCkyE,IAAI,CAACD,WAAL,KAAqBE,IAAI,CAACF,WAA1B,GACtDC,IAAI,CAACvzD,SADiD,GAEtD,IAFiB,CAArB;;AAGA,MAAIqN,KAAK,CAAC5xB,YAAV,EAAwB;AAAE;AACtByqB,IAAAA,aAAa,CAACzkB,MAAd,GAAuB,KAAvB;AACH;;AACD,MAAIymB,QAAQ,GAAG;AACXY,IAAAA,UAAU,EAAEuE,KADD;AAEXnH,IAAAA,aAAa,EAAEA;AAFJ,GAAf;;AAIA,OAAK,IAAItmB,EAAE,GAAG,CAAT,EAAY62E,WAAW,GAAGD,SAA/B,EAA0C52E,EAAE,GAAG62E,WAAW,CAACniF,MAA3D,EAAmEsL,EAAE,EAArE,EAAyE;AACrE,QAAI82E,QAAQ,GAAGD,WAAW,CAAC72E,EAAD,CAA1B;AACA82E,IAAAA,QAAQ,CAACxuD,QAAD,EAAWqrD,IAAX,EAAiBC,IAAjB,CAAR;AACH;;AACD,SAAOtrD,QAAP;AACH;;AACD,SAAS+sD,sBAAT,CAAgCv7D,SAAhC,EAA2C;AACvC,MAAIvrB,OAAO,GAAGurB,SAAS,CAAC1nB,OAAV,CAAkB7D,OAAhC;AACA,MAAI2rD,KAAK,GAAG3rD,OAAO,CAACmoB,mBAApB;;AACA,MAAIwjC,KAAK,IAAI,IAAb,EAAmB;AACfA,IAAAA,KAAK,GAAG3rD,OAAO,CAACmkB,cAAhB;AACH;;AACD,SAAOwnC,KAAP;AACH;;AAED,IAAI68B,aAAa;AAAG;AAAe,UAAUt0C,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACklF,aAAD,EAAgBt0C,MAAhB,CAAT;;AACA,WAASs0C,aAAT,CAAuBnpD,QAAvB,EAAiC;AAC7B,QAAI9lB,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkBogC,QAAlB,KAA+B,IAA3C,CAD6B,CAE7B;;;AACA9lB,IAAAA,KAAK,CAACkvE,aAAN,GAAsB,IAAtB;AACAlvE,IAAAA,KAAK,CAACmvE,WAAN,GAAoB,IAApB,CAJ6B,CAIH;;AAC1BnvE,IAAAA,KAAK,CAAC8b,UAAN,GAAmB,IAAnB;AACA9b,IAAAA,KAAK,CAACopB,cAAN,GAAuB,IAAvB;AACAppB,IAAAA,KAAK,CAACmtE,aAAN,GAAsB,IAAtB;AACAntE,IAAAA,KAAK,CAACotE,qBAAN,GAA8B,IAA9B;;AACAptE,IAAAA,KAAK,CAACoqE,iBAAN,GAA0B,UAAUt8E,EAAV,EAAc;AACpC,UAAIkkB,SAAS,GAAGhS,KAAK,CAACgS,SAAtB;;AACA,UAAIisC,KAAK,GAAGj+C,KAAK,CAACovE,UAAN,CAAiBthF,EAAjB,CAAZ;;AACA,UAAIotB,GAAG,GAAGE,8DAAQ,CAAC6iC,KAAD,CAAlB;AACA,UAAIniC,UAAU,GAAG9b,KAAK,CAAC8b,UAAN,GAAmBZ,GAAG,CAACY,UAAxC;AACA9b,MAAAA,KAAK,CAAC6pE,QAAN,CAAe9B,WAAf,GAA6B/1D,SAAS,CAAC1nB,OAAV,CAAkB7D,OAAlB,CAA0BokB,oBAAvD,CALoC,CAMpC;;AACA7K,MAAAA,KAAK,CAAC6pE,QAAN,CAAeV,aAAf,CAA6B,CAACnpE,KAAK,CAACgS,SAAN,CAAgBktB,gBAAhB,CAAiCpxC,EAAE,CAACgyB,SAAH,CAAa5xB,MAA9C,CAAD,IACxBJ,EAAE,CAAC80E,OAAH,IAAc5iE,KAAK,CAACgS,SAAN,CAAgBzkB,KAAhB,CAAsBmkC,cAAtB,KAAyC5V,UAAU,CAACphB,QAAX,CAAoBvD,UADhF;AAEH,KATD;;AAUA6I,IAAAA,KAAK,CAACsqE,eAAN,GAAwB,UAAUx8E,EAAV,EAAc;AAClC,UAAIxD,OAAO,GAAG0V,KAAK,CAACgS,SAAN,CAAgB1nB,OAA9B;AACA,UAAIwxB,UAAU,GAAG9b,KAAK,CAAC8b,UAAvB;AACA9b,MAAAA,KAAK,CAACopB,cAAN,GAAuB3V,uEAAiB,CAACnpB,OAAO,CAACg3B,cAAR,GAAyBjnB,UAA1B,EAAsC2F,KAAK,CAAC8b,UAAN,CAAiBphB,QAAjB,CAA0BvD,UAAhE,CAAxC;;AACA,UAAI8mD,KAAK,GAAGj+C,KAAK,CAACovE,UAAN,CAAiBthF,EAAjB,CAAZ;;AACAkS,MAAAA,KAAK,CAACkvE,aAAN,GAAsBjxB,KAAtB;AACAj+C,MAAAA,KAAK,CAACmvE,WAAN,GAAoB/zD,8DAAQ,CAAC6iC,KAAD,CAA5B;AACA3zD,MAAAA,OAAO,CAAC21B,WAAR,CAAoBjP,QAApB;AACA1mB,MAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,kBAAxB,EAA4C;AACxCp0B,QAAAA,EAAE,EAAE0yD,KADoC;AAExCl3B,QAAAA,KAAK,EAAE,IAAIT,0DAAJ,CAAah8B,OAAb,EAAsBwxB,UAAU,CAAClhB,GAAjC,EAAsCkhB,UAAU,CAACphB,QAAjD,CAFiC;AAGxCmlB,QAAAA,OAAO,EAAE/xB,EAAE,CAACgyB,SAH4B;AAIxCC,QAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAJ0B,OAA5C;AAMH,KAdD;;AAeAhgB,IAAAA,KAAK,CAACwsE,eAAN,GAAwB,UAAUtB,GAAV,EAAeuB,OAAf,EAAwB3+E,EAAxB,EAA4B;AAChD,UAAIxD,OAAO,GAAG0V,KAAK,CAACgS,SAAN,CAAgB1nB,OAA9B;AACA,UAAI8+B,cAAc,GAAGppB,KAAK,CAACopB,cAA3B;AACA,UAAI6gD,UAAU,GAAGjqE,KAAK,CAACmsE,WAAN,CAAkBlC,UAAnC;AACA,UAAIrtD,aAAa,GAAG5c,KAAK,CAAC8b,UAAN,CAAiBphB,QAArC;AACA,UAAI8lB,QAAQ,GAAG,IAAf;AACA,UAAI4sD,qBAAqB,GAAG,IAA5B;AACA,UAAIV,SAAS,GAAG,KAAhB;AACA,UAAIx6C,WAAW,GAAG;AACdG,QAAAA,cAAc,EAAEjJ,cADF;AAEdmJ,QAAAA,aAAa,EAAErf,2EAAqB,EAFtB;AAGdwf,QAAAA,OAAO,EAAE;AAHK,OAAlB;;AAKA,UAAIw4C,GAAJ,EAAS;AACL,YAAIyB,UAAU,GAAGzB,GAAG,CAACU,WAAJ,KAAoB3B,UAAU,CAAC2B,WAA/B,IACV5rE,KAAK,CAACm7C,iBADI,IAEV,CAACn7C,KAAK,CAACm7C,iBAAN,CAAwB8uB,UAAxB,EAAoCiB,GAApC,CAFR;;AAGA,YAAI,CAACyB,UAAL,EAAiB;AACbnsD,UAAAA,QAAQ,GAAG6uD,eAAe,CAACpF,UAAD,EAAaiB,GAAb,EAAkBp9E,EAAE,CAACgzE,SAAH,CAAahxE,SAAb,CAAuBhE,QAAvB,CAAgC,wBAAhC,CAAlB,EAA6E8wB,aAAa,CAAC5lB,KAA3F,CAA1B;AACH;AACJ;;AACD,UAAIwpB,QAAJ,EAAc;AACV4sD,QAAAA,qBAAqB,GAAG9sD,+EAAyB,CAAC8I,cAAD,EAAiB9+B,OAAO,CAACg3B,cAAR,GAAyBxH,YAA1C,EAAwD0G,QAAxD,EAAkEl2B,OAAlE,CAAjD;AACA4nC,QAAAA,WAAW,CAACK,aAAZ,GAA4B66C,qBAA5B;;AACA,YAAI,CAACxmB,wEAAkB,CAAC10B,WAAD,EAAcg5C,GAAG,CAAC1pD,WAAlB,EAA+Bl3B,OAA/B,CAAvB,EAAgE;AAC5DoiF,UAAAA,SAAS,GAAG,IAAZ;AACAlsD,UAAAA,QAAQ,GAAG,IAAX;AACA4sD,UAAAA,qBAAqB,GAAG,IAAxB;AACAl7C,UAAAA,WAAW,CAACK,aAAZ,GAA4B,IAA5B;AACH;AACJ;;AACD,UAAI66C,qBAAJ,EAA2B;AACvB9iF,QAAAA,OAAO,CAACG,QAAR,CAAiB;AACb3C,UAAAA,IAAI,EAAE,kBADO;AAEb08B,UAAAA,KAAK,EAAE0N;AAFM,SAAjB;AAIH,OALD,MAMK;AACD5nC,QAAAA,OAAO,CAACG,QAAR,CAAiB;AAAE3C,UAAAA,IAAI,EAAE;AAAR,SAAjB;AACH;;AACD,UAAI,CAAC4kF,SAAL,EAAgB;AACZ18E,QAAAA,kEAAY;AACf,OAFD,MAGK;AACDJ,QAAAA,mEAAa;AAChB;;AACD,UAAI,CAAC68E,OAAL,EAAc;AACV,YAAIjsD,QAAQ,IAAI2qD,WAAW,CAAClB,UAAD,EAAaiB,GAAb,CAA3B,EAA8C;AAC1C1qD,UAAAA,QAAQ,GAAG,IAAX;AACH;;AACDxgB,QAAAA,KAAK,CAACmtE,aAAN,GAAsB3sD,QAAtB;AACAxgB,QAAAA,KAAK,CAACotE,qBAAN,GAA8BA,qBAA9B;AACH;AACJ,KArDD;;AAsDAptE,IAAAA,KAAK,CAAC0qE,aAAN,GAAsB,UAAU58E,EAAV,EAAc;AAChC,UAAIxD,OAAO,GAAG0V,KAAK,CAACgS,SAAN,CAAgB1nB,OAA9B;AACA,UAAI8Q,QAAQ,GAAG4E,KAAK,CAAC8b,UAAN,CAAiBlhB,GAAhC;AACA,UAAIgiB,aAAa,GAAG5c,KAAK,CAAC8b,UAAN,CAAiBphB,QAArC;AACA,UAAIosB,QAAQ,GAAG,IAAIR,0DAAJ,CAAah8B,OAAb,EAAsB8Q,QAAtB,EAAgCwhB,aAAhC,CAAf;AACA,UAAIwM,cAAc,GAAGppB,KAAK,CAACopB,cAA3B;AACA,UAAIgkD,qBAAqB,GAAGptE,KAAK,CAACotE,qBAAlC;AACA9iF,MAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,iBAAxB,EAA2C;AACvCp0B,QAAAA,EAAE,EAAEyU,KAAK,CAACkvE,aAD6B;AAEvCnoD,QAAAA,KAAK,EAAED,QAFgC;AAGvCjH,QAAAA,OAAO,EAAE/xB,EAAE,CAACgyB,SAH2B;AAIvCC,QAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAJyB,OAA3C;;AAMA,UAAIhgB,KAAK,CAACmtE,aAAV,EAAyB;AACrB,YAAIc,eAAe,GAAG,IAAI3nD,0DAAJ,CAAah8B,OAAb,EAAsB8iF,qBAAqB,CAAC5yE,IAAtB,CAA2BY,QAAQ,CAACrE,KAApC,CAAtB,EAAkE6lB,aAAa,GAAGwwD,qBAAqB,CAAC3yE,SAAtB,CAAgCmiB,aAAa,CAACzlB,UAA9C,CAAH,GAA+D,IAA9I,CAAtB;AACA7M,QAAAA,OAAO,CAACG,QAAR,CAAiB;AACb3C,UAAAA,IAAI,EAAE,cADO;AAEbuS,UAAAA,UAAU,EAAE+yE;AAFC,SAAjB;AAIA,YAAIc,cAAc,GAAG;AACjB7kD,UAAAA,QAAQ,EAAEvC,QADO;AAEjBC,UAAAA,KAAK,EAAEknD,eAFU;AAGjBjnD,UAAAA,aAAa,EAAEK,oEAAc,CAAC+lD,qBAAD,EAAwB9iF,OAAxB,EAAiCsyB,aAAjC,CAHZ;AAIjBqK,UAAAA,MAAM,EAAE,kBAAY;AAChB38B,YAAAA,OAAO,CAACG,QAAR,CAAiB;AACb3C,cAAAA,IAAI,EAAE,cADO;AAEbuS,cAAAA,UAAU,EAAE+uB,cAFC,CAEe;;AAFf,aAAjB;AAIH;AATgB,SAArB;AAWA9+B,QAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,aAAxB,EAAuC91B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKqkF,cAAL,CAAT,EAA+B;AAAE3iF,UAAAA,EAAE,EAAEyU,KAAK,CAACkvE,aAAZ;AAA2BruD,UAAAA,UAAU,EAAE7gB,KAAK,CAACmtE,aAAN,CAAoBtsD,UAApB,IAAkCllB,oEAAc,CAAC,CAAD,CAAvF;AAA4FmlB,UAAAA,QAAQ,EAAE9gB,KAAK,CAACmtE,aAAN,CAAoBrsD,QAApB,IAAgCnlB,oEAAc,CAAC,CAAD,CAApJ;AAAyJkkB,UAAAA,OAAO,EAAE/xB,EAAE,CAACgyB,SAArK;AAAgLC,UAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAA9L,SAA/B,CAA/C;AACA11B,QAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,aAAxB,EAAuCuuD,cAAvC;AACH,OAnBD,MAoBK;AACD5jF,QAAAA,OAAO,CAACo1B,OAAR,CAAgBC,OAAhB,CAAwB,gBAAxB;AACH,OAnC+B,CAoChC;;;AACA3f,MAAAA,KAAK,CAACmvE,WAAN,GAAoB,IAApB;AACAnvE,MAAAA,KAAK,CAACopB,cAAN,GAAuB,IAAvB;AACAppB,MAAAA,KAAK,CAACmtE,aAAN,GAAsB,IAAtB,CAvCgC,CAwChC;AACH,KAzCD;;AA0CA,QAAIn7D,SAAS,GAAG8T,QAAQ,CAAC9T,SAAzB;AACA,QAAI63D,QAAQ,GAAG7pE,KAAK,CAAC6pE,QAAN,GAAiB,IAAI/B,yBAAJ,CAA8BhiD,QAAQ,CAACv6B,EAAvC,CAAhC;AACAs+E,IAAAA,QAAQ,CAACtB,OAAT,CAAiBz/E,QAAjB,GAA4B,mBAA5B;AACA+gF,IAAAA,QAAQ,CAAC7B,kBAAT,GAA8B,KAA9B;AACA6B,IAAAA,QAAQ,CAAChB,YAAT,CAAsBhD,SAAtB,GAAkC7zD,SAAS,CAAC1nB,OAAV,CAAkB7D,OAAlB,CAA0B2jB,UAA5D;AACA,QAAI+hE,WAAW,GAAGnsE,KAAK,CAACmsE,WAAN,GAAoB,IAAIvC,WAAJ,CAAgB5pE,KAAK,CAAC6pE,QAAtB,EAAgCvuB,gFAA0B,CAACx1B,QAAD,CAA1D,CAAtC;AACAqmD,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,aAAvB,EAAsC9jB,KAAK,CAACoqE,iBAA5C;AACA+B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC9jB,KAAK,CAACsqE,eAA1C;AACA6B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC9jB,KAAK,CAACwsE,eAA1C;AACAL,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,SAAvB,EAAkC9jB,KAAK,CAAC0qE,aAAxC;AACA,WAAO1qE,KAAP;AACH;;AACDivE,EAAAA,aAAa,CAACnqF,SAAd,CAAwByC,OAAxB,GAAkC,YAAY;AAC1C,SAAKsiF,QAAL,CAActiF,OAAd;AACH,GAFD;;AAGA0nF,EAAAA,aAAa,CAACnqF,SAAd,CAAwBsqF,UAAxB,GAAqC,UAAUthF,EAAV,EAAc;AAC/C,WAAOpC,oEAAc,CAACoC,EAAE,CAACgzE,SAAJ,EAAe,WAAf,CAArB;AACH,GAFD;;AAGA,SAAOmO,aAAP;AACH,CAvJkC,CAuJjC/zB,6DAvJiC,CAAnC;;AAwJA,SAASm0B,eAAT,CAAyBxD,IAAzB,EAA+BC,IAA/B,EAAqCwD,WAArC,EAAkD/mD,aAAlD,EAAiE;AAC7D,MAAI5uB,OAAO,GAAGkyE,IAAI,CAACvhF,OAAL,CAAaqP,OAA3B;AACA,MAAIye,KAAK,GAAGyzD,IAAI,CAACvsD,QAAL,CAActoB,KAAd,CAAoBkE,KAAhC;AACA,MAAImd,KAAK,GAAGyzD,IAAI,CAACxsD,QAAL,CAActoB,KAAd,CAAoBkE,KAAhC;AACA,MAAIyqB,KAAK,GAAGxN,+DAAS,CAACC,KAAD,EAAQC,KAAR,EAAe1e,OAAf,EAAwBkyE,IAAI,CAACvzD,SAA7B,CAArB;;AACA,MAAIg3D,WAAJ,EAAiB;AACb,QAAI31E,OAAO,CAAC5J,GAAR,CAAYw4B,aAAa,CAACrtB,KAA1B,EAAiCyqB,KAAjC,IAA0C4C,aAAa,CAACptB,GAA5D,EAAiE;AAC7D,aAAO;AAAE0lB,QAAAA,UAAU,EAAE8E;AAAd,OAAP;AACH;AACJ,GAJD,MAKK,IAAIhsB,OAAO,CAAC5J,GAAR,CAAYw4B,aAAa,CAACptB,GAA1B,EAA+BwqB,KAA/B,IAAwC4C,aAAa,CAACrtB,KAA1D,EAAiE;AAClE,WAAO;AAAE4lB,MAAAA,QAAQ,EAAE6E;AAAZ,KAAP;AACH;;AACD,SAAO,IAAP;AACH;;AAED,IAAI4pD,YAAY;AAAG;AAAe,YAAY;AAC1C,WAASA,YAAT,CAAsBjlF,OAAtB,EAA+B;AAC3B,QAAI0V,KAAK,GAAG,IAAZ;;AACA,SAAK1V,OAAL,GAAeA,OAAf;AACA,SAAKklF,yBAAL,GAAiC,KAAjC,CAH2B,CAGa;;AACxC,SAAKC,aAAL,GAAqB,KAArB;AACA,SAAKC,YAAL,GAAoB,KAApB;;AACA,SAAKC,QAAL,GAAgB,UAAUC,UAAV,EAAsB;AAClC,UAAIA,UAAU,CAAC/vD,OAAf,EAAwB;AACpB7f,QAAAA,KAAK,CAACwvE,yBAAN,GAAkC,IAAlC;AACH;AACJ,KAJD;;AAKA,SAAKK,qBAAL,GAA6B,UAAUpwD,GAAV,EAAe;AACxC,UAAIxS,cAAc,GAAGjN,KAAK,CAAC1V,OAAN,CAAc7D,OAAd,CAAsBwmB,cAA3C;AACA,UAAIk2D,MAAM,GAAG1jD,GAAG,CAACK,SAAJ,CAAc5xB,MAA3B;AACA8R,MAAAA,KAAK,CAACyvE,aAAN,GAAsB,CAAC,CAAC/jF,oEAAc,CAACy3E,MAAD,EAASl2D,cAAT,CAAtC;AACAjN,MAAAA,KAAK,CAAC0vE,YAAN,GAAqB,CAAC,CAAChkF,oEAAc,CAACy3E,MAAD,EAAS6J,aAAa,CAAC0B,QAAvB,CAArC,CAJwC,CAI+B;AAC1E,KALD;;AAMA,SAAKoB,mBAAL,GAA2B,UAAUrwD,GAAV,EAAe;AACtC,UAAIn1B,OAAO,GAAG0V,KAAK,CAAC1V,OAApB;AACA,UAAIylF,eAAe,GAAG/vE,KAAK,CAAC+vE,eAA5B;AACA,UAAIhpB,aAAa,GAAGz8D,OAAO,CAACg3B,cAAR,EAApB,CAHsC,CAItC;;AACA,UAAI,CAACyuD,eAAe,CAAC5O,cAArB,EAAqC;AACjC,YAAIpa,aAAa,CAAC7gC,aAAd,IAA+B;AAC/B,SAAClmB,KAAK,CAACwvE,yBADX,CACqC;AADrC,UAEE;AACE,cAAIllE,YAAY,GAAGhgB,OAAO,CAAC7D,OAAR,CAAgB6jB,YAAnC;;AACA,cAAIA,YAAY,KAAK,CAACA,YAAD,IAAiB,CAACtK,KAAK,CAACyvE,aAA7B,CAAhB,EAA6D;AACzDnlF,YAAAA,OAAO,CAAC21B,WAAR,CAAoBjP,QAApB,CAA6ByO,GAA7B;AACH;AACJ;;AACD,YAAIsnC,aAAa,CAACr1B,cAAd,IAAgC;AAChC,SAAC1xB,KAAK,CAAC0vE,YADX,CACwB;AADxB,UAEE;AACEplF,UAAAA,OAAO,CAACG,QAAR,CAAiB;AAAE3C,YAAAA,IAAI,EAAE;AAAR,WAAjB;AACH;AACJ;;AACDkY,MAAAA,KAAK,CAACwvE,yBAAN,GAAkC,KAAlC;AACH,KArBD;;AAsBA,QAAIO,eAAe,GAAG,KAAKA,eAAL,GAAuB,IAAInP,eAAJ,CAAoBh1E,QAApB,CAA7C;AACAmkF,IAAAA,eAAe,CAAC/O,gBAAhB,GAAmC,IAAnC;AACA+O,IAAAA,eAAe,CAAC9O,iBAAhB,GAAoC,KAApC;AACA8O,IAAAA,eAAe,CAACrwD,OAAhB,CAAwBoE,EAAxB,CAA2B,aAA3B,EAA0C,KAAK+rD,qBAA/C;AACAE,IAAAA,eAAe,CAACrwD,OAAhB,CAAwBoE,EAAxB,CAA2B,WAA3B,EAAwC,KAAKgsD,mBAA7C;AACA;AACR;AACA;;AACQxlF,IAAAA,OAAO,CAACo1B,OAAR,CAAgBoE,EAAhB,CAAmB,QAAnB,EAA6B,KAAK6rD,QAAlC;AACH;;AACDJ,EAAAA,YAAY,CAACzqF,SAAb,CAAuByC,OAAvB,GAAiC,YAAY;AACzC,SAAK+C,OAAL,CAAao1B,OAAb,CAAqByE,GAArB,CAAyB,QAAzB,EAAmC,KAAKwrD,QAAxC;AACA,SAAKI,eAAL,CAAqBxoF,OAArB;AACH,GAHD;;AAIA,SAAOgoF,YAAP;AACH,CAvDiC,EAAlC;;AAyDA,IAAIS,eAAe,GAAG;AAClBxC,EAAAA,iBAAiB,EAAE1mE,0DAAQA;AADT,CAAtB;AAGA,IAAImpE,iBAAiB,GAAG;AACpBC,EAAAA,SAAS,EAAEppE,0DADS;AAEpBqpE,EAAAA,cAAc,EAAErpE,0DAFI;AAGpBspE,EAAAA,aAAa,EAAEtpE,0DAHK;AAIpBupE,EAAAA,SAAS,EAAEvpE,0DAJS;AAKpBwpE,EAAAA,gBAAgB,EAAExpE,0DALE;AAMpBypE,EAAAA,eAAe,EAAEzpE,0DANG;AAOpBuqB,EAAAA,WAAW,EAAEvqB,0DAPO;AAQpB0pE,EAAAA,IAAI,EAAE1pE,0DARc;AASpB2pE,EAAAA,YAAY,EAAE3pE,0DATM;AAUpB4pE,EAAAA,UAAU,EAAE5pE,0DAAQA;AAVA,CAAxB;AAaA;AACA;AACA;AACA;AACA;;AACA,IAAI6pE,uBAAuB;AAAG;AAAe,YAAY;AACrD,WAASA,uBAAT,CAAiC9G,QAAjC,EAA2C+G,gBAA3C,EAA6D;AACzD,QAAI5wE,KAAK,GAAG,IAAZ;;AACA,SAAKktE,gBAAL,GAAwB,IAAxB;AACA,SAAK2D,cAAL,GAAsB,IAAtB,CAHyD,CAG7B;;AAC5B,SAAKD,gBAAL,GAAwB,IAAxB;AACA,SAAKE,QAAL,GAAgB,IAAhB;;AACA,SAAKxG,eAAL,GAAuB,UAAUx8E,EAAV,EAAc;AACjCkS,MAAAA,KAAK,CAAC8wE,QAAN,GAAiB9wE,KAAK,CAAC+wE,aAAN,CAAoBjjF,EAAE,CAACgzE,SAAvB,CAAjB;AACH,KAFD;;AAGA,SAAK0L,eAAL,GAAuB,UAAUtB,GAAV,EAAeuB,OAAf,EAAwB3+E,EAAxB,EAA4B;AAC/C,UAAI+7E,QAAQ,GAAG7pE,KAAK,CAACmsE,WAAN,CAAkBtC,QAAjC;AACA,UAAIqD,gBAAgB,GAAG,IAAvB;AACA,UAAI2D,cAAc,GAAG,IAArB;AACA,UAAInE,SAAS,GAAG,KAAhB;AACA,UAAIx6C,WAAW,GAAG;AACdG,QAAAA,cAAc,EAAEnf,2EAAqB,EADvB;AAEdqf,QAAAA,aAAa,EAAErf,2EAAqB,EAFtB;AAGdwf,QAAAA,OAAO,EAAE1yB,KAAK,CAAC8wE,QAAN,CAAexyC;AAHV,OAAlB;;AAKA,UAAI4sC,GAAJ,EAAS;AACLgC,QAAAA,gBAAgB,GAAGhC,GAAG,CAAC5gF,OAAvB;;AACA,YAAI0V,KAAK,CAACgxE,mBAAN,CAA0BljF,EAAE,CAACgzE,SAA7B,EAAwCoM,gBAAxC,CAAJ,EAA+D;AAC3D2D,UAAAA,cAAc,GAAGI,uBAAuB,CAAC/F,GAAG,CAAC5rD,QAAL,EAAetf,KAAK,CAAC8wE,QAArB,EAA+B5D,gBAA/B,CAAxC;AACAh7C,UAAAA,WAAW,CAACK,aAAZ,GAA4B/e,uEAAiB,CAACq9D,cAAD,CAA7C;AACAnE,UAAAA,SAAS,GAAG,CAAC9lB,wEAAkB,CAAC10B,WAAD,EAAcg5C,GAAG,CAAC1pD,WAAlB,EAA+B0rD,gBAA/B,CAA/B;;AACA,cAAIR,SAAJ,EAAe;AACXx6C,YAAAA,WAAW,CAACK,aAAZ,GAA4Brf,2EAAqB,EAAjD;AACA29D,YAAAA,cAAc,GAAG,IAAjB;AACH;AACJ;AACJ;;AACD7wE,MAAAA,KAAK,CAAC2tE,WAAN,CAAkBT,gBAAlB,EAAoCh7C,WAApC,EAtB+C,CAuB/C;AACA;;;AACA23C,MAAAA,QAAQ,CAACpuB,kBAAT,CAA4BgxB,OAAO,IAAI,CAACoE,cAAZ,IAA8B,CAACjlF,QAAQ,CAACuG,aAAT,CAAuB,kBAAvB,CAA3D;;AACA,UAAI,CAACu6E,SAAL,EAAgB;AACZ18E,QAAAA,kEAAY;AACf,OAFD,MAGK;AACDJ,QAAAA,mEAAa;AAChB;;AACD,UAAI,CAAC68E,OAAL,EAAc;AACV5C,QAAAA,QAAQ,CAACluB,oBAAT,CAA8B,CAACk1B,cAA/B;AACA7wE,QAAAA,KAAK,CAACktE,gBAAN,GAAyBA,gBAAzB;AACAltE,QAAAA,KAAK,CAAC6wE,cAAN,GAAuBA,cAAvB;AACH;AACJ,KArCD;;AAsCA,SAAKnG,aAAL,GAAqB,UAAUjrD,GAAV,EAAe;AAChC,UAAI1xB,EAAE,GAAGiS,KAAT;AAAA,UAAgBktE,gBAAgB,GAAGn/E,EAAE,CAACm/E,gBAAtC;AAAA,UAAwD2D,cAAc,GAAG9iF,EAAE,CAAC8iF,cAA5E;;AACA7wE,MAAAA,KAAK,CAACguE,SAAN;;AACA,UAAId,gBAAgB,IAAI2D,cAAxB,EAAwC;AACpC,YAAI1G,QAAQ,GAAGnqE,KAAK,CAACmsE,WAAN,CAAkBhC,QAAjC;AACA,YAAI+G,SAAS,GAAG/G,QAAQ,CAAC7/E,OAAT,CAAiB01B,OAAjC;AACA,YAAI8wD,QAAQ,GAAG9wE,KAAK,CAAC8wE,QAArB;AACA5D,QAAAA,gBAAgB,CAACxtD,OAAjB,CAAyBC,OAAzB,CAAiC,MAAjC,EAAyC91B,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKkiF,4BAA4B,CAAC5B,QAAQ,CAAC7qD,QAAV,EAAoB4tD,gBAApB,CAAjC,CAAT,EAAkF;AAAEmB,UAAAA,SAAS,EAAE5uD,GAAG,CAACqhD,SAAjB;AAA4BjhD,UAAAA,OAAO,EAAEJ,GAAG,CAACK,SAAzC;AAAoDC,UAAAA,IAAI,EAAEmxD;AAA1D,SAAlF,CAAjD;;AACA,YAAIJ,QAAQ,CAACxyC,MAAb,EAAqB;AACjB,cAAI6yC,cAAc,GAAG39D,uEAAiB,CAACq9D,cAAD,CAAtC;AACA3D,UAAAA,gBAAgB,CAACziF,QAAjB,CAA0B;AACtB3C,YAAAA,IAAI,EAAE,cADgB;AAEtBuS,YAAAA,UAAU,EAAE82E;AAFU,WAA1B;;AAIA,cAAI1xD,GAAG,CAACmjD,OAAR,EAAiB;AACbsK,YAAAA,gBAAgB,CAACziF,QAAjB,CAA0B;AACtB3C,cAAAA,IAAI,EAAE,cADgB;AAEtB2kD,cAAAA,eAAe,EAAEokC,cAAc,CAACn2E,QAAf,CAAwBvD;AAFnB,aAA1B;AAIH,WAXgB,CAYjB;;;AACA+1E,UAAAA,gBAAgB,CAACxtD,OAAjB,CAAyBC,OAAzB,CAAiC,cAAjC,EAAiD;AAC7CoH,YAAAA,KAAK,EAAE,IAAIT,0DAAJ,CAAa4mD,gBAAb,EAA+B2D,cAAc,CAACj2E,GAA9C,EAAmDi2E,cAAc,CAACn2E,QAAlE,CADsC;AAE7CssB,YAAAA,aAAa,EAAE,EAF8B;AAG7CC,YAAAA,MAAM,EAAE,kBAAY;AAChBimD,cAAAA,gBAAgB,CAACziF,QAAjB,CAA0B;AACtB3C,gBAAAA,IAAI,EAAE,eADgB;AAEtBuS,gBAAAA,UAAU,EAAE82E;AAFU,eAA1B;AAIH,aAR4C;AAS7C9C,YAAAA,SAAS,EAAE5uD,GAAG,CAACqhD,SAT8B;AAU7C/gD,YAAAA,IAAI,EAAEmxD;AAVuC,WAAjD;AAYH;AACJ;;AACDlxE,MAAAA,KAAK,CAACktE,gBAAN,GAAyB,IAAzB;AACAltE,MAAAA,KAAK,CAAC6wE,cAAN,GAAuB,IAAvB;AACH,KArCD;;AAsCA,QAAI1E,WAAW,GAAG,KAAKA,WAAL,GAAmB,IAAIvC,WAAJ,CAAgBC,QAAhB,EAA0BtuB,0EAA1B,CAArC;AACA4wB,IAAAA,WAAW,CAACnC,cAAZ,GAA6B,KAA7B,CAtFyD,CAsFrB;;AACpCmC,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC,KAAKwmD,eAAzC;AACA6B,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,WAAvB,EAAoC,KAAK0oD,eAAzC;AACAL,IAAAA,WAAW,CAACzsD,OAAZ,CAAoBoE,EAApB,CAAuB,SAAvB,EAAkC,KAAK4mD,aAAvC;AACA,SAAKkG,gBAAL,GAAwBA,gBAAxB;AACH;;AACDD,EAAAA,uBAAuB,CAAC7rF,SAAxB,CAAkCisF,aAAlC,GAAkD,UAAUjQ,SAAV,EAAqB;AACnE,QAAI,OAAO,KAAK8P,gBAAZ,KAAiC,QAArC,EAA+C;AAC3C,aAAO70B,mEAAa,CAAC,KAAK60B,gBAAN,CAApB;AACH;;AACD,QAAI,OAAO,KAAKA,gBAAZ,KAAiC,UAArC,EAAiD;AAC7C,aAAO70B,mEAAa,CAAC,KAAK60B,gBAAL,CAAsB9P,SAAtB,CAAD,CAApB;AACH;;AACD,WAAOsQ,iBAAiB,CAACtQ,SAAD,CAAxB;AACH,GARD;;AASA6P,EAAAA,uBAAuB,CAAC7rF,SAAxB,CAAkC6oF,WAAlC,GAAgD,UAAUgB,WAAV,EAAuBnqD,KAAvB,EAA8B;AAC1E,QAAIoqD,WAAW,GAAG,KAAK1B,gBAAvB;;AACA,QAAI0B,WAAW,IAAIA,WAAW,KAAKD,WAAnC,EAAgD;AAC5CC,MAAAA,WAAW,CAACnkF,QAAZ,CAAqB;AAAE3C,QAAAA,IAAI,EAAE;AAAR,OAArB;AACH;;AACD,QAAI6mF,WAAJ,EAAiB;AACbA,MAAAA,WAAW,CAAClkF,QAAZ,CAAqB;AAAE3C,QAAAA,IAAI,EAAE,gBAAR;AAA0B08B,QAAAA,KAAK,EAAEA;AAAjC,OAArB;AACH;AACJ,GARD;;AASAmsD,EAAAA,uBAAuB,CAAC7rF,SAAxB,CAAkCkpF,SAAlC,GAA8C,YAAY;AACtD,QAAI,KAAKd,gBAAT,EAA2B;AACvB,WAAKA,gBAAL,CAAsBziF,QAAtB,CAA+B;AAAE3C,QAAAA,IAAI,EAAE;AAAR,OAA/B;AACH;AACJ,GAJD;;AAKA6oF,EAAAA,uBAAuB,CAAC7rF,SAAxB,CAAkCksF,mBAAlC,GAAwD,UAAUzlF,EAAV,EAAc2hF,gBAAd,EAAgC;AACpF,QAAI3iE,UAAU,GAAG2iE,gBAAgB,CAACzmF,OAAjB,CAAyB8jB,UAA1C;;AACA,QAAI,OAAOA,UAAP,KAAsB,UAA1B,EAAsC;AAClC,aAAOA,UAAU,CAAC7kB,IAAX,CAAgBwnF,gBAAgB,CAACjtD,WAAjC,EAA8C10B,EAA9C,CAAP;AACH;;AACD,QAAI,OAAOgf,UAAP,KAAsB,QAAtB,IAAkCA,UAAtC,EAAkD;AAC9C,aAAOjD,OAAO,CAACvb,oEAAc,CAACR,EAAD,EAAKgf,UAAL,CAAf,CAAd;AACH;;AACD,WAAO,IAAP;AACH,GATD;;AAUA,SAAOomE,uBAAP;AACH,CA/H4C,EAA7C,EAgIA;AACA;;;AACA,SAASM,uBAAT,CAAiC3xD,QAAjC,EAA2CwxD,QAA3C,EAAqDxmF,OAArD,EAA8D;AAC1D,MAAI+mF,QAAQ,GAAGxnF,+CAAQ,CAAC,EAAD,EAAKinF,QAAQ,CAAC90B,aAAd,CAAvB;;AACA,OAAK,IAAI9jD,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGzD,OAAO,CAACiQ,WAAR,CAAoBulC,qBAA1C,EAAiE5nC,EAAE,GAAGnK,EAAE,CAACnB,MAAzE,EAAiFsL,EAAE,EAAnF,EAAuF;AACnF,QAAIkoB,SAAS,GAAGryB,EAAE,CAACmK,EAAD,CAAlB;;AACArO,IAAAA,+CAAQ,CAACwnF,QAAD,EAAWjxD,SAAS,CAACd,QAAD,EAAWwxD,QAAX,CAApB,CAAR;AACH;;AACD,MAAI9iF,EAAE,GAAGwoB,oEAAc,CAAC66D,QAAD,EAAW/mF,OAAX,CAAvB;AAAA,MAA4CmP,OAAO,GAAGzL,EAAE,CAACyL,OAAzD;AAAA,MAAkEmZ,KAAK,GAAG5kB,EAAE,CAAC4kB,KAA7E;;AACA,MAAIhY,GAAG,GAAG+b,mEAAa,CAACld,OAAD,EAAUmZ,KAAV,EAAiBk+D,QAAQ,CAACpmF,QAA1B,EAAoC40B,QAAQ,CAACvlB,MAA7C,EAAqDzP,OAAO,CAAC7D,OAAR,CAAgBqhB,kBAAhB,IAAsCR,OAAO,CAACwpE,QAAQ,CAAC72E,QAAV,CAAlG,EAAuH;AAC9I3P,EAAAA,OADuB,CAAvB;AAEA,MAAI4Q,KAAK,GAAGokB,QAAQ,CAACtoB,KAAT,CAAekE,KAA3B,CAT0D,CAU1D;AACA;;AACA,MAAIokB,QAAQ,CAACvlB,MAAT,IAAmB+2E,QAAQ,CAACpjD,SAAhC,EAA2C;AACvCxyB,IAAAA,KAAK,GAAG5Q,OAAO,CAACqP,OAAR,CAAgB5J,GAAhB,CAAoBmL,KAApB,EAA2B41E,QAAQ,CAACpjD,SAApC,CAAR;AACH;;AACD,MAAIvyB,GAAG,GAAG21E,QAAQ,CAAC72E,QAAT,GACN3P,OAAO,CAACqP,OAAR,CAAgB5J,GAAhB,CAAoBmL,KAApB,EAA2B41E,QAAQ,CAAC72E,QAApC,CADM,GAENomB,wEAAkB,CAACf,QAAQ,CAACvlB,MAAV,EAAkBmB,KAAlB,EAAyB5Q,OAAzB,CAFtB;AAGA,MAAIoQ,QAAQ,GAAG5D,yEAAmB,CAAC8D,GAAG,CAAC7D,KAAL,EAAY;AAAEmE,IAAAA,KAAK,EAAEA,KAAT;AAAgBC,IAAAA,GAAG,EAAEA;AAArB,GAAZ,CAAlC;AACA,SAAO;AAAEP,IAAAA,GAAG,EAAEA,GAAP;AAAYF,IAAAA,QAAQ,EAAEA;AAAtB,GAAP;AACH,EACD;AACA;;;AACA,SAAS02E,iBAAT,CAA2B7lF,EAA3B,EAA+B;AAC3B,MAAI++B,GAAG,GAAGgnD,iBAAiB,CAAC/lF,EAAD,EAAK,OAAL,CAA3B;AACA,MAAIiN,GAAG,GAAG8xB,GAAG,GACTiJ,IAAI,CAACz5B,KAAL,CAAWwwB,GAAX,CADS,GAET;AAAEgU,IAAAA,MAAM,EAAE;AAAV,GAFJ,CAF2B,CAIJ;;AACvB,SAAOyd,mEAAa,CAACvjD,GAAD,CAApB;AACH;;AACDqjD,uEAAA,GAAwB,EAAxB;;AACA,SAASy1B,iBAAT,CAA2B/lF,EAA3B,EAA+BmC,IAA/B,EAAqC;AACjC,MAAIkuC,MAAM,GAAGigB,uEAAb;AACA,MAAI21B,YAAY,GAAG,CAAC51C,MAAM,GAAGA,MAAM,GAAG,GAAZ,GAAkB,EAAzB,IAA+BluC,IAAlD;AACA,SAAOnC,EAAE,CAACk1D,YAAH,CAAgB,UAAU+wB,YAA1B,KAA2C,EAAlD;AACH;AAED;AACA;AACA;AACA;AACA;;;AACA,IAAIC,iBAAiB;AAAG;AAAe,YAAY;AAC/C,WAASA,iBAAT,CAA2BlmF,EAA3B,EAA+Bu6B,QAA/B,EAAyC;AACrC,QAAI9lB,KAAK,GAAG,IAAZ;;AACA,QAAI8lB,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,MAAAA,QAAQ,GAAG,EAAX;AAAgB;;AAC3C,SAAKskD,iBAAL,GAAyB,UAAUt8E,EAAV,EAAc;AACnC,UAAI+7E,QAAQ,GAAG7pE,KAAK,CAAC6pE,QAArB;AACA,UAAI97E,EAAE,GAAGiS,KAAK,CAAC8lB,QAAf;AAAA,UAAyBiiD,WAAW,GAAGh6E,EAAE,CAACg6E,WAA1C;AAAA,UAAuDn9D,cAAc,GAAG7c,EAAE,CAAC6c,cAA3E;AACAi/D,MAAAA,QAAQ,CAAC9B,WAAT,GACIA,WAAW,IAAI,IAAf,GACIA,WADJ,GAEKj6E,EAAE,CAAC80E,OAAH,GAAa,CAAb,GAAiBzyD,2FAH1B;AAIA05D,MAAAA,QAAQ,CAACz3B,KAAT,GACItkD,EAAE,CAAC80E,OAAH,GAAa;AACRh4D,MAAAA,cAAc,IAAI,IAAlB,GAAyBA,cAAzB,GAA0CuF,qFAD/C,GAEI,CAHR;AAIH,KAXD;;AAYA,SAAKm6D,eAAL,GAAuB,UAAUx8E,EAAV,EAAc;AACjC,UAAIA,EAAE,CAAC80E,OAAH,IACA5iE,KAAK,CAAC6pE,QAAN,CAAez3B,KADf,IAEAtkD,EAAE,CAACgzE,SAAH,CAAahxE,SAAb,CAAuBhE,QAAvB,CAAgC,UAAhC,CAFJ,EAEiD;AAC7CkU,QAAAA,KAAK,CAAC6pE,QAAN,CAAerB,MAAf,CAAsB7D,WAAtB,GAAoC70E,SAApC,CAA8CC,GAA9C,CAAkD,mBAAlD;AACH;AACJ,KAND;;AAOA,SAAK+1B,QAAL,GAAgBA,QAAhB;AACA,QAAI+jD,QAAQ,GAAG,KAAKA,QAAL,GAAgB,IAAI/B,yBAAJ,CAA8Bv8E,EAA9B,CAA/B;AACAs+E,IAAAA,QAAQ,CAAC7B,kBAAT,GAA8B,KAA9B;;AACA,QAAIliD,QAAQ,CAAC4rD,YAAT,IAAyB,IAA7B,EAAmC;AAC/B7H,MAAAA,QAAQ,CAACtB,OAAT,CAAiBz/E,QAAjB,GAA4Bg9B,QAAQ,CAAC4rD,YAArC;AACH;;AACD,QAAI5rD,QAAQ,CAAC6rD,QAAT,IAAqB,IAAzB,EAA+B;AAC3B9H,MAAAA,QAAQ,CAACrB,MAAT,CAAgBh9E,UAAhB,GAA6Bs6B,QAAQ,CAAC6rD,QAAtC,CAD2B,CACqB;AACnD;;AACD9H,IAAAA,QAAQ,CAACnqD,OAAT,CAAiBoE,EAAjB,CAAoB,aAApB,EAAmC,KAAKsmD,iBAAxC;AACAP,IAAAA,QAAQ,CAACnqD,OAAT,CAAiBoE,EAAjB,CAAoB,WAApB,EAAiC,KAAKwmD,eAAtC;AACA,QAAIqG,uBAAJ,CAA4B9G,QAA5B,EAAsC/jD,QAAQ,CAAC8rD,SAA/C,EAjCqC,CAiCsB;AAC9D;;AACDH,EAAAA,iBAAiB,CAAC3sF,SAAlB,CAA4ByC,OAA5B,GAAsC,YAAY;AAC9C,SAAKsiF,QAAL,CAActiF,OAAd;AACH,GAFD;;AAGA,SAAOkqF,iBAAP;AACH,CAxCsC,EAAvC;AA0CA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAII,uBAAuB;AAAG;AAAe,UAAUl3C,MAAV,EAAkB;AAC3D5wC,EAAAA,gDAAS,CAAC8nF,uBAAD,EAA0Bl3C,MAA1B,CAAT;;AACA,WAASk3C,uBAAT,CAAiChR,WAAjC,EAA8C;AAC1C,QAAI7gE,KAAK,GAAG26B,MAAM,CAACj1C,IAAP,CAAY,IAAZ,EAAkBm7E,WAAlB,KAAkC,IAA9C;;AACA7gE,IAAAA,KAAK,CAACghE,gBAAN,GAAyB,KAAzB;AACAhhE,IAAAA,KAAK,CAAC8xE,cAAN,GAAuB,EAAvB;AACA9xE,IAAAA,KAAK,CAAC+xE,eAAN,GAAwB,IAAxB;;AACA/xE,IAAAA,KAAK,CAACoqE,iBAAN,GAA0B,UAAUt8E,EAAV,EAAc;AACpCkS,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqC7xB,EAArC;;AACA,UAAI,CAACkS,KAAK,CAACghE,gBAAX,EAA6B;AACzB;AACAhhE,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC7xB,EAAnC;AACH;AACJ,KAND;;AAOAkS,IAAAA,KAAK,CAACgyE,iBAAN,GAA0B,UAAUlkF,EAAV,EAAc;AACpC,UAAI,CAACkS,KAAK,CAACghE,gBAAX,EAA6B;AACzBhhE,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,UAAtB,EAAkC7xB,EAAlC;AACH;AACJ,KAJD;;AAKAkS,IAAAA,KAAK,CAACwqE,eAAN,GAAwB,UAAU18E,EAAV,EAAc;AAClCkS,MAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC7xB,EAAnC;;AACA,UAAI,CAACkS,KAAK,CAACghE,gBAAX,EAA6B;AACzB;AACAhhE,QAAAA,KAAK,CAAC0f,OAAN,CAAcC,OAAd,CAAsB,SAAtB,EAAiC7xB,EAAjC;AACH;AACJ,KAND;;AAOA,QAAIy6E,OAAO,GAAGvoE,KAAK,CAACuoE,OAAN,GAAgB,IAAI3H,eAAJ,CAAoBC,WAApB,CAA9B;AACA0H,IAAAA,OAAO,CAAC7oD,OAAR,CAAgBoE,EAAhB,CAAmB,aAAnB,EAAkC9jB,KAAK,CAACoqE,iBAAxC;AACA7B,IAAAA,OAAO,CAAC7oD,OAAR,CAAgBoE,EAAhB,CAAmB,aAAnB,EAAkC9jB,KAAK,CAACgyE,iBAAxC;AACAzJ,IAAAA,OAAO,CAAC7oD,OAAR,CAAgBoE,EAAhB,CAAmB,WAAnB,EAAgC9jB,KAAK,CAACwqE,eAAtC;AACA,WAAOxqE,KAAP;AACH;;AACD6xE,EAAAA,uBAAuB,CAAC/sF,SAAxB,CAAkCyC,OAAlC,GAA4C,YAAY;AACpD,SAAKghF,OAAL,CAAahhF,OAAb;AACH,GAFD;;AAGAsqF,EAAAA,uBAAuB,CAAC/sF,SAAxB,CAAkCqkF,aAAlC,GAAkD,UAAUztB,IAAV,EAAgB;AAC9D,SAAKslB,gBAAL,GAAwBtlB,IAAxB;AACH,GAFD;;AAGAm2B,EAAAA,uBAAuB,CAAC/sF,SAAxB,CAAkC22D,kBAAlC,GAAuD,UAAUC,IAAV,EAAgB;AACnE,QAAIA,IAAJ,EAAU;AACN;AACA;AACA,UAAI,KAAKq2B,eAAT,EAA0B;AACtB,aAAKA,eAAL,CAAqBpkF,KAArB,CAA2BuqE,UAA3B,GAAwC,EAAxC;AACA,aAAK6Z,eAAL,GAAuB,IAAvB;AACH;AACJ,KAPD,MAQK;AACD,UAAInO,QAAQ,GAAG,KAAKkO,cAAL,GACXlmF,QAAQ,CAACuG,aAAT,CAAuB,KAAK2/E,cAA5B,CADW,GAEX,IAFJ;;AAGA,UAAIlO,QAAJ,EAAc;AACV,aAAKmO,eAAL,GAAuBnO,QAAvB;AACAA,QAAAA,QAAQ,CAACj2E,KAAT,CAAeuqE,UAAf,GAA4B,QAA5B;AACH;AACJ;AACJ,GAlBD;;AAmBA,SAAO2Z,uBAAP;AACH,CA1D4C,CA0D3Cr2B,iEA1D2C,CAA7C;AA4DA;AACA;AACA;AACA;;;AACA,IAAIy2B,mBAAmB;AAAG;AAAe,YAAY;AACjD,WAASA,mBAAT,CAA6BC,mBAA7B,EAAkDpsD,QAAlD,EAA4D;AACxD,QAAI+6C,WAAW,GAAGj1E,QAAlB;;AACA,SACA;AACAsmF,IAAAA,mBAAmB,KAAKtmF,QAAxB,IACIsmF,mBAAmB,YAAYC,OAHnC,EAG4C;AACxCtR,MAAAA,WAAW,GAAGqR,mBAAd;AACApsD,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,EAAvB;AACH,KAND,MAOK;AACDA,MAAAA,QAAQ,GAAIosD,mBAAmB,IAAI,EAAnC;AACH;;AACD,QAAIrI,QAAQ,GAAG,KAAKA,QAAL,GAAgB,IAAIgI,uBAAJ,CAA4BhR,WAA5B,CAA/B;;AACA,QAAI,OAAO/6C,QAAQ,CAAC4rD,YAAhB,KAAiC,QAArC,EAA+C;AAC3C7H,MAAAA,QAAQ,CAACtB,OAAT,CAAiBz/E,QAAjB,GAA4Bg9B,QAAQ,CAAC4rD,YAArC;AACH,KAFD,MAGK,IAAI7Q,WAAW,KAAKj1E,QAApB,EAA8B;AAC/Bi+E,MAAAA,QAAQ,CAACtB,OAAT,CAAiBz/E,QAAjB,GAA4B,cAA5B;AACH;;AACD,QAAI,OAAOg9B,QAAQ,CAACgsD,cAAhB,KAAmC,QAAvC,EAAiD;AAC7CjI,MAAAA,QAAQ,CAACiI,cAAT,GAA0BhsD,QAAQ,CAACgsD,cAAnC;AACH;;AACD,QAAInB,uBAAJ,CAA4B9G,QAA5B,EAAsC/jD,QAAQ,CAAC8rD,SAA/C,EAtBwD,CAsBG;AAC9D;;AACDK,EAAAA,mBAAmB,CAACntF,SAApB,CAA8ByC,OAA9B,GAAwC,YAAY;AAChD,SAAKsiF,QAAL,CAActiF,OAAd;AACH,GAFD;;AAGA,SAAO0qF,mBAAP;AACH,CA7BwC,EAAzC;;AA+BA,IAAI/R,IAAI,GAAG9gC,kEAAY,CAAC;AACpBa,EAAAA,qBAAqB,EAAE,CAACisC,YAAD,EAAeE,aAAf,EAA8BY,aAA9B,EAA6CiC,aAA7C,CADH;AAEpB/uC,EAAAA,oBAAoB,EAAE,CAACqvC,YAAD,CAFF;AAGpBlvC,EAAAA,mBAAmB,EAAEynC,yBAHD;AAIpBpnC,EAAAA,cAAc,EAAEsvC,eAJI;AAKpBvvC,EAAAA,gBAAgB,EAAEwvC;AALE,CAAD,CAAvB;AAQA,+DAAe/P,IAAf;;;;;;;;;;;;;;;;;;AC1mEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA,IAAImS,iBAAiB;AAAG;AAAe,UAAU13C,MAAV,EAAkB;AACrD5wC,EAAAA,gDAAS,CAACsoF,iBAAD,EAAoB13C,MAApB,CAAT;;AACA,WAAS03C,iBAAT,GAA6B;AACzB,WAAO13C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDuyE,EAAAA,iBAAiB,CAACvtF,SAAlB,CAA4BgC,MAA5B,GAAqC,YAAY;AAC7C,QAAIiH,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqB+kF,OAAO,GAAGvkF,EAAE,CAACukF,OAAlC;AAAA,QAA2Cl1D,UAAU,GAAGrvB,EAAE,CAACqvB,UAA3D;AACA,QAAIpvB,EAAE,GAAG,KAAK1D,OAAd;AAAA,QAAuB6oC,KAAK,GAAGnlC,EAAE,CAACmlC,KAAlC;AAAA,QAAyCx5B,OAAO,GAAG3L,EAAE,CAAC2L,OAAtD;AAAA,QAA+DlT,OAAO,GAAGuH,EAAE,CAACvH,OAA5E;AAAA,QAAqFu5B,OAAO,GAAGhyB,EAAE,CAACgyB,OAAlG;AACA,QAAIyhC,OAAO,GAAG1uB,iEAAW,CAACu/C,OAAD,EAAUl1D,UAAV,CAAzB,CAH6C,CAI7C;;AACA,QAAI0wB,IAAI,GAAGrnD,OAAO,CAAC8rF,aAAR,GAAwB54E,OAAO,CAACtO,MAAR,CAAeinF,OAAf,EAAwB7rF,OAAO,CAAC8rF,aAAhC,CAAxB,GAAyE,EAApF,CAL6C,CAM7C;;AACA,QAAIC,QAAQ,GAAG/rF,OAAO,CAACgsF,iBAAR,GAA4B94E,OAAO,CAACtO,MAAR,CAAeinF,OAAf,EAAwB7rF,OAAO,CAACgsF,iBAAhC,CAA5B,GAAiF,EAAhG;AACA,QAAIC,WAAW,GAAGjsF,OAAO,CAAC4nB,QAAR,GACZilB,sEAAgB,CAACg/C,OAAD,CADJ,GAEZ,IAFN;;AAGA,QAAIjvC,SAAS,GAAGx5C,+CAAQ,CAAC;AAAEkM,MAAAA,IAAI,EAAE4D,OAAO,CAACslB,MAAR,CAAeqzD,OAAf,CAAR;AAAiCvyD,MAAAA,IAAI,EAAEC,OAAvC;AAAgD8tB,MAAAA,IAAI,EAAEA,IAAtD;AACrB0kC,MAAAA,QAAQ,EAAEA,QADW;AAErBE,MAAAA,WAAW,EAAEA;AAFQ,KAAD,EAEQjxB,OAFR,CAAxB;;AAGA,QAAIrvC,UAAU,GAAG,CAAC,aAAD,EAAgB3b,MAAhB,CAAuBy8B,sEAAgB,CAACuuB,OAAD,EAAUtuB,KAAV,CAAvC,CAAjB,CAd6C,CAe7C;;AACA,WAAQjpC,mEAAa,CAAC+4C,4DAAD,EAAa;AAAEI,MAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,MAAAA,UAAU,EAAE3rB,OAAO,CAACwhB,mBAA5C;AAAiEoK,MAAAA,OAAO,EAAE5rB,OAAO,CAACyhB,gBAAlF;AAAoGs7B,MAAAA,cAAc,EAAES,kBAApH;AAAwI3xB,MAAAA,QAAQ,EAAE7rB,OAAO,CAAC0hB,iBAA1J;AAA6KoK,MAAAA,WAAW,EAAE9rB,OAAO,CAAC2hB;AAAlM,KAAb,EAAuO,UAAU86B,SAAV,EAAqBiC,gBAArB,EAAuCzB,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,aAAQz5C,mEAAa,CAAC,IAAD,EAAO;AAAEs0C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE/C,UAAU,CAAC3b,MAAX,CAAkB0uC,gBAAlB,EAAoCngC,IAApC,CAAyC,GAAzC,CAA7B;AAA4E,qBAAavG,qEAAe,CAAC6zE,OAAD;AAAxG,OAAP,EAChVpoF,mEAAa,CAAC,IAAD,EAAO;AAAE43D,QAAAA,OAAO,EAAE;AAAX,OAAP,EACT53D,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,yBAAyBge,KAAK,CAACC,QAAN,CAAe,iBAAf,CAAtC;AAAyEoL,QAAAA,GAAG,EAAEkF;AAA9E,OAAR,EAAoGC,YAApG,CADJ,CADmU,CAArB;AAEnL,KAFvH,CAArB;AAGH,GAnBD;;AAoBA,SAAO0uC,iBAAP;AACH,CA1BsC,CA0BrCh0C,+DA1BqC,CAAvC;;AA2BA,SAAS4F,kBAAT,CAA4B12C,KAA5B,EAAmC;AAC/B,MAAIm0D,YAAY,GAAGn0D,KAAK,CAACmlF,WAAN,CAAkB;AAAlB,IACb;AAAE,oBAAgBnlF,KAAK,CAACmlF,WAAxB;AAAqC9wB,IAAAA,QAAQ,EAAE;AAA/C,GADa,GAEb,EAFN;AAGA,SAAQ13D,mEAAa,CAACC,0DAAD,EAAW,IAAX,EACjBoD,KAAK,CAACugD,IAAN,IAAe5jD,mEAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC;AAAEsrB,IAAAA,SAAS,EAAE;AAAb,GAAD,EAAoCusC,YAApC,CAAd,EAAiEn0D,KAAK,CAACugD,IAAvE,CADX,EAEjBvgD,KAAK,CAACilF,QAAN,IAAmBtoF,mEAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC;AAAEsrB,IAAAA,SAAS,EAAE;AAAb,GAAD,EAAyCusC,YAAzC,CAAd,EAAsEn0D,KAAK,CAACilF,QAA5E,CAFf,CAArB;AAGH;;AAED,IAAIG,mBAAmB,GAAGhsE,qEAAe,CAAC;AACtCtK,EAAAA,IAAI,EAAE,SADgC;AAEtCE,EAAAA,MAAM,EAAE,SAF8B;AAGtC0E,EAAAA,QAAQ,EAAE;AAH4B,CAAD,CAAzC;;AAKA,IAAI2xE,gBAAgB;AAAG;AAAe,UAAUj4C,MAAV,EAAkB;AACpD5wC,EAAAA,gDAAS,CAAC6oF,gBAAD,EAAmBj4C,MAAnB,CAAT;;AACA,WAASi4C,gBAAT,GAA4B;AACxB,WAAOj4C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD8yE,EAAAA,gBAAgB,CAAC9tF,SAAjB,CAA2BgC,MAA3B,GAAoC,YAAY;AAC5C,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI4wB,GAAG,GAAG3tB,KAAK,CAAC2tB,GAAhB;AACA,QAAIqB,UAAU,GAAGjyB,OAAO,CAAC7D,OAAR,CAAgB6nB,eAAhB,IAAmCqkE,mBAApD;AACA,WAAQzoF,mEAAa,CAAC4lE,2DAAD,EAAY;AAAE50C,MAAAA,GAAG,EAAEA,GAAP;AAAY60C,MAAAA,QAAQ,EAAE,EAAtB,CAAyB;AAAzB;AAC3BC,MAAAA,eAAe,EAAE,IADU;AACJC,MAAAA,eAAe,EAAE,IADb;AACmBzsB,MAAAA,cAAc,EAAEqvC,uBADnC;AAC4Dt1D,MAAAA,MAAM,EAAEhwB,KAAK,CAACgwB,MAD1E;AACkFC,MAAAA,QAAQ,EAAEjwB,KAAK,CAACiwB,QADlG;AAC4GC,MAAAA,OAAO,EAAElwB,KAAK,CAACkwB,OAD3H;AACoIQ,MAAAA,UAAU,EAAE1wB,KAAK,CAAC0wB,UADtJ;AACkKF,MAAAA,UAAU,EAAExwB,KAAK,CAACwwB,UADpL;AACgMC,MAAAA,UAAU,EAAEzwB,KAAK,CAACywB,UADlN;AAC8NkyC,MAAAA,eAAe,EAAE3iE,KAAK,CAAC2iE;AADrP,KAAZ,EACoR,UAAUhtB,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2DN,SAA3D,EAAsE;AAAE,aAAQn5C,mEAAa,CAAC,IAAD,EAAO;AAAEirB,QAAAA,SAAS,EAAE,CAAC,eAAD,EAAkBkuB,SAAS,CAACtc,KAAV,CAAgB37B,GAAhB,GAAsB,qBAAtB,GAA8C,EAAhE,EAAoEqL,MAApE,CAA2E2b,UAA3E,EAAuFpN,IAAvF,CAA4F,GAA5F,CAAb;AAA+Gw5B,QAAAA,GAAG,EAAE0E;AAApH,OAAP,EAClY4vC,gBAAgB,CAAC53D,GAAD,EAAMqB,UAAN,EAAkBjyB,OAAlB,CADkX,EAElYJ,mEAAa,CAAC,IAAD,EAAO;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAP,EACTjrB,mEAAa,CAAC,MAAD,EAAS;AAAEirB,QAAAA,SAAS,EAAE,mBAAb;AAAkCxnB,QAAAA,KAAK,EAAE;AAAE2nB,UAAAA,WAAW,EAAE+tB,SAAS,CAAC/tB,WAAV,IAAyB+tB,SAAS,CAAChuB;AAAlD;AAAzC,OAAT,CADJ,CAFqX,EAIlYnrB,mEAAa,CAAC,IAAD,EAAO;AAAEirB,QAAAA,SAAS,EAAE,qBAAb;AAAoCqpB,QAAAA,GAAG,EAAEkF;AAAzC,OAAP,EAA8DC,YAA9D,CAJqX,CAArB;AAIhR,KAL5E,CAArB;AAMH,GAVD;;AAWA,SAAOivC,gBAAP;AACH,CAjBqC,CAiBpCv0C,+DAjBoC,CAAtC;;AAkBA,SAASw0C,uBAAT,CAAiCtlF,KAAjC,EAAwC;AACpC,MAAIw5B,KAAK,GAAGx5B,KAAK,CAACw5B,KAAlB;AACA,MAAI37B,GAAG,GAAG27B,KAAK,CAAC37B,GAAhB;AACA,MAAI2nF,WAAW,GAAG3nF,GAAG,GAAG;AAAE+yD,IAAAA,IAAI,EAAE/yD;AAAR,GAAH,GAAmB,EAAxC;AACA,SAAQlB,mEAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC,EAAD,EAAKkpF,WAAL,CAAd,EAAiChsD,KAAK,CAAC3Q,KAAvC,CAArB;AACH;;AACD,SAAS08D,gBAAT,CAA0B53D,GAA1B,EAA+BqB,UAA/B,EAA2CjyB,OAA3C,EAAoD;AAChD,MAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;;AACA,MAAIA,OAAO,CAAC0kB,gBAAR,KAA6B,KAAjC,EAAwC;AACpC,QAAI/P,QAAQ,GAAG8f,GAAG,CAACY,UAAJ,CAAelhB,GAA9B;AACA,QAAIgiB,aAAa,GAAG1B,GAAG,CAACY,UAAJ,CAAephB,QAAnC;AACA,QAAIs4E,QAAQ,GAAG,KAAf;AACA,QAAIjjB,QAAQ,GAAG,KAAK,CAApB;;AACA,QAAI30D,QAAQ,CAACrB,MAAb,EAAqB;AACjBi5E,MAAAA,QAAQ,GAAG,IAAX;AACH,KAFD,MAGK,IAAI96D,qEAAe,CAACgD,GAAG,CAACY,UAAJ,CAAe9kB,KAAhB,CAAnB,EAA2C;AAAE;AAC9C,UAAIkkB,GAAG,CAACT,OAAR,EAAiB;AACbs1C,QAAAA,QAAQ,GAAGzzC,sEAAgB,CAACpB,GAAD,EAAMqB,UAAN,EAAkBjyB,OAAlB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuCsyB,aAAa,CAAC5lB,KAAd,CAAoBkE,KAA3D,EAAkEggB,GAAG,CAAC/f,GAAtE,CAA3B;AACH,OAFD,MAGK,IAAI+f,GAAG,CAACR,KAAR,EAAe;AAChBq1C,QAAAA,QAAQ,GAAGzzC,sEAAgB,CAACpB,GAAD,EAAMqB,UAAN,EAAkBjyB,OAAlB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC4wB,GAAG,CAAChgB,KAA3C,EAAkD0hB,aAAa,CAAC5lB,KAAd,CAAoBmE,GAAtE,CAA3B;AACH,OAFI,MAGA;AACD63E,QAAAA,QAAQ,GAAG,IAAX;AACH;AACJ,KAVI,MAWA;AACDjjB,MAAAA,QAAQ,GAAGzzC,sEAAgB,CAACpB,GAAD,EAAMqB,UAAN,EAAkBjyB,OAAlB,CAA3B;AACH;;AACD,QAAI0oF,QAAJ,EAAc;AACV,UAAI3vC,SAAS,GAAG;AACZyK,QAAAA,IAAI,EAAExjD,OAAO,CAAC7D,OAAR,CAAgBsnB,UADV;AAEZgS,QAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAFF,OAAhB;AAIA,aAAQ91B,mEAAa,CAAC+4C,4DAAD,EAAa;AAAEI,QAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,QAAAA,UAAU,EAAE3rB,OAAO,CAACunB,gBAA5C;AAA8DqE,QAAAA,OAAO,EAAE5rB,OAAO,CAACwnB,aAA/E;AAA8Fu1B,QAAAA,cAAc,EAAEyvC,iBAA9G;AAAiI3gE,QAAAA,QAAQ,EAAE7rB,OAAO,CAACynB,cAAnJ;AAAmKqE,QAAAA,WAAW,EAAE9rB,OAAO,CAAC0nB;AAAxL,OAAb,EAA0N,UAAU+0B,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2D;AAAE,eAAQz5C,mEAAa,CAAC,IAAD,EAAO;AAAEirB,UAAAA,SAAS,EAAE,CAAC,oBAAD,EAAuB1e,MAAvB,CAA8B2b,UAA9B,EAA0CpN,IAA1C,CAA+C,GAA/C,CAAb;AAAkEw5B,UAAAA,GAAG,EAAE0E;AAAvE,SAAP,EAA2FS,YAA3F,CAArB;AAAiI,OAAxZ,CAArB;AACH;;AACD,WAAQz5C,mEAAa,CAAC,IAAD,EAAO;AAAEirB,MAAAA,SAAS,EAAE;AAAb,KAAP,EAA4C46C,QAA5C,CAArB;AACH;;AACD,SAAO,IAAP;AACH;;AACD,SAASkjB,iBAAT,CAA2B5vC,SAA3B,EAAsC;AAClC,SAAOA,SAAS,CAACyK,IAAjB;AACH;AAED;AACA;AACA;;;AACA,IAAIolC,QAAQ;AAAG;AAAe,UAAUv4C,MAAV,EAAkB;AAC5C5wC,EAAAA,gDAAS,CAACmpF,QAAD,EAAWv4C,MAAX,CAAT;;AACA,WAASu4C,QAAT,GAAoB;AAChB,QAAIlzE,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACmzE,eAAN,GAAwB5zE,6DAAO,CAAC4zE,eAAD,CAA/B;AACAnzE,IAAAA,KAAK,CAACozE,gBAAN,GAAyB7zE,6DAAO,CAACS,KAAK,CAACqzE,iBAAP,CAAhC;;AACArzE,IAAAA,KAAK,CAACszE,SAAN,GAAkB,UAAU1uC,MAAV,EAAkB;AAChC,UAAIA,MAAJ,EAAY;AACR5kC,QAAAA,KAAK,CAAC1V,OAAN,CAAc+yC,4BAAd,CAA2Cr9B,KAA3C,EAAkD;AAC9CzU,UAAAA,EAAE,EAAEq5C;AAD0C,SAAlD;AAGH,OAJD,MAKK;AACD5kC,QAAAA,KAAK,CAAC1V,OAAN,CAAcgzC,8BAAd,CAA6Ct9B,KAA7C;AACH;AACJ,KATD;;AAUA,WAAOA,KAAP;AACH;;AACDkzE,EAAAA,QAAQ,CAACpuF,SAAT,CAAmBgC,MAAnB,GAA4B,YAAY;AACpC,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI43D,eAAe,GAAG,CAClB,SADkB,EAElB53D,OAAO,CAAC6oC,KAAR,CAAcC,QAAd,CAAuB,OAAvB,CAFkB,EAGlB9oC,OAAO,CAAC7D,OAAR,CAAgBilB,iBAAhB,KAAsC,KAAtC,GAA8C,gBAA9C,GAAiE,EAH/C,CAAtB;;AAKA,QAAI1d,EAAE,GAAG,KAAKmlF,eAAL,CAAqB5lF,KAAK,CAACi0B,WAA3B,CAAT;AAAA,QAAkD+xD,QAAQ,GAAGvlF,EAAE,CAACulF,QAAhE;AAAA,QAA0EC,SAAS,GAAGxlF,EAAE,CAACwlF,SAAzF;;AACA,QAAI5tB,SAAS,GAAG,KAAKwtB,gBAAL,CAAsB7lF,KAAK,CAAC8M,UAA5B,EAAwC9M,KAAK,CAACusB,YAA9C,EAA4D05D,SAA5D,CAAhB;AACA,WAAQtpF,mEAAa,CAACg7C,0DAAD,EAAW;AAAEhI,MAAAA,QAAQ,EAAE5yC,OAAO,CAAC4yC,QAApB;AAA8BkG,MAAAA,KAAK,EAAE,KAAKkwC;AAA1C,KAAX,EAAkE,UAAUpwC,SAAV,EAAqB9wB,UAArB,EAAiC;AAAE,aAAQloB,mEAAa,CAAC,KAAD,EAAQ;AAAEs0C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE+sC,eAAe,CAACzrD,MAAhB,CAAuB2b,UAAvB,EAAmCpN,IAAnC,CAAwC,GAAxC;AAA7B,OAAR,EAC3I9a,mEAAa,CAAC0/D,0DAAD,EAAW;AAAE9L,QAAAA,MAAM,EAAE,CAACvwD,KAAK,CAACyyD,YAAjB;AAA+B5oB,QAAAA,SAAS,EAAE7pC,KAAK,CAACyyD,YAAN,GAAqB,SAArB,GAAiC,QAA3E;AAAqF7oB,QAAAA,SAAS,EAAE5pC,KAAK,CAACyyD,YAAN,GAAqB,SAArB,GAAiC;AAAjI,OAAX,EAAsJ4F,SAAS,CAACh5D,MAAV,GAAmB,CAAnB,GAC/JoT,KAAK,CAACyzE,aAAN,CAAoB7tB,SAApB,EAA+B2tB,QAA/B,CAD+J,GAE/JvzE,KAAK,CAAC0zE,kBAAN,EAFS,CAD8H,CAArB;AAGlF,KAHnB,CAArB;AAIH,GAdD;;AAeAR,EAAAA,QAAQ,CAACpuF,SAAT,CAAmB4uF,kBAAnB,GAAwC,YAAY;AAChD,QAAI3lF,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuB7D,OAAO,GAAGsH,EAAE,CAACtH,OAApC;AAAA,QAA6Cu5B,OAAO,GAAGjyB,EAAE,CAACiyB,OAA1D;AACA,QAAIqjB,SAAS,GAAG;AACZyK,MAAAA,IAAI,EAAErnD,OAAO,CAACopB,YADF;AAEZkQ,MAAAA,IAAI,EAAEC;AAFM,KAAhB;AAIA,WAAQ91B,mEAAa,CAAC+4C,4DAAD,EAAa;AAAEI,MAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,MAAAA,UAAU,EAAE3rB,OAAO,CAACktF,kBAA5C;AAAgEthE,MAAAA,OAAO,EAAE5rB,OAAO,CAACmtF,eAAjF;AAAkGpwC,MAAAA,cAAc,EAAEqwC,mBAAlH;AAAuIvhE,MAAAA,QAAQ,EAAE7rB,OAAO,CAACqtF,gBAAzJ;AAA2KvhE,MAAAA,WAAW,EAAE9rB,OAAO,CAACstF;AAAhM,KAAb,EAAoO,UAAU7wC,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2D;AAAE,aAAQz5C,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,CAAC,eAAD,EAAkB1e,MAAlB,CAAyB2b,UAAzB,EAAqCpN,IAArC,CAA0C,GAA1C,CAAb;AAA6Dw5B,QAAAA,GAAG,EAAE0E;AAAlE,OAAR,EACvUh5C,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,uBAAb;AAAsCqpB,QAAAA,GAAG,EAAEkF;AAA3C,OAAR,EAAiEC,YAAjE,CAD0T,CAArB;AAClN,KAD/E,CAArB;AAEH,GARD;;AASAuvC,EAAAA,QAAQ,CAACpuF,SAAT,CAAmB2uF,aAAnB,GAAmC,UAAUngB,OAAV,EAAmBigB,QAAnB,EAA6B;AAC5D,QAAIxlF,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuB6oC,KAAK,GAAGplC,EAAE,CAAColC,KAAlC;AAAA,QAAyC1sC,OAAO,GAAGsH,EAAE,CAACtH,OAAtD;AACA,QAAIutF,SAAS,GAAGC,cAAc,CAAC3gB,OAAD,CAA9B,CAF4D,CAEnB;;AACzC,WAAQppE,mEAAa,CAACi4D,0DAAD,EAAW;AAAEvmD,MAAAA,IAAI,EAAE;AAAR,KAAX,EAA4B,UAAUyhB,OAAV,EAAmBD,UAAnB,EAA+B;AAC5E,UAAI82D,UAAU,GAAG,EAAjB;;AACA,WAAK,IAAI7wB,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,GAAG2wB,SAAS,CAACpnF,MAA5C,EAAoDy2D,QAAQ,IAAI,CAAhE,EAAmE;AAC/D,YAAI8wB,OAAO,GAAGH,SAAS,CAAC3wB,QAAD,CAAvB;;AACA,YAAI8wB,OAAJ,EAAa;AAAE;AACX,cAAIC,MAAM,GAAGb,QAAQ,CAAClwB,QAAD,CAAR,CAAmB/kD,WAAnB,EAAb,CADS,CAET;;AACA41E,UAAAA,UAAU,CAAChrF,IAAX,CAAgBgB,mEAAa,CAACmoF,iBAAD,EAAoB;AAAEvsF,YAAAA,GAAG,EAAEsuF,MAAP;AAAe9B,YAAAA,OAAO,EAAEiB,QAAQ,CAAClwB,QAAD,CAAhC;AAA4CjmC,YAAAA,UAAU,EAAEA;AAAxD,WAApB,CAA7B;AACA+2D,UAAAA,OAAO,GAAG54D,mEAAa,CAAC44D,OAAD,EAAU1tF,OAAO,CAAC+jB,UAAlB,CAAvB;;AACA,eAAK,IAAItS,EAAE,GAAG,CAAT,EAAYm8E,SAAS,GAAGF,OAA7B,EAAsCj8E,EAAE,GAAGm8E,SAAS,CAACznF,MAArD,EAA6DsL,EAAE,EAA/D,EAAmE;AAC/D,gBAAIgjB,GAAG,GAAGm5D,SAAS,CAACn8E,EAAD,CAAnB;AACAg8E,YAAAA,UAAU,CAAChrF,IAAX,CAAgBgB,mEAAa,CAAC0oF,gBAAD,EAAmB/oF,+CAAQ,CAAC;AAAE/D,cAAAA,GAAG,EAAEsuF,MAAM,GAAG,GAAT,GAAel5D,GAAG,CAACY,UAAJ,CAAephB,QAAf,CAAwBvD;AAAW;AAAzD;AAAoG+jB,cAAAA,GAAG,EAAEA,GAAzG;AAA8G6C,cAAAA,UAAU,EAAE,KAA1H;AAAiIC,cAAAA,UAAU,EAAE,KAA7I;AAAoJkyC,cAAAA,eAAe,EAAE,KAArK;AAA4KjyC,cAAAA,UAAU,EAAE;AAAxL,aAAD,EAAkMd,gEAAU,CAACjC,GAAD,EAAMkC,UAAN,EAAkBC,OAAlB,CAA5M,CAA3B,CAA7B;AACH;AACJ;AACJ;;AACD,aAAQnzB,mEAAa,CAAC,OAAD,EAAU;AAAEirB,QAAAA,SAAS,EAAE,mBAAmBge,KAAK,CAACC,QAAN,CAAe,OAAf;AAAhC,OAAV,EACjBlpC,mEAAa,CAAC,OAAD,EAAU,IAAV,EAAgBgqF,UAAhB,CADI,CAArB;AAEH,KAjBoB,CAArB;AAkBH,GArBD;;AAsBAhB,EAAAA,QAAQ,CAACpuF,SAAT,CAAmBuuF,iBAAnB,GAAuC,UAAUh5E,UAAV,EAAsByf,YAAtB,EAAoC05D,SAApC,EAA+C;AAClF,WAAO,KAAKc,iBAAL,CAAuBz6D,qEAAe,CAACxf,UAAD,EAAayf,YAAb,EAA2B,KAAKvsB,KAAL,CAAWi0B,WAAX,CAAuBC,WAAlD,EAA+D,KAAKn3B,OAAL,CAAa7D,OAAb,CAAqB0gB,gBAApF,CAAf,CAAqH4T,EAA5I,EAAgJy4D,SAAhJ,CAAP;AACH,GAFD;;AAGAN,EAAAA,QAAQ,CAACpuF,SAAT,CAAmBwvF,iBAAnB,GAAuC,UAAU/tB,WAAV,EAAuBitB,SAAvB,EAAkC;AACrE,QAAIh4D,IAAI,GAAG,EAAX;;AACA,SAAK,IAAItjB,EAAE,GAAG,CAAT,EAAYsuD,aAAa,GAAGD,WAAjC,EAA8CruD,EAAE,GAAGsuD,aAAa,CAAC55D,MAAjE,EAAyEsL,EAAE,EAA3E,EAA+E;AAC3E,UAAI4jB,UAAU,GAAG0qC,aAAa,CAACtuD,EAAD,CAA9B;AACAsjB,MAAAA,IAAI,CAACtyB,IAAL,CAAUyN,KAAV,CAAgB6kB,IAAhB,EAAsB,KAAK+4D,gBAAL,CAAsBz4D,UAAtB,EAAkC03D,SAAlC,CAAtB;AACH;;AACD,WAAOh4D,IAAP;AACH,GAPD;;AAQA03D,EAAAA,QAAQ,CAACpuF,SAAT,CAAmByvF,gBAAnB,GAAsC,UAAUz4D,UAAV,EAAsB03D,SAAtB,EAAiC;AACnE,QAAI75E,OAAO,GAAG,KAAKrP,OAAL,CAAaqP,OAA3B;AACA,QAAIwN,gBAAgB,GAAG,KAAK7c,OAAL,CAAa7D,OAAb,CAAqB0gB,gBAA5C;AACA,QAAInQ,KAAK,GAAG8kB,UAAU,CAAC9kB,KAAvB;AACA,QAAI+C,MAAM,GAAG+hB,UAAU,CAAClhB,GAAX,CAAeb,MAA5B;AACA,QAAIspD,QAAJ;AACA,QAAI/lC,QAAJ;AACA,QAAIpC,GAAJ;AACA,QAAIM,IAAI,GAAG,EAAX;;AACA,SAAK6nC,QAAQ,GAAG,CAAhB,EAAmBA,QAAQ,GAAGmwB,SAAS,CAAC5mF,MAAxC,EAAgDy2D,QAAQ,IAAI,CAA5D,EAA+D;AAC3D/lC,MAAAA,QAAQ,GAAGlE,qEAAe,CAACpiB,KAAD,EAAQw8E,SAAS,CAACnwB,QAAD,CAAjB,CAA1B;;AACA,UAAI/lC,QAAJ,EAAc;AACVpC,QAAAA,GAAG,GAAG;AACFlJ,UAAAA,SAAS,EAAE,IADT;AAEF8J,UAAAA,UAAU,EAAEA,UAFV;AAGF5gB,UAAAA,KAAK,EAAEoiB,QAAQ,CAACpiB,KAHd;AAIFC,UAAAA,GAAG,EAAEmiB,QAAQ,CAACniB,GAJZ;AAKFsf,UAAAA,OAAO,EAAEqB,UAAU,CAACrB,OAAX,IAAsB6C,QAAQ,CAACpiB,KAAT,CAAe7V,OAAf,OAA6B2R,KAAK,CAACkE,KAAN,CAAY7V,OAAZ,EAL1D;AAMFq1B,UAAAA,KAAK,EAAEoB,UAAU,CAACpB,KAAX,IAAoB4C,QAAQ,CAACniB,GAAT,CAAa9V,OAAb,OAA2B2R,KAAK,CAACmE,GAAN,CAAU9V,OAAV,EANpD;AAOFg+D,UAAAA,QAAQ,EAAEA;AAPR,SAAN;AASA7nC,QAAAA,IAAI,CAACtyB,IAAL,CAAUgyB,GAAV,EAVU,CAWV;AACA;;AACA,YAAI,CAACA,GAAG,CAACR,KAAL,IAAc,CAAC3gB,MAAf,IACAspD,QAAQ,GAAG,CAAX,GAAemwB,SAAS,CAAC5mF,MADzB,IAEAoK,KAAK,CAACmE,GAAN,GACIxB,OAAO,CAAC5J,GAAR,CAAYyjF,SAAS,CAACnwB,QAAQ,GAAG,CAAZ,CAAT,CAAwBnoD,KAApC,EAA2CiM,gBAA3C,CAHR,EAGsE;AAClE+T,UAAAA,GAAG,CAAC/f,GAAJ,GAAUnE,KAAK,CAACmE,GAAhB;AACA+f,UAAAA,GAAG,CAACR,KAAJ,GAAY,IAAZ;AACA;AACH;AACJ;AACJ;;AACD,WAAOc,IAAP;AACH,GAnCD;;AAoCA,SAAO03D,QAAP;AACH,CAhH6B,CAgH5Bx0C,+DAhH4B,CAA9B;;AAiHA,SAASm1C,mBAAT,CAA6BxwC,SAA7B,EAAwC;AACpC,SAAOA,SAAS,CAACyK,IAAjB;AACH;;AACD,SAASqlC,eAAT,CAAyB3xD,WAAzB,EAAsC;AAClC,MAAI/rB,QAAQ,GAAGjC,gEAAU,CAACguB,WAAW,CAACimB,WAAZ,CAAwBvsC,KAAzB,CAAzB;AACA,MAAIs5E,OAAO,GAAGhzD,WAAW,CAACimB,WAAZ,CAAwBtsC,GAAtC;AACA,MAAIo4E,QAAQ,GAAG,EAAf;AACA,MAAIC,SAAS,GAAG,EAAhB;;AACA,SAAO/9E,QAAQ,GAAG++E,OAAlB,EAA2B;AACvBjB,IAAAA,QAAQ,CAACrqF,IAAT,CAAcuM,QAAd;AACA+9E,IAAAA,SAAS,CAACtqF,IAAV,CAAe;AACXgS,MAAAA,KAAK,EAAEzF,QADI;AAEX0F,MAAAA,GAAG,EAAEtI,6DAAO,CAAC4C,QAAD,EAAW,CAAX;AAFD,KAAf;AAIAA,IAAAA,QAAQ,GAAG5C,6DAAO,CAAC4C,QAAD,EAAW,CAAX,CAAlB;AACH;;AACD,SAAO;AAAE89E,IAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,IAAAA,SAAS,EAAEA;AAAjC,GAAP;AACH,EACD;;;AACA,SAASS,cAAT,CAAwBz4D,IAAxB,EAA8B;AAC1B,MAAIw4D,SAAS,GAAG,EAAhB,CAD0B,CACN;;AACpB,MAAIrnF,CAAJ;AACA,MAAIuuB,GAAJ;;AACA,OAAKvuB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG6uB,IAAI,CAAC5uB,MAArB,EAA6BD,CAAC,IAAI,CAAlC,EAAqC;AACjCuuB,IAAAA,GAAG,GAAGM,IAAI,CAAC7uB,CAAD,CAAV;AACA,KAACqnF,SAAS,CAAC94D,GAAG,CAACmoC,QAAL,CAAT,KAA4B2wB,SAAS,CAAC94D,GAAG,CAACmoC,QAAL,CAAT,GAA0B,EAAtD,CAAD,EACKn6D,IADL,CACUgyB,GADV;AAEH;;AACD,SAAO84D,SAAP;AACH;;AAED,IAAIhE,eAAe,GAAG;AAClBuC,EAAAA,aAAa,EAAEkC,uBADG;AAElBhC,EAAAA,iBAAiB,EAAEgC,uBAFD;AAGlBd,EAAAA,kBAAkB,EAAE7sE,0DAHF;AAIlB8sE,EAAAA,eAAe,EAAE9sE,0DAJC;AAKlBgtE,EAAAA,gBAAgB,EAAEhtE,0DALA;AAMlBitE,EAAAA,mBAAmB,EAAEjtE,0DANH,CAOlB;;AAPkB,CAAtB;;AASA,SAAS2tE,uBAAT,CAAiCzvF,KAAjC,EAAwC;AACpC,SAAOA,KAAK,KAAK,KAAV,GAAkB,IAAlB,GAAyB2hB,qEAAe,CAAC3hB,KAAD,CAA/C;AACH;;AAED,IAAIk7E,IAAI,GAAG9gC,kEAAY,CAAC;AACpBsB,EAAAA,cAAc,EAAEsvC,eADI;AAEpBr+D,EAAAA,KAAK,EAAE;AACHwa,IAAAA,IAAI,EAAE;AACFna,MAAAA,SAAS,EAAEkhE,QADT;AAEFjhE,MAAAA,aAAa,EAAE,MAFb;AAGFsgE,MAAAA,aAAa,EAAE;AAAEr2E,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,GAAG,EAAE,SAAtB;AAAiC7G,QAAAA,IAAI,EAAE;AAAvC,OAHb,CAGiE;;AAHjE,KADH;AAMHo/E,IAAAA,OAAO,EAAE;AACL5sF,MAAAA,IAAI,EAAE,MADD;AAELmS,MAAAA,QAAQ,EAAE;AAAErG,QAAAA,IAAI,EAAE;AAAR,OAFL;AAGL2+E,MAAAA,aAAa,EAAE;AAAEjxE,QAAAA,OAAO,EAAE;AAAX,OAHV,CAG+B;;AAH/B,KANN;AAWHqzE,IAAAA,QAAQ,EAAE;AACN7sF,MAAAA,IAAI,EAAE,MADA;AAENmS,MAAAA,QAAQ,EAAE;AAAE2C,QAAAA,KAAK,EAAE;AAAT,OAFJ;AAGN21E,MAAAA,aAAa,EAAE;AAAEjxE,QAAAA,OAAO,EAAE;AAAX,OAHT;AAINmxE,MAAAA,iBAAiB,EAAE;AAAEv2E,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,GAAG,EAAE,SAAtB;AAAiC7G,QAAAA,IAAI,EAAE;AAAvC;AAJb,KAXP;AAiBHs/E,IAAAA,SAAS,EAAE;AACP9sF,MAAAA,IAAI,EAAE,MADC;AAEPmS,MAAAA,QAAQ,EAAE;AAAEiC,QAAAA,KAAK,EAAE;AAAT,OAFH;AAGPu2E,MAAAA,iBAAiB,EAAE;AAAEnxE,QAAAA,OAAO,EAAE;AAAX,OAHZ,CAGiC;;AAHjC,KAjBR;AAsBHuzE,IAAAA,QAAQ,EAAE;AACN/sF,MAAAA,IAAI,EAAE,MADA;AAENmS,MAAAA,QAAQ,EAAE;AAAE3E,QAAAA,IAAI,EAAE;AAAR,OAFJ;AAGNm9E,MAAAA,iBAAiB,EAAE;AAAEnxE,QAAAA,OAAO,EAAE;AAAX,OAHb,CAGkC;;AAHlC;AAtBP;AAFa,CAAD,CAAvB;AAgCA,+DAAe4+D,IAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;AClTA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA,IAAI4U,cAAc;AAAG;AAAe,UAAUn6C,MAAV,EAAkB;AAClD5wC,EAAAA,gDAAS,CAAC+qF,cAAD,EAAiBn6C,MAAjB,CAAT;;AACA,WAASm6C,cAAT,GAA0B;AACtB,WAAOn6C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDg1E,EAAAA,cAAc,CAAChwF,SAAf,CAAyB+rC,UAAzB,GAAsC,YAAY;AAC9C,WAAO;AACH92B,MAAAA,MAAM,EAAE,EADL;AAEHg7E,MAAAA,KAAK,EAAE;AAFJ,KAAP;AAIH,GALD;;AAMAD,EAAAA,cAAc,CAAChwF,SAAf,CAAyB8sC,kBAAzB,GAA8C,UAAUtS,QAAV,EAAoB;AAC9D,QAAIA,QAAQ,CAACvlB,MAAb,EAAqB;AACjB,aAAO,CAAC,QAAD,CAAP;AACH;;AACD,WAAO,CAAC,OAAD,CAAP;AACH,GALD;;AAMA+6E,EAAAA,cAAc,CAAChwF,SAAf,CAAyBgtC,kBAAzB,GAA8C,UAAU12B,QAAV,EAAoB;AAC9D,QAAI,CAACA,QAAQ,CAACrB,MAAd,EAAsB;AAClB,aAAO,CAAC,OAAD,CAAP;AACH;;AACD,QAAIihB,oEAAc,CAAC5f,QAAD,CAAlB,EAA8B;AAC1B,aAAO,CAAC,OAAD,EAAU,QAAV,CAAP;AACH;;AACD,WAAO,CAAC,QAAD,CAAP;AACH,GARD;;AASA,SAAO05E,cAAP;AACH,CA3BmC,CA2BlChlD,0DA3BkC,CAApC;;AA6BA,IAAIklD,yBAAyB,GAAGruE,qEAAe,CAAC;AAC5CtK,EAAAA,IAAI,EAAE,SADsC;AAE5CE,EAAAA,MAAM,EAAE,SAFoC;AAG5CyE,EAAAA,cAAc,EAAE,IAH4B;AAI5CC,EAAAA,QAAQ,EAAE;AAJkC,CAAD,CAA/C;;AAMA,SAASg0E,gBAAT,CAA0B1nF,KAA1B,EAAiC;AAC7B,MAAI6kB,UAAU,GAAG,CACb,kBADa,EAEb,wBAFa,EAGb7kB,KAAK,CAAC2nF,SAAN,GAAkB,sBAAlB,GAA2C,wBAH9B,CAAjB;AAKA,SAAQhrF,mEAAa,CAAC8yC,0EAAD,EAA2B,IAA3B,EAAiC,UAAU1yC,OAAV,EAAmB;AACrE,QAAI,CAACiD,KAAK,CAAC2nF,SAAX,EAAsB;AAClB,aAAQhrF,mEAAa,CAAC,IAAD,EAAO;AAAEirB,QAAAA,SAAS,EAAE/C,UAAU,CAACpN,IAAX,CAAgB,GAAhB,CAAb;AAAmC,qBAAazX,KAAK,CAAC4nF;AAAtD,OAAP,CAArB;AACH;;AACD,QAAIx7E,OAAO,GAAGrP,OAAO,CAACqP,OAAtB;AAAA,QAA+BlT,OAAO,GAAG6D,OAAO,CAAC7D,OAAjD;AAAA,QAA0Du5B,OAAO,GAAG11B,OAAO,CAAC01B,OAA5E;AACA,QAAIo1D,WAAW,GAAG;AACjB3uF,IAAAA,OAAO,CAACymB,eAAR,IAA2B,IAA3B,GAAkC8nE,yBAAlC,GACG/vF,KAAK,CAACC,OAAN,CAAcuB,OAAO,CAACymB,eAAtB,IAAyCvG,qEAAe,CAAClgB,OAAO,CAACymB,eAAR,CAAwB,CAAxB,CAAD,CAAxD,GACIvG,qEAAe,CAAClgB,OAAO,CAACymB,eAAT,CAHvB;AAIA,QAAIm2B,SAAS,GAAG;AACZuW,MAAAA,KAAK,EAAE,CADK;AAEZ3xB,MAAAA,IAAI,EAAE16B,KAAK,CAAC06B,IAFA;AAGZlyB,MAAAA,IAAI,EAAE4D,OAAO,CAACslB,MAAR,CAAe1xB,KAAK,CAACwI,IAArB,CAHM;AAIZgqB,MAAAA,IAAI,EAAEC,OAJM;AAKZ8tB,MAAAA,IAAI,EAAEn0C,OAAO,CAACtO,MAAR,CAAekC,KAAK,CAACwI,IAArB,EAA2Bq/E,WAA3B;AALM,KAAhB;AAOA,WAAQlrF,mEAAa,CAAC+4C,4DAAD,EAAa;AAAEI,MAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,MAAAA,UAAU,EAAE3rB,OAAO,CAAC8mB,mBAA5C;AAAiE8E,MAAAA,OAAO,EAAE5rB,OAAO,CAAC+mB,gBAAlF;AAAoGg2B,MAAAA,cAAc,EAAES,kBAApH;AAAwI3xB,MAAAA,QAAQ,EAAE7rB,OAAO,CAACgnB,iBAA1J;AAA6K8E,MAAAA,WAAW,EAAE9rB,OAAO,CAACinB;AAAlM,KAAb,EAAuO,UAAUw1B,SAAV,EAAqBiC,gBAArB,EAAuCzB,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,aAAQz5C,mEAAa,CAAC,IAAD,EAAO;AAAEs0C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE/C,UAAU,CAAC3b,MAAX,CAAkB0uC,gBAAlB,EAAoCngC,IAApC,CAAyC,GAAzC,CAA7B;AAA4E,qBAAazX,KAAK,CAAC4nF;AAA/F,OAAP,EAChVjrF,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EACTjrB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,6DAAb;AAA4EqpB,QAAAA,GAAG,EAAEkF;AAAjF,OAAR,EAAuGC,YAAvG,CADJ,CADmU,CAArB;AAEhL,KAF1H,CAArB;AAGH,GAnBoB,CAArB;AAoBH;;AACD,SAASM,kBAAT,CAA4B12C,KAA5B,EAAmC;AAC/B,SAAOA,KAAK,CAACugD,IAAb;AACH;;AAED,IAAIunC,YAAY;AAAG;AAAe,UAAU16C,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAACsrF,YAAD,EAAe16C,MAAf,CAAT;;AACA,WAAS06C,YAAT,GAAwB;AACpB,WAAO16C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDu1E,EAAAA,YAAY,CAACvwF,SAAb,CAAuBgC,MAAvB,GAAgC,YAAY;AACxC,WAAO,KAAKyG,KAAL,CAAW+nF,SAAX,CAAqBnwF,GAArB,CAAyB,UAAUowF,QAAV,EAAoB;AAAE,aAAQrrF,mEAAa,CAAC,IAAD,EAAO;AAAEpE,QAAAA,GAAG,EAAEyvF,QAAQ,CAACzvF;AAAhB,OAAP,EACvEoE,mEAAa,CAAC+qF,gBAAD,EAAmBprF,+CAAQ,CAAC,EAAD,EAAK0rF,QAAL,CAA3B,CAD0D,CAArB;AACU,KADzD,CAAP;AAEH,GAHD;;AAIA,SAAOF,YAAP;AACH,CAViC,CAUhCh3C,+DAVgC,CAAlC;;AAYA,IAAIi6B,uBAAuB,GAAG3xD,qEAAe,CAAC;AAAE9J,EAAAA,IAAI,EAAE;AAAR,CAAD,CAA7C;AACA,IAAI24E,2BAA2B,GAAG,CAAlC;;AACA,IAAIC,YAAY;AAAG;AAAe,UAAU96C,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAAC0rF,YAAD,EAAe96C,MAAf,CAAT;;AACA,WAAS86C,YAAT,GAAwB;AACpB,QAAIz1E,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAAC01E,cAAN,GAAuB,IAAIZ,cAAJ,EAAvB,CAFoB,CAEyB;;AAC7C90E,IAAAA,KAAK,CAACy2D,WAAN,GAAoBxsE,+DAAS,EAA7B;AACA+V,IAAAA,KAAK,CAACkjC,SAAN,GAAkBj5C,+DAAS,EAA3B;AACA+V,IAAAA,KAAK,CAACyvD,aAAN,GAAsBxlE,+DAAS,EAA/B;AACA+V,IAAAA,KAAK,CAACwkB,KAAN,GAAc;AACVmxD,MAAAA,UAAU,EAAE;AADF,KAAd;;AAGA31E,IAAAA,KAAK,CAAC41E,sBAAN,GAA+B,UAAUh7C,SAAV,EAAqB;AAChD,UAAI00B,UAAU,GAAGtvD,KAAK,CAACyvD,aAAN,CAAoBhxB,OAArC;;AACA,UAAI6wB,UAAJ,EAAgB;AAAE;AACdA,QAAAA,UAAU,CAAC10B,SAAX,GAAuBA,SAAvB;AACH;AACJ,KALD;AAMA;AACR;;;AACQ56B,IAAAA,KAAK,CAAC61E,cAAN,GAAuB,UAAUC,MAAV,EAAkBC,WAAlB,EAA+B;AAClD,UAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,QAAAA,WAAW,GAAG,EAAd;AAAmB;;AACjD,UAAItvF,OAAO,GAAGuZ,KAAK,CAAC1V,OAAN,CAAc7D,OAA5B;AACA,UAAI+6B,WAAW,GAAGxhB,KAAK,CAACzS,KAAN,CAAYi0B,WAA9B;AACA,UAAIxqB,KAAK,GAAGwqB,WAAW,CAACimB,WAAxB;AACA,UAAI5vB,MAAM,GAAG3kB,8DAAQ,CAAC8D,KAAK,CAACkE,KAAP,EAAclE,KAAK,CAACmE,GAApB,CAArB;AACA,UAAIumD,YAAY,GAAIj7D,OAAO,CAAC4nB,QAAR,IAAoBwJ,MAAM,KAAK,CAAhC,CAAmC;AAAnC,QACb;AAAE,wBAAgByb,sEAAgB,CAACt8B,KAAK,CAACkE,KAAP,EAAc,MAAd,CAAlC;AAAyD0mD,QAAAA,QAAQ,EAAE;AAAnE,OADa,GAEb,EAFN;;AAGA,UAAIn7D,OAAO,CAACqiB,WAAR,IAAuBgtE,MAAM,KAAK,KAAtC,EAA6C;AACzC,eAAQ5rF,mEAAa,CAACqnE,gEAAD,EAAiB;AAAEx7D,UAAAA,IAAI,EAAEiB,KAAK,CAACkE,KAAd;AAAqBs2D,UAAAA,aAAa,EAAE8G;AAApC,SAAjB,EAAgF,UAAUp1B,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2D;AAAE,iBAAQz5C,mEAAa,CAAC,IAAD,EAAO;AAAEs0C,YAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,YAAAA,SAAS,EAAE,CACnN,kBADmN,EAEnN,sBAFmN,EAGrN1e,MAHqN,CAG9M2b,UAH8M,EAGlMpN,IAHkM,CAG7L,GAH6L;AAA7B,WAAP,EAInL9a,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,YAAAA,SAAS,EAAE,iFAAb;AAAgGxnB,YAAAA,KAAK,EAAE;AAAEod,cAAAA,MAAM,EAAEgrE;AAAV;AAAvG,WAAR,EACT7rF,mEAAa,CAAC,GAAD,EAAML,+CAAQ,CAAC;AAAE20C,YAAAA,GAAG,EAAEkF,UAAP;AAAmBvuB,YAAAA,SAAS,EAAE;AAA9B,WAAD,EAAmHusC,YAAnH,CAAd,EAAgJ/d,YAAhJ,CADJ,CAJsK,CAArB;AAKsB,SALnK,CAArB;AAMH;;AACD,aAAQz5C,mEAAa,CAAC,IAAD,EAAO;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAP,EACjBjrB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,wBAAb;AAAuCxnB,QAAAA,KAAK,EAAE;AAAEod,UAAAA,MAAM,EAAEgrE;AAAV;AAA9C,OAAR,CADI,CAArB;AAEH,KAnBD;AAoBA;AACR;AACQ;AACA;;;AACA/1E,IAAAA,KAAK,CAACg2E,kBAAN,GAA2B,UAAUC,SAAV,EAAqB;AAC5C,UAAIloF,EAAE,GAAGiS,KAAK,CAAC1V,OAAf;AAAA,UAAwB7D,OAAO,GAAGsH,EAAE,CAACtH,OAArC;AAAA,UAA8Cu5B,OAAO,GAAGjyB,EAAE,CAACiyB,OAA3D;AACA,UAAIqjB,SAAS,GAAG;AACZyK,QAAAA,IAAI,EAAErnD,OAAO,CAACsnB,UADF;AAEZgS,QAAAA,IAAI,EAAEC;AAFM,OAAhB;AAIA,aACA;AACA91B,QAAAA,mEAAa,CAAC+4C,4DAAD,EAAa;AAAEI,UAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,UAAAA,UAAU,EAAE3rB,OAAO,CAACunB,gBAA5C;AAA8DqE,UAAAA,OAAO,EAAE5rB,OAAO,CAACwnB,aAA/E;AAA8Fu1B,UAAAA,cAAc,EAAEyvC,iBAA9G;AAAiI3gE,UAAAA,QAAQ,EAAE7rB,OAAO,CAACynB,cAAnJ;AAAmKqE,UAAAA,WAAW,EAAE9rB,OAAO,CAAC0nB;AAAxL,SAAb,EAA0N,UAAU+0B,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2D;AAAE,iBAAQz5C,mEAAa,CAAC,IAAD,EAAO;AAAEs0C,YAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,YAAAA,SAAS,EAAE,CACrV,kBADqV,EAErV,sBAFqV,EAGvV1e,MAHuV,CAGhV2b,UAHgV,EAGpUpN,IAHoU,CAG/T,GAH+T;AAA7B,WAAP,EAIrT9a,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,YAAAA,SAAS,EAAE,uDAAuD8gE,SAAS,IAAI,IAAb,GAAoB,gCAApB,GAAuD,EAA9G,CAAb;AAAgItoF,YAAAA,KAAK,EAAE;AAAEod,cAAAA,MAAM,EAAEkrE;AAAV;AAAvI,WAAR,EACT/rF,mEAAa,CAAC,MAAD,EAAS;AAAEirB,YAAAA,SAAS,EAAE,gFAAb;AAA+FqpB,YAAAA,GAAG,EAAEkF;AAApG,WAAT,EAA2HC,YAA3H,CADJ,CAJwS,CAArB;AAKjI,SALtJ;AAFb;AAQH,KAdD;;AAeA3jC,IAAAA,KAAK,CAACk2E,gBAAN,GAAyB,UAAUP,UAAV,EAAsB;AAC3C31E,MAAAA,KAAK,CAACo3C,QAAN,CAAe;AAAEu+B,QAAAA,UAAU,EAAEA;AAAd,OAAf;AACH,KAFD;;AAGA,WAAO31E,KAAP;AACH,GA9D+C,CA+DhD;AACA;;;AACAy1E,EAAAA,YAAY,CAAC3wF,SAAb,CAAuB4xE,kBAAvB,GAA4C,UAAUC,gBAAV,EAA4B1oD,aAA5B,EAA2CkoE,WAA3C,EAAwD;AAChG,QAAIpoF,EAAE,GAAG,IAAT;AAAA,QAAezD,OAAO,GAAGyD,EAAE,CAACzD,OAA5B;AAAA,QAAqCiD,KAAK,GAAGQ,EAAE,CAACR,KAAhD;;AACA,QAAI8gE,QAAQ,GAAG,EAAf;AACA,QAAI3iD,iBAAiB,GAAG8hD,0EAAoB,CAACljE,OAAO,CAAC7D,OAAT,CAA5C;;AACA,QAAIkwE,gBAAJ,EAAsB;AAClBtI,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,QAAAA,IAAI,EAAE,QADI;AAEVhC,QAAAA,GAAG,EAAE,QAFK;AAGVk8D,QAAAA,QAAQ,EAAEt2C,iBAHA;AAIVujD,QAAAA,KAAK,EAAE;AACH7rB,UAAAA,KAAK,EAAE,KAAKqzB,WADT;AAEHvK,UAAAA,cAAc,EAAE,eAFb;AAGHK,UAAAA,UAAU,EAAEoK;AAHT;AAJG,OAAd;AAUH;;AACD,QAAI1oD,aAAJ,EAAmB;AACfogD,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,QAAAA,IAAI,EAAE,MADI;AAEVhC,QAAAA,GAAG,EAAE,SAFK;AAGVmpE,QAAAA,KAAK,EAAE;AAAE58C,UAAAA,OAAO,EAAEpE;AAAX;AAHG,OAAd;AAKAogD,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,QAAAA,IAAI,EAAE,MADI;AAEVhC,QAAAA,GAAG,EAAE,iBAFK;AAGVipE,QAAAA,YAAY,EAAI;AAChB7kE,QAAAA,mEAAa,CAAC,IAAD,EAAO;AAAEirB,UAAAA,SAAS,EAAE;AAAb,SAAP,EACTjrB,mEAAa,CAAC,IAAD,EAAO;AAAEirB,UAAAA,SAAS,EAAE,yBAAyB7qB,OAAO,CAAC6oC,KAAR,CAAcC,QAAd,CAAuB,iBAAvB;AAAtC,SAAP,CADJ;AAJH,OAAd;AAOH;;AACDi7B,IAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,MAAAA,IAAI,EAAE,MADI;AAEVhC,MAAAA,GAAG,EAAE,MAFK;AAGVg4D,MAAAA,MAAM,EAAE,IAHE;AAIVhzC,MAAAA,UAAU,EAAExD,OAAO,CAAChd,OAAO,CAAC7D,OAAR,CAAgBqkB,UAAjB,CAJT;AAKVmkD,MAAAA,KAAK,EAAE;AACHQ,QAAAA,aAAa,EAAE,KAAKA,aADjB;AAEHp9C,QAAAA,OAAO,EAAE8jE;AAFN;AALG,KAAd;AAUA,WAAQjsF,mEAAa,CAACg7C,0DAAD,EAAW;AAAEhI,MAAAA,QAAQ,EAAE5yC,OAAO,CAAC4yC,QAApB;AAA8BkG,MAAAA,KAAK,EAAE,KAAKF;AAA1C,KAAX,EAAkE,UAAUA,SAAV,EAAqB9wB,UAArB,EAAiC;AAAE,aAAQloB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,CAAC,aAAD,EAAgB1e,MAAhB,CAAuB2b,UAAvB,EAAmCpN,IAAnC,CAAwC,GAAxC,CAAb;AAA2Dw5B,QAAAA,GAAG,EAAE0E;AAAhE,OAAR,EAC3Ih5C,mEAAa,CAACwjE,kEAAD,EAAmB;AAAE5P,QAAAA,MAAM,EAAE,CAACvwD,KAAK,CAACyyD,YAAP,IAAuB,CAACzyD,KAAK,CAAC0yD,QAAxC;AAAkDsO,QAAAA,gBAAgB,EAAEhhE,KAAK,CAAC0yD,QAA1E;AAAoF2M,QAAAA,IAAI,EAAE,CAAC;AAAEr6D,UAAAA,KAAK,EAAE;AAAT,SAAD,CAA1F;AAAiH87D,QAAAA,QAAQ,EAAEA;AAA3H,OAAnB,CAD8H,CAArB;AACqD,KAD1J,CAArB;AAEH,GA1CD;;AA2CAonB,EAAAA,YAAY,CAAC3wF,SAAb,CAAuB+xE,mBAAvB,GAA6C,UAAUF,gBAAV,EAA4B1oD,aAA5B,EAA2CkoE,WAA3C,EAAwDx0B,MAAxD,EAAgE9zC,WAAhE,EAA6EynE,SAA7E,EAAwFK,UAAxF,EAAoG;AAC7I,QAAI31E,KAAK,GAAG,IAAZ;;AACA,QAAI82D,UAAU,GAAG,KAAKxsE,OAAL,CAAaiQ,WAAb,CAAyBgmC,cAA1C;;AACA,QAAI,CAACu2B,UAAL,EAAiB;AACb,YAAM,IAAIzkE,KAAJ,CAAU,8BAAV,CAAN;AACH;;AACD,QAAItE,EAAE,GAAG,IAAT;AAAA,QAAezD,OAAO,GAAGyD,EAAE,CAACzD,OAA5B;AAAA,QAAqCiD,KAAK,GAAGQ,EAAE,CAACR,KAAhD;;AACA,QAAIme,iBAAiB,GAAG,CAACne,KAAK,CAAC0yD,QAAP,IAAmBuN,0EAAoB,CAACljE,OAAO,CAAC7D,OAAT,CAA/D;AACA,QAAIklB,qBAAqB,GAAG,CAACpe,KAAK,CAAC0yD,QAAP,IAAmBwN,8EAAwB,CAACnjE,OAAO,CAAC7D,OAAT,CAAvE;AACA,QAAI4nE,QAAQ,GAAG,EAAf;;AACA,QAAIsI,gBAAJ,EAAsB;AAClBtI,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,QAAAA,IAAI,EAAE,QADI;AAEVhC,QAAAA,GAAG,EAAE,QAFK;AAGVk8D,QAAAA,QAAQ,EAAEt2C,iBAHA;AAIVygD,QAAAA,cAAc,EAAE,IAJN;AAKV4K,QAAAA,MAAM,EAAE,CACJ;AACIjxE,UAAAA,GAAG,EAAE,MADT;AAEIymE,UAAAA,UAAU,EAAE,oBAAUve,GAAV,EAAe;AAAE,mBAAQ9jD,mEAAa,CAAC,IAAD,EAAO,IAAP,EAAa8V,KAAK,CAAC61E,cAAN,CAAqB,KAArB,EAA4B7nC,GAAG,CAACohB,cAAJ,CAAmB,CAAnB,CAA5B,CAAb,CAArB;AAAyF;AAF1H,SADI,EAKJ;AACItpE,UAAAA,GAAG,EAAE,MADT;AAEIs9C,UAAAA,KAAK,EAAE,KAAKqzB,WAFhB;AAGIvK,UAAAA,cAAc,EAAE,eAHpB;AAIIK,UAAAA,UAAU,EAAEoK;AAJhB,SALI;AALE,OAAd;AAkBH;;AACD,QAAI1oD,aAAJ,EAAmB;AACfogD,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,QAAAA,IAAI,EAAE,MADI;AAEVhC,QAAAA,GAAG,EAAE,SAFK;AAGVqmE,QAAAA,cAAc,EAAE,IAHN;AAIV4K,QAAAA,MAAM,EAAE,CACJ;AACIjxE,UAAAA,GAAG,EAAE,MADT;AAEIymE,UAAAA,UAAU,EAAE,oBAAUwT,UAAV,EAAsB;AAAE,mBAAQ71E,mEAAa,CAAC,IAAD,EAAO,IAAP,EAAa8V,KAAK,CAACg2E,kBAAN,CAAyBjW,UAAU,CAAC3Q,cAAX,CAA0B,CAA1B,CAAzB,CAAb,CAArB;AAA6F;AAFrI,SADI,EAKJ;AACItpE,UAAAA,GAAG,EAAE,MADT;AAEIusB,UAAAA,OAAO,EAAEpE;AAFb,SALI;AAJE,OAAd;AAeAogD,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpD,QAAAA,GAAG,EAAE,iBADK;AAEVgC,QAAAA,IAAI,EAAE,MAFI;AAGVinE,QAAAA,YAAY,EAAI;AAChB7kE,QAAAA,mEAAa,CAAC,IAAD,EAAO;AAAEirB,UAAAA,SAAS,EAAE;AAAb,SAAP,EACTjrB,mEAAa,CAAC,IAAD,EAAO;AAAE43D,UAAAA,OAAO,EAAE,CAAX;AAAc3sC,UAAAA,SAAS,EAAE,yBAAyB7qB,OAAO,CAAC6oC,KAAR,CAAcC,QAAd,CAAuB,iBAAvB;AAAlD,SAAP,CADJ;AAJH,OAAd;AAOH;;AACD,QAAIgjD,cAAc,GAAG9rF,OAAO,CAAC7D,OAAR,CAAgB8iB,YAArC;AACA8kD,IAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpB,MAAAA,IAAI,EAAE,MADI;AAEVhC,MAAAA,GAAG,EAAE,MAFK;AAGVg4D,MAAAA,MAAM,EAAE,IAHE;AAIVhzC,MAAAA,UAAU,EAAExD,OAAO,CAAChd,OAAO,CAAC7D,OAAR,CAAgBqkB,UAAjB,CAJT;AAKVisD,MAAAA,MAAM,EAAE,CACJ;AACIjxE,QAAAA,GAAG,EAAE,MADT;AAEIusB,QAAAA,OAAO,EAAE,iBAAU27B,GAAV,EAAe;AAAE,iBAC1B;AACA9jD,YAAAA,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,cAAAA,SAAS,EAAE;AAAb,aAAR,EACTjrB,mEAAa,CAAC,OAAD,EAAU;AAAEyD,cAAAA,KAAK,EAAE;AAAEod,gBAAAA,MAAM,EAAEijC,GAAG,CAACljC,UAAJ,GAAiBkjC,GAAG,CAACzZ,YAArB,GAAoC;AAA9C;AAAT,aAAV,EACTyZ,GAAG,CAACse,iBADK,EAETpiE,mEAAa,CAAC,OAAD,EAAU,IAAV,EACTA,mEAAa,CAACmrF,YAAD,EAAe;AAAEC,cAAAA,SAAS,EAAEA;AAAb,aAAf,CADJ,CAFJ,CADJ,EAKTprF,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,cAAAA,SAAS,EAAE;AAAb,aAAR,EACTjrB,mEAAa,CAACi4D,0DAAD,EAAW;AAAEvmD,cAAAA,IAAI,EAAEw6E,cAAc,GAAG,QAAH,GAAc;AAAM;;AAA1C,aAAX,EAAoE,UAAU/4D,OAAV,EAAmB;AAChG,kBAAIg5D,eAAe,GAAGD,cAAc,IAChCT,UADkB,IAElBA,UAAU,CAACW,cAAX,CAA0Bj5D,OAA1B,CAFJ,CADgG,CAGxD;;AACxC,kBAAI,OAAOg5D,eAAP,KAA2B,QAA/B,EAAyC;AACrC,uBAAQnsF,mEAAa,CAACumE,kEAAD,EAAmB;AAAEC,kBAAAA,MAAM,EAAE,IAAV;AAAgB36D,kBAAAA,IAAI,EAAEsnB;AAAtB,iBAAnB,EAAoD,UAAU6lB,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2D;AAAE,yBAAQz5C,mEAAa,CAAC,KAAD,EAAQ;AAAEs0C,oBAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,oBAAAA,SAAS,EAAE,CAAC,iCAAD,EAAoC1e,MAApC,CAA2C2b,UAA3C,EAAuDpN,IAAvD,CAA4D,GAA5D,CAA7B;AAA+FrX,oBAAAA,KAAK,EAAE;AAAE4gC,sBAAAA,GAAG,EAAE8nD;AAAP;AAAtG,mBAAR,EAA0I1yC,YAA1I,CAArB;AAAgL,iBAAjS,CAArB;AACH;;AACD,qBAAO,IAAP;AACH,aARY,CADJ,CALJ;AAFa;AAgBV;AAlBpB,OADI,EAqBJ;AACI79C,QAAAA,GAAG,EAAE,MADT;AAEI2pE,QAAAA,aAAa,EAAE,KAAKA,aAFxB;AAGIp9C,QAAAA,OAAO,EAAE8jE;AAHb,OArBI;AALE,KAAd;;AAiCA,QAAIxqE,qBAAJ,EAA2B;AACvB0iD,MAAAA,QAAQ,CAACnlE,IAAT,CAAc;AACVpD,QAAAA,GAAG,EAAE,QADK;AAEVgC,QAAAA,IAAI,EAAE,QAFI;AAGVk6D,QAAAA,QAAQ,EAAE,IAHA;AAIV+U,QAAAA,MAAM,EAAE,CACJ;AACIjxE,UAAAA,GAAG,EAAE,MADT;AAEIusB,UAAAA,OAAO,EAAEk7C,kEAAgBA;AAF7B,SADI,EAKJ;AACIznE,UAAAA,GAAG,EAAE,MADT;AAEIusB,UAAAA,OAAO,EAAEk7C,kEAAgBA;AAF7B,SALI;AAJE,OAAd;AAeH;;AACD,WAAQrjE,mEAAa,CAACg7C,0DAAD,EAAW;AAAEhI,MAAAA,QAAQ,EAAE5yC,OAAO,CAAC4yC,QAApB;AAA8BkG,MAAAA,KAAK,EAAE,KAAKF;AAA1C,KAAX,EAAkE,UAAUA,SAAV,EAAqB9wB,UAArB,EAAiC;AAAE,aAAQloB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,CAAC,aAAD,EAAgB1e,MAAhB,CAAuB2b,UAAvB,EAAmCpN,IAAnC,CAAwC,GAAxC,CAAb;AAA2Dw5B,QAAAA,GAAG,EAAE0E;AAAhE,OAAR,EAC3Ih5C,mEAAa,CAAC4sE,UAAD,EAAa;AAAEhZ,QAAAA,MAAM,EAAE,CAACvwD,KAAK,CAACyyD,YAAP,IAAuB,CAACzyD,KAAK,CAAC0yD,QAAxC;AAAkDsO,QAAAA,gBAAgB,EAAE,KAApE;AAA2EyI,QAAAA,SAAS,EAAE,CACxG;AAAEzkE,UAAAA,KAAK,EAAE,QAAT;AAAmBq6D,UAAAA,IAAI,EAAE,CAAC;AAAEr6D,YAAAA,KAAK,EAAE;AAAT,WAAD;AAAzB,SADwG,EAExG;AAAEq6D,UAAAA,IAAI,EAAE,CAAC;AAAEtuC,YAAAA,IAAI,EAAEqjC,MAAR;AAAgByK,YAAAA,QAAQ,EAAEv+C;AAA1B,WAAD;AAAR,SAFwG,CAAtF;AAGnBwgD,QAAAA,QAAQ,EAAEA;AAHS,OAAb,CAD8H,CAArB;AAIrF,KAJhB,CAArB;AAKH,GA9GD;AA+GA;AACJ;;;AACIonB,EAAAA,YAAY,CAAC3wF,SAAb,CAAuByxF,sBAAvB,GAAgD,YAAY;AACxD,QAAIxoF,EAAE,GAAG,KAAKzD,OAAL,CAAa7D,OAAtB;AAAA,QAA+BknB,YAAY,GAAG5f,EAAE,CAAC4f,YAAjD;AAAA,QAA+DC,eAAe,GAAG7f,EAAE,CAAC6f,eAApF;;AACA,QAAID,YAAY,KAAK,IAAjB,IAAyBC,eAAe,KAAK,IAAjD,EAAuD;AAAE;AACrDD,MAAAA,YAAY,GAAGhW,SAAf;AACAiW,MAAAA,eAAe,GAAG4nE,2BAAlB,CAFmD,CAEJ;AAClD;;AACD,WAAO;AAAE7nE,MAAAA,YAAY,EAAEA,YAAhB;AAA8BC,MAAAA,eAAe,EAAEA;AAA/C,KAAP;AACH,GAPD;;AAQA,SAAO6nE,YAAP;AACH,CAtOiC,CAsOhC/2C,+DAtOgC,CAAlC;;AAuOA,SAASu0C,iBAAT,CAA2B5vC,SAA3B,EAAsC;AAClC,SAAOA,SAAS,CAACyK,IAAjB;AACH;;AAED,IAAI0oC,mBAAmB;AAAG;AAAe,YAAY;AACjD,WAASA,mBAAT,CAA6BC,SAA7B,EAAwCj1D,WAAxC,EAAqD9Z,YAArD,EAAmE;AAC/D,SAAK+uE,SAAL,GAAiBA,SAAjB;AACA,SAAKj1D,WAAL,GAAmBA,WAAnB;AACA,SAAK9Z,YAAL,GAAoBA,YAApB;AACH;;AACD8uE,EAAAA,mBAAmB,CAAC1xF,SAApB,CAA8BwxF,cAA9B,GAA+C,UAAUvgF,IAAV,EAAgB;AAC3D,QAAIyrB,WAAW,GAAG,KAAKA,WAAvB;;AACA,QAAI7H,yEAAmB,CAAC6H,WAAW,CAACE,YAAb,EAA2B3rB,IAA3B,CAAvB,EAAyD;AACrD,UAAI2gF,cAAc,GAAGljF,gEAAU,CAACuC,IAAD,CAA/B;AACA,UAAI4gF,MAAM,GAAG5gF,IAAI,CAAC1Q,OAAL,KAAiBqxF,cAAc,CAACrxF,OAAf,EAA9B;;AACA,UAAIsxF,MAAM,IAAIj5E,+DAAS,CAAC8jB,WAAW,CAACja,WAAb,CAAnB,IACAovE,MAAM,GAAGj5E,+DAAS,CAAC8jB,WAAW,CAACha,WAAb,CADtB,EACiD;AAC7C,eAAO,KAAKovE,cAAL,CAAoBj7E,oEAAc,CAACg7E,MAAD,CAAlC,CAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAXD,CANiD,CAkBjD;AACA;;;AACAH,EAAAA,mBAAmB,CAAC1xF,SAApB,CAA8B+xF,cAA9B,GAA+C,UAAUC,IAAV,EAAgBJ,cAAhB,EAAgC;AAC3E,QAAI,CAACA,cAAL,EAAqB;AACjBA,MAAAA,cAAc,GAAGljF,gEAAU,CAACsjF,IAAD,CAA3B;AACH;;AACD,WAAO,KAAKF,cAAL,CAAoBj7E,oEAAc,CAACm7E,IAAI,CAACzxF,OAAL,KAAiBqxF,cAAc,CAACrxF,OAAf,EAAlB,CAAlC,CAAP;AACH,GALD,CApBiD,CA0BjD;AACA;AACA;;;AACAmxF,EAAAA,mBAAmB,CAAC1xF,SAApB,CAA8B8xF,cAA9B,GAA+C,UAAU38E,QAAV,EAAoB;AAC/D,QAAIlM,EAAE,GAAG,IAAT;AAAA,QAAe0oF,SAAS,GAAG1oF,EAAE,CAAC0oF,SAA9B;AAAA,QAAyCj1D,WAAW,GAAGzzB,EAAE,CAACyzB,WAA1D;;AACA,QAAI9vB,GAAG,GAAG+kF,SAAS,CAACl+C,GAAV,CAAc3rC,MAAxB,CAF+D,CAG/D;;AACA,QAAImqF,YAAY,GAAG,CAAC98E,QAAQ,CAAClG,YAAT,GAAwB2J,+DAAS,CAAC8jB,WAAW,CAACja,WAAb,CAAlC,IAA+D7J,+DAAS,CAAC,KAAKgK,YAAN,CAA3F;AACA,QAAIsvE,SAAJ;AACA,QAAIC,aAAJ,CAN+D,CAO/D;AACA;AACA;;AACAF,IAAAA,YAAY,GAAGljF,IAAI,CAACoO,GAAL,CAAS,CAAT,EAAY80E,YAAZ,CAAf;AACAA,IAAAA,YAAY,GAAGljF,IAAI,CAACwB,GAAL,CAAS3D,GAAT,EAAcqlF,YAAd,CAAf,CAX+D,CAY/D;AACA;;AACAC,IAAAA,SAAS,GAAGnjF,IAAI,CAAC6B,KAAL,CAAWqhF,YAAX,CAAZ;AACAC,IAAAA,SAAS,GAAGnjF,IAAI,CAACwB,GAAL,CAAS2hF,SAAT,EAAoBtlF,GAAG,GAAG,CAA1B,CAAZ,CAf+D,CAgB/D;AACA;;AACAulF,IAAAA,aAAa,GAAGF,YAAY,GAAGC,SAA/B;AACA,WAAOP,SAAS,CAACx9C,IAAV,CAAe+9C,SAAf,IACHP,SAAS,CAACh9C,SAAV,CAAoBu9C,SAApB,IAAiCC,aADrC;AAEH,GArBD;;AAsBA,SAAOT,mBAAP;AACH,CApDwC,EAAzC;;AAsDA,IAAIU,iBAAiB;AAAG;AAAe,UAAUv8C,MAAV,EAAkB;AACrD5wC,EAAAA,gDAAS,CAACmtF,iBAAD,EAAoBv8C,MAApB,CAAT;;AACA,WAASu8C,iBAAT,GAA6B;AACzB,WAAOv8C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDo3E,EAAAA,iBAAiB,CAACpyF,SAAlB,CAA4BgC,MAA5B,GAAqC,YAAY;AAC7C,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI7D,OAAO,GAAG6D,OAAO,CAAC7D,OAAtB;AACA,QAAI0wF,UAAU,GAAG5pF,KAAK,CAAC4pF,UAAvB;AACA,WAAQjtF,mEAAa,CAAC,OAAD,EAAU,IAAV,EAAgBqD,KAAK,CAAC+nF,SAAN,CAAgBnwF,GAAhB,CAAoB,UAAUowF,QAAV,EAAoB5oF,CAApB,EAAuB;AAC5E,UAAI02C,SAAS,GAAG;AACZpb,QAAAA,IAAI,EAAEstD,QAAQ,CAACttD,IADH;AAEZlyB,QAAAA,IAAI,EAAEzL,OAAO,CAACqP,OAAR,CAAgBslB,MAAhB,CAAuBs2D,QAAQ,CAACx/E,IAAhC,CAFM;AAGZgqB,QAAAA,IAAI,EAAEz1B,OAAO,CAAC01B;AAHF,OAAhB;AAKA,UAAI5N,UAAU,GAAG,CACb,kBADa,EAEb,uBAFa,EAGbmjE,QAAQ,CAACL,SAAT,GAAqB,EAArB,GAA0B,wBAHb,CAAjB;AAKA,aAAQhrF,mEAAa,CAAC,IAAD,EAAO;AAAEpE,QAAAA,GAAG,EAAEyvF,QAAQ,CAACzvF,GAAhB;AAAqB04C,QAAAA,GAAG,EAAE24C,UAAU,CAACltF,SAAX,CAAqBsrF,QAAQ,CAACzvF,GAA9B;AAA1B,OAAP,EACjByH,KAAK,CAAC6pF,IAAN,IAAeltF,mEAAa,CAAC+qF,gBAAD,EAAmBprF,+CAAQ,CAAC,EAAD,EAAK0rF,QAAL,CAA3B,CADX,EAEjBrrF,mEAAa,CAAC+4C,4DAAD,EAAa;AAAEI,QAAAA,SAAS,EAAEA,SAAb;AAAwBjxB,QAAAA,UAAU,EAAE3rB,OAAO,CAAC0mB,kBAA5C;AAAgEkF,QAAAA,OAAO,EAAE5rB,OAAO,CAAC2mB,eAAjF;AAAkGkF,QAAAA,QAAQ,EAAE7rB,OAAO,CAAC4mB,gBAApH;AAAsIkF,QAAAA,WAAW,EAAE9rB,OAAO,CAAC6mB;AAA3J,OAAb,EAA+L,UAAU41B,SAAV,EAAqBiC,gBAArB,EAAuCzB,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,eAAQz5C,mEAAa,CAAC,IAAD,EAAO;AAAEs0C,UAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,UAAAA,SAAS,EAAE/C,UAAU,CAAC3b,MAAX,CAAkB0uC,gBAAlB,EAAoCngC,IAApC,CAAyC,GAAzC,CAA7B;AAA4E,uBAAauwE,QAAQ,CAACJ;AAAlG,SAAP,EAAuHxxC,YAAvH,CAArB;AAA6J,OAA/Z,CAFI,CAArB;AAGH,KAdoC,CAAhB,CAArB;AAeH,GAnBD;;AAoBA,SAAOuzC,iBAAP;AACH,CA1BsC,CA0BrC74C,+DA1BqC,CAAvC;AA4BA;AACA;AACA;;;AACA,IAAIg5C,aAAa;AAAG;AAAe,UAAU18C,MAAV,EAAkB;AACjD5wC,EAAAA,gDAAS,CAACstF,aAAD,EAAgB18C,MAAhB,CAAT;;AACA,WAAS08C,aAAT,GAAyB;AACrB,QAAIr3E,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACkjC,SAAN,GAAkBj5C,+DAAS,EAA3B;AACA+V,IAAAA,KAAK,CAACm3E,UAAN,GAAmB,IAAIvsB,wDAAJ,EAAnB;AACA,WAAO5qD,KAAP;AACH;;AACDq3E,EAAAA,aAAa,CAACvyF,SAAd,CAAwBgC,MAAxB,GAAiC,YAAY;AACzC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,WAAQJ,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE,mBAAb;AAAkCqpB,MAAAA,GAAG,EAAE,KAAK0E;AAA5C,KAAR,EACjBh5C,mEAAa,CAAC,OAAD,EAAU;AAAEirB,MAAAA,SAAS,EAAE7qB,OAAO,CAAC6oC,KAAR,CAAcC,QAAd,CAAuB,OAAvB,CAAb;AAA8CzlC,MAAAA,KAAK,EAAE;AACpEy+D,QAAAA,QAAQ,EAAE7+D,KAAK,CAAC8+D,aADoD;AAEpE95D,QAAAA,KAAK,EAAEhF,KAAK,CAACknC,WAFuD;AAGpE1pB,QAAAA,MAAM,EAAExd,KAAK,CAAC+pF;AAHsD;AAArD,KAAV,EAKT/pF,KAAK,CAAC++D;AAAkB;AALf,MAMTpiE,mEAAa,CAACgtF,iBAAD,EAAoB;AAAEC,MAAAA,UAAU,EAAE,KAAKA,UAAnB;AAA+BC,MAAAA,IAAI,EAAE7pF,KAAK,CAAC6pF,IAA3C;AAAiD9B,MAAAA,SAAS,EAAE/nF,KAAK,CAAC+nF;AAAlE,KAApB,CANJ,CADI,CAArB;AAQH,GAVD;;AAWA+B,EAAAA,aAAa,CAACvyF,SAAd,CAAwBo/C,iBAAxB,GAA4C,YAAY;AACpD,SAAKu4B,YAAL;AACH,GAFD;;AAGA4a,EAAAA,aAAa,CAACvyF,SAAd,CAAwBs/C,kBAAxB,GAA6C,YAAY;AACrD,SAAKq4B,YAAL;AACH,GAFD;;AAGA4a,EAAAA,aAAa,CAACvyF,SAAd,CAAwBu/C,oBAAxB,GAA+C,YAAY;AACvD,QAAI,KAAK92C,KAAL,CAAWgqF,QAAf,EAAyB;AACrB,WAAKhqF,KAAL,CAAWgqF,QAAX,CAAoB,IAApB;AACH;AACJ,GAJD;;AAKAF,EAAAA,aAAa,CAACvyF,SAAd,CAAwB23E,YAAxB,GAAuC,YAAY;AAC/C,QAAI1uE,EAAE,GAAG,IAAT;AAAA,QAAezD,OAAO,GAAGyD,EAAE,CAACzD,OAA5B;AAAA,QAAqCiD,KAAK,GAAGQ,EAAE,CAACR,KAAhD;;AACA,QAAIA,KAAK,CAACgqF,QAAN,IACAhqF,KAAK,CAACknC,WAAN,KAAsB,IAD1B,CAC+B;AAD/B,MAEE;AACE,UAAImQ,MAAM,GAAG,KAAK1B,SAAL,CAAezE,OAA5B;;AACA,UAAImG,MAAM,CAAChV,YAAX,EAAyB;AAAE;AACvBriC,QAAAA,KAAK,CAACgqF,QAAN,CAAe,IAAIf,mBAAJ,CAAwB,IAAIn+C,+DAAJ,CAAkB,KAAK6K,SAAL,CAAezE,OAAjC,EAA0C+4C,cAAc,CAAC,KAAKL,UAAL,CAAgBrsB,UAAjB,EAA6Bv9D,KAAK,CAAC+nF,SAAnC,CAAxD,EAAuG,KAAvG,EAA8G,IAA9G,CAAxB,EAA6I,KAAK/nF,KAAL,CAAWi0B,WAAxJ,EAAqKl3B,OAAO,CAAC7D,OAAR,CAAgBihB,YAArL,CAAf;AACH;AACJ;AACJ,GAVD;;AAWA,SAAO2vE,aAAP;AACH,CA1CkC,CA0CjCh5C,+DA1CiC,CAAnC;;AA2CA,SAASm5C,cAAT,CAAwB/Z,KAAxB,EAA+B6X,SAA/B,EAA0C;AACtC,SAAOA,SAAS,CAACnwF,GAAV,CAAc,UAAUowF,QAAV,EAAoB;AAAE,WAAO9X,KAAK,CAAC8X,QAAQ,CAACzvF,GAAV,CAAZ;AAA6B,GAAjE,CAAP;AACH;;AAED,SAAS2xF,cAAT,CAAwBj8D,IAAxB,EAA8BmmC,MAA9B,EAAsC;AAClC,MAAI+1B,SAAS,GAAG,EAAhB;AACA,MAAI/qF,CAAJ;;AACA,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGg1D,MAAhB,EAAwBh1D,CAAC,IAAI,CAA7B,EAAgC;AAC5B+qF,IAAAA,SAAS,CAACxuF,IAAV,CAAe,EAAf;AACH;;AACD,MAAIsyB,IAAJ,EAAU;AACN,SAAK7uB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG6uB,IAAI,CAAC5uB,MAArB,EAA6BD,CAAC,IAAI,CAAlC,EAAqC;AACjC+qF,MAAAA,SAAS,CAACl8D,IAAI,CAAC7uB,CAAD,CAAJ,CAAQ+3D,GAAT,CAAT,CAAuBx7D,IAAvB,CAA4BsyB,IAAI,CAAC7uB,CAAD,CAAhC;AACH;AACJ;;AACD,SAAO+qF,SAAP;AACH;;AACD,SAASC,qBAAT,CAA+B5gE,EAA/B,EAAmC4qC,MAAnC,EAA2C;AACvC,MAAIuV,KAAK,GAAG,EAAZ;;AACA,MAAI,CAACngD,EAAL,EAAS;AACL,SAAK,IAAIpqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGg1D,MAApB,EAA4Bh1D,CAAC,IAAI,CAAjC,EAAoC;AAChCuqE,MAAAA,KAAK,CAACvqE,CAAD,CAAL,GAAW,IAAX;AACH;AACJ,GAJD,MAKK;AACD,SAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGg1D,MAApB,EAA4Bh1D,CAAC,IAAI,CAAjC,EAAoC;AAChCuqE,MAAAA,KAAK,CAACvqE,CAAD,CAAL,GAAW;AACP05D,QAAAA,iBAAiB,EAAEtvC,EAAE,CAACsvC,iBADf;AAEP3zB,QAAAA,OAAO,EAAE3b,EAAE,CAAC2b,OAFL;AAGPlX,QAAAA,IAAI,EAAE;AAHC,OAAX;AAKH;;AACD,SAAK,IAAItjB,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGgpB,EAAE,CAACyE,IAAzB,EAA+BtjB,EAAE,GAAGnK,EAAE,CAACnB,MAAvC,EAA+CsL,EAAE,EAAjD,EAAqD;AACjD,UAAIgjB,GAAG,GAAGntB,EAAE,CAACmK,EAAD,CAAZ;AACAg/D,MAAAA,KAAK,CAACh8C,GAAG,CAACwpC,GAAL,CAAL,CAAelpC,IAAf,CAAoBtyB,IAApB,CAAyBgyB,GAAzB;AACH;AACJ;;AACD,SAAOg8C,KAAP;AACH;;AAED,IAAI0gB,eAAe;AAAG;AAAe,UAAUj9C,MAAV,EAAkB;AACnD5wC,EAAAA,gDAAS,CAAC6tF,eAAD,EAAkBj9C,MAAlB,CAAT;;AACA,WAASi9C,eAAT,GAA2B;AACvB,QAAI53E,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACkjC,SAAN,GAAkBj5C,+DAAS,EAA3B;AACA,WAAO+V,KAAP;AACH;;AACD43E,EAAAA,eAAe,CAAC9yF,SAAhB,CAA0BgC,MAA1B,GAAmC,YAAY;AAC3C,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIzS,KAAK,GAAG,KAAKA,KAAjB;AACA,WAAQrD,mEAAa,CAAC6oE,8DAAD,EAAe;AAAEM,MAAAA,UAAU,EAAE,IAAd;AAAoBI,MAAAA,OAAO,EAAElmE,KAAK,CAACgmE,UAAN,CAAiB3mE,MAA9C;AAAsD0mE,MAAAA,OAAO,EAAE/lE,KAAK,CAACgmE,UAArE;AAAiFA,MAAAA,UAAU,EAAEhmE,KAAK,CAACgmE,UAAnG;AAA+GK,MAAAA,cAAc,EAAE,KAAK1wB,SAApI;AAA+IM,MAAAA,cAAc,EAAEmwB,mBAA/J;AAAoLf,MAAAA,aAAa,EAAErlE,KAAK,CAACqlE,aAAzM;AAAwNpxC,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAA3O;AAAwPpE,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAA1Q;AAAsRy2C,MAAAA,cAAc,EAAE,0BAAY;AAAE,eAAOgkB,iBAAiB,CAACtqF,KAAK,CAACgmE,UAAP,EAAmBhmE,KAAnB,CAAxB;AAAoD;AAAxW,KAAf,EAA2X,UAAU21C,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2DuvB,WAA3D,EAAwE;AAAE,aAAQhpE,mEAAa,CAAC,GAAD,EAAM;AAAEs0C,QAAAA,GAAG,EAAE,aAAUjzC,EAAV,EAAc;AAClgBgzC,UAAAA,4DAAM,CAAC2E,SAAD,EAAY33C,EAAZ,CAAN;AACAgzC,UAAAA,4DAAM,CAACv+B,KAAK,CAACkjC,SAAP,EAAkB33C,EAAlB,CAAN;AACH,SAHgf;AAG9e4pB,QAAAA,SAAS,EAAE,CAAC,uBAAD,EAA0B1e,MAA1B,CAAiC2b,UAAjC,EAA6CpN,IAA7C,CAAkD,GAAlD,CAHme;AAG3arX,QAAAA,KAAK,EAAE;AAAE4gC,UAAAA,GAAG,EAAEhhC,KAAK,CAACghC,GAAb;AAAkBC,UAAAA,MAAM,EAAEjhC,KAAK,CAACihC;AAAhC,SAHoa;AAG1XuuB,QAAAA,OAAO,EAAEmW;AAHiX,OAAN,EAI3ehpE,mEAAa,CAAC,KAAD,EAAQ;AAAEs0C,QAAAA,GAAG,EAAEkF,UAAP;AAAmBvuB,QAAAA,SAAS,EAAE;AAA9B,OAAR,EAAiFwuB,YAAjF,CAJ8d,CAArB;AAItW,KAJ/F,CAArB;AAKH,GARD;;AASA,SAAOi0C,eAAP;AACH,CAjBoC,CAiBnCv5C,+DAjBmC,CAArC;;AAkBA,SAASs1B,mBAAT,CAA6BpmE,KAA7B,EAAoC;AAChC,SAAOA,KAAK,CAACmmE,SAAb;AACH,EAED;;;AACA,SAASokB,sBAAT,CAAgC5/B,SAAhC,EAA2CR,WAA3C,EAAwDG,WAAxD,EAAqE;AACjE,MAAIuhB,SAAS,GAAG,IAAI3hB,8DAAJ,EAAhB;;AACA,MAAIC,WAAW,IAAI,IAAnB,EAAyB;AACrB0hB,IAAAA,SAAS,CAAC1hB,WAAV,GAAwBA,WAAxB;AACH;;AACD,MAAIG,WAAW,IAAI,IAAnB,EAAyB;AACrBuhB,IAAAA,SAAS,CAACvhB,WAAV,GAAwBA,WAAxB;AACH;;AACD,MAAIM,aAAa,GAAGihB,SAAS,CAACnhB,OAAV,CAAkBC,SAAlB,CAApB;AACA,MAAI6/B,YAAY,GAAGx9B,8EAAwB,CAACpC,aAAD,CAA3C;AACA,MAAI6/B,GAAG,GAAGC,QAAQ,CAAC7e,SAAD,CAAlB;AACA4e,EAAAA,GAAG,GAAGE,UAAU,CAACF,GAAD,EAAM,CAAN,CAAhB,CAXiE,CAWvC;;AAC1B,MAAIve,QAAQ,GAAG0e,UAAU,CAACH,GAAD,CAAzB;AACA,SAAO;AAAEve,IAAAA,QAAQ,EAAEA,QAAZ;AAAsBse,IAAAA,YAAY,EAAEA;AAApC,GAAP;AACH;;AACD,SAASE,QAAT,CAAkB7e,SAAlB,EAA6B;AACzB,MAAIrhB,cAAc,GAAGqhB,SAAS,CAACrhB,cAA/B;AACA,MAAIqgC,SAAS,GAAGC,SAAS,CAAC,UAAUz+B,KAAV,EAAiBqhB,OAAjB,EAA0B;AAAE,WAAOrhB,KAAK,GAAG,GAAR,GAAcqhB,OAArB;AAA+B,GAA5D,EAA8D,UAAUrhB,KAAV,EAAiBqhB,OAAjB,EAA0B;AAC7G,QAAIqd,YAAY,GAAGC,iBAAiB,CAACnf,SAAD,EAAYxf,KAAZ,EAAmBqhB,OAAnB,CAApC;AACA,QAAIud,YAAY,GAAGC,UAAU,CAACH,YAAD,EAAeF,SAAf,CAA7B;AACA,QAAI1/B,KAAK,GAAGX,cAAc,CAAC6B,KAAD,CAAd,CAAsBqhB,OAAtB,CAAZ;AACA,WAAO,CACHpxE,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK6uD,KAAL,CAAT,EAAsB;AAAEggC,MAAAA,cAAc,EAAEF,YAAY,CAAC,CAAD;AAA9B,KAAtB,CADL,EAEH9/B,KAAK,CAACD,SAAN,GAAkB+/B,YAAY,CAAC,CAAD,CAF3B,CAEgC;AAFhC,KAAP;AAIH,GARwB,CAAzB;AASA,SAAOC,UAAU,CAAC1gC,cAAc,CAACnrD,MAAf,GACZ;AAAEgtD,IAAAA,KAAK,EAAE,CAAT;AAAYC,IAAAA,YAAY,EAAE,CAA1B;AAA6BL,IAAAA,UAAU,EAAEzB,cAAc,CAAC,CAAD,CAAd,CAAkBnrD;AAA3D,GADY,GAEZ,IAFW,EAELwrF,SAFK,CAAV,CAEgB,CAFhB,CAAP;AAGH;;AACD,SAASK,UAAT,CAAoBH,YAApB,EAAkCF,SAAlC,EAA6C;AACzC,MAAI,CAACE,YAAL,EAAmB;AACf,WAAO,CAAC,EAAD,EAAK,CAAL,CAAP;AACH;;AACD,MAAI1+B,KAAK,GAAG0+B,YAAY,CAAC1+B,KAAzB;AAAA,MAAgCC,YAAY,GAAGy+B,YAAY,CAACz+B,YAA5D;AAAA,MAA0EL,UAAU,GAAG8+B,YAAY,CAAC9+B,UAApG;AACA,MAAIyhB,OAAO,GAAGphB,YAAd;AACA,MAAI8+B,KAAK,GAAG,EAAZ;;AACA,SAAO1d,OAAO,GAAGzhB,UAAjB,EAA6B;AACzBm/B,IAAAA,KAAK,CAACzvF,IAAN,CAAWkvF,SAAS,CAACx+B,KAAD,EAAQqhB,OAAR,CAApB;AACAA,IAAAA,OAAO,IAAI,CAAX;AACH;;AACD0d,EAAAA,KAAK,CAAC3/D,IAAN,CAAW4/D,gBAAX;AACA,SAAO,CACHD,KAAK,CAACxzF,GAAN,CAAU0zF,WAAV,CADG,EAEHF,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAFG,CAEU;AAFV,GAAP;AAIH;;AACD,SAASC,gBAAT,CAA0BtnF,CAA1B,EAA6BC,CAA7B,EAAgC;AAC5B,SAAOA,CAAC,CAAC,CAAD,CAAD,GAAOD,CAAC,CAAC,CAAD,CAAf;AACH;;AACD,SAASunF,WAAT,CAAqBvnF,CAArB,EAAwB;AACpB,SAAOA,CAAC,CAAC,CAAD,CAAR;AACH;;AACD,SAASinF,iBAAT,CAA2Bnf,SAA3B,EAAsC0f,YAAtC,EAAoDC,cAApD,EAAoE;AAChE,MAAIjhC,WAAW,GAAGshB,SAAS,CAACthB,WAA5B;AAAA,MAAyCC,cAAc,GAAGqhB,SAAS,CAACrhB,cAApE;AACA,MAAIihC,YAAY,GAAGjhC,cAAc,CAAC+gC,YAAD,CAAd,CAA6BC,cAA7B,CAAnB;AACA,MAAIE,YAAY,GAAGnhC,WAAW,CAACghC,YAAD,CAAX,GAA4BE,YAAY,CAACvgC,SAA5D;AACA,MAAIkB,QAAQ,GAAG7B,WAAW,CAAClrD,MAA3B;AACA,MAAIgtD,KAAK,GAAGk/B,YAAZ,CALgE,CAMhE;;AACA,SAAOl/B,KAAK,GAAGD,QAAR,IAAoB7B,WAAW,CAAC8B,KAAD,CAAX,GAAqBq/B,YAAhD,EAA8Dr/B,KAAK,IAAI,CAAvE;AACI;AADJ,GAPgE,CAQ1D;;;AACN,SAAOA,KAAK,GAAGD,QAAf,EAAyBC,KAAK,IAAI,CAAlC,EAAqC;AACjC,QAAIG,OAAO,GAAGhC,cAAc,CAAC6B,KAAD,CAA5B;AACA,QAAIlB,KAAK,GAAG,KAAK,CAAjB;AACA,QAAIwgC,WAAW,GAAGj/B,kEAAY,CAACF,OAAD,EAAUi/B,YAAY,CAACzgC,SAAvB,EAAkC2B,iEAAlC,CAA9B;AACA,QAAIL,YAAY,GAAGq/B,WAAW,CAAC,CAAD,CAAX,GAAiBA,WAAW,CAAC,CAAD,CAA/C,CAJiC,CAImB;;AACpD,QAAI1/B,UAAU,GAAGK,YAAjB;;AACA,YAAQ;AACR,KAACnB,KAAK,GAAGqB,OAAO,CAACP,UAAD,CAAhB,KAAiC;AAC7Bd,IAAAA,KAAK,CAACH,SAAN,GAAkBygC,YAAY,CAACxgC,OAFnC,EAE4C;AACxCgB,MAAAA,UAAU,IAAI,CAAd;AACH;;AACD,QAAIK,YAAY,GAAGL,UAAnB,EAA+B;AAC3B,aAAO;AAAEI,QAAAA,KAAK,EAAEA,KAAT;AAAgBC,QAAAA,YAAY,EAAEA,YAA9B;AAA4CL,QAAAA,UAAU,EAAEA;AAAxD,OAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH;;AACD,SAAS0+B,UAAT,CAAoBiB,aAApB,EAAmCC,cAAnC,EAAmD;AAC/C,MAAIC,WAAW,GAAGhB,SAAS,CAAC,UAAU9hB,IAAV,EAAgB+iB,UAAhB,EAA4BC,aAA5B,EAA2C;AAAE,WAAO9/B,mEAAa,CAAC8c,IAAD,CAApB;AAA6B,GAA3E,EAA6E,UAAUA,IAAV,EAAgB+iB,UAAhB,EAA4BC,aAA5B,EAA2C;AAC/I,QAAIb,cAAc,GAAGniB,IAAI,CAACmiB,cAA1B;AAAA,QAA0CjgC,SAAS,GAAG8d,IAAI,CAAC9d,SAA3D;AACA,QAAI+gC,YAAY,GAAG/gC,SAAS,GAAG8gC,aAA/B;AACA,QAAIE,iBAAiB,GAAGhhC,SAAS,GAAG+gC,YAApC;AACA,QAAIE,QAAJ;AACA,QAAIC,WAAW,GAAG,EAAlB;;AACA,QAAI,CAACjB,cAAc,CAAC9rF,MAApB,EAA4B;AACxB8sF,MAAAA,QAAQ,GAAGN,cAAX;AACH,KAFD,MAGK;AACD,WAAK,IAAIlhF,EAAE,GAAG,CAAT,EAAY0hF,gBAAgB,GAAGlB,cAApC,EAAoDxgF,EAAE,GAAG0hF,gBAAgB,CAAChtF,MAA1E,EAAkFsL,EAAE,EAApF,EAAwF;AACpF,YAAI9K,SAAS,GAAGwsF,gBAAgB,CAAC1hF,EAAD,CAAhC;;AACA,YAAIwhF,QAAQ,KAAK/hF,SAAjB,EAA4B;AACxB,cAAI4B,GAAG,GAAG8/E,WAAW,CAACjsF,SAAD,EAAYksF,UAAZ,EAAwBE,YAAxB,CAArB;AACAE,UAAAA,QAAQ,GAAGngF,GAAG,CAAC,CAAD,CAAd;AACAogF,UAAAA,WAAW,CAACzwF,IAAZ,CAAiBqQ,GAAG,CAAC,CAAD,CAApB;AACH,SAJD,MAKK;AACD,cAAIA,GAAG,GAAG8/E,WAAW,CAACjsF,SAAD,EAAYssF,QAAZ,EAAsB,CAAtB,CAArB;AACAC,UAAAA,WAAW,CAACzwF,IAAZ,CAAiBqQ,GAAG,CAAC,CAAD,CAApB;AACH;AACJ;AACJ;;AACD,QAAIsgF,YAAY,GAAG,CAACH,QAAQ,GAAGJ,UAAZ,IAA0BG,iBAA7C;AACA,WAAO,CAACC,QAAQ,GAAGG,YAAZ,EAA0BhwF,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK0sE,IAAL,CAAT,EAAqB;AAAE9d,MAAAA,SAAS,EAAEohC,YAAb;AAA2BnB,MAAAA,cAAc,EAAEiB;AAA3C,KAArB,CAAlC,CAAP;AACH,GAzB0B,CAA3B;AA0BA,SAAOR,aAAa,CAACh0F,GAAd,CAAkB,UAAUoxE,IAAV,EAAgB;AAAE,WAAO8iB,WAAW,CAAC9iB,IAAD,EAAO,CAAP,EAAU,CAAV,CAAX,CAAwB,CAAxB,CAAP;AAAoC,GAAxE,CAAP;AACH,EACD;;;AACA,SAAS4hB,UAAT,CAAoBgB,aAApB,EAAmC;AAC/B,MAAI/+B,KAAK,GAAG,EAAZ;AACA,MAAI0/B,WAAW,GAAGzB,SAAS,CAAC,UAAU9hB,IAAV,EAAgBxd,UAAhB,EAA4BghC,UAA5B,EAAwC;AAAE,WAAOtgC,mEAAa,CAAC8c,IAAD,CAApB;AAA6B,GAAxE,EAA0E,UAAUA,IAAV,EAAgBxd,UAAhB,EAA4BghC,UAA5B,EAAwC;AACzI,QAAI3rD,IAAI,GAAGvkC,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAK0sE,IAAL,CAAT,EAAqB;AAAExd,MAAAA,UAAU,EAAEA,UAAd;AACpCghC,MAAAA,UAAU,EAAEA,UADwB;AACZC,MAAAA,YAAY,EAAE;AADF,KAArB,CAAnB;;AAEA5/B,IAAAA,KAAK,CAAClxD,IAAN,CAAWklC,IAAX;AACA,WAAQA,IAAI,CAAC4rD,YAAL,GAAoBC,YAAY,CAAC1jB,IAAI,CAACmiB,cAAN,EAAsB3/B,UAAU,GAAGwd,IAAI,CAAC9d,SAAxC,EAAmDshC,UAAU,GAAG,CAAhE,CAAZ,GAAiF,CAA7G;AACH,GAL0B,CAA3B;;AAMA,WAASE,YAAT,CAAsBpd,KAAtB,EAA6B9jB,UAA7B,EAAyCghC,UAAzC,EAAqD;AACjD,QAAIC,YAAY,GAAG,CAAnB;;AACA,SAAK,IAAI9hF,EAAE,GAAG,CAAT,EAAYgiF,OAAO,GAAGrd,KAA3B,EAAkC3kE,EAAE,GAAGgiF,OAAO,CAACttF,MAA/C,EAAuDsL,EAAE,EAAzD,EAA6D;AACzD,UAAIq+D,IAAI,GAAG2jB,OAAO,CAAChiF,EAAD,CAAlB;AACA8hF,MAAAA,YAAY,GAAGnmF,IAAI,CAACoO,GAAL,CAAS63E,WAAW,CAACvjB,IAAD,EAAOxd,UAAP,EAAmBghC,UAAnB,CAApB,EAAoDC,YAApD,CAAf;AACH;;AACD,WAAOA,YAAP;AACH;;AACDC,EAAAA,YAAY,CAACd,aAAD,EAAgB,CAAhB,EAAmB,CAAnB,CAAZ;AACA,SAAO/+B,KAAP,CAjB+B,CAiBjB;AACjB,EACD;;;AACA,SAASi+B,SAAT,CAAmB8B,OAAnB,EAA4BC,QAA5B,EAAsC;AAClC,MAAIC,KAAK,GAAG,EAAZ;AACA,SAAO,YAAY;AACf,QAAIxxF,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIqP,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG4H,SAAS,CAAClT,MAAhC,EAAwCsL,EAAE,EAA1C,EAA8C;AAC1CrP,MAAAA,IAAI,CAACqP,EAAD,CAAJ,GAAW4H,SAAS,CAAC5H,EAAD,CAApB;AACH;;AACD,QAAIpS,GAAG,GAAGq0F,OAAO,CAACxjF,KAAR,CAAc,KAAK,CAAnB,EAAsB9N,IAAtB,CAAV;AACA,WAAQ/C,GAAG,IAAIu0F,KAAR,GACDA,KAAK,CAACv0F,GAAD,CADJ,GAEAu0F,KAAK,CAACv0F,GAAD,CAAL,GAAas0F,QAAQ,CAACzjF,KAAT,CAAe,KAAK,CAApB,EAAuB9N,IAAvB,CAFpB;AAGH,GATD;AAUH;;AAED,IAAI8pF,mBAAmB,GAAGhsE,qEAAe,CAAC;AACtCtK,EAAAA,IAAI,EAAE,SADgC;AAEtCE,EAAAA,MAAM,EAAE,SAF8B;AAGtC0E,EAAAA,QAAQ,EAAE;AAH4B,CAAD,CAAzC;;AAKA,IAAIq5E,YAAY;AAAG;AAAe,UAAU3/C,MAAV,EAAkB;AAChD5wC,EAAAA,gDAAS,CAACuwF,YAAD,EAAe3/C,MAAf,CAAT;;AACA,WAAS2/C,YAAT,GAAwB;AACpB,WAAO3/C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDw6E,EAAAA,YAAY,CAACx1F,SAAb,CAAuBgC,MAAvB,GAAgC,YAAY;AACxC,QAAIsrB,UAAU,GAAG,CACb,mBADa,EAEb,YAFa,CAAjB;;AAIA,QAAI,KAAK7kB,KAAL,CAAWgtF,OAAf,EAAwB;AACpBnoE,MAAAA,UAAU,CAAClpB,IAAX,CAAgB,yBAAhB;AACH;;AACD,WAAQgB,mEAAa,CAACkmE,+DAAD,EAAgBvmE,+CAAQ,CAAC,EAAD,EAAK,KAAK0D,KAAV,EAAiB;AAAE8iE,MAAAA,iBAAiB,EAAEsiB,mBAArB;AAA0CzwB,MAAAA,eAAe,EAAE9vC;AAA3D,KAAjB,CAAxB,CAArB;AACH,GATD;;AAUA,SAAOkoE,YAAP;AACH,CAhBiC,CAgBhCj8C,+DAhBgC,CAAlC;;AAkBA,IAAIm8C,WAAW;AAAG;AAAe,UAAU7/C,MAAV,EAAkB;AAC/C5wC,EAAAA,gDAAS,CAACywF,WAAD,EAAc7/C,MAAd,CAAT;;AACA,WAAS6/C,WAAT,GAAuB;AACnB,WAAO7/C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD06E,EAAAA,WAAW,CAAC11F,SAAZ,CAAsBgC,MAAtB,GAA+B,YAAY;AACvC,QAAIyG,KAAK,GAAG,KAAKA,KAAjB;AACA,WAAQrD,mEAAa,CAAC0mE,gEAAD,EAAiB;AAAE76D,MAAAA,IAAI,EAAExI,KAAK,CAACwI,IAAd;AAAoByrB,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAAvC;AAAoDpE,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAAtE;AAAkFykC,MAAAA,cAAc,EAAEt0D,KAAK,CAACs0D;AAAxG,KAAjB,EAA2I,UAAUne,UAAV,EAAsBC,YAAtB,EAAoC;AAAE,aAAQA,YAAY,IACtNz5C,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,sBAAb;AAAqCqpB,QAAAA,GAAG,EAAEkF;AAA1C,OAAR,EAAgEC,YAAhE,CADqL;AACpG,KAD7E,CAArB;AAEH,GAJD;;AAKA,SAAO62C,WAAP;AACH,CAXgC,CAW/Bn8C,+DAX+B,CAAjC;;AAaA,IAAIo8C,OAAO;AAAG;AAAe,UAAU9/C,MAAV,EAAkB;AAC3C5wC,EAAAA,gDAAS,CAAC0wF,OAAD,EAAU9/C,MAAV,CAAT;;AACA,WAAS8/C,OAAT,GAAmB;AACf,QAAIz6E,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACub,aAAN,GAAsBhc,6DAAO,CAACgc,+DAAD,CAA7B;AACAvb,IAAAA,KAAK,CAAC83E,sBAAN,GAA+Bv4E,6DAAO,CAACu4E,sBAAD,CAAtC,CAHe,CAGiD;;AAChE,WAAO93E,KAAP;AACH;;AACDy6E,EAAAA,OAAO,CAAC31F,SAAR,CAAkBgC,MAAlB,GAA2B,YAAY;AACnC,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAIowF,cAAc,GAAGpwF,OAAO,CAAC7D,OAAR,CAAgBooB,YAArC;AACA,QAAI6uD,UAAU,GAAInwE,KAAK,CAAC4jC,SAAN,IAAmB5jC,KAAK,CAAC4jC,SAAN,CAAgB3V,IAApC,IACZjuB,KAAK,CAAC8jC,WAAN,IAAqB9jC,KAAK,CAAC8jC,WAAN,CAAkB7V,IAD3B,IAEZk/D,cAAc,IAAIntF,KAAK,CAACs4D,iBAFZ,IAGb,EAHJ;AAIA,QAAI80B,4BAA4B,GAAG;AACjCptF,IAAAA,KAAK,CAAC4jC,SAAN,IAAmB5jC,KAAK,CAAC4jC,SAAN,CAAgBk1B,iBAApC,IACI94D,KAAK,CAAC8jC,WAAN,IAAqB9jC,KAAK,CAAC8jC,WAAN,CAAkBg1B,iBAD3C,IAEG,EAHJ;AAIA,QAAIu0B,YAAY,GAAG,KAAKr/D,aAAL,CAAmBhuB,KAAK,CAACw4D,WAAzB,EAAsCz7D,OAAO,CAAC7D,OAAR,CAAgB+jB,UAAtD,CAAnB;AACA,WAAQtgB,mEAAa,CAAC+mE,6DAAD,EAAc;AAAE7tB,MAAAA,KAAK,EAAE71C,KAAK,CAAC61C,KAAf;AAAsBrtC,MAAAA,IAAI,EAAExI,KAAK,CAACwI,IAAlC;AAAwCyrB,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAA3D;AAAwEpE,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAA1F;AAAsGykC,MAAAA,cAAc,EAAEt0D,KAAK,CAACs0D;AAA5H,KAAd,EAA4J,UAAU3e,SAAV,EAAqB9wB,UAArB,EAAiC++C,SAAjC,EAA4C;AAAE,aAAQjnE,mEAAa,CAAC,IAAD,EAAOL,+CAAQ,CAAC;AAAE20C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE,CAAC,iBAAD,EAAoB1e,MAApB,CAA2B2b,UAA3B,EAAuC7kB,KAAK,CAAC20D,eAAN,IAAyB,EAAhE,EAAoEl9C,IAApE,CAAyE,GAAzE;AAA7B,OAAD,EAA+GmsD,SAA/G,EAA0H5jE,KAAK,CAACw0D,cAAhI,CAAf,EAChP73D,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EACTjrB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EACTnV,KAAK,CAACw8D,cAAN,CAAqBjvE,KAAK,CAACu4D,gBAA3B,EAA6C,cAA7C,CADS,EAET9lD,KAAK,CAACw8D,cAAN,CAAqBjvE,KAAK,CAACy4D,WAA3B,EAAwC,UAAxC,CAFS,EAGThmD,KAAK,CAACw8D,cAAN,CAAqBjvE,KAAK,CAACs4D,iBAA3B,EAA8C,WAA9C,CAHS,CADJ,EAKT37D,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EAAiDnV,KAAK,CAACm8D,YAAN,CAAmBye,YAAnB,EAAiCD,4BAAjC,CAAjD,CALJ,EAMTzwF,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EAAiDnV,KAAK,CAACm8D,YAAN,CAAmBuB,UAAnB,EAA+B,EAA/B,EAAmCp2D,OAAO,CAAC/Z,KAAK,CAAC4jC,SAAP,CAA1C,EAA6D7pB,OAAO,CAAC/Z,KAAK,CAAC8jC,WAAP,CAApE,EAAyF/pB,OAAO,CAACozE,cAAD,CAAhG,CAAjD,CANJ,EAOTxwF,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE;AAAb,OAAR,EAA8DnV,KAAK,CAAC66E,kBAAN,CAAyBttF,KAAK,CAACutF,gBAA/B,CAA9D,CAPJ,EAQT5wF,mEAAa,CAACswF,WAAD,EAAc;AAAEzkF,QAAAA,IAAI,EAAExI,KAAK,CAACwI,IAAd;AAAoByrB,QAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAAvC;AAAoDpE,QAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAAtE;AAAkFykC,QAAAA,cAAc,EAAEt0D,KAAK,CAACs0D;AAAxG,OAAd,CARJ,CADmO,CAArB;AAS7D,KAT7I,CAArB;AAUH,GAvBD;;AAwBA44B,EAAAA,OAAO,CAAC31F,SAAR,CAAkBq3E,YAAlB,GAAiC,UAAUye,YAAV,EAAwBG,cAAxB,EAAwCh9D,UAAxC,EAAoDC,UAApD,EAAgEkyC,eAAhE,EAAiF;AAC9G,QAAI3iE,KAAK,GAAG,KAAKA,KAAjB;;AACA,QAAIA,KAAK,CAAC0yD,QAAV,EAAoB;AAChB,aAAO43B,iBAAiB,CAAC+C,YAAD,EAAertF,KAAf,CAAxB;AACH;;AACD,QAAIA,KAAK,CAACooF,UAAV,EAAsB;AAClB,aAAO,KAAKqF,sBAAL,CAA4BJ,YAA5B,EAA0CG,cAA1C,EAA0Dh9D,UAA1D,EAAsEC,UAAtE,EAAkFkyC,eAAlF,CAAP;AACH;;AACD,WAAO,IAAP;AACH,GATD;;AAUAuqB,EAAAA,OAAO,CAAC31F,SAAR,CAAkBk2F,sBAAlB,GAA2C,UAAUx/D,IAAV,EAAgB;AAC3Du/D,EAAAA,cAD2C,EAC3Bh9D,UAD2B,EACfC,UADe,EACHkyC,eADG,EACc;AACrD,QAAIlwD,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,KAAKzD,OAAL,CAAa7D,OAAtB;AAAA,QAA+BqoB,aAAa,GAAG/gB,EAAE,CAAC+gB,aAAlD;AAAA,QAAiEG,gBAAgB,GAAGlhB,EAAE,CAACkhB,gBAAvF;AAAA,QAAyGxE,gBAAgB,GAAG1c,EAAE,CAAC0c,gBAA/H;AACA,QAAIzc,EAAE,GAAG,KAAKT,KAAd;AAAA,QAAqBmkC,cAAc,GAAG1jC,EAAE,CAAC0jC,cAAzC;AAAA,QAAyDtU,UAAU,GAAGpvB,EAAE,CAACovB,UAAzE;AAAA,QAAqFC,OAAO,GAAGrvB,EAAE,CAACqvB,OAAlG;AACA,QAAIM,QAAQ,GAAGI,UAAU,IAAIC,UAAd,IAA4BkyC,eAA3C;AACA,QAAIhY,SAAS,GAAG,KAAK+iC,cAAL,CAAoBz/D,IAApB,CAAhB;;AACA,QAAIwW,EAAE,GAAGrU,QAAQ,GAAGm6D,sBAAsB,CAAC5/B,SAAD,CAAzB,GAAuC;AACpD,SAAK4/B,sBAAL,CAA4B5/B,SAA5B,EAAuCztC,gBAAvC,EAAyDqE,aAAzD,CADJ;AAAA,QAC6E2qD,QAAQ,GAAGznC,EAAE,CAACynC,QAD3F;AAAA,QACqGse,YAAY,GAAG/lD,EAAE,CAAC+lD,YADvH;;AAEA,WAAQ7tF,mEAAa,CAACC,0DAAD,EAAW,IAAX,EACjB,KAAK+wF,kBAAL,CAAwBnD,YAAxB,EAAsCv8D,IAAtC,CADiB,EAEjBi+C,QAAQ,CAACt0E,GAAT,CAAa,UAAUg2F,OAAV,EAAmB;AAC5B,UAAIjgE,GAAG,GAAGM,IAAI,CAAC2/D,OAAO,CAAC9iC,QAAR,CAAiBiC,KAAlB,CAAd;AACA,UAAInjD,UAAU,GAAG+jB,GAAG,CAACY,UAAJ,CAAephB,QAAf,CAAwBvD,UAAzC;;AACA,UAAIikF,WAAW,GAAGvxF,+CAAQ,CAACA,+CAAQ,CAAC,EAAD,EAAKmW,KAAK,CAACq7E,sBAAN,CAA6BF,OAAO,CAAC9iC,QAArC,CAAL,CAAT,EAAgE16B,QAAQ,GAAG;AAAE0Q,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,KAAK,EAAE;AAAlB,OAAH,GAA2BtuB,KAAK,CAACs7E,sBAAN,CAA6BH,OAA7B,CAAnG,CAA1B;;AACA,aAAQjxF,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,QAAAA,SAAS,EAAE,+BAA+BgmE,OAAO,CAACnB,YAAR,GAAuB,CAAvB,GAA2B,kCAA3B,GAAgE,EAA/F,CAAb;AAAiHl0F,QAAAA,GAAG,EAAEqR,UAAtH;AAAkIxJ,QAAAA,KAAK,EAAE9D,+CAAQ,CAAC;AAAEquE,UAAAA,UAAU,EAAE6iB,cAAc,CAAC5jF,UAAD,CAAd,GAA6B,QAA7B,GAAwC;AAAtD,SAAD,EAA6DikF,WAA7D;AAAjJ,OAAR,EACjBlxF,mEAAa,CAACowF,YAAD,EAAezwF,+CAAQ,CAAC;AAAEqxB,QAAAA,GAAG,EAAEA,GAAP;AAAY6C,QAAAA,UAAU,EAAEA,UAAxB;AAAoCC,QAAAA,UAAU,EAAEA,UAAhD;AAA4DkyC,QAAAA,eAAe,EAAEA,eAA7E;AAA8FjyC,QAAAA,UAAU,EAAE9mB,UAAU,KAAKu6B,cAAzH;AAAyI6oD,QAAAA,OAAO,EAAGY,OAAO,CAAC3iC,OAAR,GAAkB2iC,OAAO,CAAC5iC,SAA3B,GAAwCtpC;AAA1L,OAAD,EAA+MkO,gEAAU,CAACjC,GAAD,EAAMkC,UAAN,EAAkBC,OAAlB,CAAzN,CAAvB,CADI,CAArB;AAEH,KAND,CAFiB,CAArB;AASH,GAlBD,CA1C2C,CA6D3C;;;AACAo9D,EAAAA,OAAO,CAAC31F,SAAR,CAAkBo2F,kBAAlB,GAAuC,UAAUnD,YAAV,EAAwBv8D,IAAxB,EAA8B;AACjE,QAAIxb,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqBqlE,aAAa,GAAG7kE,EAAE,CAAC6kE,aAAxC;AAAA,QAAuDpxC,WAAW,GAAGzzB,EAAE,CAACyzB,WAAxE;AAAA,QAAqFpE,UAAU,GAAGrvB,EAAE,CAACqvB,UAArG;AAAA,QAAiHC,OAAO,GAAGtvB,EAAE,CAACsvB,OAA9H;AAAA,QAAuIqU,cAAc,GAAG3jC,EAAE,CAAC2jC,cAA3J;AAAA,QAA2KP,SAAS,GAAGpjC,EAAE,CAACojC,SAA1L;AAAA,QAAqME,WAAW,GAAGtjC,EAAE,CAACsjC,WAAtN;AACA,WAAQnnC,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAAiB4tF,YAAY,CAAC5yF,GAAb,CAAiB,UAAUo2F,WAAV,EAAuB;AAC1E,UAAIH,WAAW,GAAGp7E,KAAK,CAACq7E,sBAAN,CAA6BE,WAA7B,CAAlB;;AACA,UAAIhoB,UAAU,GAAGioB,sBAAsB,CAACD,WAAW,CAACxhC,OAAb,EAAsBv+B,IAAtB,CAAvC;AACA,aAAQtxB,mEAAa,CAAC0tF,eAAD,EAAkB;AAAE9xF,QAAAA,GAAG,EAAEqY,oEAAc,CAAC41D,6EAAuB,CAACR,UAAD,CAAxB,CAArB;AAA4DA,QAAAA,UAAU,EAAEA,UAAxE;AAAoFhlC,QAAAA,GAAG,EAAE6sD,WAAW,CAAC7sD,GAArG;AAA0GC,QAAAA,MAAM,EAAE4sD,WAAW,CAAC5sD,MAA9H;AAAsIokC,QAAAA,aAAa,EAAEA,aAArJ;AAAoKpxC,QAAAA,WAAW,EAAEA,WAAjL;AAA8LpE,QAAAA,UAAU,EAAEA,UAA1M;AAAsNC,QAAAA,OAAO,EAAEA,OAA/N;AAAwOqU,QAAAA,cAAc,EAAEA,cAAxP;AAAwQP,QAAAA,SAAS,EAAEA,SAAnR;AAA8RE,QAAAA,WAAW,EAAEA;AAA3S,OAAlB,CAArB;AACH,KAJqC,CAAjB,CAArB;AAKH,GARD;;AASAopD,EAAAA,OAAO,CAAC31F,SAAR,CAAkBm2F,cAAlB,GAAmC,UAAUz/D,IAAV,EAAgB;AAC/C,QAAIztB,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqBwI,IAAI,GAAGhI,EAAE,CAACgI,IAA/B;AAAA,QAAqC4/E,UAAU,GAAG5nF,EAAE,CAAC4nF,UAArD;AACA,QAAI5mE,cAAc,GAAG,KAAKzkB,OAAL,CAAa7D,OAAb,CAAqBsoB,cAA1C;AACA,QAAImpC,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIvrD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6uB,IAAI,CAAC5uB,MAAzB,EAAiCD,CAAC,IAAI,CAAtC,EAAyC;AACrC,UAAIuuB,GAAG,GAAGM,IAAI,CAAC7uB,CAAD,CAAd;AACA,UAAI4rD,SAAS,GAAGo9B,UAAU,CAACkB,cAAX,CAA0B37D,GAAG,CAAChgB,KAA9B,EAAqCnF,IAArC,CAAhB;AACA,UAAIyiD,OAAO,GAAG3kD,IAAI,CAACoO,GAAL,CAASs2C,SAAS,IAAIxpC,cAAc,IAAI,CAAtB,CAAlB,EAA4C;AAC1D4mE,MAAAA,UAAU,CAACkB,cAAX,CAA0B37D,GAAG,CAAC/f,GAA9B,EAAmCpF,IAAnC,CADc,CAAd;AAEAmiD,MAAAA,SAAS,CAAChvD,IAAV,CAAe;AACXoxD,QAAAA,KAAK,EAAE3tD,CADI;AAEX4rD,QAAAA,SAAS,EAAE1kD,IAAI,CAACC,KAAL,CAAWykD,SAAX,CAFA;AAGXC,QAAAA,OAAO,EAAE3kD,IAAI,CAACC,KAAL,CAAW0kD,OAAX,CAHE;AAIXC,QAAAA,SAAS,EAAE;AAJA,OAAf;AAMH;;AACD,WAAOP,SAAP;AACH,GAjBD;;AAkBAuiC,EAAAA,OAAO,CAAC31F,SAAR,CAAkB03E,cAAlB,GAAmC,UAAUhhD,IAAV,EAAgB61C,QAAhB,EAA0B;AACzD,QAAIrxD,KAAK,GAAG,IAAZ;;AACA,QAAIzS,KAAK,GAAG,KAAKA,KAAjB;;AACA,QAAI,CAACA,KAAK,CAACooF,UAAX,EAAuB;AACnB,aAAO,IAAP;AACH;;AACD,QAAIz9B,SAAS,GAAG,KAAK+iC,cAAL,CAAoBz/D,IAApB,CAAhB;AACA,QAAIruB,QAAQ,GAAG+qD,SAAS,CAAC/yD,GAAV,CAAc,UAAUkzD,QAAV,EAAoB;AAC7C,UAAIn9B,GAAG,GAAGM,IAAI,CAAC68B,QAAQ,CAACiC,KAAV,CAAd;AACA,aAAQpwD,mEAAa,CAAC,KAAD,EAAQ;AAAEpE,QAAAA,GAAG,EAAEo4B,wEAAkB,CAAChD,GAAG,CAACY,UAAL,CAAzB;AAA2C3G,QAAAA,SAAS,EAAE,wBAAtD;AAAgFxnB,QAAAA,KAAK,EAAEqS,KAAK,CAACq7E,sBAAN,CAA6BhjC,QAA7B;AAAvF,OAAR,EAAyIgZ,QAAQ,KAAK,UAAb,GAC1JnnE,mEAAa,CAAConE,yDAAD,EAAUznE,+CAAQ,CAAC;AAAEqxB,QAAAA,GAAG,EAAEA;AAAP,OAAD,EAAeiC,gEAAU,CAACjC,GAAD,EAAM3tB,KAAK,CAAC6vB,UAAZ,EAAwB7vB,KAAK,CAAC8vB,OAA9B,CAAzB,CAAlB,CAD6I,GAE1J+zC,gEAAU,CAACC,QAAD,CAFO,CAArB;AAGH,KALc,CAAf;AAMA,WAAOnnE,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAAiBgD,QAAjB,CAApB;AACH,GAdD;;AAeAstF,EAAAA,OAAO,CAAC31F,SAAR,CAAkB+1F,kBAAlB,GAAuC,UAAUr/D,IAAV,EAAgB;AACnD,QAAIztB,EAAE,GAAG,KAAKR,KAAd;AAAA,QAAqBooF,UAAU,GAAG5nF,EAAE,CAAC4nF,UAArC;AAAA,QAAiD5/E,IAAI,GAAGhI,EAAE,CAACgI,IAA3D;;AACA,QAAI,CAAC4/E,UAAL,EAAiB;AACb,aAAO,IAAP;AACH;;AACD,WAAOn6D,IAAI,CAACr2B,GAAL,CAAS,UAAU+1B,GAAV,EAAevuB,CAAf,EAAkB;AAAE,aAAQzC,mEAAa,CAACumE,kEAAD,EAAmB;AAAEC,QAAAA,MAAM,EAAE,KAAV;AAAiB36D,QAAAA,IAAI,EAAEA,IAAvB;AACxE;AACAjQ,QAAAA,GAAG,EAAE6G;AAFmE,OAAnB,EAE3C,UAAUu2C,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2D;AAAE,eAAQz5C,mEAAa,CAAC,KAAD,EAAQ;AAAEs0C,UAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,UAAAA,SAAS,EAAE,CAAC,gCAAD,EAAmC1e,MAAnC,CAA0C2b,UAA1C,EAAsDpN,IAAtD,CAA2D,GAA3D,CAA7B;AAA8FrX,UAAAA,KAAK,EAAE;AAAE4gC,YAAAA,GAAG,EAAEonD,UAAU,CAACkB,cAAX,CAA0B37D,GAAG,CAAChgB,KAA9B,EAAqCnF,IAArC;AAAP;AAArG,SAAR,EAAoK4tC,YAApK,CAArB;AAA0M,OAF5N,CAArB;AAEsP,KAFnR,CAAP;AAGH,GARD;;AASA82C,EAAAA,OAAO,CAAC31F,SAAR,CAAkBu2F,sBAAlB,GAA2C,UAAUI,OAAV,EAAmB;AAC1D,WAAO;AACHltD,MAAAA,GAAG,EAAEktD,OAAO,CAACljC,SADV;AAEH/pB,MAAAA,MAAM,EAAE,CAACitD,OAAO,CAACjjC;AAFd,KAAP;AAIH,GALD;;AAMAiiC,EAAAA,OAAO,CAAC31F,SAAR,CAAkBw2F,sBAAlB,GAA2C,UAAUH,OAAV,EAAmB;AAC1D,QAAIptF,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuB0xC,KAAK,GAAGjuC,EAAE,CAACiuC,KAAlC;AAAA,QAAyCv1C,OAAO,GAAGsH,EAAE,CAACtH,OAAtD;AACA,QAAIi1F,aAAa,GAAGj1F,OAAO,CAACyoB,gBAA5B;AACA,QAAIysE,SAAS,GAAGR,OAAO,CAACpiC,UAAxB,CAH0D,CAGtB;;AACpC,QAAI6iC,QAAQ,GAAGT,OAAO,CAACpiC,UAAR,GAAqBoiC,OAAO,CAAC1iC,SAA5C,CAJ0D,CAIH;;AACvD,QAAIpqB,IAAJ,CAL0D,CAKhD;;AACV,QAAIC,KAAJ,CAN0D,CAM/C;;AACX,QAAIotD,aAAJ,EAAmB;AACf;AACAE,MAAAA,QAAQ,GAAG/nF,IAAI,CAACwB,GAAL,CAAS,CAAT,EAAYsmF,SAAS,GAAG,CAACC,QAAQ,GAAGD,SAAZ,IAAyB,CAAjD,CAAX;AACH;;AACD,QAAI3/C,KAAJ,EAAW;AACP3N,MAAAA,IAAI,GAAG,IAAIutD,QAAX;AACAttD,MAAAA,KAAK,GAAGqtD,SAAR;AACH,KAHD,MAIK;AACDttD,MAAAA,IAAI,GAAGstD,SAAP;AACArtD,MAAAA,KAAK,GAAG,IAAIstD,QAAZ;AACH;;AACD,QAAIruF,KAAK,GAAG;AACRu2E,MAAAA,MAAM,EAAEqX,OAAO,CAACpB,UAAR,GAAqB,CADrB;AAER1rD,MAAAA,IAAI,EAAEA,IAAI,GAAG,GAAP,GAAa,GAFX;AAGRC,MAAAA,KAAK,EAAEA,KAAK,GAAG,GAAR,GAAc;AAHb,KAAZ;;AAKA,QAAIotD,aAAa,IAAI,CAACP,OAAO,CAACnB,YAA9B,EAA4C;AACxC;AACAzsF,MAAAA,KAAK,CAACyuC,KAAK,GAAG,YAAH,GAAkB,aAAxB,CAAL,GAA8C,KAAK,CAAnD,CAFwC,CAEc;AACzD;;AACD,WAAOzuC,KAAP;AACH,GA7BD;;AA8BA,SAAOktF,OAAP;AACH,CAtJ4B,CAsJ3Bp8C,+DAtJ2B,CAA7B;;AAuJA,SAASw5C,iBAAT,CAA2B+C,YAA3B,EAAyC7sF,EAAzC,EAA6C;AACzC,MAAIqvB,UAAU,GAAGrvB,EAAE,CAACqvB,UAApB;AAAA,MAAgCC,OAAO,GAAGtvB,EAAE,CAACsvB,OAA7C;AAAA,MAAsDqU,cAAc,GAAG3jC,EAAE,CAAC2jC,cAA1E;AAAA,MAA0FP,SAAS,GAAGpjC,EAAE,CAACojC,SAAzG;AAAA,MAAoHE,WAAW,GAAGtjC,EAAE,CAACsjC,WAArI;AACA,MAAIwqD,eAAe,GAAG,CAAC1qD,SAAS,GAAGA,SAAS,CAACk1B,iBAAb,GAAiC,IAA3C,MACjBh1B,WAAW,GAAGA,WAAW,CAACg1B,iBAAf,GAAmC,IAD7B,KAElB,EAFJ;AAGA,SAAQn8D,mEAAa,CAACC,0DAAD,EAAW,IAAX,EAAiBywF,YAAY,CAACz1F,GAAb,CAAiB,UAAU+1B,GAAV,EAAe;AAClE,QAAI/jB,UAAU,GAAG+jB,GAAG,CAACY,UAAJ,CAAephB,QAAf,CAAwBvD,UAAzC;AACA,WAAQjN,mEAAa,CAAC,KAAD,EAAQ;AAAEpE,MAAAA,GAAG,EAAEqR,UAAP;AAAmBxJ,MAAAA,KAAK,EAAE;AAAEuqE,QAAAA,UAAU,EAAE2jB,eAAe,CAAC1kF,UAAD,CAAf,GAA8B,QAA9B,GAAyC;AAAvD;AAA1B,KAAR,EACjBjN,mEAAa,CAACowF,YAAD,EAAezwF,+CAAQ,CAAC;AAAEqxB,MAAAA,GAAG,EAAEA,GAAP;AAAY6C,MAAAA,UAAU,EAAE,KAAxB;AAA+BC,MAAAA,UAAU,EAAE,KAA3C;AAAkDkyC,MAAAA,eAAe,EAAE,KAAnE;AAA0EjyC,MAAAA,UAAU,EAAE9mB,UAAU,KAAKu6B,cAArG;AAAqH6oD,MAAAA,OAAO,EAAE;AAA9H,KAAD,EAAwIp9D,gEAAU,CAACjC,GAAD,EAAMkC,UAAN,EAAkBC,OAAlB,CAAlJ,CAAvB,CADI,CAArB;AAEH,GAJqC,CAAjB,CAArB;AAKH;;AACD,SAASm+D,sBAAT,CAAgCM,UAAhC,EAA4CxoB,OAA5C,EAAqD;AACjD,SAAOwoB,UAAU,CAAC32F,GAAX,CAAe,UAAU42F,QAAV,EAAoB;AAAE,WAAOzoB,OAAO,CAACyoB,QAAQ,CAAC1jC,QAAT,CAAkBiC,KAAnB,CAAd;AAA0C,GAA/E,CAAP;AACH;;AAED,IAAI0hC,eAAe;AAAG;AAAe,UAAUrhD,MAAV,EAAkB;AACnD5wC,EAAAA,gDAAS,CAACiyF,eAAD,EAAkBrhD,MAAlB,CAAT;;AACA,WAASqhD,eAAT,GAA2B;AACvB,QAAIh8E,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACo+D,gBAAN,GAAyB7+D,6DAAO,CAACk4E,cAAD,CAAhC;AACAz3E,IAAAA,KAAK,CAACm+D,gBAAN,GAAyB5+D,6DAAO,CAACk4E,cAAD,CAAhC;AACAz3E,IAAAA,KAAK,CAACk+D,qBAAN,GAA8B3+D,6DAAO,CAACk4E,cAAD,CAArC;AACAz3E,IAAAA,KAAK,CAACi8E,qBAAN,GAA8B18E,6DAAO,CAACk4E,cAAD,CAArC;AACAz3E,IAAAA,KAAK,CAACq+D,sBAAN,GAA+B9+D,6DAAO,CAACk4E,cAAD,CAAtC;AACAz3E,IAAAA,KAAK,CAACuwB,cAAN,GAAuBhxB,6DAAO,CAACo4E,qBAAD,CAA9B;AACA33E,IAAAA,KAAK,CAACywB,gBAAN,GAAyBlxB,6DAAO,CAACo4E,qBAAD,CAAhC;AACA33E,IAAAA,KAAK,CAACkjC,SAAN,GAAkBj5C,+DAAS,EAA3B;AACA+V,IAAAA,KAAK,CAACs7D,UAAN,GAAmB,IAAI1Q,wDAAJ,EAAnB;AACA,WAAO5qD,KAAP;AACH;;AACDg8E,EAAAA,eAAe,CAACl3F,SAAhB,CAA0BgC,MAA1B,GAAmC,YAAY;AAC3C,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAI+rF,eAAe,GAAG/rF,OAAO,CAAC7D,OAAR,CAAgB8iB,YAAhB,IAClBhc,KAAK,CAACooF,UADY,IAElBpoF,KAAK,CAACooF,UAAN,CAAiBW,cAAjB,CAAgC/oF,KAAK,CAAC8vB,OAAtC,CAFJ,CAH2C,CAKS;;AACpD,QAAIskC,MAAM,GAAGp0D,KAAK,CAAC62D,KAAN,CAAYx3D,MAAzB;AACA,QAAI6xE,gBAAgB,GAAG,KAAKL,gBAAL,CAAsB7wE,KAAK,CAACw4D,WAA5B,EAAyCpE,MAAzC,CAAvB;AACA,QAAI6c,gBAAgB,GAAG,KAAKL,gBAAL,CAAsB5wE,KAAK,CAACy4D,WAA5B,EAAyCrE,MAAzC,CAAvB;AACA,QAAI4c,qBAAqB,GAAG,KAAKL,qBAAL,CAA2B3wE,KAAK,CAACu4D,gBAAjC,EAAmDnE,MAAnD,CAA5B;AACA,QAAIu6B,qBAAqB,GAAG,KAAKD,qBAAL,CAA2B1uF,KAAK,CAACutF,gBAAjC,EAAmDn5B,MAAnD,CAA5B;AACA,QAAI+c,sBAAsB,GAAG,KAAKL,sBAAL,CAA4B9wE,KAAK,CAACs4D,iBAAlC,EAAqDlE,MAArD,CAA7B;AACA,QAAIgd,cAAc,GAAG,KAAKpuC,cAAL,CAAoBhjC,KAAK,CAAC4jC,SAA1B,EAAqCwwB,MAArC,CAArB;AACA,QAAIid,gBAAgB,GAAG,KAAKnuC,gBAAL,CAAsBljC,KAAK,CAAC8jC,WAA5B,EAAyCswB,MAAzC,CAAvB;AACA,WAAQz3D,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE,kBAAb;AAAiCqpB,MAAAA,GAAG,EAAE,KAAK0E;AAA3C,KAAR,EACjBh5C,mEAAa,CAAC,OAAD,EAAU;AAAEyD,MAAAA,KAAK,EAAE;AACxBy+D,QAAAA,QAAQ,EAAE7+D,KAAK,CAAC8+D,aADQ;AAExB95D,QAAAA,KAAK,EAAEhF,KAAK,CAACknC;AAFW;AAAT,KAAV,EAITlnC,KAAK,CAAC++D,iBAJG,EAKTpiE,mEAAa,CAAC,OAAD,EAAU,IAAV,EACTA,mEAAa,CAAC,IAAD,EAAO,IAAP,EACTqD,KAAK,CAAC6pF,IAAN,IAAeltF,mEAAa,CAAC,IAAD,EAAO;AAAEirB,MAAAA,SAAS,EAAE;AAAb,KAAP,EACxBjrB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE;AAAb,KAAR,EACTjrB,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE;AAAb,KAAR,EAA8D,OAAOkhE,eAAP,KAA2B,QAA3B,IAAwCnsF,mEAAa,CAACumE,kEAAD,EAAmB;AAAEC,MAAAA,MAAM,EAAE,IAAV;AAAgB36D,MAAAA,IAAI,EAAExI,KAAK,CAAC8vB;AAA5B,KAAnB,EAA0D,UAAU6lB,SAAV,EAAqB9wB,UAArB,EAAiCsxB,UAAjC,EAA6CC,YAA7C,EAA2D;AAAE,aAAQz5C,mEAAa,CAAC,KAAD,EAAQ;AAAEs0C,QAAAA,GAAG,EAAE0E,SAAP;AAAkB/tB,QAAAA,SAAS,EAAE,CAAC,iCAAD,EAAoC1e,MAApC,CAA2C2b,UAA3C,EAAuDpN,IAAvD,CAA4D,GAA5D,CAA7B;AAA+FrX,QAAAA,KAAK,EAAE;AAAE4gC,UAAAA,GAAG,EAAE8nD;AAAP;AAAtG,OAAR,EAA0I1yC,YAA1I,CAArB;AAAgL,KAAvS,CAAnH,CADJ,CADW,CADnB,EAITp2C,KAAK,CAAC62D,KAAN,CAAYj/D,GAAZ,CAAgB,UAAU82E,IAAV,EAAgBtvE,CAAhB,EAAmB;AAAE,aAAQzC,mEAAa,CAACuwF,OAAD,EAAU;AAAE30F,QAAAA,GAAG,EAAEm2E,IAAI,CAACn2E,GAAZ;AAAiBs9C,QAAAA,KAAK,EAAEpjC,KAAK,CAACs7D,UAAN,CAAiBrxE,SAAjB,CAA2BgyE,IAAI,CAACn2E,GAAhC,CAAxB;AAA8D07B,QAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAAjF;AAA8FzrB,QAAAA,IAAI,EAAEkmE,IAAI,CAAClmE,IAAzG;AAA+GsnB,QAAAA,OAAO,EAAE9vB,KAAK,CAAC8vB,OAA9H;AAAuID,QAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAAzJ;AAAqKykC,QAAAA,cAAc,EAAEoa,IAAI,CAACpa,cAA1L;AAA0ME,QAAAA,cAAc,EAAEka,IAAI,CAACla,cAA/N;AAA+OG,QAAAA,eAAe,EAAE+Z,IAAI,CAAC/Z,eAArQ;AAAsR0Q,QAAAA,aAAa,EAAEqJ,IAAI,CAACrJ,aAA1S;AAAyT7M,QAAAA,WAAW,EAAE0Y,gBAAgB,CAAC9xE,CAAD,CAAtV;AAA2Vq5D,QAAAA,WAAW,EAAEwY,gBAAgB,CAAC7xE,CAAD,CAAxX;AAA6Xm5D,QAAAA,gBAAgB,EAAEyY,qBAAqB,CAAC5xE,CAAD,CAApa;AAAyamuF,QAAAA,gBAAgB,EAAEoB,qBAAqB,CAACvvF,CAAD,CAAhd;AAAqdk5D,QAAAA,iBAAiB,EAAE6Y,sBAAsB,CAAC/xE,CAAD,CAA9f;AAAmgBwkC,QAAAA,SAAS,EAAEwtC,cAAc,CAAChyE,CAAD,CAA5hB;AAAiiB0kC,QAAAA,WAAW,EAAEutC,gBAAgB,CAACjyE,CAAD,CAA9jB;AAAmkBgpF,QAAAA,UAAU,EAAEpoF,KAAK,CAACooF,UAArlB;AAAimBjkD,QAAAA,cAAc,EAAEnkC,KAAK,CAACmkC,cAAvnB;AAAuoBuuB,QAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD;AAAvpB,OAAV,CAArB;AAAqsB,KAA1uB,CAJS,CADJ,CALJ,CADI,CAArB;AAYH,GA1BD;;AA2BA+7B,EAAAA,eAAe,CAACl3F,SAAhB,CAA0Bo/C,iBAA1B,GAA8C,YAAY;AACtD,SAAKi4C,YAAL;AACH,GAFD;;AAGAH,EAAAA,eAAe,CAACl3F,SAAhB,CAA0Bs/C,kBAA1B,GAA+C,YAAY;AACvD,SAAK+3C,YAAL;AACH,GAFD;;AAGAH,EAAAA,eAAe,CAACl3F,SAAhB,CAA0Bq3F,YAA1B,GAAyC,YAAY;AACjD,QAAI5uF,KAAK,GAAG,KAAKA,KAAjB;;AACA,QAAIA,KAAK,CAAC6uF,WAAN,IACA7uF,KAAK,CAACknC,WAAN,KAAsB,IAD1B,CAC+B;AAD/B,MAEE;AACElnC,MAAAA,KAAK,CAAC6uF,WAAN,CAAkB,IAAI/jD,+DAAJ,CAAkB,KAAK6K,SAAL,CAAezE,OAAjC,EAA0C49C,cAAc,CAAC,KAAK/gB,UAAL,CAAgBxQ,UAAjB,EAA6Bv9D,KAAK,CAAC62D,KAAnC,CAAxD,EAAmG,IAAnG,EAAyG;AAC3H,WADkB,CAAlB;AAEH;AACJ,GARD;;AASA,SAAO43B,eAAP;AACH,CA1DoC,CA0DnC39C,+DA1DmC,CAArC;;AA2DA,SAASg+C,cAAT,CAAwB5e,KAAxB,EAA+BrZ,KAA/B,EAAsC;AAClC,SAAOA,KAAK,CAACj/D,GAAN,CAAU,UAAU82E,IAAV,EAAgB;AAAE,WAAOwB,KAAK,CAACxB,IAAI,CAACn2E,GAAN,CAAZ;AAAyB,GAArD,CAAP;AACH;AAED;AACA;;;AACA,IAAIw2F,QAAQ;AAAG;AAAe,UAAU3hD,MAAV,EAAkB;AAC5C5wC,EAAAA,gDAAS,CAACuyF,QAAD,EAAW3hD,MAAX,CAAT;;AACA,WAAS2hD,QAAT,GAAoB;AAChB,QAAIt8E,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACu8E,kBAAN,GAA2Bh9E,6DAAO,CAACg9E,kBAAD,CAAlC;AACAv8E,IAAAA,KAAK,CAACwkB,KAAN,GAAc;AACVmxD,MAAAA,UAAU,EAAE;AADF,KAAd;;AAGA31E,IAAAA,KAAK,CAACmjC,YAAN,GAAqB,UAAU53C,EAAV,EAAc;AAC/B,UAAIA,EAAJ,EAAQ;AACJyU,QAAAA,KAAK,CAAC1V,OAAN,CAAc+yC,4BAAd,CAA2Cr9B,KAA3C,EAAkD;AAC9CzU,UAAAA,EAAE,EAAEA,EAD0C;AAE9C4vD,UAAAA,iBAAiB,EAAEn7C,KAAK,CAACzS,KAAN,CAAY4tD;AAFe,SAAlD;AAIH,OALD,MAMK;AACDn7C,QAAAA,KAAK,CAAC1V,OAAN,CAAcgzC,8BAAd,CAA6Ct9B,KAA7C;AACH;AACJ,KAVD;;AAWAA,IAAAA,KAAK,CAACw8B,mBAAN,GAA4B,UAAUC,OAAV,EAAmB;AAC3C,UAAI+/C,kBAAkB,GAAGx8E,KAAK,CAACzS,KAAN,CAAYivF,kBAArC;AACA,UAAI7G,UAAU,GAAG31E,KAAK,CAACwkB,KAAN,CAAYmxD,UAA7B;;AACA,UAAI6G,kBAAkB,IAAI7G,UAA1B,EAAsC;AAClC,YAAIl5C,OAAO,CAACxU,IAAZ,EAAkB;AACd,cAAIw0D,KAAK,GAAG9G,UAAU,CAACiB,cAAX,CAA0Bn6C,OAAO,CAACxU,IAAlC,CAAZ;AACAw0D,UAAAA,KAAK,GAAG5oF,IAAI,CAACgwD,IAAL,CAAU44B,KAAV,CAAR,CAFc,CAEY;;AAC1B,cAAIA,KAAJ,EAAW;AACPA,YAAAA,KAAK,IAAI,CAAT,CADO,CACK;AACf;;AACDD,UAAAA,kBAAkB,CAACC,KAAD,CAAlB;AACH;;AACD,eAAO,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KAfD;;AAgBAz8E,IAAAA,KAAK,CAAC08E,eAAN,GAAwB,UAAUC,SAAV,EAAqB;AACzC38E,MAAAA,KAAK,CAAC28E,SAAN,GAAkBA,SAAlB;AACH,KAFD;;AAGA38E,IAAAA,KAAK,CAACk2E,gBAAN,GAAyB,UAAUP,UAAV,EAAsB;AAC3C31E,MAAAA,KAAK,CAACo3C,QAAN,CAAe;AAAEu+B,QAAAA,UAAU,EAAEA;AAAd,OAAf;;AACA,UAAI31E,KAAK,CAACzS,KAAN,CAAYqvF,YAAhB,EAA8B;AAC1B58E,QAAAA,KAAK,CAACzS,KAAN,CAAYqvF,YAAZ,CAAyBjH,UAAzB;AACH;AACJ,KALD;;AAMA,WAAO31E,KAAP;AACH;;AACDs8E,EAAAA,QAAQ,CAACx3F,SAAT,CAAmBgC,MAAnB,GAA4B,YAAY;AACpC,QAAIiH,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCi3B,KAAK,GAAGz2B,EAAE,CAACy2B,KAA5C;;AACA,WAAQt6B,mEAAa,CAAC,KAAD,EAAQ;AAAEirB,MAAAA,SAAS,EAAE,kBAAb;AAAiCqpB,MAAAA,GAAG,EAAE,KAAK2E,YAA3C;AAAyDx1C,MAAAA,KAAK,EAAE;AACrF;AACA;AACA4E,QAAAA,KAAK,EAAEhF,KAAK,CAACknC,WAHwE;AAIrF23B,QAAAA,QAAQ,EAAE7+D,KAAK,CAAC8+D;AAJqE;AAAhE,KAAR,EAMjBniE,mEAAa,CAACmtF,aAAD,EAAgB;AAAED,MAAAA,IAAI,EAAE7pF,KAAK,CAAC6pF,IAAd;AAAoB51D,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAAvC;AAAoD8zD,MAAAA,SAAS,EAAE/nF,KAAK,CAAC+nF,SAArE;AAAgF7gD,MAAAA,WAAW,EAAElnC,KAAK,CAACknC,WAAnG;AAAgH6iD,MAAAA,SAAS,EAAE/pF,KAAK,CAACud,UAAN,GAAmBvd,KAAK,CAACgnC,YAAzB,GAAwC,EAAnK;AAAuK83B,MAAAA,aAAa,EAAE9+D,KAAK,CAAC8+D,aAA5L;AAA2MC,MAAAA,iBAAiB,EAAE/+D,KAAK,CAAC6pF,IAAN,GAAa7pF,KAAK,CAAC++D,iBAAnB,GAAuC;AAAK;AAA1Q;AAA0TirB,MAAAA,QAAQ,EAAE,KAAKrB;AAAzU,KAAhB,CANI,EAOjBhsF,mEAAa,CAAC8xF,eAAD,EAAkB;AAAE53B,MAAAA,KAAK,EAAE72D,KAAK,CAAC62D,KAAf;AAAsBgzB,MAAAA,IAAI,EAAE7pF,KAAK,CAAC6pF,IAAlC;AAAwC51D,MAAAA,WAAW,EAAEj0B,KAAK,CAACi0B,WAA3D;AAAwEskC,MAAAA,gBAAgB,EAAEv4D,KAAK,CAACu4D,gBAAhG;AAAkHE,MAAAA,WAAW,EAAEz4D,KAAK,CAACy4D,WAArI;AAAkJD,MAAAA,WAAW,EAAEx4D,KAAK,CAACw4D,WAArK;AAAkLF,MAAAA,iBAAiB,EAAEt4D,KAAK,CAACs4D,iBAA3M;AAA8Nn0B,MAAAA,cAAc,EAAEnkC,KAAK,CAACmkC,cAApP;AAAoQP,MAAAA,SAAS,EAAE5jC,KAAK,CAAC4jC,SAArR;AAAgSE,MAAAA,WAAW,EAAE9jC,KAAK,CAAC8jC,WAAnT;AAAgUjU,MAAAA,UAAU,EAAE7vB,KAAK,CAAC6vB,UAAlV;AAA8VC,MAAAA,OAAO,EAAE9vB,KAAK,CAAC8vB,OAA7W;AAAsXy9D,MAAAA,gBAAgB,EAAEvtF,KAAK,CAACutF,gBAA9Y;AAAgarmD,MAAAA,WAAW,EAAElnC,KAAK,CAACknC,WAAnb;AAAgc43B,MAAAA,aAAa,EAAE9+D,KAAK,CAAC8+D,aAArd;AAAoeC,MAAAA,iBAAiB,EAAE/+D,KAAK,CAAC++D,iBAA7f;AAAghBqpB,MAAAA,UAAU,EAAEnxD,KAAK,CAACmxD,UAAliB;AAA8iByG,MAAAA,WAAW,EAAE,KAAKM,eAAhkB;AAAilBz8B,MAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD;AAAjmB,KAAlB,CAPI,CAArB;AAQH,GAVD;;AAWAq8B,EAAAA,QAAQ,CAACx3F,SAAT,CAAmBo/C,iBAAnB,GAAuC,YAAY;AAC/C,SAAK24C,eAAL,GAAuB,KAAKvyF,OAAL,CAAamzC,qBAAb,CAAmC,KAAKjB,mBAAxC,CAAvB;AACH,GAFD;;AAGA8/C,EAAAA,QAAQ,CAACx3F,SAAT,CAAmBs/C,kBAAnB,GAAwC,UAAUiT,SAAV,EAAqB;AACzD,SAAKwlC,eAAL,CAAqB//C,MAArB,CAA4Bua,SAAS,CAAC71B,WAAV,KAA0B,KAAKj0B,KAAL,CAAWi0B,WAAjE;AACH,GAFD;;AAGA86D,EAAAA,QAAQ,CAACx3F,SAAT,CAAmBu/C,oBAAnB,GAA0C,YAAY;AAClD,SAAKw4C,eAAL,CAAqBhgD,MAArB;AACH,GAFD;;AAGAy/C,EAAAA,QAAQ,CAACx3F,SAAT,CAAmB+5C,QAAnB,GAA8B,UAAUC,YAAV,EAAwBC,WAAxB,EAAqC;AAC/D,QAAIhxC,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuBqP,OAAO,GAAG5L,EAAE,CAAC4L,OAApC;AAAA,QAA6ClT,OAAO,GAAGsH,EAAE,CAACtH,OAA1D;AACA,QAAIk2F,SAAS,GAAG,KAAKA,SAArB;AACA,QAAIn7D,WAAW,GAAG,KAAKj0B,KAAL,CAAWi0B,WAA7B;AACA,QAAIm0D,UAAU,GAAG,KAAKnxD,KAAL,CAAWmxD,UAA5B;;AACA,QAAI3nF,EAAE,GAAG,KAAKuuF,kBAAL,CAAwB,KAAKhvF,KAAL,CAAWma,YAAnC,EAAiDjhB,OAAO,CAACkhB,YAAzD,CAAT;AAAA,QAAiFA,YAAY,GAAG3Z,EAAE,CAAC2Z,YAAnG;AAAA,QAAiHm1E,YAAY,GAAG9uF,EAAE,CAAC8uF,YAAnI;;AACA,QAAIC,QAAQ,GAAGJ,SAAS,CAACxjD,WAAV,CAAsB2F,YAAtB,CAAf;AACA,QAAIk4C,SAAS,GAAGrB,UAAU,CAACc,SAAX,CAAqBp9C,UAArB,CAAgC0F,WAAhC,CAAhB;;AACA,QAAIg+C,QAAQ,IAAI,IAAZ,IAAoB/F,SAAS,IAAI,IAArC,EAA2C;AACvC,UAAI/a,IAAI,GAAG,KAAK1uE,KAAL,CAAW62D,KAAX,CAAiB24B,QAAjB,CAAX;AACA,UAAIC,OAAO,GAAGrH,UAAU,CAACc,SAAX,CAAqBx9C,IAArB,CAA0B+9C,SAA1B,CAAd;AACA,UAAIiG,UAAU,GAAGtH,UAAU,CAACc,SAAX,CAAqBh9C,SAArB,CAA+Bu9C,SAA/B,CAAjB;AACA,UAAIkG,OAAO,GAAG,CAACn+C,WAAW,GAAGi+C,OAAf,IAA0BC,UAAxC,CAJuC,CAIa;;AACpD,UAAIE,cAAc,GAAGtpF,IAAI,CAAC6B,KAAL,CAAWwnF,OAAO,GAAGJ,YAArB,CAArB,CALuC,CAKkB;;AACzD,UAAIM,SAAS,GAAGpG,SAAS,GAAG8F,YAAZ,GAA2BK,cAA3C;AACA,UAAI7K,OAAO,GAAG,KAAK/kF,KAAL,CAAW62D,KAAX,CAAiB24B,QAAjB,EAA2BhnF,IAAzC;AACA,UAAIkyB,IAAI,GAAG7qB,kEAAY,CAACokB,WAAW,CAACja,WAAb,EAA0BjK,sEAAgB,CAACqK,YAAD,EAAey1E,SAAf,CAA1C,CAAvB;AACA,UAAIliF,KAAK,GAAGvB,OAAO,CAAC5J,GAAR,CAAYuiF,OAAZ,EAAqBrqD,IAArB,CAAZ;AACA,UAAI9sB,GAAG,GAAGxB,OAAO,CAAC5J,GAAR,CAAYmL,KAAZ,EAAmByM,YAAnB,CAAV;AACA,aAAO;AACH6Z,QAAAA,WAAW,EAAEA,WADV;AAEHlC,QAAAA,QAAQ,EAAEz1B,+CAAQ,CAAC;AAAEmN,UAAAA,KAAK,EAAE;AAAEkE,YAAAA,KAAK,EAAEA,KAAT;AAAgBC,YAAAA,GAAG,EAAEA;AAArB,WAAT;AAAqCpB,UAAAA,MAAM,EAAE;AAA7C,SAAD,EAAuDkiE,IAAI,CAACrJ,aAA5D,CAFf;AAGHC,QAAAA,KAAK,EAAE8pB,SAAS,CAACpkD,GAAV,CAAcwkD,QAAd,CAHJ;AAIH3uD,QAAAA,IAAI,EAAE;AACFC,UAAAA,IAAI,EAAEsuD,SAAS,CAAC7jD,KAAV,CAAgBikD,QAAhB,CADJ;AAEFzuD,UAAAA,KAAK,EAAEquD,SAAS,CAAC5jD,MAAV,CAAiBgkD,QAAjB,CAFL;AAGFxuD,UAAAA,GAAG,EAAEyuD,OAHH;AAIFxuD,UAAAA,MAAM,EAAEwuD,OAAO,GAAGC;AAJhB,SAJH;AAUHnqB,QAAAA,KAAK,EAAE;AAVJ,OAAP;AAYH;;AACD,WAAO,IAAP;AACH,GAjCD;;AAkCA,SAAOwpB,QAAP;AACH,CArG6B,CAqG5B59C,+DArG4B,CAA9B;;AAsGA,SAAS69C,kBAAT,CAA4B70E,YAA5B,EAA0C21E,oBAA1C,EAAgE;AAC5D,MAAI11E,YAAY,GAAG01E,oBAAoB,IAAI31E,YAA3C;AACA,MAAIo1E,YAAY,GAAGj/E,0EAAoB,CAAC6J,YAAD,EAAeC,YAAf,CAAvC;;AACA,MAAIm1E,YAAY,KAAK,IAArB,EAA2B;AACvBn1E,IAAAA,YAAY,GAAGD,YAAf;AACAo1E,IAAAA,YAAY,GAAG,CAAf,CAFuB,CAGvB;AACH;;AACD,SAAO;AAAEn1E,IAAAA,YAAY,EAAEA,YAAhB;AAA8Bm1E,IAAAA,YAAY,EAAEA;AAA5C,GAAP;AACH;;AAED,IAAIQ,iBAAiB;AAAG;AAAe,UAAU3iD,MAAV,EAAkB;AACrD5wC,EAAAA,gDAAS,CAACuzF,iBAAD,EAAoB3iD,MAApB,CAAT;;AACA,WAAS2iD,iBAAT,GAA6B;AACzB,WAAO3iD,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDw9E,EAAAA,iBAAiB,CAACx4F,SAAlB,CAA4By+D,UAA5B,GAAyC,UAAUvsD,KAAV,EAAiBw8E,SAAjB,EAA4B;AACjE,QAAIh4D,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIkpC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG8uB,SAAS,CAAC5mF,MAAlC,EAA0C83D,GAAG,IAAI,CAAjD,EAAoD;AAChD,UAAIpnC,QAAQ,GAAGlE,qEAAe,CAACpiB,KAAD,EAAQw8E,SAAS,CAAC9uB,GAAD,CAAjB,CAA9B;;AACA,UAAIpnC,QAAJ,EAAc;AACV9B,QAAAA,IAAI,CAACtyB,IAAL,CAAU;AACNgS,UAAAA,KAAK,EAAEoiB,QAAQ,CAACpiB,KADV;AAENC,UAAAA,GAAG,EAAEmiB,QAAQ,CAACniB,GAFR;AAGNsf,UAAAA,OAAO,EAAE6C,QAAQ,CAACpiB,KAAT,CAAe7V,OAAf,OAA6B2R,KAAK,CAACkE,KAAN,CAAY7V,OAAZ,EAHhC;AAINq1B,UAAAA,KAAK,EAAE4C,QAAQ,CAACniB,GAAT,CAAa9V,OAAb,OAA2B2R,KAAK,CAACmE,GAAN,CAAU9V,OAAV,EAJ5B;AAKNq/D,UAAAA,GAAG,EAAEA;AALC,SAAV;AAOH;AACJ;;AACD,WAAOlpC,IAAP;AACH,GAfD;;AAgBA,SAAO8hE,iBAAP;AACH,CAtBsC,CAsBrCt4B,wDAtBqC,CAAvC;;AAwBA,IAAIu4B,WAAW;AAAG;AAAe,UAAU5iD,MAAV,EAAkB;AAC/C5wC,EAAAA,gDAAS,CAACwzF,WAAD,EAAc5iD,MAAd,CAAT;;AACA,WAAS4iD,WAAT,GAAuB;AACnB,QAAIv9E,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACw9E,cAAN,GAAuBj+E,6DAAO,CAACi+E,cAAD,CAA9B;AACAx9E,IAAAA,KAAK,CAACy/D,MAAN,GAAe,IAAI6d,iBAAJ,EAAf;AACAt9E,IAAAA,KAAK,CAACy9E,WAAN,GAAoBxzF,+DAAS,EAA7B;AACA,WAAO+V,KAAP;AACH;;AACDu9E,EAAAA,WAAW,CAACz4F,SAAZ,CAAsBgC,MAAtB,GAA+B,YAAY;AACvC,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,IAAT;AAAA,QAAeR,KAAK,GAAGQ,EAAE,CAACR,KAA1B;AAAA,QAAiCjD,OAAO,GAAGyD,EAAE,CAACzD,OAA9C;;AACA,QAAIk3B,WAAW,GAAGj0B,KAAK,CAACi0B,WAAxB;AAAA,QAAqC+9C,aAAa,GAAGhyE,KAAK,CAACgyE,aAA3D;AACA,QAAI6W,cAAc,GAAG9rF,OAAO,CAAC7D,OAAR,CAAgB8iB,YAArC;AACA,QAAIiqE,SAAS,GAAG,KAAKgK,cAAL,CAAoBje,aAApB,EAAmC/9C,WAAnC,EAAgDl3B,OAAO,CAACqP,OAAxD,CAAhB,CALuC,CAMvC;AACA;;AACA,WAAQzP,mEAAa,CAACi4D,0DAAD,EAAW;AAAEvmD,MAAAA,IAAI,EAAEw6E,cAAc,GAAG,QAAH,GAAc;AAApC,KAAX,EAAwD,UAAU/4D,OAAV,EAAmBD,UAAnB,EAA+B;AAAE,aAAQlzB,mEAAa,CAACoyF,QAAD,EAAWzyF,+CAAQ,CAAC;AAAE20C,QAAAA,GAAG,EAAEx+B,KAAK,CAACy9E;AAAb,OAAD,EAA6Bz9E,KAAK,CAACy/D,MAAN,CAAa/Z,UAAb,CAAwBn4D,KAAxB,EAA+Bi0B,WAA/B,EAA4C,IAA5C,EAAkDl3B,OAAlD,EAA2DkpF,SAA3D,CAA7B,EAAoG;AAAEvzB,QAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD,QAAlB;AAA4Bm3B,QAAAA,IAAI,EAAE7pF,KAAK,CAAC6pF,IAAxC;AAA8C51D,QAAAA,WAAW,EAAEA,WAA3D;AAAwE8zD,QAAAA,SAAS,EAAE/nF,KAAK,CAAC+nF,SAAzF;AAAoG5tE,QAAAA,YAAY,EAAEna,KAAK,CAACma,YAAxH;AAAsI08C,QAAAA,KAAK,EAAEmb,aAAa,CAACnb,KAAd,CAAoB,CAApB,CAA7I;AAAqKkI,QAAAA,iBAAiB,EAAE/+D,KAAK,CAAC++D,iBAA9L;AAAiND,QAAAA,aAAa,EAAE9+D,KAAK,CAAC8+D,aAAtO;AAAqP53B,QAAAA,WAAW,EAAElnC,KAAK,CAACknC,WAAxQ;AAAqRF,QAAAA,YAAY,EAAEhnC,KAAK,CAACgnC,YAAzS;AAAuTzpB,QAAAA,UAAU,EAAEvd,KAAK,CAACud,UAAzU;AAAqVuS,QAAAA,OAAO,EAAEA,OAA9V;AAAuWy9D,QAAAA,gBAAgB,EAAE1E,cAAc,IAAIp2E,KAAK,CAACy/D,MAAN,CAAaxZ,YAAb,CAA0B5oC,OAA1B,EAAmC/yB,OAAnC,EAA4CkpF,SAA5C,CAA3Y;AAAmcp2D,QAAAA,UAAU,EAAEA,UAA/c;AAA2do/D,QAAAA,kBAAkB,EAAEjvF,KAAK,CAACivF,kBAArf;AAAygBI,QAAAA,YAAY,EAAErvF,KAAK,CAACqvF;AAA7hB,OAApG,CAAnB,CAArB;AAA6rB,KAAtxB,CAArB;AACH,GATD;;AAUA,SAAOW,WAAP;AACH,CApBgC,CAoB/B7+C,+DApB+B,CAAjC;;AAqBA,SAAS8+C,cAAT,CAAwBje,aAAxB,EAAuC/9C,WAAvC,EAAoD7nB,OAApD,EAA6D;AACzD,MAAIif,MAAM,GAAG,EAAb;;AACA,OAAK,IAAI1gB,EAAE,GAAG,CAAT,EAAYnK,EAAE,GAAGwxE,aAAa,CAACjb,WAApC,EAAiDpsD,EAAE,GAAGnK,EAAE,CAACnB,MAAzD,EAAiEsL,EAAE,EAAnE,EAAuE;AACnE,QAAInC,IAAI,GAAGhI,EAAE,CAACmK,EAAD,CAAb;AACA0gB,IAAAA,MAAM,CAAC1vB,IAAP,CAAY;AACRgS,MAAAA,KAAK,EAAEvB,OAAO,CAAC5J,GAAR,CAAYgG,IAAZ,EAAkByrB,WAAW,CAACja,WAA9B,CADC;AAERpM,MAAAA,GAAG,EAAExB,OAAO,CAAC5J,GAAR,CAAYgG,IAAZ,EAAkByrB,WAAW,CAACha,WAA9B;AAFG,KAAZ;AAIH;;AACD,SAAOoR,MAAP;AACH,EAED;AACA;;;AACA,IAAI8kE,mBAAmB,GAAG,CACtB;AAAEthF,EAAAA,KAAK,EAAE;AAAT,CADsB,EAEtB;AAAEE,EAAAA,OAAO,EAAE;AAAX,CAFsB,EAGtB;AAAEA,EAAAA,OAAO,EAAE;AAAX,CAHsB,EAItB;AAAEE,EAAAA,OAAO,EAAE;AAAX,CAJsB,EAKtB;AAAEA,EAAAA,OAAO,EAAE;AAAX,CALsB,CAA1B;;AAOA,SAASmhF,cAAT,CAAwBp2E,WAAxB,EAAqCC,WAArC,EAAkDo2E,qBAAlD,EAAyEl2E,YAAzE,EAAuF/N,OAAvF,EAAgG;AAC5F,MAAIlE,QAAQ,GAAG,IAAIrQ,IAAJ,CAAS,CAAT,CAAf;AACA,MAAIy4F,QAAQ,GAAGt2E,WAAf;AACA,MAAIu2E,YAAY,GAAGniF,oEAAc,CAAC,CAAD,CAAjC;AACA,MAAIoiF,aAAa,GAAGH,qBAAqB,IAAII,oBAAoB,CAACt2E,YAAD,CAAjE;AACA,MAAIu2E,KAAK,GAAG,EAAZ;;AACA,SAAOvgF,+DAAS,CAACmgF,QAAD,CAAT,GAAsBngF,+DAAS,CAAC8J,WAAD,CAAtC,EAAqD;AACjD,QAAIzR,IAAI,GAAG4D,OAAO,CAAC5J,GAAR,CAAY0F,QAAZ,EAAsBooF,QAAtB,CAAX;AACA,QAAI3I,SAAS,GAAGr3E,0EAAoB,CAACigF,YAAD,EAAeC,aAAf,CAApB,KAAsD,IAAtE;AACAE,IAAAA,KAAK,CAAC/0F,IAAN,CAAW;AACP6M,MAAAA,IAAI,EAAEA,IADC;AAEPkyB,MAAAA,IAAI,EAAE41D,QAFC;AAGP/3F,MAAAA,GAAG,EAAEiQ,IAAI,CAACuI,WAAL,EAHE;AAIP62E,MAAAA,UAAU,EAAEz2E,yEAAmB,CAAC3I,IAAD,CAJxB;AAKPm/E,MAAAA,SAAS,EAAEA;AALJ,KAAX;AAOA2I,IAAAA,QAAQ,GAAGzgF,kEAAY,CAACygF,QAAD,EAAWn2E,YAAX,CAAvB;AACAo2E,IAAAA,YAAY,GAAG1gF,kEAAY,CAAC0gF,YAAD,EAAep2E,YAAf,CAA3B;AACH;;AACD,SAAOu2E,KAAP;AACH,EACD;;;AACA,SAASD,oBAAT,CAA8Bt2E,YAA9B,EAA4C;AACxC,MAAI/a,CAAJ;AACA,MAAIoxF,aAAJ;AACA,MAAIG,aAAJ,CAHwC,CAIxC;;AACA,OAAKvxF,CAAC,GAAG+wF,mBAAmB,CAAC9wF,MAApB,GAA6B,CAAtC,EAAyCD,CAAC,IAAI,CAA9C,EAAiDA,CAAC,IAAI,CAAtD,EAAyD;AACrDoxF,IAAAA,aAAa,GAAGpiF,oEAAc,CAAC+hF,mBAAmB,CAAC/wF,CAAD,CAApB,CAA9B;AACAuxF,IAAAA,aAAa,GAAGrgF,0EAAoB,CAACkgF,aAAD,EAAgBr2E,YAAhB,CAApC;;AACA,QAAIw2E,aAAa,KAAK,IAAlB,IAA0BA,aAAa,GAAG,CAA9C,EAAiD;AAC7C,aAAOH,aAAP;AACH;AACJ;;AACD,SAAOr2E,YAAP,CAZwC,CAYnB;AACxB;;AAED,IAAIy2E,eAAe;AAAG;AAAe,UAAUxjD,MAAV,EAAkB;AACnD5wC,EAAAA,gDAAS,CAACo0F,eAAD,EAAkBxjD,MAAlB,CAAT;;AACA,WAASwjD,eAAT,GAA2B;AACvB,QAAIn+E,KAAK,GAAG26B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChkC,KAAP,CAAa,IAAb,EAAmBmJ,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,IAAAA,KAAK,CAACo+E,kBAAN,GAA2B7+E,6DAAO,CAAC6+E,kBAAD,CAAlC;AACAp+E,IAAAA,KAAK,CAAC29E,cAAN,GAAuBp+E,6DAAO,CAACo+E,cAAD,CAA9B;AACA,WAAO39E,KAAP;AACH;;AACDm+E,EAAAA,eAAe,CAACr5F,SAAhB,CAA0BgC,MAA1B,GAAmC,YAAY;AAC3C,QAAIkZ,KAAK,GAAG,IAAZ;;AACA,QAAIjS,EAAE,GAAG,KAAKzD,OAAd;AAAA,QAAuB7D,OAAO,GAAGsH,EAAE,CAACtH,OAApC;AAAA,QAA6CkT,OAAO,GAAG5L,EAAE,CAAC4L,OAA1D;AAAA,QAAmEyjC,oBAAoB,GAAGrvC,EAAE,CAACqvC,oBAA7F;AACA,QAAI7vC,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIi0B,WAAW,GAAGj0B,KAAK,CAACi0B,WAAxB;AACA,QAAI+9C,aAAa,GAAG,KAAK6e,kBAAL,CAAwB58D,WAAxB,EAAqC4b,oBAArC,CAApB;AACA,QAAIzM,UAAU,GAAG,KAAK+kD,cAAL,CAAoB/kD,UAApB,CAA+BpjC,KAA/B,CAAjB;AACA,QAAI+nF,SAAS,GAAG,KAAKqI,cAAL,CAAoBn8D,WAAW,CAACja,WAAhC,EAA6Cia,WAAW,CAACha,WAAzD,EAAsE/gB,OAAO,CAACqnB,iBAA9E,EAAiGrnB,OAAO,CAACihB,YAAzG,EAAuH/N,OAAvH,CAAhB;AACA,QAAIkU,WAAW,GAAGpnB,OAAO,CAAConB,WAA1B;AACA,QAAIwwE,eAAe,GAAG,CAACxwE,WAAvB;AACA,QAAIywE,eAAe,GAAGzwE,WAAtB;AACA,QAAIiyD,aAAa,GAAGr5E,OAAO,CAACshB,UAAR,IAAuB7d,mEAAa,CAAC24D,2DAAD,EAAY;AAAEE,MAAAA,KAAK,EAAEwc,aAAa,CAACjb,WAAvB;AAAoC9iC,MAAAA,WAAW,EAAEA,WAAjD;AAA8D6/B,MAAAA,oBAAoB,EAAE,IAApF;AAA0F2B,MAAAA,WAAW,EAAEq7B,eAAe,GAAG,KAAKxI,cAAR,GAAyB;AAA/I,KAAZ,CAAxD;;AACA,QAAI5nE,aAAa,GAAIxnB,OAAO,CAAC83F,UAAR,KAAuB,KAAxB,IAAmC,UAAUxe,UAAV,EAAsB;AAAE,aAAQ71E,mEAAa,CAACs1E,2DAAD,EAAW31E,+CAAQ,CAAC,EAAD,EAAK8mC,UAAU,CAAC52B,MAAhB,EAAwB;AAAEynB,QAAAA,WAAW,EAAEA,WAAf;AAA4B+9C,QAAAA,aAAa,EAAEA,aAA3C;AAA0Dp4D,QAAAA,gBAAgB,EAAE1gB,OAAO,CAAC0gB,gBAApF;AAAsGklD,QAAAA,aAAa,EAAE0T,UAAU,CAAC1T,aAAhI;AAA+IyS,QAAAA,YAAY,EAAEiB,UAAU,CAACzT,iBAAxK;AAA2LyS,QAAAA,cAAc,EAAEsf,eAAe,GAAGr+E,KAAK,CAACg2E,kBAAT,GAA8B,IAAxP;AAA8PzZ,QAAAA,eAAe,EAAE,KAA/Q;AAAsRzxD,QAAAA,UAAU,EAAE,KAAlS;AAAyS60D,QAAAA,gBAAgB,EAAE3/D,KAAK,CAACy2D,WAAjU;AAA8UhiC,QAAAA,WAAW,EAAEsrC,UAAU,CAACtrC,WAAtW;AAAmXF,QAAAA,YAAY,EAAEwrC,UAAU,CAACxrC,YAA5Y;AAA0Z0rB,QAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD;AAA1a,OAAxB,EAA8cjgD,KAAK,CAACu2E,sBAAN,EAA9c,CAAnB,CAArB;AAA0hB,KAAzmB;;AACA,QAAIiI,eAAe,GAAG,SAAlBA,eAAkB,CAAUze,UAAV,EAAsB;AAAE,aAAQ71E,mEAAa,CAACqzF,WAAD,EAAc1zF,+CAAQ,CAAC,EAAD,EAAK8mC,UAAU,CAACokD,KAAhB,EAAuB;AAAExV,QAAAA,aAAa,EAAEA,aAAjB;AAAgC/9C,QAAAA,WAAW,EAAEA,WAA7C;AAA0D41D,QAAAA,IAAI,EAAEiH,eAAhE;AAAiF32E,QAAAA,YAAY,EAAEjhB,OAAO,CAACihB,YAAvG;AAAqH4tE,QAAAA,SAAS,EAAEA,SAAhI;AAA2Ir1B,QAAAA,QAAQ,EAAE1yD,KAAK,CAAC0yD,QAA3J;AAAqKqM,QAAAA,iBAAiB,EAAEyT,UAAU,CAACzT,iBAAnM;AAAsND,QAAAA,aAAa,EAAE0T,UAAU,CAAC1T,aAAhP;AAA+P53B,QAAAA,WAAW,EAAEsrC,UAAU,CAACtrC,WAAvR;AAAoSF,QAAAA,YAAY,EAAEwrC,UAAU,CAACxrC,YAA7T;AAA2UqoD,QAAAA,YAAY,EAAE58E,KAAK,CAACk2E,gBAA/V;AAAiXprE,QAAAA,UAAU,EAAEi1D,UAAU,CAACj1D,UAAxY;AAAoZ0xE,QAAAA,kBAAkB,EAAEx8E,KAAK,CAAC41E;AAA9a,OAAvB,CAAtB,CAArB;AAA8gB,KAA5jB;;AACA,WAAO0I,eAAe,GAChB,KAAKznB,mBAAL,CAAyBiJ,aAAzB,EAAwC7xD,aAAxC,EAAuDuwE,eAAvD,EAAwEjf,aAAa,CAAC5d,MAAtF,EAA8F9zC,WAA9F,EAA2GynE,SAA3G,EAAsH,KAAK9wD,KAAL,CAAWmxD,UAAjI,CADgB,GAEhB,KAAKjf,kBAAL,CAAwBoJ,aAAxB,EAAuC7xD,aAAvC,EAAsDuwE,eAAtD,CAFN;AAGH,GAjBD;;AAkBA,SAAOL,eAAP;AACH,CA3BoC,CA2BnC1I,YA3BmC,CAArC;;AA4BA,SAAS2I,kBAAT,CAA4B58D,WAA5B,EAAyC4b,oBAAzC,EAA+D;AAC3D,MAAI4mB,SAAS,GAAG,IAAIb,gEAAJ,CAAmB3hC,WAAW,CAACimB,WAA/B,EAA4CrK,oBAA5C,CAAhB;AACA,SAAO,IAAI2mB,+DAAJ,CAAkBC,SAAlB,EAA6B,KAA7B,CAAP;AACH;;AAED,IAAIgsB,eAAe,GAAG;AAClBuO,EAAAA,UAAU,EAAEj3E;AADM,CAAtB;AAIA,IAAI44D,IAAI,GAAG9gC,kEAAY,CAAC;AACpB32B,EAAAA,WAAW,EAAE,cADO;AAEpBi4B,EAAAA,cAAc,EAAEsvC,eAFI;AAGpBr+D,EAAAA,KAAK,EAAE;AACH8sE,IAAAA,QAAQ,EAAE;AACNzsE,MAAAA,SAAS,EAAEmsE,eADL;AAENhsE,MAAAA,cAAc,EAAE,IAFV;AAGNosE,MAAAA,UAAU,EAAE,IAHN;AAIN72E,MAAAA,YAAY,EAAE,UAJR;AAKNwH,MAAAA,gBAAgB,EAAE,IALZ,CAKkB;;AALlB,KADP;AAQHwvE,IAAAA,WAAW,EAAE;AACT52F,MAAAA,IAAI,EAAE,UADG;AAETmS,MAAAA,QAAQ,EAAE;AAAErG,QAAAA,IAAI,EAAE;AAAR;AAFD,KARV;AAYH+qF,IAAAA,YAAY,EAAE;AACV72F,MAAAA,IAAI,EAAE,UADI;AAEVmS,MAAAA,QAAQ,EAAE;AAAE2C,QAAAA,KAAK,EAAE;AAAT;AAFA;AAZX;AAHa,CAAD,CAAvB;AAsBA,+DAAesjE,IAAf;;;;;;;;;;;CChrCA;;AAIA0e,MAAM,CAACl1F,OAAP,GAAiB,SAASm1F,KAAT,CAAevtF,CAAf,EAAkBC,CAAlB,EAAqB;AACpC,MAAID,CAAC,KAAKC,CAAV,EAAa,OAAO,IAAP;;AAEb,MAAID,CAAC,IAAIC,CAAL,IAAU,OAAOD,CAAP,IAAY,QAAtB,IAAkC,OAAOC,CAAP,IAAY,QAAlD,EAA4D;AAC1D,QAAID,CAAC,CAACwtF,WAAF,KAAkBvtF,CAAC,CAACutF,WAAxB,EAAqC,OAAO,KAAP;AAErC,QAAIlyF,MAAJ,EAAYD,CAAZ,EAAexF,IAAf;;AACA,QAAIlC,KAAK,CAACC,OAAN,CAAcoM,CAAd,CAAJ,EAAsB;AACpB1E,MAAAA,MAAM,GAAG0E,CAAC,CAAC1E,MAAX;AACA,UAAIA,MAAM,IAAI2E,CAAC,CAAC3E,MAAhB,EAAwB,OAAO,KAAP;;AACxB,WAAKD,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB;AACE,YAAI,CAACkyF,KAAK,CAACvtF,CAAC,CAAC3E,CAAD,CAAF,EAAO4E,CAAC,CAAC5E,CAAD,CAAR,CAAV,EAAwB,OAAO,KAAP;AAD1B;;AAEA,aAAO,IAAP;AACD;;AAID,QAAI2E,CAAC,CAACwtF,WAAF,KAAkBC,MAAtB,EAA8B,OAAOztF,CAAC,CAAC+4C,MAAF,KAAa94C,CAAC,CAAC84C,MAAf,IAAyB/4C,CAAC,CAAC0tF,KAAF,KAAYztF,CAAC,CAACytF,KAA9C;AAC9B,QAAI1tF,CAAC,CAACjM,OAAF,KAAcR,MAAM,CAACC,SAAP,CAAiBO,OAAnC,EAA4C,OAAOiM,CAAC,CAACjM,OAAF,OAAgBkM,CAAC,CAAClM,OAAF,EAAvB;AAC5C,QAAIiM,CAAC,CAAC2tF,QAAF,KAAep6F,MAAM,CAACC,SAAP,CAAiBm6F,QAApC,EAA8C,OAAO3tF,CAAC,CAAC2tF,QAAF,OAAiB1tF,CAAC,CAAC0tF,QAAF,EAAxB;AAE9C93F,IAAAA,IAAI,GAAGtC,MAAM,CAACsC,IAAP,CAAYmK,CAAZ,CAAP;AACA1E,IAAAA,MAAM,GAAGzF,IAAI,CAACyF,MAAd;AACA,QAAIA,MAAM,KAAK/H,MAAM,CAACsC,IAAP,CAAYoK,CAAZ,EAAe3E,MAA9B,EAAsC,OAAO,KAAP;;AAEtC,SAAKD,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB;AACE,UAAI,CAAC9H,MAAM,CAACC,SAAP,CAAiBF,cAAjB,CAAgCc,IAAhC,CAAqC6L,CAArC,EAAwCpK,IAAI,CAACwF,CAAD,CAA5C,CAAL,EAAuD,OAAO,KAAP;AADzD;;AAGA,SAAKA,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB,GAA6B;AAC3B,UAAI7G,GAAG,GAAGqB,IAAI,CAACwF,CAAD,CAAd;AAEA,UAAI,CAACkyF,KAAK,CAACvtF,CAAC,CAACxL,GAAD,CAAF,EAASyL,CAAC,CAACzL,GAAD,CAAV,CAAV,EAA4B,OAAO,KAAP;AAC7B;;AAED,WAAO,IAAP;AACD,GAnCmC,CAqCpC;;;AACA,SAAOwL,CAAC,KAAGA,CAAJ,IAASC,CAAC,KAAGA,CAApB;AACD,CAvCD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNgL;AAA6E;AAA6M;AAA0B;AAAA,SAASovF,CAAC,CAAC5uF,CAAC,EAACrK,CAAC,EAAC;EAAC,KAAI,IAAIw3F,CAAC,IAAIx3F,CAAC;IAACqK,CAAC,CAACmtF,CAAC,CAAC,GAACx3F,CAAC,CAACw3F,CAAC,CAAC;EAAC;EAAA,OAAOntF,CAAC;AAAA;AAAC,SAAS6uF,CAAC,CAAC7uF,CAAC,EAACrK,CAAC,EAAC;EAAC,KAAI,IAAIw3F,CAAC,IAAIntF,CAAC;IAAC,IAAG,UAAU,KAAGmtF,CAAC,IAAE,EAAEA,CAAC,IAAIx3F,CAAC,CAAC,EAAC,OAAM,CAAC,CAAC;EAAC;EAAA,KAAI,IAAI03F,CAAC,IAAI13F,CAAC;IAAC,IAAG,UAAU,KAAG03F,CAAC,IAAErtF,CAAC,CAACqtF,CAAC,CAAC,KAAG13F,CAAC,CAAC03F,CAAC,CAAC,EAAC,OAAM,CAAC,CAAC;EAAC;EAAA,OAAM,CAAC,CAAC;AAAA;AAAC,SAASyB,CAAC,CAAC9uF,CAAC,EAAC;EAAC,IAAI,CAACxE,KAAK,GAACwE,CAAC;AAAA;AAAC,SAASmD,CAAC,CAACnD,CAAC,EAACmtF,CAAC,EAAC;EAAC,SAASE,CAAC,CAACrtF,CAAC,EAAC;IAAC,IAAIrK,CAAC,GAAC,IAAI,CAAC6F,KAAK,CAACixC,GAAG;MAAC4gD,CAAC,GAAC13F,CAAC,IAAEqK,CAAC,CAACysC,GAAG;IAAC,OAAM,CAAC4gD,CAAC,IAAE13F,CAAC,KAAGA,CAAC,CAAChC,IAAI,GAACgC,CAAC,CAAC,IAAI,CAAC,GAACA,CAAC,CAAC+2C,OAAO,GAAC,IAAI,CAAC,EAACygD,CAAC,GAAC,CAACA,CAAC,CAAC,IAAI,CAAC3xF,KAAK,EAACwE,CAAC,CAAC,IAAE,CAACqtF,CAAC,GAACwB,CAAC,CAAC,IAAI,CAACrzF,KAAK,EAACwE,CAAC,CAAC;EAAA;EAAC,SAASstF,CAAC,CAACH,CAAC,EAAC;IAAC,OAAO,IAAI,CAACvhD,qBAAqB,GAACyhD,CAAC,EAAC13F,qDAAC,CAACqK,CAAC,EAACmtF,CAAC,CAAC;EAAA;EAAC,OAAOG,CAAC,CAACyB,WAAW,GAAC,OAAO,IAAE/uF,CAAC,CAAC+uF,WAAW,IAAE/uF,CAAC,CAACrE,IAAI,CAAC,GAAC,GAAG,EAAC2xF,CAAC,CAACv6F,SAAS,CAACi8F,gBAAgB,GAAC,CAAC,CAAC,EAAC1B,CAAC,CAAC2B,GAAG,GAAC,CAAC,CAAC,EAAC3B,CAAC;AAAA;AAAC,CAACwB,CAAC,CAAC/7F,SAAS,GAAC,IAAIiN,6CAAC,IAAEkvF,oBAAoB,GAAC,CAAC,CAAC,EAACJ,CAAC,CAAC/7F,SAAS,CAAC64C,qBAAqB,GAAC,UAAS5rC,CAAC,EAACrK,CAAC,EAAC;EAAC,OAAOk5F,CAAC,CAAC,IAAI,CAACrzF,KAAK,EAACwE,CAAC,CAAC,IAAE6uF,CAAC,CAAC,IAAI,CAACp8D,KAAK,EAAC98B,CAAC,CAAC;AAAA,CAAC;AAAC,IAAIw5F,CAAC,GAAChC,+CAAK;AAACA,+CAAK,GAAC,UAASntF,CAAC,EAAC;EAACA,CAAC,CAACjK,IAAI,IAAEiK,CAAC,CAACjK,IAAI,CAACk5F,GAAG,IAAEjvF,CAAC,CAACysC,GAAG,KAAGzsC,CAAC,CAACxE,KAAK,CAACixC,GAAG,GAACzsC,CAAC,CAACysC,GAAG,EAACzsC,CAAC,CAACysC,GAAG,GAAC,IAAI,CAAC,EAAC0iD,CAAC,IAAEA,CAAC,CAACnvF,CAAC,CAAC;AAAA,CAAC;AAAC,IAAIuiC,CAAC,GAAC,WAAW,IAAE,OAAO8sD,MAAM,IAAEA,MAAM,CAACC,GAAG,IAAED,MAAM,CAACC,GAAG,CAAC,mBAAmB,CAAC,IAAE,IAAI;AAAC,SAASC,CAAC,CAACvvF,CAAC,EAAC;EAAC,SAASrK,CAAC,CAACA,CAAC,EAAC;IAAC,IAAIw3F,CAAC,GAACyB,CAAC,CAAC,CAAC,CAAC,EAACj5F,CAAC,CAAC;IAAC,OAAO,OAAOw3F,CAAC,CAAC1gD,GAAG,EAACzsC,CAAC,CAACmtF,CAAC,EAACx3F,CAAC,CAAC82C,GAAG,IAAE,IAAI,CAAC;EAAA;EAAC,OAAO92C,CAAC,CAAC65F,QAAQ,GAACjtD,CAAC,EAAC5sC,CAAC,CAACZ,MAAM,GAACY,CAAC,EAACA,CAAC,CAAC5C,SAAS,CAACi8F,gBAAgB,GAACr5F,CAAC,CAACs5F,GAAG,GAAC,CAAC,CAAC,EAACt5F,CAAC,CAACo5F,WAAW,GAAC,aAAa,IAAE/uF,CAAC,CAAC+uF,WAAW,IAAE/uF,CAAC,CAACrE,IAAI,CAAC,GAAC,GAAG,EAAChG,CAAC;AAAA;AAAC,IAAI85F,CAAC,GAAC,SAAFA,CAAC,CAAUzvF,CAAC,EAACrK,CAAC,EAAC;IAAC,OAAO,IAAI,IAAEqK,CAAC,GAAC,IAAI,GAACqtF,oDAAC,CAACA,oDAAC,CAACrtF,CAAC,CAAC,CAAC5M,GAAG,CAACuC,CAAC,CAAC,CAAC;EAAA,CAAC;EAAC+5F,CAAC,GAAC;IAACt8F,GAAG,EAACq8F,CAAC;IAACjyF,OAAO,EAACiyF,CAAC;IAACE,KAAK,EAAC,eAAS3vF,CAAC,EAAC;MAAC,OAAOA,CAAC,GAACqtF,oDAAC,CAACrtF,CAAC,CAAC,CAACnF,MAAM,GAAC,CAAC;IAAA,CAAC;IAAC+0F,IAAI,EAAC,cAAS5vF,CAAC,EAAC;MAAC,IAAIrK,CAAC,GAAC03F,oDAAC,CAACrtF,CAAC,CAAC;MAAC,IAAG,CAAC,KAAGrK,CAAC,CAACkF,MAAM,EAAC,MAAK,eAAe;MAAC,OAAOlF,CAAC,CAAC,CAAC,CAAC;IAAA,CAAC;IAACk6F,OAAO,EAACxC,gDAACA;EAAA,CAAC;EAACyC,CAAC,GAAC3C,+CAAK;AAACA,+CAAK,GAAC,UAASntF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,EAACE,CAAC,EAAC;EAAC,IAAGrtF,CAAC,CAAC0lC,IAAI,EAAC,KAAI,IAAI4nD,CAAC,EAACC,CAAC,GAAC53F,CAAC,EAAC43F,CAAC,GAACA,CAAC,CAACyC,EAAE;IAAE,IAAG,CAAC1C,CAAC,GAACC,CAAC,CAAC0C,GAAG,KAAG3C,CAAC,CAAC2C,GAAG,EAAC,OAAO,IAAI,IAAEt6F,CAAC,CAACo6F,GAAG,KAAGp6F,CAAC,CAACo6F,GAAG,GAAC5C,CAAC,CAAC4C,GAAG,EAACp6F,CAAC,CAACu6F,GAAG,GAAC/C,CAAC,CAAC+C,GAAG,CAAC,EAAC5C,CAAC,CAAC2C,GAAG,CAACjwF,CAAC,EAACrK,CAAC,CAAC;EAAC;EAAAm6F,CAAC,CAAC9vF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,EAACE,CAAC,CAAC;AAAA,CAAC;AAAC,IAAI8C,CAAC,GAAChD,mDAAS;AAAC,SAASkD,CAAC,CAACrwF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,EAAC;EAAC,OAAOntF,CAAC,KAAGA,CAAC,CAACiwF,GAAG,IAAEjwF,CAAC,CAACiwF,GAAG,CAACK,GAAG,KAAGtwF,CAAC,CAACiwF,GAAG,CAACK,GAAG,CAACN,EAAE,CAACxyF,OAAO,CAAC,UAASwC,CAAC,EAAC;IAAC,UAAU,IAAE,OAAOA,CAAC,CAACiwF,GAAG,IAAEjwF,CAAC,CAACiwF,GAAG,EAAE;EAAA,CAAC,CAAC,EAACjwF,CAAC,CAACiwF,GAAG,CAACK,GAAG,GAAC,IAAI,CAAC,EAAC,IAAI,IAAE,CAACtwF,CAAC,GAAC4uF,CAAC,CAAC,CAAC,CAAC,EAAC5uF,CAAC,CAAC,EAAEiwF,GAAG,KAAGjwF,CAAC,CAACiwF,GAAG,CAACM,GAAG,KAAGpD,CAAC,KAAGntF,CAAC,CAACiwF,GAAG,CAACM,GAAG,GAAC56F,CAAC,CAAC,EAACqK,CAAC,CAACiwF,GAAG,GAAC,IAAI,CAAC,EAACjwF,CAAC,CAACkwF,GAAG,GAAClwF,CAAC,CAACkwF,GAAG,IAAElwF,CAAC,CAACkwF,GAAG,CAAC98F,GAAG,CAAC,UAAS4M,CAAC,EAAC;IAAC,OAAOqwF,CAAC,CAACrwF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,CAAC;EAAA,CAAC,CAAC,CAAC,EAACntF,CAAC;AAAA;AAAC,SAASwwF,CAAC,CAACxwF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,EAAC;EAAC,OAAOntF,CAAC,KAAGA,CAAC,CAACywF,GAAG,GAAC,IAAI,EAACzwF,CAAC,CAACkwF,GAAG,GAAClwF,CAAC,CAACkwF,GAAG,IAAElwF,CAAC,CAACkwF,GAAG,CAAC98F,GAAG,CAAC,UAAS4M,CAAC,EAAC;IAAC,OAAOwwF,CAAC,CAACxwF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,CAAC;EAAA,CAAC,CAAC,EAACntF,CAAC,CAACiwF,GAAG,IAAEjwF,CAAC,CAACiwF,GAAG,CAACM,GAAG,KAAG56F,CAAC,KAAGqK,CAAC,CAAC+vF,GAAG,IAAE5C,CAAC,CAACuD,YAAY,CAAC1wF,CAAC,CAAC+vF,GAAG,EAAC/vF,CAAC,CAAC2wF,GAAG,CAAC,EAAC3wF,CAAC,CAACiwF,GAAG,CAACF,GAAG,GAAC,CAAC,CAAC,EAAC/vF,CAAC,CAACiwF,GAAG,CAACM,GAAG,GAACpD,CAAC,CAAC,CAAC,EAACntF,CAAC;AAAA;AAAC,SAAS4wF,CAAC,GAAE;EAAC,IAAI,CAACC,GAAG,GAAC,CAAC,EAAC,IAAI,CAACl7F,CAAC,GAAC,IAAI,EAAC,IAAI,CAACy5F,GAAG,GAAC,IAAI;AAAA;AAAC,SAAS0B,CAAC,CAAC9wF,CAAC,EAAC;EAAC,IAAIrK,CAAC,GAACqK,CAAC,CAACgwF,EAAE,CAACC,GAAG;EAAC,OAAOt6F,CAAC,IAAEA,CAAC,CAACo7F,GAAG,IAAEp7F,CAAC,CAACo7F,GAAG,CAAC/wF,CAAC,CAAC;AAAA;AAAC,SAASgxF,CAAC,CAAChxF,CAAC,EAAC;EAAC,IAAImtF,CAAC,EAACE,CAAC,EAACC,CAAC;EAAC,SAASC,CAAC,CAACA,CAAC,EAAC;IAAC,IAAGJ,CAAC,IAAE,CAACA,CAAC,GAACntF,CAAC,EAAE,EAAE0lC,IAAI,CAAC,UAAS1lC,CAAC,EAAC;MAACqtF,CAAC,GAACrtF,CAAC,CAACixF,OAAO,IAAEjxF,CAAC;IAAA,CAAC,EAAC,UAASA,CAAC,EAAC;MAACstF,CAAC,GAACttF,CAAC;IAAA,CAAC,CAAC,EAACstF,CAAC,EAAC,MAAMA,CAAC;IAAC,IAAG,CAACD,CAAC,EAAC,MAAMF,CAAC;IAAC,OAAOx3F,qDAAC,CAAC03F,CAAC,EAACE,CAAC,CAAC;EAAA;EAAC,OAAOA,CAAC,CAACwB,WAAW,GAAC,MAAM,EAACxB,CAAC,CAAC0B,GAAG,GAAC,CAAC,CAAC,EAAC1B,CAAC;AAAA;AAAC,SAAS2D,CAAC,GAAE;EAAC,IAAI,CAAC5D,CAAC,GAAC,IAAI,EAAC,IAAI,CAACC,CAAC,GAAC,IAAI;AAAA;AAACJ,mDAAS,GAAC,UAASntF,CAAC,EAAC;EAAC,IAAIrK,CAAC,GAACqK,CAAC,CAACiwF,GAAG;EAACt6F,CAAC,IAAEA,CAAC,CAACw7F,GAAG,IAAEx7F,CAAC,CAACw7F,GAAG,EAAE,EAACx7F,CAAC,IAAE,CAAC,CAAC,KAAGqK,CAAC,CAACoxF,GAAG,KAAGpxF,CAAC,CAACjK,IAAI,GAAC,IAAI,CAAC,EAACo6F,CAAC,IAAEA,CAAC,CAACnwF,CAAC,CAAC;AAAA,CAAC,EAAC,CAAC4wF,CAAC,CAAC79F,SAAS,GAAC,IAAIiN,6CAAC,IAAEiwF,GAAG,GAAC,UAASjwF,CAAC,EAACrK,CAAC,EAAC;EAAC,IAAIw3F,CAAC,GAACx3F,CAAC,CAACs6F,GAAG;IAAC5C,CAAC,GAAC,IAAI;EAAC,IAAI,IAAEA,CAAC,CAAC13F,CAAC,KAAG03F,CAAC,CAAC13F,CAAC,GAAC,EAAE,CAAC,EAAC03F,CAAC,CAAC13F,CAAC,CAACwB,IAAI,CAACg2F,CAAC,CAAC;EAAC,IAAIG,CAAC,GAACwD,CAAC,CAACzD,CAAC,CAACoD,GAAG,CAAC;IAAClD,CAAC,GAAC,CAAC,CAAC;IAAC3yF,CAAC,GAAC,SAAFA,CAAC,GAAW;MAAC2yF,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAACJ,CAAC,CAACgE,GAAG,GAAC,IAAI,EAAC7D,CAAC,GAACA,CAAC,CAACG,CAAC,CAAC,GAACA,CAAC,EAAE,CAAC;IAAA,CAAC;EAACN,CAAC,CAACgE,GAAG,GAACv2F,CAAC;EAAC,IAAI6yF,CAAC,GAAC,SAAFA,CAAC,GAAW;MAAC,IAAG,CAAC,GAAEJ,CAAC,CAACwD,GAAG,EAAC;QAAC,IAAGxD,CAAC,CAAC56D,KAAK,CAACs+D,GAAG,EAAC;UAAC,IAAI/wF,CAAC,GAACqtF,CAAC,CAAC56D,KAAK,CAACs+D,GAAG;UAAC1D,CAAC,CAACoD,GAAG,CAACP,GAAG,CAAC,CAAC,CAAC,GAACM,CAAC,CAACxwF,CAAC,EAACA,CAAC,CAACiwF,GAAG,CAACM,GAAG,EAACvwF,CAAC,CAACiwF,GAAG,CAACoB,GAAG,CAAC;QAAA;QAAC,IAAI17F,CAAC;QAAC,KAAI03F,CAAC,CAAChoC,QAAQ,CAAC;UAAC0rC,GAAG,EAAC1D,CAAC,CAAC+B,GAAG,GAAC;QAAI,CAAC,CAAC,EAACz5F,CAAC,GAAC03F,CAAC,CAAC13F,CAAC,CAAC27F,GAAG,EAAE;UAAE37F,CAAC,CAAC2uE,WAAW,EAAE;QAAA;MAAA;IAAC,CAAC;IAACz6C,CAAC,GAAC,CAAC,CAAC,KAAGl0B,CAAC,CAACy7F,GAAG;EAAC/D,CAAC,CAACwD,GAAG,EAAE,IAAEhnE,CAAC,IAAEwjE,CAAC,CAAChoC,QAAQ,CAAC;IAAC0rC,GAAG,EAAC1D,CAAC,CAAC+B,GAAG,GAAC/B,CAAC,CAACoD,GAAG,CAACP,GAAG,CAAC,CAAC;EAAC,CAAC,CAAC,EAAClwF,CAAC,CAAC0lC,IAAI,CAAC9qC,CAAC,EAACA,CAAC,CAAC;AAAA,CAAC,EAACg2F,CAAC,CAAC79F,SAAS,CAACu/C,oBAAoB,GAAC,YAAU;EAAC,IAAI,CAAC38C,CAAC,GAAC,EAAE;AAAA,CAAC,EAACi7F,CAAC,CAAC79F,SAAS,CAACgC,MAAM,GAAC,UAASiL,CAAC,EAACmtF,CAAC,EAAC;EAAC,IAAG,IAAI,CAACiC,GAAG,EAAC;IAAC,IAAG,IAAI,CAACqB,GAAG,CAACP,GAAG,EAAC;MAAC,IAAI7C,CAAC,GAACxzF,QAAQ,CAAC1B,aAAa,CAAC,KAAK,CAAC;QAACo1F,CAAC,GAAC,IAAI,CAACkD,GAAG,CAACP,GAAG,CAAC,CAAC,CAAC,CAACD,GAAG;MAAC,IAAI,CAACQ,GAAG,CAACP,GAAG,CAAC,CAAC,CAAC,GAACG,CAAC,CAAC,IAAI,CAACjB,GAAG,EAAC/B,CAAC,EAACE,CAAC,CAAC8D,GAAG,GAAC9D,CAAC,CAACgD,GAAG,CAAC;IAAA;IAAC,IAAI,CAACnB,GAAG,GAAC,IAAI;EAAA;EAAC,IAAIx0F,CAAC,GAACuyF,CAAC,CAAC4D,GAAG,IAAEp7F,qDAAC,CAAC23F,4CAAC,EAAC,IAAI,EAACttF,CAAC,CAAC82C,QAAQ,CAAC;EAAC,OAAOl8C,CAAC,KAAGA,CAAC,CAACw2F,GAAG,GAAC,IAAI,CAAC,EAAC,CAACz7F,qDAAC,CAAC23F,4CAAC,EAAC,IAAI,EAACH,CAAC,CAAC4D,GAAG,GAAC,IAAI,GAAC/wF,CAAC,CAAC5E,QAAQ,CAAC,EAACR,CAAC,CAAC;AAAA,CAAC;AAAC,IAAI22F,CAAC,GAAC,SAAFA,CAAC,CAAUvxF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,EAAC;EAAC,IAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,KAAGA,CAAC,CAAC,CAAC,CAAC,IAAEntF,CAAC,CAACutF,CAAC,CAACiE,MAAM,CAAC77F,CAAC,CAAC,EAACqK,CAAC,CAACxE,KAAK,CAACi2F,WAAW,KAAG,GAAG,KAAGzxF,CAAC,CAACxE,KAAK,CAACi2F,WAAW,CAAC,CAAC,CAAC,IAAE,CAACzxF,CAAC,CAACutF,CAAC,CAACmE,IAAI,CAAC,EAAC,KAAIvE,CAAC,GAACntF,CAAC,CAACstF,CAAC,EAACH,CAAC,GAAE;IAAC,OAAKA,CAAC,CAACtyF,MAAM,GAAC,CAAC;MAAEsyF,CAAC,CAACmE,GAAG,EAAE,EAAE;IAAC;IAAA,IAAGnE,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,EAAC;IAAMntF,CAAC,CAACstF,CAAC,GAACH,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC;EAAA;AAAC,CAAC;AAAC,SAASwE,CAAC,CAAC3xF,CAAC,EAAC;EAAC,OAAO,IAAI,CAACmkE,eAAe,GAAC,YAAU;IAAC,OAAOnkE,CAAC,CAACzH,OAAO;EAAA,CAAC,EAACyH,CAAC,CAAC5E,QAAQ;AAAA;AAAC,SAASw2F,CAAC,CAAC5xF,CAAC,EAAC;EAAC,IAAImtF,CAAC,GAAC,IAAI;IAACE,CAAC,GAACrtF,CAAC,CAACpF,CAAC;EAACuyF,CAAC,CAAC76C,oBAAoB,GAAC,YAAU;IAACi7C,8CAAC,CAAC,IAAI,EAACJ,CAAC,CAACM,CAAC,CAAC,EAACN,CAAC,CAACM,CAAC,GAAC,IAAI,EAACN,CAAC,CAACvyF,CAAC,GAAC,IAAI;EAAA,CAAC,EAACuyF,CAAC,CAACvyF,CAAC,IAAEuyF,CAAC,CAACvyF,CAAC,KAAGyyF,CAAC,IAAEF,CAAC,CAAC76C,oBAAoB,EAAE,EAACtyC,CAAC,CAACywF,GAAG,IAAEtD,CAAC,CAACM,CAAC,KAAGN,CAAC,CAACvyF,CAAC,GAACyyF,CAAC,EAACF,CAAC,CAACM,CAAC,GAAC;IAACvzF,QAAQ,EAAC,CAAC;IAACT,UAAU,EAAC4zF,CAAC;IAAClyF,UAAU,EAAC,EAAE;IAACuiC,WAAW,EAAC,qBAAS19B,CAAC,EAAC;MAAC,IAAI,CAAC7E,UAAU,CAAChE,IAAI,CAAC6I,CAAC,CAAC,EAACmtF,CAAC,CAACvyF,CAAC,CAAC8iC,WAAW,CAAC19B,CAAC,CAAC;IAAA,CAAC;IAAC0wF,YAAY,EAAC,sBAAS1wF,CAAC,EAACrK,CAAC,EAAC;MAAC,IAAI,CAACwF,UAAU,CAAChE,IAAI,CAAC6I,CAAC,CAAC,EAACmtF,CAAC,CAACvyF,CAAC,CAAC8iC,WAAW,CAAC19B,CAAC,CAAC;IAAA,CAAC;IAACtG,WAAW,EAAC,qBAASsG,CAAC,EAAC;MAAC,IAAI,CAAC7E,UAAU,CAACgS,MAAM,CAAC,IAAI,CAAChS,UAAU,CAACuY,OAAO,CAAC1T,CAAC,CAAC,KAAG,CAAC,EAAC,CAAC,CAAC,EAACmtF,CAAC,CAACvyF,CAAC,CAAClB,WAAW,CAACsG,CAAC,CAAC;IAAA;EAAC,CAAC,CAAC,EAACutF,8CAAC,CAAC53F,qDAAC,CAACg8F,CAAC,EAAC;IAACp5F,OAAO,EAAC40F,CAAC,CAAC50F;EAAO,CAAC,EAACyH,CAAC,CAACywF,GAAG,CAAC,EAACtD,CAAC,CAACM,CAAC,CAAC,IAAEN,CAAC,CAACM,CAAC,IAAEN,CAAC,CAAC76C,oBAAoB,EAAE;AAAA;AAAC,SAASu/C,CAAC,CAAC7xF,CAAC,EAACmtF,CAAC,EAAC;EAAC,IAAIE,CAAC,GAAC13F,qDAAC,CAACi8F,CAAC,EAAC;IAACnB,GAAG,EAACzwF,CAAC;IAACpF,CAAC,EAACuyF;EAAC,CAAC,CAAC;EAAC,OAAOE,CAAC,CAACyE,aAAa,GAAC3E,CAAC,EAACE,CAAC;AAAA;AAAC,CAAC6D,CAAC,CAACn+F,SAAS,GAAC,IAAIiN,6CAAC,IAAE+wF,GAAG,GAAC,UAAS/wF,CAAC,EAAC;EAAC,IAAIrK,CAAC,GAAC,IAAI;IAACw3F,CAAC,GAAC2D,CAAC,CAACn7F,CAAC,CAAC86F,GAAG,CAAC;IAACpD,CAAC,GAAC13F,CAAC,CAAC43F,CAAC,CAACv0F,GAAG,CAACgH,CAAC,CAAC;EAAC,OAAOqtF,CAAC,CAAC,CAAC,CAAC,EAAE,EAAC,UAASC,CAAC,EAAC;IAAC,IAAIC,CAAC,GAAC,SAAFA,CAAC,GAAW;MAAC53F,CAAC,CAAC6F,KAAK,CAACi2F,WAAW,IAAEpE,CAAC,CAACl2F,IAAI,CAACm2F,CAAC,CAAC,EAACiE,CAAC,CAAC57F,CAAC,EAACqK,CAAC,EAACqtF,CAAC,CAAC,IAAEC,CAAC,EAAE;IAAA,CAAC;IAACH,CAAC,GAACA,CAAC,CAACI,CAAC,CAAC,GAACA,CAAC,EAAE;EAAA,CAAC;AAAA,CAAC,EAAC2D,CAAC,CAACn+F,SAAS,CAACgC,MAAM,GAAC,UAASiL,CAAC,EAAC;EAAC,IAAI,CAACstF,CAAC,GAAC,IAAI,EAAC,IAAI,CAACC,CAAC,GAAC,IAAIwE,GAAG;EAAC,IAAIp8F,CAAC,GAAC03F,oDAAC,CAACrtF,CAAC,CAAC5E,QAAQ,CAAC;EAAC4E,CAAC,CAACyxF,WAAW,IAAE,GAAG,KAAGzxF,CAAC,CAACyxF,WAAW,CAAC,CAAC,CAAC,IAAE97F,CAAC,CAACqd,OAAO,EAAE;EAAC,KAAI,IAAIm6E,CAAC,GAACx3F,CAAC,CAACkF,MAAM,EAACsyF,CAAC,EAAE;IAAE,IAAI,CAACI,CAAC,CAACyE,GAAG,CAACr8F,CAAC,CAACw3F,CAAC,CAAC,EAAC,IAAI,CAACG,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAACA,CAAC,CAAC,CAAC;EAAC;EAAA,OAAOttF,CAAC,CAAC5E,QAAQ;AAAA,CAAC,EAAC81F,CAAC,CAACn+F,SAAS,CAACs/C,kBAAkB,GAAC6+C,CAAC,CAACn+F,SAAS,CAACo/C,iBAAiB,GAAC,YAAU;EAAC,IAAInyC,CAAC,GAAC,IAAI;EAAC,IAAI,CAACutF,CAAC,CAAC/vF,OAAO,CAAC,UAAS7H,CAAC,EAACw3F,CAAC,EAAC;IAACoE,CAAC,CAACvxF,CAAC,EAACmtF,CAAC,EAACx3F,CAAC,CAAC;EAAA,CAAC,CAAC;AAAA,CAAC;AAAC,IAAIoF,CAAC,GAAC,WAAW,IAAE,OAAOs0F,MAAM,IAAEA,MAAM,CAACC,GAAG,IAAED,MAAM,CAACC,GAAG,CAAC,eAAe,CAAC,IAAE,KAAK;EAAC2C,CAAC,GAAC,yRAAyR;EAACC,CAAC,GAAC,WAAW,IAAE,OAAOr4F,QAAQ;EAACs4F,CAAC,GAAC,SAAFA,CAAC,CAAUnyF,CAAC,EAAC;IAAC,OAAM,CAAC,WAAW,IAAE,OAAOqvF,MAAM,IAAE,QAAQ,IAAE,OAAOA,MAAM,EAAE,GAAC,cAAc,GAAC,aAAa,EAAExzF,IAAI,CAACmE,CAAC,CAAC;EAAA,CAAC;AAAC,SAASoyF,CAAC,CAACpyF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,EAAC;EAAC,OAAO,IAAI,IAAEx3F,CAAC,CAACu6F,GAAG,KAAGv6F,CAAC,CAAC08F,WAAW,GAAC,EAAE,CAAC,EAAC9E,8CAAC,CAACvtF,CAAC,EAACrK,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOw3F,CAAC,IAAEA,CAAC,EAAE,EAACntF,CAAC,GAACA,CAAC,CAACiwF,GAAG,GAAC,IAAI;AAAA;AAAC,SAASqC,CAAC,CAACtyF,CAAC,EAACrK,CAAC,EAACw3F,CAAC,EAAC;EAAC,OAAOvyF,+CAAC,CAACoF,CAAC,EAACrK,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOw3F,CAAC,IAAEA,CAAC,EAAE,EAACntF,CAAC,GAACA,CAAC,CAACiwF,GAAG,GAAC,IAAI;AAAA;AAACjwF,wEAA4B,GAAC,CAAC,CAAC,EAAC,CAAC,oBAAoB,EAAC,2BAA2B,EAAC,qBAAqB,CAAC,CAACxC,OAAO,CAAC,UAAS7H,CAAC,EAAC;EAAC7C,MAAM,CAACiG,cAAc,CAACiH,uDAAW,EAACrK,CAAC,EAAC;IAACwD,YAAY,EAAC,CAAC,CAAC;IAACH,GAAG,EAAC,eAAU;MAAC,OAAO,IAAI,CAAC,SAAS,GAACrD,CAAC,CAAC;IAAA,CAAC;IAACq8F,GAAG,EAAC,aAAShyF,CAAC,EAAC;MAAClN,MAAM,CAACiG,cAAc,CAAC,IAAI,EAACpD,CAAC,EAAC;QAACwD,YAAY,EAAC,CAAC,CAAC;QAACo5F,QAAQ,EAAC,CAAC,CAAC;QAACpmF,KAAK,EAACnM;MAAC,CAAC,CAAC;IAAA;EAAC,CAAC,CAAC;AAAA,CAAC,CAAC;AAAC,IAAIwyF,CAAC,GAACrF,iDAAO;AAAC,SAASsF,CAAC,GAAE,CAAC;AAAC,SAASC,CAAC,GAAE;EAAC,OAAO,IAAI,CAACC,YAAY;AAAA;AAAC,SAASC,CAAC,GAAE;EAAC,OAAO,IAAI,CAACvmC,gBAAgB;AAAA;AAAC8gC,iDAAO,GAAC,UAASntF,CAAC,EAAC;EAAC,OAAOwyF,CAAC,KAAGxyF,CAAC,GAACwyF,CAAC,CAACxyF,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC6yF,OAAO,GAACJ,CAAC,EAACzyF,CAAC,CAAC8yF,oBAAoB,GAACJ,CAAC,EAAC1yF,CAAC,CAAC+yF,kBAAkB,GAACH,CAAC,EAAC5yF,CAAC,CAACgzF,WAAW,GAAChzF,CAAC;AAAA,CAAC;AAAC,IAAIizF,CAAC;EAACC,CAAC,GAAC;IAAC/5F,YAAY,EAAC,CAAC,CAAC;IAACH,GAAG,EAAC,eAAU;MAAC,OAAO,IAAI,CAACm6F,KAAK;IAAA;EAAC,CAAC;EAACC,EAAE,GAACjG,iDAAO;AAACA,iDAAO,GAAC,UAASntF,CAAC,EAAC;EAAC,IAAIrK,CAAC,GAACqK,CAAC,CAACjK,IAAI;IAACo3F,CAAC,GAACntF,CAAC,CAACxE,KAAK;IAAC8xF,CAAC,GAACH,CAAC;EAAC,IAAG,QAAQ,IAAE,OAAOx3F,CAAC,EAAC;IAAC,IAAI43F,CAAC,GAAC,CAAC,CAAC,KAAG53F,CAAC,CAAC+d,OAAO,CAAC,GAAG,CAAC;IAAC,KAAI,IAAI9Y,CAAC,IAAI0yF,CAAC,GAAC,CAAC,CAAC,EAACH,CAAC,EAAC;MAAC,IAAIM,CAAC,GAACN,CAAC,CAACvyF,CAAC,CAAC;MAACs3F,CAAC,IAAE,UAAU,KAAGt3F,CAAC,IAAE,UAAU,KAAGjF,CAAC,IAAE,OAAO,KAAGiF,CAAC,IAAE,cAAc,IAAGuyF,CAAC,IAAE,IAAI,IAAEM,CAAC,KAAG,cAAc,KAAG7yF,CAAC,IAAE,OAAO,IAAGuyF,CAAC,IAAE,IAAI,IAAEA,CAAC,CAAChhF,KAAK,GAACvR,CAAC,GAAC,OAAO,GAAC,UAAU,KAAGA,CAAC,IAAE,CAAC,CAAC,KAAG6yF,CAAC,GAACA,CAAC,GAAC,EAAE,GAAC,gBAAgB,CAAC5xF,IAAI,CAACjB,CAAC,CAAC,GAACA,CAAC,GAAC,YAAY,GAAC,4BAA4B,CAACiB,IAAI,CAACjB,CAAC,GAACjF,CAAC,CAAC,IAAE,CAACw8F,CAAC,CAAChF,CAAC,CAACp3F,IAAI,CAAC,GAAC6E,CAAC,GAAC,SAAS,GAAC,YAAY,CAACiB,IAAI,CAACjB,CAAC,CAAC,GAACA,CAAC,GAAC,WAAW,GAAC,WAAW,CAACiB,IAAI,CAACjB,CAAC,CAAC,GAACA,CAAC,GAAC,YAAY,GAAC,kCAAkC,CAACiB,IAAI,CAACjB,CAAC,CAAC,GAACA,CAAC,GAACA,CAAC,CAAC04F,WAAW,EAAE,GAAC/F,CAAC,IAAE0E,CAAC,CAACp2F,IAAI,CAACjB,CAAC,CAAC,GAACA,CAAC,GAACA,CAAC,CAAC4R,OAAO,CAAC,WAAW,EAAC,KAAK,CAAC,CAAC8mF,WAAW,EAAE,GAAC,IAAI,KAAG7F,CAAC,KAAGA,CAAC,GAAC,KAAK,CAAC,CAAC,EAAC,YAAY,CAAC5xF,IAAI,CAACjB,CAAC,CAAC,KAAGA,CAAC,GAACA,CAAC,CAAC04F,WAAW,EAAE,EAAChG,CAAC,CAAC1yF,CAAC,CAAC,KAAGA,CAAC,GAAC,gBAAgB,CAAC,CAAC,EAAC0yF,CAAC,CAAC1yF,CAAC,CAAC,GAAC6yF,CAAC,CAAC;IAAA;IAAC,QAAQ,IAAE93F,CAAC,IAAE23F,CAAC,CAACiG,QAAQ,IAAErgG,KAAK,CAACC,OAAO,CAACm6F,CAAC,CAACnhF,KAAK,CAAC,KAAGmhF,CAAC,CAACnhF,KAAK,GAACkhF,oDAAC,CAACF,CAAC,CAAC/xF,QAAQ,CAAC,CAACoC,OAAO,CAAC,UAASwC,CAAC,EAAC;MAACA,CAAC,CAACxE,KAAK,CAACg4F,QAAQ,GAAC,CAAC,CAAC,IAAElG,CAAC,CAACnhF,KAAK,CAACuH,OAAO,CAAC1T,CAAC,CAACxE,KAAK,CAAC2Q,KAAK,CAAC;IAAA,CAAC,CAAC,CAAC,EAAC,QAAQ,IAAExW,CAAC,IAAE,IAAI,IAAE23F,CAAC,CAACvpB,YAAY,KAAGupB,CAAC,CAACnhF,KAAK,GAACkhF,oDAAC,CAACF,CAAC,CAAC/xF,QAAQ,CAAC,CAACoC,OAAO,CAAC,UAASwC,CAAC,EAAC;MAACA,CAAC,CAACxE,KAAK,CAACg4F,QAAQ,GAAClG,CAAC,CAACiG,QAAQ,GAAC,CAAC,CAAC,IAAEjG,CAAC,CAACvpB,YAAY,CAACrwD,OAAO,CAAC1T,CAAC,CAACxE,KAAK,CAAC2Q,KAAK,CAAC,GAACmhF,CAAC,CAACvpB,YAAY,IAAE/jE,CAAC,CAACxE,KAAK,CAAC2Q,KAAK;IAAA,CAAC,CAAC,CAAC,EAACnM,CAAC,CAACxE,KAAK,GAAC8xF,CAAC,EAACH,CAAC,CAACgG,KAAK,IAAEhG,CAAC,CAAC/pE,SAAS,KAAG8vE,CAAC,CAACh6F,UAAU,GAAC,WAAW,IAAGi0F,CAAC,EAAC,IAAI,IAAEA,CAAC,CAAC/pE,SAAS,KAAGkqE,CAAC,CAAC6F,KAAK,GAAChG,CAAC,CAAC/pE,SAAS,CAAC,EAACtwB,MAAM,CAACiG,cAAc,CAACu0F,CAAC,EAAC,WAAW,EAAC4F,CAAC,CAAC,CAAC;EAAA;EAAClzF,CAAC,CAACwvF,QAAQ,GAACz0F,CAAC,EAACq4F,EAAE,IAAEA,EAAE,CAACpzF,CAAC,CAAC;AAAA,CAAC;AAAC,IAAIyzF,EAAE,GAACtG,+CAAK;AAACA,+CAAK,GAAC,UAASntF,CAAC,EAAC;EAACyzF,EAAE,IAAEA,EAAE,CAACzzF,CAAC,CAAC,EAACizF,CAAC,GAACjzF,CAAC,CAACiwF,GAAG;AAAA,CAAC;AAAC,IAAIv1D,EAAE,GAAC;IAACi5D,sBAAsB,EAAC;MAACjnD,OAAO,EAAC;QAACknD,WAAW,EAAC,qBAAS5zF,CAAC,EAAC;UAAC,OAAOizF,CAAC,CAACY,GAAG,CAAC7zF,CAAC,CAACiwF,GAAG,CAAC,CAACz0F,KAAK,CAAC2Q,KAAK;QAAA;MAAC;IAAC;EAAC,CAAC;EAAC2nF,EAAE,GAAC,QAAQ;AAAC,SAASC,EAAE,CAAC/zF,CAAC,EAAC;EAAC,OAAOrK,sDAAM,CAAC,IAAI,EAACqK,CAAC,CAAC;AAAA;AAAC,SAAS+xB,EAAE,CAAC/xB,CAAC,EAAC;EAAC,OAAM,CAAC,CAACA,CAAC,IAAEA,CAAC,CAACwvF,QAAQ,KAAGz0F,CAAC;AAAA;AAAC,SAASi5F,EAAE,CAACh0F,CAAC,EAAC;EAAC,OAAO+xB,EAAE,CAAC/xB,CAAC,CAAC,GAAC2tF,sDAAO,CAAC,IAAI,EAAC5/E,SAAS,CAAC,GAAC/N,CAAC;AAAA;AAAC,SAASi0F,EAAE,CAACj0F,CAAC,EAAC;EAAC,OAAM,CAAC,CAACA,CAAC,CAACkwF,GAAG,KAAG3C,8CAAC,CAAC,IAAI,EAACvtF,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AAAA;AAAC,SAASk0F,EAAE,CAACl0F,CAAC,EAAC;EAAC,OAAOA,CAAC,KAAGA,CAAC,CAACm0F,IAAI,IAAE,CAAC,KAAGn0F,CAAC,CAAC9F,QAAQ,IAAE8F,CAAC,CAAC,IAAE,IAAI;AAAA;AAAC,IAAIo0F,EAAE,GAAC,SAAHA,EAAE,CAAUp0F,CAAC,EAACrK,CAAC,EAAC;IAAC,OAAOqK,CAAC,CAACrK,CAAC,CAAC;EAAA,CAAC;EAAC0+F,EAAE,GAAC,SAAHA,EAAE,CAAUr0F,CAAC,EAACrK,CAAC,EAAC;IAAC,OAAOqK,CAAC,CAACrK,CAAC,CAAC;EAAA,CAAC;EAAC2+F,EAAE,GAAChH,4CAAC;AAAC,SAASiH,EAAE,CAACv0F,CAAC,EAAC;EAACA,CAAC,EAAE;AAAA;AAAC,SAASw0F,EAAE,CAACx0F,CAAC,EAAC;EAAC,OAAOA,CAAC;AAAA;AAAC,SAASy0F,EAAE,GAAE;EAAC,OAAM,CAAC,CAAC,CAAC,EAACF,EAAE,CAAC;AAAA;AAAC,IAAIG,EAAE,GAACxyF,yDAAC;AAAC,SAASyyF,EAAE,CAAC30F,CAAC,EAACrK,CAAC,EAAC;EAAC,IAAIw3F,CAAC,GAACx3F,CAAC,EAAE;IAAC03F,CAAC,GAAC9tF,sDAAC,CAAC;MAACwuF,CAAC,EAAC;QAACiC,EAAE,EAAC7C,CAAC;QAACc,CAAC,EAACt4F;MAAC;IAAC,CAAC,CAAC;IAAC23F,CAAC,GAACD,CAAC,CAAC,CAAC,CAAC,CAACU,CAAC;IAACR,CAAC,GAACF,CAAC,CAAC,CAAC,CAAC;EAAC,OAAOnrF,6DAAC,CAAC,YAAU;IAACorF,CAAC,CAAC0C,EAAE,GAAC7C,CAAC,EAACG,CAAC,CAACW,CAAC,GAACt4F,CAAC,EAAC23F,CAAC,CAAC0C,EAAE,KAAGr6F,CAAC,EAAE,IAAE43F,CAAC,CAAC;MAACQ,CAAC,EAACT;IAAC,CAAC,CAAC;EAAA,CAAC,EAAC,CAACttF,CAAC,EAACmtF,CAAC,EAACx3F,CAAC,CAAC,CAAC,EAACs4F,uDAAC,CAAC,YAAU;IAAC,OAAOX,CAAC,CAAC0C,EAAE,KAAG1C,CAAC,CAACW,CAAC,EAAE,IAAEV,CAAC,CAAC;MAACQ,CAAC,EAACT;IAAC,CAAC,CAAC,EAACttF,CAAC,CAAC,YAAU;MAACstF,CAAC,CAAC0C,EAAE,KAAG1C,CAAC,CAACW,CAAC,EAAE,IAAEV,CAAC,CAAC;QAACQ,CAAC,EAACT;MAAC,CAAC,CAAC;IAAA,CAAC,CAAC;EAAA,CAAC,EAAC,CAACttF,CAAC,CAAC,CAAC,EAACmtF,CAAC;AAAA;AAAC,IAAIyH,EAAE,GAAC;EAAChH,QAAQ,EAACruF,kDAAC;EAACsuF,KAAK,EAACjuF,+CAAC;EAACkuF,UAAU,EAACC,oDAAC;EAACC,SAAS,EAACC,mDAAC;EAACC,eAAe,EAAChsF,yDAAC;EAAC2yF,kBAAkB,EAACH,EAAE;EAACI,aAAa,EAACL,EAAE;EAACM,gBAAgB,EAACP,EAAE;EAACQ,oBAAoB,EAACL,EAAE;EAACM,eAAe,EAACV,EAAE;EAACpG,MAAM,EAACC,gDAAC;EAACC,mBAAmB,EAAC1tF,6DAAC;EAAC2tF,OAAO,EAACprF,iDAAC;EAACqrF,WAAW,EAACC,qDAAC;EAACC,UAAU,EAACjvF,oDAAC;EAACkvF,aAAa,EAACC,uDAAC;EAACrsB,OAAO,EAAC,QAAQ;EAAC4yB,QAAQ,EAACxF,CAAC;EAAC36F,MAAM,EAACq9F,CAAC;EAAC5E,OAAO,EAAC8E,CAAC;EAAC5vB,sBAAsB,EAACuxB,EAAE;EAAC57F,YAAY,EAACw5F,CAAC;EAAC15F,aAAa,EAACxC,iDAAC;EAACsC,aAAa,EAACw1F,iDAAC;EAAC0H,aAAa,EAACpB,EAAE;EAACrG,YAAY,EAACsG,EAAE;EAAC97F,SAAS,EAAC2xB,6CAAC;EAACzxB,QAAQ,EAACk1F,4CAAC;EAAC8H,cAAc,EAACrjE,EAAE;EAACsjE,WAAW,EAACnB,EAAE;EAAC7hG,SAAS,EAAC2N,6CAAC;EAAC2rC,aAAa,EAACmjD,CAAC;EAACwG,IAAI,EAACnyF,CAAC;EAACoyF,UAAU,EAAChG,CAAC;EAACiG,SAAS,EAACnB,EAAE;EAACoB,uBAAuB,EAACrB,EAAE;EAACsB,UAAU,EAACpB,EAAE;EAACqB,QAAQ,EAAC/E,CAAC;EAACgF,YAAY,EAAC1E,CAAC;EAAC2E,IAAI,EAAC7E,CAAC;EAAC8E,kDAAkD,EAACp7D;AAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACAngR,IAAI16B,CAAC;EAACytF,CAAC;EAACH,CAAC;EAAC1yF,CAAC;EAACjF,CAAC;EAAC43F,CAAC;EAACF,CAAC;EAACM,CAAC,GAAC,CAAC,CAAC;EAACR,CAAC,GAAC,EAAE;EAACtjE,CAAC,GAAC,mEAAmE;AAAC,SAASjqB,CAAC,CAACI,CAAC,EAACytF,CAAC,EAAC;EAAC,KAAI,IAAIH,CAAC,IAAIG,CAAC;IAACztF,CAAC,CAACstF,CAAC,CAAC,GAACG,CAAC,CAACH,CAAC,CAAC;EAAC;EAAA,OAAOttF,CAAC;AAAA;AAAC,SAAST,CAAC,CAACS,CAAC,EAAC;EAAC,IAAIytF,CAAC,GAACztF,CAAC,CAACvG,UAAU;EAACg0F,CAAC,IAAEA,CAAC,CAAC/zF,WAAW,CAACsG,CAAC,CAAC;AAAA;AAAC,SAAS+tF,CAAC,CAACN,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAAC;EAAC,IAAIjF,CAAC;IAAC43F,CAAC;IAACF,CAAC;IAACM,CAAC,GAAC,CAAC,CAAC;EAAC,KAAIN,CAAC,IAAIC,CAAC;IAAC,KAAK,IAAED,CAAC,GAAC13F,CAAC,GAAC23F,CAAC,CAACD,CAAC,CAAC,GAAC,KAAK,IAAEA,CAAC,GAACE,CAAC,GAACD,CAAC,CAACD,CAAC,CAAC,GAACM,CAAC,CAACN,CAAC,CAAC,GAACC,CAAC,CAACD,CAAC,CAAC;EAAC;EAAA,IAAGt/E,SAAS,CAAClT,MAAM,GAAC,CAAC,KAAG8yF,CAAC,CAACvyF,QAAQ,GAAC2S,SAAS,CAAClT,MAAM,GAAC,CAAC,GAACmF,CAAC,CAACrM,IAAI,CAACoa,SAAS,EAAC,CAAC,CAAC,GAACnT,CAAC,CAAC,EAAC,UAAU,IAAE,OAAO6yF,CAAC,IAAE,IAAI,IAAEA,CAAC,CAACsI,YAAY,EAAC,KAAI1I,CAAC,IAAII,CAAC,CAACsI,YAAY;IAAC,KAAK,CAAC,KAAGpI,CAAC,CAACN,CAAC,CAAC,KAAGM,CAAC,CAACN,CAAC,CAAC,GAACI,CAAC,CAACsI,YAAY,CAAC1I,CAAC,CAAC,CAAC;EAAC;EAAA,OAAOY,CAAC,CAACR,CAAC,EAACE,CAAC,EAACh4F,CAAC,EAAC43F,CAAC,EAAC,IAAI,CAAC;AAAA;AAAC,SAASU,CAAC,CAACjuF,CAAC,EAACpF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,EAACF,CAAC,EAAC;EAAC,IAAIM,CAAC,GAAC;IAAC53F,IAAI,EAACiK,CAAC;IAACxE,KAAK,EAACZ,CAAC;IAAC7G,GAAG,EAAC4B,CAAC;IAAC82C,GAAG,EAAC8gD,CAAC;IAAC2C,GAAG,EAAC,IAAI;IAACF,EAAE,EAAC,IAAI;IAACZ,GAAG,EAAC,CAAC;IAACW,GAAG,EAAC,IAAI;IAACY,GAAG,EAAC,KAAK,CAAC;IAACV,GAAG,EAAC,IAAI;IAACmB,GAAG,EAAC,IAAI;IAACrE,WAAW,EAAC,KAAK,CAAC;IAAC0D,GAAG,EAAC,IAAI,IAAEpD,CAAC,GAAC,EAAEC,CAAC,GAACD;EAAC,CAAC;EAAC,OAAO,IAAI,IAAEA,CAAC,IAAE,IAAI,IAAEI,CAAC,CAAC4F,KAAK,IAAE5F,CAAC,CAAC4F,KAAK,CAAC1F,CAAC,CAAC,EAACA,CAAC;AAAA;AAAC,SAASzqF,CAAC,GAAE;EAAC,OAAM;IAACwpC,OAAO,EAAC;EAAI,CAAC;AAAA;AAAC,SAAS0hD,CAAC,CAACpuF,CAAC,EAAC;EAAC,OAAOA,CAAC,CAAC5E,QAAQ;AAAA;AAAC,SAAS8G,CAAC,CAAClC,CAAC,EAACytF,CAAC,EAAC;EAAC,IAAI,CAACjyF,KAAK,GAACwE,CAAC,EAAC,IAAI,CAACzH,OAAO,GAACk1F,CAAC;AAAA;AAAC,SAASe,CAAC,CAACxuF,CAAC,EAACytF,CAAC,EAAC;EAAC,IAAG,IAAI,IAAEA,CAAC,EAAC,OAAOztF,CAAC,CAACgwF,EAAE,GAACxB,CAAC,CAACxuF,CAAC,CAACgwF,EAAE,EAAChwF,CAAC,CAACgwF,EAAE,CAACE,GAAG,CAACx8E,OAAO,CAAC1T,CAAC,CAAC,GAAC,CAAC,CAAC,GAAC,IAAI;EAAC,KAAI,IAAIstF,CAAC,EAACG,CAAC,GAACztF,CAAC,CAACkwF,GAAG,CAACr1F,MAAM,EAAC4yF,CAAC,EAAE;IAAC,IAAG,IAAI,KAAGH,CAAC,GAACttF,CAAC,CAACkwF,GAAG,CAACzC,CAAC,CAAC,CAAC,IAAE,IAAI,IAAEH,CAAC,CAACyC,GAAG,EAAC,OAAOzC,CAAC,CAACyC,GAAG;EAAC;EAAA,OAAM,UAAU,IAAE,OAAO/vF,CAAC,CAACjK,IAAI,GAACy4F,CAAC,CAACxuF,CAAC,CAAC,GAAC,IAAI;AAAA;AAAC,SAASyvF,CAAC,CAACzvF,CAAC,EAAC;EAAC,IAAIytF,CAAC,EAACH,CAAC;EAAC,IAAG,IAAI,KAAGttF,CAAC,GAACA,CAAC,CAACgwF,EAAE,CAAC,IAAE,IAAI,IAAEhwF,CAAC,CAACiwF,GAAG,EAAC;IAAC,KAAIjwF,CAAC,CAAC+vF,GAAG,GAAC/vF,CAAC,CAACiwF,GAAG,CAACkE,IAAI,GAAC,IAAI,EAAC1G,CAAC,GAAC,CAAC,EAACA,CAAC,GAACztF,CAAC,CAACkwF,GAAG,CAACr1F,MAAM,EAAC4yF,CAAC,EAAE;MAAC,IAAG,IAAI,KAAGH,CAAC,GAACttF,CAAC,CAACkwF,GAAG,CAACzC,CAAC,CAAC,CAAC,IAAE,IAAI,IAAEH,CAAC,CAACyC,GAAG,EAAC;QAAC/vF,CAAC,CAAC+vF,GAAG,GAAC/vF,CAAC,CAACiwF,GAAG,CAACkE,IAAI,GAAC7G,CAAC,CAACyC,GAAG;QAAC;MAAK;IAAC;IAAA,OAAON,CAAC,CAACzvF,CAAC,CAAC;EAAA;AAAC;AAAC,SAASR,CAAC,CAACQ,CAAC,EAAC;EAAC,CAAC,CAACA,CAAC,CAAC2wF,GAAG,KAAG3wF,CAAC,CAAC2wF,GAAG,GAAC,CAAC,CAAC,CAAC,IAAEh7F,CAAC,CAACwB,IAAI,CAAC6I,CAAC,CAAC,IAAE,CAAC4uF,CAAC,CAAC8E,GAAG,EAAE,IAAEnG,CAAC,KAAGE,CAAC,CAAC9pB,iBAAiB,KAAG,CAAC,CAAC4pB,CAAC,GAACE,CAAC,CAAC9pB,iBAAiB,KAAGljB,UAAU,EAAEmuC,CAAC,CAAC;AAAA;AAAC,SAASA,CAAC,GAAE;EAAC,KAAI,IAAI5uF,CAAC,EAAC4uF,CAAC,CAAC8E,GAAG,GAAC/9F,CAAC,CAACkF,MAAM;IAAEmF,CAAC,GAACrK,CAAC,CAACsxB,IAAI,CAAC,UAASjnB,CAAC,EAACytF,CAAC,EAAC;MAAC,OAAOztF,CAAC,CAACywF,GAAG,CAACrB,GAAG,GAAC3B,CAAC,CAACgD,GAAG,CAACrB,GAAG;IAAA,CAAC,CAAC,EAACz5F,CAAC,GAAC,EAAE,EAACqK,CAAC,CAACg2F,IAAI,CAAC,UAASh2F,CAAC,EAAC;MAAC,IAAIytF,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,EAACF,CAAC;MAACrtF,CAAC,CAAC2wF,GAAG,KAAGpD,CAAC,GAAC,CAAC53F,CAAC,GAAC,CAAC83F,CAAC,GAACztF,CAAC,EAAEywF,GAAG,EAAEV,GAAG,EAAC,CAAC1C,CAAC,GAACI,CAAC,CAAC8C,GAAG,MAAIjD,CAAC,GAAC,EAAE,EAAC,CAAC1yF,CAAC,GAACgF,CAAC,CAAC,CAAC,CAAC,EAACjK,CAAC,CAAC,EAAE86F,GAAG,GAAC96F,CAAC,CAAC86F,GAAG,GAAC,CAAC,EAAC11F,CAAC,CAACsyF,CAAC,EAAC13F,CAAC,EAACiF,CAAC,EAAC6yF,CAAC,CAACoG,GAAG,EAAC,KAAK,CAAC,KAAGxG,CAAC,CAAC4I,eAAe,EAAC,IAAI,IAAEtgG,CAAC,CAACy7F,GAAG,GAAC,CAAC7D,CAAC,CAAC,GAAC,IAAI,EAACD,CAAC,EAAC,IAAI,IAAEC,CAAC,GAACiB,CAAC,CAAC74F,CAAC,CAAC,GAAC43F,CAAC,EAAC53F,CAAC,CAACy7F,GAAG,CAAC,EAACa,CAAC,CAAC3E,CAAC,EAAC33F,CAAC,CAAC,EAACA,CAAC,CAACo6F,GAAG,IAAExC,CAAC,IAAEkC,CAAC,CAAC95F,CAAC,CAAC,CAAC,CAAC;IAAA,CAAC,CAAC;EAAA;AAAA;AAAC,SAASwN,CAAC,CAACnD,CAAC,EAACytF,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,EAACF,CAAC,EAACxjE,CAAC,EAACjqB,CAAC,EAACL,CAAC,EAAC;EAAC,IAAIwuF,CAAC;IAAC7qF,CAAC;IAAChB,CAAC;IAACutF,CAAC;IAACjwF,CAAC;IAACovF,CAAC;IAACzrF,CAAC;IAACo/B,CAAC,GAAC3nC,CAAC,IAAEA,CAAC,CAACs1F,GAAG,IAAE/C,CAAC;IAAC0B,CAAC,GAACtsD,CAAC,CAAC1nC,MAAM;EAAC,KAAIyyF,CAAC,CAAC4C,GAAG,GAAC,EAAE,EAACnC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACN,CAAC,CAAC5yF,MAAM,EAACkzF,CAAC,EAAE;IAAC,IAAG,IAAI,KAAG0B,CAAC,GAACnC,CAAC,CAAC4C,GAAG,CAACnC,CAAC,CAAC,GAAC,IAAI,KAAG0B,CAAC,GAAChC,CAAC,CAACM,CAAC,CAAC,CAAC,IAAE,SAAS,IAAE,OAAO0B,CAAC,GAAC,IAAI,GAAC,QAAQ,IAAE,OAAOA,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,GAACxB,CAAC,CAAC,IAAI,EAACwB,CAAC,EAAC,IAAI,EAAC,IAAI,EAACA,CAAC,CAAC,GAACv8F,KAAK,CAACC,OAAO,CAACs8F,CAAC,CAAC,GAACxB,CAAC,CAACG,CAAC,EAAC;MAAChzF,QAAQ,EAACq0F;IAAC,CAAC,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC,GAACA,CAAC,CAACL,GAAG,GAAC,CAAC,GAACnB,CAAC,CAACwB,CAAC,CAAC15F,IAAI,EAAC05F,CAAC,CAACj0F,KAAK,EAACi0F,CAAC,CAAC17F,GAAG,EAAC07F,CAAC,CAAChjD,GAAG,GAACgjD,CAAC,CAAChjD,GAAG,GAAC,IAAI,EAACgjD,CAAC,CAACgB,GAAG,CAAC,GAAChB,CAAC,CAAC,EAAC;MAAC,IAAGA,CAAC,CAACO,EAAE,GAAC1C,CAAC,EAACmC,CAAC,CAACL,GAAG,GAAC9B,CAAC,CAAC8B,GAAG,GAAC,CAAC,EAAC,IAAI,MAAIltF,CAAC,GAACqgC,CAAC,CAACwrD,CAAC,CAAC,CAAC,IAAE7rF,CAAC,IAAEutF,CAAC,CAAC17F,GAAG,IAAEmO,CAAC,CAACnO,GAAG,IAAE07F,CAAC,CAAC15F,IAAI,KAAGmM,CAAC,CAACnM,IAAI,EAACwsC,CAAC,CAACwrD,CAAC,CAAC,GAAC,KAAK,CAAC,CAAC,KAAK,KAAI7qF,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC2rF,CAAC,EAAC3rF,CAAC,EAAE,EAAC;QAAC,IAAG,CAAChB,CAAC,GAACqgC,CAAC,CAACr/B,CAAC,CAAC,KAAGusF,CAAC,CAAC17F,GAAG,IAAEmO,CAAC,CAACnO,GAAG,IAAE07F,CAAC,CAAC15F,IAAI,KAAGmM,CAAC,CAACnM,IAAI,EAAC;UAACwsC,CAAC,CAACr/B,CAAC,CAAC,GAAC,KAAK,CAAC;UAAC;QAAK;QAAChB,CAAC,GAAC,IAAI;MAAA;MAACnH,CAAC,CAACiF,CAAC,EAACyvF,CAAC,EAACvtF,CAAC,GAACA,CAAC,IAAEyrF,CAAC,EAACh4F,CAAC,EAAC43F,CAAC,EAACF,CAAC,EAACxjE,CAAC,EAACjqB,CAAC,EAACL,CAAC,CAAC,EAACC,CAAC,GAACiwF,CAAC,CAACM,GAAG,EAAC,CAAC7sF,CAAC,GAACusF,CAAC,CAAChjD,GAAG,KAAGvqC,CAAC,CAACuqC,GAAG,IAAEvpC,CAAC,KAAGC,CAAC,KAAGA,CAAC,GAAC,EAAE,CAAC,EAACjB,CAAC,CAACuqC,GAAG,IAAEtpC,CAAC,CAAChM,IAAI,CAAC+K,CAAC,CAACuqC,GAAG,EAAC,IAAI,EAACgjD,CAAC,CAAC,EAACtsF,CAAC,CAAChM,IAAI,CAAC+L,CAAC,EAACusF,CAAC,CAACQ,GAAG,IAAEzwF,CAAC,EAACiwF,CAAC,CAAC,CAAC,EAAC,IAAI,IAAEjwF,CAAC,IAAE,IAAI,IAAEovF,CAAC,KAAGA,CAAC,GAACpvF,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOiwF,CAAC,CAAC15F,IAAI,IAAE05F,CAAC,CAACS,GAAG,KAAGhuF,CAAC,CAACguF,GAAG,GAACT,CAAC,CAACkB,GAAG,GAAC/wF,CAAC,GAACe,CAAC,CAAC8uF,CAAC,EAAC7vF,CAAC,EAACI,CAAC,CAAC,GAACJ,CAAC,GAAC8vF,CAAC,CAAC1vF,CAAC,EAACyvF,CAAC,EAACvtF,CAAC,EAACqgC,CAAC,EAAC/iC,CAAC,EAACI,CAAC,CAAC,EAAC,UAAU,IAAE,OAAO0tF,CAAC,CAACv3F,IAAI,KAAGu3F,CAAC,CAACqD,GAAG,GAAC/wF,CAAC,CAAC,IAAEA,CAAC,IAAEsC,CAAC,CAAC6tF,GAAG,IAAEnwF,CAAC,IAAEA,CAAC,CAACnG,UAAU,IAAEuG,CAAC,KAAGJ,CAAC,GAAC4uF,CAAC,CAACtsF,CAAC,CAAC,CAAC;IAAA;EAAC;EAAA,KAAIorF,CAAC,CAACyC,GAAG,GAACnB,CAAC,EAACb,CAAC,GAACc,CAAC,EAACd,CAAC,EAAE;IAAE,IAAI,IAAExrD,CAAC,CAACwrD,CAAC,CAAC,IAAEwB,CAAC,CAAChtD,CAAC,CAACwrD,CAAC,CAAC,EAACxrD,CAAC,CAACwrD,CAAC,CAAC,CAAC;EAAC;EAAA,IAAG5qF,CAAC,EAAC,KAAI4qF,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC5qF,CAAC,CAACtI,MAAM,EAACkzF,CAAC,EAAE;IAACmD,CAAC,CAAC/tF,CAAC,CAAC4qF,CAAC,CAAC,EAAC5qF,CAAC,CAAC,EAAE4qF,CAAC,CAAC,EAAC5qF,CAAC,CAAC,EAAE4qF,CAAC,CAAC,CAAC;EAAA;AAAA;AAAC,SAASptF,CAAC,CAACX,CAAC,EAACytF,CAAC,EAACH,CAAC,EAAC;EAAC,KAAI,IAAI1yF,CAAC,EAACjF,CAAC,GAACqK,CAAC,CAACkwF,GAAG,EAAC3C,CAAC,GAAC,CAAC,EAAC53F,CAAC,IAAE43F,CAAC,GAAC53F,CAAC,CAACkF,MAAM,EAAC0yF,CAAC,EAAE;IAAC,CAAC3yF,CAAC,GAACjF,CAAC,CAAC43F,CAAC,CAAC,MAAI3yF,CAAC,CAACo1F,EAAE,GAAChwF,CAAC,EAACytF,CAAC,GAAC,UAAU,IAAE,OAAO7yF,CAAC,CAAC7E,IAAI,GAAC4K,CAAC,CAAC/F,CAAC,EAAC6yF,CAAC,EAACH,CAAC,CAAC,GAACoC,CAAC,CAACpC,CAAC,EAAC1yF,CAAC,EAACA,CAAC,EAACjF,CAAC,EAACiF,CAAC,CAACm1F,GAAG,EAACtC,CAAC,CAAC,CAAC;EAAC;EAAA,OAAOA,CAAC;AAAA;AAAC,SAASlrD,CAAC,CAACviC,CAAC,EAACytF,CAAC,EAAC;EAAC,OAAOA,CAAC,GAACA,CAAC,IAAE,EAAE,EAAC,IAAI,IAAEztF,CAAC,IAAE,SAAS,IAAE,OAAOA,CAAC,KAAG9M,KAAK,CAACC,OAAO,CAAC6M,CAAC,CAAC,GAACA,CAAC,CAACg2F,IAAI,CAAC,UAASh2F,CAAC,EAAC;IAACuiC,CAAC,CAACviC,CAAC,EAACytF,CAAC,CAAC;EAAA,CAAC,CAAC,GAACA,CAAC,CAACt2F,IAAI,CAAC6I,CAAC,CAAC,CAAC,EAACytF,CAAC;AAAA;AAAC,SAASiC,CAAC,CAAC1vF,CAAC,EAACytF,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,EAAC;EAAC,IAAIF,CAAC,EAACM,CAAC,EAACR,CAAC;EAAC,IAAG,KAAK,CAAC,KAAGM,CAAC,CAACkD,GAAG,EAACtD,CAAC,GAACI,CAAC,CAACkD,GAAG,EAAClD,CAAC,CAACkD,GAAG,GAAC,KAAK,CAAC,CAAC,KAAK,IAAG,IAAI,IAAErD,CAAC,IAAE33F,CAAC,IAAE43F,CAAC,IAAE,IAAI,IAAE53F,CAAC,CAAC8D,UAAU,EAACuG,CAAC,EAAC,IAAG,IAAI,IAAEutF,CAAC,IAAEA,CAAC,CAAC9zF,UAAU,KAAGuG,CAAC,EAACA,CAAC,CAAC09B,WAAW,CAAC/nC,CAAC,CAAC,EAAC03F,CAAC,GAAC,IAAI,CAAC,KAAI;IAAC,KAAIM,CAAC,GAACJ,CAAC,EAACJ,CAAC,GAAC,CAAC,EAAC,CAACQ,CAAC,GAACA,CAAC,CAACuI,WAAW,KAAG/I,CAAC,GAACvyF,CAAC,CAACC,MAAM,EAACsyF,CAAC,IAAE,CAAC;MAAC,IAAGQ,CAAC,IAAEh4F,CAAC,EAAC,MAAMqK,CAAC;IAAC;IAAAA,CAAC,CAAC0wF,YAAY,CAAC/6F,CAAC,EAAC43F,CAAC,CAAC,EAACF,CAAC,GAACE,CAAC;EAAA;EAAC,OAAO,KAAK,CAAC,KAAGF,CAAC,GAACA,CAAC,GAAC13F,CAAC,CAACugG,WAAW;AAAA;AAAC,SAASrH,CAAC,CAAC7uF,CAAC,EAACytF,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC;EAAC,IAAI43F,CAAC;EAAC,KAAIA,CAAC,IAAID,CAAC;IAAC,UAAU,KAAGC,CAAC,IAAE,KAAK,KAAGA,CAAC,IAAEA,CAAC,IAAIE,CAAC,IAAE0E,CAAC,CAACnyF,CAAC,EAACutF,CAAC,EAAC,IAAI,EAACD,CAAC,CAACC,CAAC,CAAC,EAAC3yF,CAAC,CAAC;EAAC;EAAA,KAAI2yF,CAAC,IAAIE,CAAC;IAAC93F,CAAC,IAAE,UAAU,IAAE,OAAO83F,CAAC,CAACF,CAAC,CAAC,IAAE,UAAU,KAAGA,CAAC,IAAE,KAAK,KAAGA,CAAC,IAAE,OAAO,KAAGA,CAAC,IAAE,SAAS,KAAGA,CAAC,IAAED,CAAC,CAACC,CAAC,CAAC,KAAGE,CAAC,CAACF,CAAC,CAAC,IAAE4E,CAAC,CAACnyF,CAAC,EAACutF,CAAC,EAACE,CAAC,CAACF,CAAC,CAAC,EAACD,CAAC,CAACC,CAAC,CAAC,EAAC3yF,CAAC,CAAC;EAAA;AAAA;AAAC,SAASi3F,CAAC,CAAC7xF,CAAC,EAACytF,CAAC,EAACH,CAAC,EAAC;EAAC,GAAG,KAAGG,CAAC,CAAC,CAAC,CAAC,GAACztF,CAAC,CAACm2F,WAAW,CAAC1I,CAAC,EAACH,CAAC,CAAC,GAACttF,CAAC,CAACytF,CAAC,CAAC,GAAC,IAAI,IAAEH,CAAC,GAAC,EAAE,GAAC,QAAQ,IAAE,OAAOA,CAAC,IAAEzjE,CAAC,CAAChuB,IAAI,CAAC4xF,CAAC,CAAC,GAACH,CAAC,GAACA,CAAC,GAAC,IAAI;AAAA;AAAC,SAAS6E,CAAC,CAACnyF,CAAC,EAACytF,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC;EAAC,IAAI43F,CAAC;EAACvtF,CAAC,EAAC,IAAG,OAAO,KAAGytF,CAAC;IAAC,IAAG,QAAQ,IAAE,OAAOH,CAAC,EAACttF,CAAC,CAACpE,KAAK,CAACw6F,OAAO,GAAC9I,CAAC,CAAC,KAAI;MAAC,IAAG,QAAQ,IAAE,OAAO1yF,CAAC,KAAGoF,CAAC,CAACpE,KAAK,CAACw6F,OAAO,GAACx7F,CAAC,GAAC,EAAE,CAAC,EAACA,CAAC,EAAC,KAAI6yF,CAAC,IAAI7yF,CAAC;QAAC0yF,CAAC,IAAEG,CAAC,IAAIH,CAAC,IAAEuE,CAAC,CAAC7xF,CAAC,CAACpE,KAAK,EAAC6xF,CAAC,EAAC,EAAE,CAAC;MAAC;MAAA,IAAGH,CAAC,EAAC,KAAIG,CAAC,IAAIH,CAAC;QAAC1yF,CAAC,IAAE0yF,CAAC,CAACG,CAAC,CAAC,KAAG7yF,CAAC,CAAC6yF,CAAC,CAAC,IAAEoE,CAAC,CAAC7xF,CAAC,CAACpE,KAAK,EAAC6xF,CAAC,EAACH,CAAC,CAACG,CAAC,CAAC,CAAC;MAAA;IAAA;EAAC,OAAK,IAAG,GAAG,KAAGA,CAAC,CAAC,CAAC,CAAC,IAAE,GAAG,KAAGA,CAAC,CAAC,CAAC,CAAC,EAACF,CAAC,GAACE,CAAC,MAAIA,CAAC,GAACA,CAAC,CAACjhF,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC,CAAC,EAACihF,CAAC,GAACA,CAAC,CAAC6F,WAAW,EAAE,IAAGtzF,CAAC,GAACytF,CAAC,CAAC6F,WAAW,EAAE,CAAC5/F,KAAK,CAAC,CAAC,CAAC,GAAC+5F,CAAC,CAAC/5F,KAAK,CAAC,CAAC,CAAC,EAACsM,CAAC,CAACytF,CAAC,KAAGztF,CAAC,CAACytF,CAAC,GAAC,CAAC,CAAC,CAAC,EAACztF,CAAC,CAACytF,CAAC,CAACA,CAAC,GAACF,CAAC,CAAC,GAACD,CAAC,EAACA,CAAC,GAAC1yF,CAAC,IAAEoF,CAAC,CAACrD,gBAAgB,CAAC8wF,CAAC,EAACF,CAAC,GAAC4C,CAAC,GAACE,CAAC,EAAC9C,CAAC,CAAC,GAACvtF,CAAC,CAACpD,mBAAmB,CAAC6wF,CAAC,EAACF,CAAC,GAAC4C,CAAC,GAACE,CAAC,EAAC9C,CAAC,CAAC,CAAC,KAAK,IAAG,yBAAyB,KAAGE,CAAC,EAAC;IAAC,IAAG93F,CAAC,EAAC83F,CAAC,GAACA,CAAC,CAACjhF,OAAO,CAAC,aAAa,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,QAAQ,EAAC,GAAG,CAAC,CAAC,KAAK,IAAG,MAAM,KAAGihF,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAE,UAAU,KAAGA,CAAC,IAAE,UAAU,KAAGA,CAAC,IAAEA,CAAC,IAAIztF,CAAC,EAAC,IAAG;MAACA,CAAC,CAACytF,CAAC,CAAC,GAAC,IAAI,IAAEH,CAAC,GAAC,EAAE,GAACA,CAAC;MAAC,MAAMttF,CAAC;IAAA,CAAC,QAAMA,CAAC,EAAC,CAAC;IAAC,UAAU,IAAE,OAAOstF,CAAC,KAAG,IAAI,IAAEA,CAAC,IAAE,CAAC,CAAC,KAAGA,CAAC,IAAE,CAAC,CAAC,IAAEG,CAAC,CAAC/5E,OAAO,CAAC,GAAG,CAAC,GAAC1T,CAAC,CAACq2F,eAAe,CAAC5I,CAAC,CAAC,GAACztF,CAAC,CAACs2F,YAAY,CAAC7I,CAAC,EAACH,CAAC,CAAC,CAAC;EAAA;AAAC;AAAC,SAAS+C,CAAC,CAACrwF,CAAC,EAAC;EAAC,IAAI,CAACytF,CAAC,CAACztF,CAAC,CAACjK,IAAI,GAAC,CAAC,CAAC,CAAC,CAAC03F,CAAC,CAACz4D,KAAK,GAACy4D,CAAC,CAACz4D,KAAK,CAACh1B,CAAC,CAAC,GAACA,CAAC,CAAC;AAAA;AAAC,SAASmwF,CAAC,CAACnwF,CAAC,EAAC;EAAC,IAAI,CAACytF,CAAC,CAACztF,CAAC,CAACjK,IAAI,GAAC,CAAC,CAAC,CAAC,CAAC03F,CAAC,CAACz4D,KAAK,GAACy4D,CAAC,CAACz4D,KAAK,CAACh1B,CAAC,CAAC,GAACA,CAAC,CAAC;AAAA;AAAC,SAASjF,CAAC,CAACiF,CAAC,EAACstF,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,EAACF,CAAC,EAACM,CAAC,EAACR,CAAC,EAACtjE,CAAC,EAAC;EAAC,IAAItqB,CAAC;IAACwuF,CAAC;IAACE,CAAC;IAAC/qF,CAAC;IAACsrF,CAAC;IAACiB,CAAC;IAACjwF,CAAC;IAACovF,CAAC;IAACjuF,CAAC;IAAC4hC,CAAC;IAACmtD,CAAC;IAACb,CAAC;IAACgD,CAAC;IAACM,CAAC;IAAC9B,CAAC;IAACF,CAAC,GAAC7C,CAAC,CAACv3F,IAAI;EAAC,IAAG,KAAK,CAAC,KAAGu3F,CAAC,CAACP,WAAW,EAAC,OAAO,IAAI;EAAC,IAAI,IAAEnyF,CAAC,CAACw2F,GAAG,KAAGvnE,CAAC,GAACjvB,CAAC,CAACw2F,GAAG,EAACjE,CAAC,GAACG,CAAC,CAACyC,GAAG,GAACn1F,CAAC,CAACm1F,GAAG,EAACzC,CAAC,CAAC8D,GAAG,GAAC,IAAI,EAAC/D,CAAC,GAAC,CAACF,CAAC,CAAC,CAAC,EAAC,CAAC5tF,CAAC,GAACkuF,CAAC,CAAC2B,GAAG,KAAG7vF,CAAC,CAAC+tF,CAAC,CAAC;EAAC,IAAG;IAACttF,CAAC,EAAC,IAAG,UAAU,IAAE,OAAOmwF,CAAC,EAAC;MAAC,IAAGvB,CAAC,GAACtB,CAAC,CAAC9xF,KAAK,EAACmF,CAAC,GAAC,CAACpB,CAAC,GAAC4wF,CAAC,CAAC9jD,WAAW,KAAG12C,CAAC,CAAC4J,CAAC,CAAC0wF,GAAG,CAAC,EAAC1tD,CAAC,GAAChjC,CAAC,GAACoB,CAAC,GAACA,CAAC,CAACnF,KAAK,CAAC2Q,KAAK,GAAC5M,CAAC,CAACywF,EAAE,GAACr6F,CAAC,EAACiF,CAAC,CAACq1F,GAAG,GAACzwF,CAAC,GAAC,CAACuuF,CAAC,GAACT,CAAC,CAAC2C,GAAG,GAACr1F,CAAC,CAACq1F,GAAG,EAAED,EAAE,GAACjC,CAAC,CAACwI,GAAG,IAAE,WAAW,IAAGpG,CAAC,IAAEA,CAAC,CAACp9F,SAAS,CAACgC,MAAM,GAACu4F,CAAC,CAAC2C,GAAG,GAAClC,CAAC,GAAC,IAAIoC,CAAC,CAACvB,CAAC,EAACrsD,CAAC,CAAC,IAAE+qD,CAAC,CAAC2C,GAAG,GAAClC,CAAC,GAAC,IAAI7rF,CAAC,CAAC0sF,CAAC,EAACrsD,CAAC,CAAC,EAACwrD,CAAC,CAAChB,WAAW,GAACoD,CAAC,EAACpC,CAAC,CAACh5F,MAAM,GAAC+6F,CAAC,CAAC,EAACnvF,CAAC,IAAEA,CAAC,CAAC8hB,GAAG,CAACsrE,CAAC,CAAC,EAACA,CAAC,CAACvyF,KAAK,GAACozF,CAAC,EAACb,CAAC,CAACt7D,KAAK,KAAGs7D,CAAC,CAACt7D,KAAK,GAAC,CAAC,CAAC,CAAC,EAACs7D,CAAC,CAACx1F,OAAO,GAACgqC,CAAC,EAACwrD,CAAC,CAAC8F,GAAG,GAACl+F,CAAC,EAACs4F,CAAC,GAACF,CAAC,CAAC4C,GAAG,GAAC,CAAC,CAAC,EAAC5C,CAAC,CAACqD,GAAG,GAAC,EAAE,EAACrD,CAAC,CAACyI,GAAG,GAAC,EAAE,CAAC,EAAC,IAAI,IAAEzI,CAAC,CAAC0I,GAAG,KAAG1I,CAAC,CAAC0I,GAAG,GAAC1I,CAAC,CAACt7D,KAAK,CAAC,EAAC,IAAI,IAAE09D,CAAC,CAACuG,wBAAwB,KAAG3I,CAAC,CAAC0I,GAAG,IAAE1I,CAAC,CAACt7D,KAAK,KAAGs7D,CAAC,CAAC0I,GAAG,GAAC72F,CAAC,CAAC,CAAC,CAAC,EAACmuF,CAAC,CAAC0I,GAAG,CAAC,CAAC,EAAC72F,CAAC,CAACmuF,CAAC,CAAC0I,GAAG,EAACtG,CAAC,CAACuG,wBAAwB,CAAC9H,CAAC,EAACb,CAAC,CAAC0I,GAAG,CAAC,CAAC,CAAC,EAACvzF,CAAC,GAAC6qF,CAAC,CAACvyF,KAAK,EAACgzF,CAAC,GAACT,CAAC,CAACt7D,KAAK,EAACw7D,CAAC,EAAC,IAAI,IAAEkC,CAAC,CAACuG,wBAAwB,IAAE,IAAI,IAAE3I,CAAC,CAAC4I,kBAAkB,IAAE5I,CAAC,CAAC4I,kBAAkB,EAAE,EAAC,IAAI,IAAE5I,CAAC,CAAC57C,iBAAiB,IAAE47C,CAAC,CAACqD,GAAG,CAACj6F,IAAI,CAAC42F,CAAC,CAAC57C,iBAAiB,CAAC,CAAC,KAAI;QAAC,IAAG,IAAI,IAAEg+C,CAAC,CAACuG,wBAAwB,IAAE9H,CAAC,KAAG1rF,CAAC,IAAE,IAAI,IAAE6qF,CAAC,CAAC6I,yBAAyB,IAAE7I,CAAC,CAAC6I,yBAAyB,CAAChI,CAAC,EAACrsD,CAAC,CAAC,EAAC,CAACwrD,CAAC,CAACgC,GAAG,IAAE,IAAI,IAAEhC,CAAC,CAACniD,qBAAqB,IAAE,CAAC,CAAC,KAAGmiD,CAAC,CAACniD,qBAAqB,CAACgjD,CAAC,EAACb,CAAC,CAAC0I,GAAG,EAACl0D,CAAC,CAAC,IAAE+qD,CAAC,CAACmD,GAAG,KAAG71F,CAAC,CAAC61F,GAAG,EAAC;UAAC,KAAI1C,CAAC,CAACvyF,KAAK,GAACozF,CAAC,EAACb,CAAC,CAACt7D,KAAK,GAACs7D,CAAC,CAAC0I,GAAG,EAACnJ,CAAC,CAACmD,GAAG,KAAG71F,CAAC,CAAC61F,GAAG,KAAG1C,CAAC,CAAC4C,GAAG,GAAC,CAAC,CAAC,CAAC,EAAC5C,CAAC,CAAC0C,GAAG,GAACnD,CAAC,EAACA,CAAC,CAACyC,GAAG,GAACn1F,CAAC,CAACm1F,GAAG,EAACzC,CAAC,CAAC4C,GAAG,GAACt1F,CAAC,CAACs1F,GAAG,EAAC5C,CAAC,CAAC4C,GAAG,CAAC1yF,OAAO,CAAC,UAASwC,CAAC,EAAC;YAACA,CAAC,KAAGA,CAAC,CAACgwF,EAAE,GAAC1C,CAAC,CAAC;UAAA,CAAC,CAAC,EAACoC,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC3B,CAAC,CAACyI,GAAG,CAAC37F,MAAM,EAAC60F,CAAC,EAAE;YAAC3B,CAAC,CAACqD,GAAG,CAACj6F,IAAI,CAAC42F,CAAC,CAACyI,GAAG,CAAC9G,CAAC,CAAC,CAAC;UAAC;UAAA3B,CAAC,CAACyI,GAAG,GAAC,EAAE,EAACzI,CAAC,CAACqD,GAAG,CAACv2F,MAAM,IAAE8yF,CAAC,CAACx2F,IAAI,CAAC42F,CAAC,CAAC;UAAC,MAAM/tF,CAAC;QAAA;QAAC,IAAI,IAAE+tF,CAAC,CAAC8I,mBAAmB,IAAE9I,CAAC,CAAC8I,mBAAmB,CAACjI,CAAC,EAACb,CAAC,CAAC0I,GAAG,EAACl0D,CAAC,CAAC,EAAC,IAAI,IAAEwrD,CAAC,CAAC17C,kBAAkB,IAAE07C,CAAC,CAACqD,GAAG,CAACj6F,IAAI,CAAC,YAAU;UAAC42F,CAAC,CAAC17C,kBAAkB,CAACnvC,CAAC,EAACsrF,CAAC,EAACiB,CAAC,CAAC;QAAA,CAAC,CAAC;MAAA;MAAC,IAAG1B,CAAC,CAACx1F,OAAO,GAACgqC,CAAC,EAACwrD,CAAC,CAACvyF,KAAK,GAACozF,CAAC,EAACb,CAAC,CAAC0C,GAAG,GAACnD,CAAC,EAACS,CAAC,CAACwC,GAAG,GAACvwF,CAAC,EAAC6uF,CAAC,GAACpB,CAAC,CAACiG,GAAG,EAAC7B,CAAC,GAAC,CAAC,EAAC,WAAW,IAAG1B,CAAC,IAAEA,CAAC,CAACp9F,SAAS,CAACgC,MAAM,EAAC;QAAC,KAAIg5F,CAAC,CAACt7D,KAAK,GAACs7D,CAAC,CAAC0I,GAAG,EAAC1I,CAAC,CAAC4C,GAAG,GAAC,CAAC,CAAC,EAAC9B,CAAC,IAAEA,CAAC,CAACvB,CAAC,CAAC,EAAC/tF,CAAC,GAACwuF,CAAC,CAACh5F,MAAM,CAACg5F,CAAC,CAACvyF,KAAK,EAACuyF,CAAC,CAACt7D,KAAK,EAACs7D,CAAC,CAACx1F,OAAO,CAAC,EAAC45F,CAAC,GAAC,CAAC,EAACA,CAAC,GAACpE,CAAC,CAACyI,GAAG,CAAC37F,MAAM,EAACs3F,CAAC,EAAE;UAACpE,CAAC,CAACqD,GAAG,CAACj6F,IAAI,CAAC42F,CAAC,CAACyI,GAAG,CAACrE,CAAC,CAAC,CAAC;QAAC;QAAApE,CAAC,CAACyI,GAAG,GAAC,EAAE;MAAA,CAAC,MAAK,GAAE;QAACzI,CAAC,CAAC4C,GAAG,GAAC,CAAC,CAAC,EAAC9B,CAAC,IAAEA,CAAC,CAACvB,CAAC,CAAC,EAAC/tF,CAAC,GAACwuF,CAAC,CAACh5F,MAAM,CAACg5F,CAAC,CAACvyF,KAAK,EAACuyF,CAAC,CAACt7D,KAAK,EAACs7D,CAAC,CAACx1F,OAAO,CAAC,EAACw1F,CAAC,CAACt7D,KAAK,GAACs7D,CAAC,CAAC0I,GAAG;MAAA,CAAC,QAAM1I,CAAC,CAAC4C,GAAG,IAAE,EAAEkB,CAAC,GAAC,EAAE;MAAE9D,CAAC,CAACt7D,KAAK,GAACs7D,CAAC,CAAC0I,GAAG,EAAC,IAAI,IAAE1I,CAAC,CAAC5pB,eAAe,KAAGxuE,CAAC,GAACiK,CAAC,CAACA,CAAC,CAAC,CAAC,CAAC,EAACjK,CAAC,CAAC,EAACo4F,CAAC,CAAC5pB,eAAe,EAAE,CAAC,CAAC,EAAC8pB,CAAC,IAAE,IAAI,IAAEF,CAAC,CAAC+I,uBAAuB,KAAGrH,CAAC,GAAC1B,CAAC,CAAC+I,uBAAuB,CAAC5zF,CAAC,EAACsrF,CAAC,CAAC,CAAC,EAAC6B,CAAC,GAAC,IAAI,IAAE9wF,CAAC,IAAEA,CAAC,CAACxJ,IAAI,KAAGq4F,CAAC,IAAE,IAAI,IAAE7uF,CAAC,CAACxL,GAAG,GAACwL,CAAC,CAAC/D,KAAK,CAACJ,QAAQ,GAACmE,CAAC,EAAC4D,CAAC,CAACnD,CAAC,EAAC9M,KAAK,CAACC,OAAO,CAACk9F,CAAC,CAAC,GAACA,CAAC,GAAC,CAACA,CAAC,CAAC,EAAC/C,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,EAACF,CAAC,EAACM,CAAC,EAACR,CAAC,EAACtjE,CAAC,CAAC,EAACkkE,CAAC,CAACoG,IAAI,GAAC7G,CAAC,CAACyC,GAAG,EAACzC,CAAC,CAAC8D,GAAG,GAAC,IAAI,EAACrD,CAAC,CAACqD,GAAG,CAACv2F,MAAM,IAAE8yF,CAAC,CAACx2F,IAAI,CAAC42F,CAAC,CAAC,EAACvuF,CAAC,KAAGuuF,CAAC,CAACwI,GAAG,GAACxI,CAAC,CAACiC,EAAE,GAAC,IAAI,CAAC,EAACjC,CAAC,CAACgC,GAAG,GAAC,CAAC,CAAC;IAAA,CAAC,MAAK,IAAI,IAAE1C,CAAC,IAAEC,CAAC,CAACmD,GAAG,KAAG71F,CAAC,CAAC61F,GAAG,IAAEnD,CAAC,CAAC4C,GAAG,GAACt1F,CAAC,CAACs1F,GAAG,EAAC5C,CAAC,CAACyC,GAAG,GAACn1F,CAAC,CAACm1F,GAAG,IAAEzC,CAAC,CAACyC,GAAG,GAACS,CAAC,CAAC51F,CAAC,CAACm1F,GAAG,EAACzC,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,EAACF,CAAC,EAACM,CAAC,EAAC9jE,CAAC,CAAC;IAAC,CAACtqB,CAAC,GAACkuF,CAAC,CAACsJ,MAAM,KAAGx3F,CAAC,CAAC+tF,CAAC,CAAC;EAAA,CAAC,QAAMttF,CAAC,EAAC;IAACstF,CAAC,CAACmD,GAAG,GAAC,IAAI,EAAC,CAAC5mE,CAAC,IAAE,IAAI,IAAEwjE,CAAC,MAAIC,CAAC,CAACyC,GAAG,GAAC5C,CAAC,EAACG,CAAC,CAAC8D,GAAG,GAAC,CAAC,CAACvnE,CAAC,EAACwjE,CAAC,CAACA,CAAC,CAAC35E,OAAO,CAACy5E,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC,EAACM,CAAC,CAACsC,GAAG,CAAC/vF,CAAC,EAACstF,CAAC,EAAC1yF,CAAC,CAAC;EAAA;AAAC;AAAC,SAASq3F,CAAC,CAACjyF,CAAC,EAACstF,CAAC,EAAC;EAACG,CAAC,CAACwC,GAAG,IAAExC,CAAC,CAACwC,GAAG,CAAC3C,CAAC,EAACttF,CAAC,CAAC,EAACA,CAAC,CAACg2F,IAAI,CAAC,UAAS1I,CAAC,EAAC;IAAC,IAAG;MAACttF,CAAC,GAACstF,CAAC,CAAC8D,GAAG,EAAC9D,CAAC,CAAC8D,GAAG,GAAC,EAAE,EAACpxF,CAAC,CAACg2F,IAAI,CAAC,UAASh2F,CAAC,EAAC;QAACA,CAAC,CAACrM,IAAI,CAAC25F,CAAC,CAAC;MAAA,CAAC,CAAC;IAAA,CAAC,QAAMttF,CAAC,EAAC;MAACytF,CAAC,CAACsC,GAAG,CAAC/vF,CAAC,EAACstF,CAAC,CAACmD,GAAG,CAAC;IAAA;EAAC,CAAC,CAAC;AAAA;AAAC,SAASD,CAAC,CAAC/C,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,EAACF,CAAC,EAACF,CAAC,EAACtjE,CAAC,EAAC;EAAC,IAAIjqB,CAAC;IAACmuF,CAAC;IAACE,CAAC;IAAC/qF,CAAC,GAACtI,CAAC,CAACY,KAAK;IAAC4yF,CAAC,GAACd,CAAC,CAAC9xF,KAAK;IAAC0G,CAAC,GAACorF,CAAC,CAACv3F,IAAI;IAAC05F,CAAC,GAAC,CAAC;EAAC,IAAG,KAAK,KAAGvtF,CAAC,KAAGqrF,CAAC,GAAC,CAAC,CAAC,CAAC,EAAC,IAAI,IAAEF,CAAC,EAAC,OAAKoC,CAAC,GAACpC,CAAC,CAACxyF,MAAM,EAAC40F,CAAC,EAAE;IAAC,IAAG,CAAC7vF,CAAC,GAACytF,CAAC,CAACoC,CAAC,CAAC,KAAG,cAAc,IAAG7vF,CAAC,IAAE,CAAC,CAACsC,CAAC,KAAGA,CAAC,GAACtC,CAAC,CAACo3F,SAAS,KAAG90F,CAAC,GAAC,CAAC,KAAGtC,CAAC,CAAC1F,QAAQ,CAAC,EAAC;MAACuzF,CAAC,GAAC7tF,CAAC,EAACytF,CAAC,CAACoC,CAAC,CAAC,GAAC,IAAI;MAAC;IAAK;EAAC;EAAA,IAAG,IAAI,IAAEhC,CAAC,EAAC;IAAC,IAAG,IAAI,KAAGvrF,CAAC,EAAC,OAAOrI,QAAQ,CAACo9F,cAAc,CAAC7I,CAAC,CAAC;IAACX,CAAC,GAACF,CAAC,GAAC1zF,QAAQ,CAACq9F,eAAe,CAAC,4BAA4B,EAACh1F,CAAC,CAAC,GAACrI,QAAQ,CAAC1B,aAAa,CAAC+J,CAAC,EAACksF,CAAC,CAAC+I,EAAE,IAAE/I,CAAC,CAAC,EAACf,CAAC,GAAC,IAAI,EAACxjE,CAAC,GAAC,CAAC,CAAC;EAAA;EAAC,IAAG,IAAI,KAAG3nB,CAAC,EAACgB,CAAC,KAAGkrF,CAAC,IAAEvkE,CAAC,IAAE4jE,CAAC,CAAC3qC,IAAI,KAAGsrC,CAAC,KAAGX,CAAC,CAAC3qC,IAAI,GAACsrC,CAAC,CAAC,CAAC,KAAI;IAAC,IAAGf,CAAC,GAACA,CAAC,IAAErtF,CAAC,CAACrM,IAAI,CAAC85F,CAAC,CAACtyF,UAAU,CAAC,EAAC4yF,CAAC,GAAC,CAAC7qF,CAAC,GAACtI,CAAC,CAACY,KAAK,IAAEmyF,CAAC,EAAEyJ,uBAAuB,EAACnJ,CAAC,GAACG,CAAC,CAACgJ,uBAAuB,EAAC,CAACvtE,CAAC,EAAC;MAAC,IAAG,IAAI,IAAEwjE,CAAC,EAAC,KAAInqF,CAAC,GAAC,CAAC,CAAC,EAACusF,CAAC,GAAC,CAAC,EAACA,CAAC,GAAChC,CAAC,CAAC4J,UAAU,CAACx8F,MAAM,EAAC40F,CAAC,EAAE;QAACvsF,CAAC,CAACuqF,CAAC,CAAC4J,UAAU,CAAC5H,CAAC,CAAC,CAAC9zF,IAAI,CAAC,GAAC8xF,CAAC,CAAC4J,UAAU,CAAC5H,CAAC,CAAC,CAACtjF,KAAK;MAAC;MAAA,CAAC8hF,CAAC,IAAEF,CAAC,MAAIE,CAAC,KAAGF,CAAC,IAAEE,CAAC,CAACqJ,MAAM,IAAEvJ,CAAC,CAACuJ,MAAM,IAAErJ,CAAC,CAACqJ,MAAM,KAAG7J,CAAC,CAAChwD,SAAS,CAAC,KAAGgwD,CAAC,CAAChwD,SAAS,GAACwwD,CAAC,IAAEA,CAAC,CAACqJ,MAAM,IAAE,EAAE,CAAC,CAAC;IAAA;IAAC,IAAGzI,CAAC,CAACpB,CAAC,EAACW,CAAC,EAAClrF,CAAC,EAACqqF,CAAC,EAAC1jE,CAAC,CAAC,EAACokE,CAAC,EAACX,CAAC,CAAC4C,GAAG,GAAC,EAAE,CAAC,KAAK,IAAGT,CAAC,GAACnC,CAAC,CAAC9xF,KAAK,CAACJ,QAAQ,EAAC+H,CAAC,CAACsqF,CAAC,EAACv6F,KAAK,CAACC,OAAO,CAACs8F,CAAC,CAAC,GAACA,CAAC,GAAC,CAACA,CAAC,CAAC,EAACnC,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC43F,CAAC,IAAE,eAAe,KAAGrrF,CAAC,EAACmrF,CAAC,EAACF,CAAC,EAACE,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,GAACzyF,CAAC,CAACs1F,GAAG,IAAE1B,CAAC,CAAC5zF,CAAC,EAAC,CAAC,CAAC,EAACivB,CAAC,CAAC,EAAC,IAAI,IAAEwjE,CAAC,EAAC,KAAIoC,CAAC,GAACpC,CAAC,CAACxyF,MAAM,EAAC40F,CAAC,EAAE;MAAE,IAAI,IAAEpC,CAAC,CAACoC,CAAC,CAAC,IAAElwF,CAAC,CAAC8tF,CAAC,CAACoC,CAAC,CAAC,CAAC;IAAC;IAAA5lE,CAAC,KAAG,OAAO,IAAGukE,CAAC,IAAE,KAAK,CAAC,MAAIqB,CAAC,GAACrB,CAAC,CAACjiF,KAAK,CAAC,KAAGsjF,CAAC,KAAGhC,CAAC,CAACthF,KAAK,IAAE,UAAU,KAAGjK,CAAC,IAAE,CAACutF,CAAC,IAAE,QAAQ,KAAGvtF,CAAC,IAAEutF,CAAC,KAAGvsF,CAAC,CAACiJ,KAAK,CAAC,IAAEgmF,CAAC,CAAC1E,CAAC,EAAC,OAAO,EAACgC,CAAC,EAACvsF,CAAC,CAACiJ,KAAK,EAAC,CAAC,CAAC,CAAC,EAAC,SAAS,IAAGiiF,CAAC,IAAE,KAAK,CAAC,MAAIqB,CAAC,GAACrB,CAAC,CAACmJ,OAAO,CAAC,IAAE9H,CAAC,KAAGhC,CAAC,CAAC8J,OAAO,IAAEpF,CAAC,CAAC1E,CAAC,EAAC,SAAS,EAACgC,CAAC,EAACvsF,CAAC,CAACq0F,OAAO,EAAC,CAAC,CAAC,CAAC,CAAC;EAAA;EAAC,OAAO9J,CAAC;AAAA;AAAC,SAASyD,CAAC,CAAClxF,CAAC,EAACstF,CAAC,EAAC1yF,CAAC,EAAC;EAAC,IAAG;IAAC,UAAU,IAAE,OAAOoF,CAAC,GAACA,CAAC,CAACstF,CAAC,CAAC,GAACttF,CAAC,CAAC0sC,OAAO,GAAC4gD,CAAC;EAAA,CAAC,QAAMttF,CAAC,EAAC;IAACytF,CAAC,CAACsC,GAAG,CAAC/vF,CAAC,EAACpF,CAAC,CAAC;EAAA;AAAC;AAAC,SAAS20F,CAAC,CAACvvF,CAAC,EAACstF,CAAC,EAAC1yF,CAAC,EAAC;EAAC,IAAIjF,CAAC,EAAC43F,CAAC;EAAC,IAAGE,CAAC,CAAC2C,OAAO,IAAE3C,CAAC,CAAC2C,OAAO,CAACpwF,CAAC,CAAC,EAAC,CAACrK,CAAC,GAACqK,CAAC,CAACysC,GAAG,MAAI92C,CAAC,CAAC+2C,OAAO,IAAE/2C,CAAC,CAAC+2C,OAAO,KAAG1sC,CAAC,CAAC+vF,GAAG,IAAEmB,CAAC,CAACv7F,CAAC,EAAC,IAAI,EAAC23F,CAAC,CAAC,CAAC,EAAC,IAAI,KAAG33F,CAAC,GAACqK,CAAC,CAACiwF,GAAG,CAAC,EAAC;IAAC,IAAGt6F,CAAC,CAAC28C,oBAAoB,EAAC,IAAG;MAAC38C,CAAC,CAAC28C,oBAAoB,EAAE;IAAA,CAAC,QAAMtyC,CAAC,EAAC;MAACytF,CAAC,CAACsC,GAAG,CAAC/vF,CAAC,EAACstF,CAAC,CAAC;IAAA;IAAC33F,CAAC,CAACw+F,IAAI,GAACx+F,CAAC,CAAC46F,GAAG,GAAC,IAAI,EAACvwF,CAAC,CAACiwF,GAAG,GAAC,KAAK,CAAC;EAAA;EAAC,IAAGt6F,CAAC,GAACqK,CAAC,CAACkwF,GAAG,EAAC,KAAI3C,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC53F,CAAC,CAACkF,MAAM,EAAC0yF,CAAC,EAAE;IAAC53F,CAAC,CAAC43F,CAAC,CAAC,IAAEgC,CAAC,CAAC55F,CAAC,CAAC43F,CAAC,CAAC,EAACD,CAAC,EAAC1yF,CAAC,IAAE,UAAU,IAAE,OAAOoF,CAAC,CAACjK,IAAI,CAAC;EAAC;EAAA6E,CAAC,IAAE,IAAI,IAAEoF,CAAC,CAAC+vF,GAAG,IAAExwF,CAAC,CAACS,CAAC,CAAC+vF,GAAG,CAAC,EAAC/vF,CAAC,CAACgwF,EAAE,GAAChwF,CAAC,CAAC+vF,GAAG,GAAC/vF,CAAC,CAAC2wF,GAAG,GAAC,KAAK,CAAC;AAAA;AAAC,SAASb,CAAC,CAAC9vF,CAAC,EAACytF,CAAC,EAACH,CAAC,EAAC;EAAC,OAAO,IAAI,CAACP,WAAW,CAAC/sF,CAAC,EAACstF,CAAC,CAAC;AAAA;AAAC,SAASsE,CAAC,CAACtE,CAAC,EAAC1yF,CAAC,EAACjF,CAAC,EAAC;EAAC,IAAI43F,CAAC,EAACF,CAAC,EAACF,CAAC;EAACM,CAAC,CAACuC,EAAE,IAAEvC,CAAC,CAACuC,EAAE,CAAC1C,CAAC,EAAC1yF,CAAC,CAAC,EAACyyF,CAAC,GAAC,CAACE,CAAC,GAAC,UAAU,IAAE,OAAO53F,CAAC,IAAE,IAAI,GAACA,CAAC,IAAEA,CAAC,CAACu6F,GAAG,IAAEt1F,CAAC,CAACs1F,GAAG,EAAC/C,CAAC,GAAC,EAAE,EAACpyF,CAAC,CAACH,CAAC,EAAC0yF,CAAC,GAAC,CAAC,CAACC,CAAC,IAAE53F,CAAC,IAAEiF,CAAC,EAAEs1F,GAAG,GAACnC,CAAC,CAACK,CAAC,EAAC,IAAI,EAAC,CAACd,CAAC,CAAC,CAAC,EAACD,CAAC,IAAEM,CAAC,EAACA,CAAC,EAAC,KAAK,CAAC,KAAG/yF,CAAC,CAACq7F,eAAe,EAAC,CAAC1I,CAAC,IAAE53F,CAAC,GAAC,CAACA,CAAC,CAAC,GAAC03F,CAAC,GAAC,IAAI,GAACzyF,CAAC,CAACsnC,UAAU,GAACliC,CAAC,CAACrM,IAAI,CAACiH,CAAC,CAACO,UAAU,CAAC,GAAC,IAAI,EAACgyF,CAAC,EAAC,CAACI,CAAC,IAAE53F,CAAC,GAACA,CAAC,GAAC03F,CAAC,GAACA,CAAC,CAAC0C,GAAG,GAACn1F,CAAC,CAACsnC,UAAU,EAACqrD,CAAC,CAAC,EAAC0E,CAAC,CAAC9E,CAAC,EAACG,CAAC,CAAC;AAAA;AAAC,SAASqB,CAAC,CAAC3uF,CAAC,EAACytF,CAAC,EAAC;EAACmE,CAAC,CAAC5xF,CAAC,EAACytF,CAAC,EAACkB,CAAC,CAAC;AAAA;AAAC,SAAS6D,CAAC,CAAC/E,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAAC;EAAC,IAAIjF,CAAC;IAAC43F,CAAC;IAACF,CAAC;IAACM,CAAC,GAAC/tF,CAAC,CAAC,CAAC,CAAC,EAAC6tF,CAAC,CAACjyF,KAAK,CAAC;EAAC,KAAI6xF,CAAC,IAAIC,CAAC;IAAC,KAAK,IAAED,CAAC,GAAC13F,CAAC,GAAC23F,CAAC,CAACD,CAAC,CAAC,GAAC,KAAK,IAAEA,CAAC,GAACE,CAAC,GAACD,CAAC,CAACD,CAAC,CAAC,GAACM,CAAC,CAACN,CAAC,CAAC,GAACC,CAAC,CAACD,CAAC,CAAC;EAAC;EAAA,OAAOt/E,SAAS,CAAClT,MAAM,GAAC,CAAC,KAAG8yF,CAAC,CAACvyF,QAAQ,GAAC2S,SAAS,CAAClT,MAAM,GAAC,CAAC,GAACmF,CAAC,CAACrM,IAAI,CAACoa,SAAS,EAAC,CAAC,CAAC,GAACnT,CAAC,CAAC,EAACqzF,CAAC,CAACR,CAAC,CAAC13F,IAAI,EAAC43F,CAAC,EAACh4F,CAAC,IAAE83F,CAAC,CAAC15F,GAAG,EAACw5F,CAAC,IAAEE,CAAC,CAAChhD,GAAG,EAAC,IAAI,CAAC;AAAA;AAAC,SAASylD,CAAC,CAAClyF,CAAC,EAACytF,CAAC,EAAC;EAAC,IAAIH,CAAC,GAAC;IAAC2C,GAAG,EAACxC,CAAC,GAAC,MAAM,GAACJ,CAAC,EAAE;IAAC2C,EAAE,EAAChwF,CAAC;IAAC+xC,QAAQ,EAAC,kBAAS/xC,CAAC,EAACytF,CAAC,EAAC;MAAC,OAAOztF,CAAC,CAAC5E,QAAQ,CAACqyF,CAAC,CAAC;IAAA,CAAC;IAACr/B,QAAQ,EAAC,kBAASpuD,CAAC,EAAC;MAAC,IAAIstF,CAAC,EAAC1yF,CAAC;MAAC,OAAO,IAAI,CAACupE,eAAe,KAAGmpB,CAAC,GAAC,EAAE,EAAC,CAAC1yF,CAAC,GAAC,CAAC,CAAC,EAAE6yF,CAAC,CAAC,GAAC,IAAI,EAAC,IAAI,CAACtpB,eAAe,GAAC,YAAU;QAAC,OAAOvpE,CAAC;MAAA,CAAC,EAAC,IAAI,CAACgxC,qBAAqB,GAAC,UAAS5rC,CAAC,EAAC;QAAC,IAAI,CAACxE,KAAK,CAAC2Q,KAAK,KAAGnM,CAAC,CAACmM,KAAK,IAAEmhF,CAAC,CAAC0I,IAAI,CAACx2F,CAAC,CAAC;MAAA,CAAC,EAAC,IAAI,CAACijB,GAAG,GAAC,UAASziB,CAAC,EAAC;QAACstF,CAAC,CAACn2F,IAAI,CAAC6I,CAAC,CAAC;QAAC,IAAIytF,CAAC,GAACztF,CAAC,CAACsyC,oBAAoB;QAACtyC,CAAC,CAACsyC,oBAAoB,GAAC,YAAU;UAACg7C,CAAC,CAACngF,MAAM,CAACmgF,CAAC,CAAC55E,OAAO,CAAC1T,CAAC,CAAC,EAAC,CAAC,CAAC,EAACytF,CAAC,IAAEA,CAAC,CAAC95F,IAAI,CAACqM,CAAC,CAAC;QAAA,CAAC;MAAA,CAAC,CAAC,EAACA,CAAC,CAAC5E,QAAQ;IAAA;EAAC,CAAC;EAAC,OAAOkyF,CAAC,CAACl/B,QAAQ,CAAC4hC,EAAE,GAAC1C,CAAC,CAACv7C,QAAQ,CAAC1F,WAAW,GAACihD,CAAC;AAAA;AAACttF,CAAC,GAACmtF,CAAC,CAACz5F,KAAK,EAAC+5F,CAAC,GAAC;EAACsC,GAAG,EAAC,aAAS/vF,CAAC,EAACytF,CAAC,EAACH,CAAC,EAAC1yF,CAAC,EAAC;IAAC,KAAI,IAAIjF,CAAC,EAAC43F,CAAC,EAACF,CAAC,EAACI,CAAC,GAACA,CAAC,CAACuC,EAAE;MAAE,IAAG,CAACr6F,CAAC,GAAC83F,CAAC,CAACwC,GAAG,KAAG,CAACt6F,CAAC,CAACq6F,EAAE,EAAC,IAAG;QAAC,IAAG,CAACzC,CAAC,GAAC53F,CAAC,CAACo3F,WAAW,KAAG,IAAI,IAAEQ,CAAC,CAACiK,wBAAwB,KAAG7hG,CAAC,CAAC0vD,QAAQ,CAACkoC,CAAC,CAACiK,wBAAwB,CAACx3F,CAAC,CAAC,CAAC,EAACqtF,CAAC,GAAC13F,CAAC,CAACg7F,GAAG,CAAC,EAAC,IAAI,IAAEh7F,CAAC,CAAC8hG,iBAAiB,KAAG9hG,CAAC,CAAC8hG,iBAAiB,CAACz3F,CAAC,EAACpF,CAAC,IAAE,CAAC,CAAC,CAAC,EAACyyF,CAAC,GAAC13F,CAAC,CAACg7F,GAAG,CAAC,EAACtD,CAAC,EAAC,OAAO13F,CAAC,CAAC4gG,GAAG,GAAC5gG,CAAC;MAAA,CAAC,QAAM83F,CAAC,EAAC;QAACztF,CAAC,GAACytF,CAAC;MAAA;IAAC;IAAA,MAAMztF,CAAC;EAAA;AAAC,CAAC,EAACstF,CAAC,GAAC,CAAC,EAAC1yF,CAAC,GAAC,WAASoF,CAAC,EAAC;EAAC,OAAO,IAAI,IAAEA,CAAC,IAAE,KAAK,CAAC,KAAGA,CAAC,CAAC+sF,WAAW;AAAA,CAAC,EAAC7qF,CAAC,CAACnP,SAAS,CAACsyD,QAAQ,GAAC,UAASrlD,CAAC,EAACytF,CAAC,EAAC;EAAC,IAAIH,CAAC;EAACA,CAAC,GAAC,IAAI,IAAE,IAAI,CAACmJ,GAAG,IAAE,IAAI,CAACA,GAAG,KAAG,IAAI,CAAChkE,KAAK,GAAC,IAAI,CAACgkE,GAAG,GAAC,IAAI,CAACA,GAAG,GAAC72F,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC6yB,KAAK,CAAC,EAAC,UAAU,IAAE,OAAOzyB,CAAC,KAAGA,CAAC,GAACA,CAAC,CAACJ,CAAC,CAAC,CAAC,CAAC,EAAC0tF,CAAC,CAAC,EAAC,IAAI,CAAC9xF,KAAK,CAAC,CAAC,EAACwE,CAAC,IAAEJ,CAAC,CAAC0tF,CAAC,EAACttF,CAAC,CAAC,EAAC,IAAI,IAAEA,CAAC,IAAE,IAAI,CAACywF,GAAG,KAAGhD,CAAC,IAAE,IAAI,CAAC+I,GAAG,CAACr/F,IAAI,CAACs2F,CAAC,CAAC,EAACjuF,CAAC,CAAC,IAAI,CAAC,CAAC;AAAA,CAAC,EAAC0C,CAAC,CAACnP,SAAS,CAACuxE,WAAW,GAAC,UAAStkE,CAAC,EAAC;EAAC,IAAI,CAACywF,GAAG,KAAG,IAAI,CAACV,GAAG,GAAC,CAAC,CAAC,EAAC/vF,CAAC,IAAE,IAAI,CAACoxF,GAAG,CAACj6F,IAAI,CAAC6I,CAAC,CAAC,EAACR,CAAC,CAAC,IAAI,CAAC,CAAC;AAAA,CAAC,EAAC0C,CAAC,CAACnP,SAAS,CAACgC,MAAM,GAACq5F,CAAC,EAACz4F,CAAC,GAAC,EAAE,EAACi5F,CAAC,CAAC8E,GAAG,GAAC,CAAC,EAACrG,CAAC,GAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAhrT;AAAA,IAAI13F,CAAC;EAAC03F,CAAC;EAACC,CAAC;EAAC1yF,CAAC;EAAC2yF,CAAC,GAAC,CAAC;EAACI,CAAC,GAAC,EAAE;EAAC9jE,CAAC,GAAC,EAAE;EAACsjE,CAAC,GAACntF,+CAAK;EAACT,CAAC,GAACS,+CAAK;EAACiuF,CAAC,GAACjuF,kDAAQ;EAACytF,CAAC,GAACztF,+CAAK;EAACW,CAAC,GAACX,mDAAS;AAAC,SAASkC,CAAC,CAACvM,CAAC,EAAC23F,CAAC,EAAC;EAACttF,+CAAK,IAAEA,+CAAK,CAACqtF,CAAC,EAAC13F,CAAC,EAAC43F,CAAC,IAAED,CAAC,CAAC,EAACC,CAAC,GAAC,CAAC;EAAC,IAAI3yF,CAAC,GAACyyF,CAAC,CAACiD,GAAG,KAAGjD,CAAC,CAACiD,GAAG,GAAC;IAACN,EAAE,EAAC,EAAE;IAACoB,GAAG,EAAC;EAAE,CAAC,CAAC;EAAC,OAAOz7F,CAAC,IAAEiF,CAAC,CAACo1F,EAAE,CAACn1F,MAAM,IAAED,CAAC,CAACo1F,EAAE,CAAC74F,IAAI,CAAC;IAACugG,GAAG,EAAC7tE;EAAC,CAAC,CAAC,EAACjvB,CAAC,CAACo1F,EAAE,CAACr6F,CAAC,CAAC;AAAA;AAAC,SAASy4F,CAAC,CAACpuF,CAAC,EAAC;EAAC,OAAOutF,CAAC,GAAC,CAAC,EAACrqF,CAAC,CAACgvF,CAAC,EAAClyF,CAAC,CAAC;AAAA;AAAC,SAASkD,CAAC,CAAClD,CAAC,EAACstF,CAAC,EAAC1yF,CAAC,EAAC;EAAC,IAAI2yF,CAAC,GAACrrF,CAAC,CAACvM,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,IAAG43F,CAAC,CAAC53F,CAAC,GAACqK,CAAC,EAAC,CAACutF,CAAC,CAAC0C,GAAG,KAAG1C,CAAC,CAACyC,EAAE,GAAC,CAACp1F,CAAC,GAACA,CAAC,CAAC0yF,CAAC,CAAC,GAAC4E,CAAC,CAAC,KAAK,CAAC,EAAC5E,CAAC,CAAC,EAAC,UAASttF,CAAC,EAAC;IAAC,IAAIrK,CAAC,GAAC43F,CAAC,CAACoK,GAAG,GAACpK,CAAC,CAACoK,GAAG,CAAC,CAAC,CAAC,GAACpK,CAAC,CAACyC,EAAE,CAAC,CAAC,CAAC;MAAC3C,CAAC,GAACE,CAAC,CAAC53F,CAAC,CAACA,CAAC,EAACqK,CAAC,CAAC;IAACrK,CAAC,KAAG03F,CAAC,KAAGE,CAAC,CAACoK,GAAG,GAAC,CAACtK,CAAC,EAACE,CAAC,CAACyC,EAAE,CAAC,CAAC,CAAC,CAAC,EAACzC,CAAC,CAAC0C,GAAG,CAAC5qC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EAAA,CAAC,CAAC,EAACkoC,CAAC,CAAC0C,GAAG,GAAC5C,CAAC,EAAC,CAACA,CAAC,CAACC,CAAC,CAAC,EAAC;IAACD,CAAC,CAACC,CAAC,GAAC,CAAC,CAAC;IAAC,IAAIK,CAAC,GAACN,CAAC,CAACzhD,qBAAqB;IAACyhD,CAAC,CAACzhD,qBAAqB,GAAC,UAAS5rC,CAAC,EAACrK,CAAC,EAAC03F,CAAC,EAAC;MAAC,IAAG,CAACE,CAAC,CAAC0C,GAAG,CAACK,GAAG,EAAC,OAAM,CAAC,CAAC;MAAC,IAAIhD,CAAC,GAACC,CAAC,CAAC0C,GAAG,CAACK,GAAG,CAACN,EAAE,CAAC/zD,MAAM,CAAC,UAASj8B,CAAC,EAAC;QAAC,OAAOA,CAAC,CAACiwF,GAAG;MAAA,CAAC,CAAC;MAAC,IAAG3C,CAAC,CAACsK,KAAK,CAAC,UAAS53F,CAAC,EAAC;QAAC,OAAM,CAACA,CAAC,CAAC23F,GAAG;MAAA,CAAC,CAAC,EAAC,OAAM,CAAChK,CAAC,IAAEA,CAAC,CAACh6F,IAAI,CAAC,IAAI,EAACqM,CAAC,EAACrK,CAAC,EAAC03F,CAAC,CAAC;MAAC,IAAIzyF,CAAC,GAAC,CAAC,CAAC;MAAC,OAAO0yF,CAAC,CAAC9vF,OAAO,CAAC,UAASwC,CAAC,EAAC;QAAC,IAAGA,CAAC,CAAC23F,GAAG,EAAC;UAAC,IAAIhiG,CAAC,GAACqK,CAAC,CAACgwF,EAAE,CAAC,CAAC,CAAC;UAAChwF,CAAC,CAACgwF,EAAE,GAAChwF,CAAC,CAAC23F,GAAG,EAAC33F,CAAC,CAAC23F,GAAG,GAAC,KAAK,CAAC,EAAChiG,CAAC,KAAGqK,CAAC,CAACgwF,EAAE,CAAC,CAAC,CAAC,KAAGp1F,CAAC,GAAC,CAAC,CAAC,CAAC;QAAA;MAAC,CAAC,CAAC,EAAC,EAAE,CAACA,CAAC,IAAE2yF,CAAC,CAAC0C,GAAG,CAACz0F,KAAK,KAAGwE,CAAC,CAAC,KAAG,CAAC2tF,CAAC,IAAEA,CAAC,CAACh6F,IAAI,CAAC,IAAI,EAACqM,CAAC,EAACrK,CAAC,EAAC03F,CAAC,CAAC,CAAC;IAAA,CAAC;EAAA;EAAC,OAAOE,CAAC,CAACoK,GAAG,IAAEpK,CAAC,CAACyC,EAAE;AAAA;AAAC,SAASjC,CAAC,CAACT,CAAC,EAAC1yF,CAAC,EAAC;EAAC,IAAI2yF,CAAC,GAACrrF,CAAC,CAACvM,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,CAACqK,+CAAK,IAAEiyF,CAAC,CAAC1E,CAAC,CAAC+C,GAAG,EAAC11F,CAAC,CAAC,KAAG2yF,CAAC,CAACyC,EAAE,GAAC1C,CAAC,EAACC,CAAC,CAAC3yF,CAAC,GAACA,CAAC,EAACyyF,CAAC,CAACiD,GAAG,CAACc,GAAG,CAACj6F,IAAI,CAACo2F,CAAC,CAAC,CAAC;AAAA;AAAC,SAAS3tF,CAAC,CAAC0tF,CAAC,EAAC1yF,CAAC,EAAC;EAAC,IAAI2yF,CAAC,GAACrrF,CAAC,CAACvM,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,CAACqK,+CAAK,IAAEiyF,CAAC,CAAC1E,CAAC,CAAC+C,GAAG,EAAC11F,CAAC,CAAC,KAAG2yF,CAAC,CAACyC,EAAE,GAAC1C,CAAC,EAACC,CAAC,CAAC3yF,CAAC,GAACA,CAAC,EAACyyF,CAAC,CAAC+D,GAAG,CAACj6F,IAAI,CAACo2F,CAAC,CAAC,CAAC;AAAA;AAAC,SAASiB,CAAC,CAACxuF,CAAC,EAAC;EAAC,OAAOutF,CAAC,GAAC,CAAC,EAACyD,CAAC,CAAC,YAAU;IAAC,OAAM;MAACtkD,OAAO,EAAC1sC;IAAC,CAAC;EAAA,CAAC,EAAC,EAAE,CAAC;AAAA;AAAC,SAAS0vF,CAAC,CAAC1vF,CAAC,EAACrK,CAAC,EAAC03F,CAAC,EAAC;EAACE,CAAC,GAAC,CAAC,EAAC3tF,CAAC,CAAC,YAAU;IAAC,OAAM,UAAU,IAAE,OAAOI,CAAC,IAAEA,CAAC,CAACrK,CAAC,EAAE,CAAC,EAAC,YAAU;MAAC,OAAOqK,CAAC,CAAC,IAAI,CAAC;IAAA,CAAC,IAAEA,CAAC,IAAEA,CAAC,CAAC0sC,OAAO,GAAC/2C,CAAC,EAAE,EAAC,YAAU;MAAC,OAAOqK,CAAC,CAAC0sC,OAAO,GAAC,IAAI;IAAA,CAAC,IAAE,KAAK,CAAC;EAAA,CAAC,EAAC,IAAI,IAAE2gD,CAAC,GAACA,CAAC,GAACA,CAAC,CAAC3oF,MAAM,CAAC1E,CAAC,CAAC,CAAC;AAAA;AAAC,SAASgxF,CAAC,CAAChxF,CAAC,EAACqtF,CAAC,EAAC;EAAC,IAAIC,CAAC,GAACprF,CAAC,CAACvM,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,OAAOs8F,CAAC,CAAC3E,CAAC,CAACgD,GAAG,EAACjD,CAAC,CAAC,IAAEC,CAAC,CAACoK,GAAG,GAAC13F,CAAC,EAAE,EAACstF,CAAC,CAAC1yF,CAAC,GAACyyF,CAAC,EAACC,CAAC,CAAC8D,GAAG,GAACpxF,CAAC,EAACstF,CAAC,CAACoK,GAAG,IAAEpK,CAAC,CAAC0C,EAAE;AAAA;AAAC,SAASG,CAAC,CAACnwF,CAAC,EAACrK,CAAC,EAAC;EAAC,OAAO43F,CAAC,GAAC,CAAC,EAACyD,CAAC,CAAC,YAAU;IAAC,OAAOhxF,CAAC;EAAA,CAAC,EAACrK,CAAC,CAAC;AAAA;AAAC,SAAS68F,CAAC,CAACxyF,CAAC,EAAC;EAAC,IAAIstF,CAAC,GAACD,CAAC,CAAC90F,OAAO,CAACyH,CAAC,CAACiwF,GAAG,CAAC;IAACr1F,CAAC,GAACsH,CAAC,CAACvM,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,OAAOiF,CAAC,CAACivB,CAAC,GAAC7pB,CAAC,EAACstF,CAAC,IAAE,IAAI,IAAE1yF,CAAC,CAACo1F,EAAE,KAAGp1F,CAAC,CAACo1F,EAAE,GAAC,CAAC,CAAC,EAAC1C,CAAC,CAAC7qE,GAAG,CAAC4qE,CAAC,CAAC,CAAC,EAACC,CAAC,CAAC9xF,KAAK,CAAC2Q,KAAK,IAAEnM,CAAC,CAACgwF,EAAE;AAAA;AAAC,SAASztD,CAAC,CAAC5sC,CAAC,EAAC03F,CAAC,EAAC;EAACrtF,yDAAe,IAAEA,yDAAe,CAACqtF,CAAC,GAACA,CAAC,CAAC13F,CAAC,CAAC,GAACA,CAAC,CAAC;AAAA;AAAC,SAASi8F,CAAC,CAAC5xF,CAAC,EAAC;EAAC,IAAIstF,CAAC,GAACprF,CAAC,CAACvM,CAAC,EAAE,EAAC,EAAE,CAAC;IAACiF,CAAC,GAACwzF,CAAC,EAAE;EAAC,OAAOd,CAAC,CAAC0C,EAAE,GAAChwF,CAAC,EAACqtF,CAAC,CAACoK,iBAAiB,KAAGpK,CAAC,CAACoK,iBAAiB,GAAC,UAASz3F,CAAC,EAACrK,CAAC,EAAC;IAAC23F,CAAC,CAAC0C,EAAE,IAAE1C,CAAC,CAAC0C,EAAE,CAAChwF,CAAC,EAACrK,CAAC,CAAC,EAACiF,CAAC,CAAC,CAAC,CAAC,CAACoF,CAAC,CAAC;EAAA,CAAC,CAAC,EAAC,CAACpF,CAAC,CAAC,CAAC,CAAC,EAAC,YAAU;IAACA,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;EAAA,CAAC,CAAC;AAAA;AAAC,SAAS22F,CAAC,GAAE;EAAC,IAAIvxF,CAAC,GAACkC,CAAC,CAACvM,CAAC,EAAE,EAAC,EAAE,CAAC;EAAC,OAAOqK,CAAC,CAACgwF,EAAE,KAAGhwF,CAAC,CAACgwF,EAAE,GAAC,GAAG,GAAC,UAAShwF,CAAC,EAAC;IAAC,KAAI,IAAIrK,CAAC,GAAC,CAAC,EAAC03F,CAAC,GAACrtF,CAAC,CAACnF,MAAM,EAACwyF,CAAC,GAAC,CAAC;MAAE13F,CAAC,GAAC,CAACA,CAAC,IAAE,CAAC,IAAEA,CAAC,GAACqK,CAAC,CAAC63F,UAAU,CAAC,EAAExK,CAAC,CAAC,GAAC,CAAC;IAAC;IAAA,OAAO13F,CAAC;EAAA,CAAC,CAAC03F,CAAC,CAACoD,GAAG,CAACqH,GAAG,CAAC,GAACniG,CAAC,CAAC,EAACqK,CAAC,CAACgwF,EAAE;AAAA;AAAC,SAASxwF,CAAC,GAAE;EAAC,KAAI,IAAI7J,CAAC,EAACA,CAAC,GAACg4F,CAAC,CAACpsC,KAAK,EAAE;IAAE,IAAG5rD,CAAC,CAAC46F,GAAG,IAAE56F,CAAC,CAAC26F,GAAG,EAAC,IAAG;MAAC36F,CAAC,CAAC26F,GAAG,CAACc,GAAG,CAAC5zF,OAAO,CAACiyF,CAAC,CAAC,EAAC95F,CAAC,CAAC26F,GAAG,CAACc,GAAG,CAAC5zF,OAAO,CAAC2F,CAAC,CAAC,EAACxN,CAAC,CAAC26F,GAAG,CAACc,GAAG,GAAC,EAAE;IAAA,CAAC,QAAM/D,CAAC,EAAC;MAAC13F,CAAC,CAAC26F,GAAG,CAACc,GAAG,GAAC,EAAE,EAACpxF,+CAAK,CAACqtF,CAAC,EAAC13F,CAAC,CAAC86F,GAAG,CAAC;IAAA;EAAC;AAAA;AAACzwF,+CAAK,GAAC,UAASA,CAAC,EAAC;EAAC,UAAU,IAAE,OAAOA,CAAC,CAACjK,IAAI,IAAEiK,CAAC,CAAC83F,GAAG,IAAE,IAAI,KAAG93F,CAAC,CAACgwF,EAAE,GAAChwF,CAAC,CAAC83F,GAAG,KAAG93F,CAAC,CAAC83F,GAAG,GAAC93F,CAAC,CAACgwF,EAAE,IAAEhwF,CAAC,CAACgwF,EAAE,CAAC8H,GAAG,GAAC93F,CAAC,CAACgwF,EAAE,CAAC8H,GAAG,GAAC,EAAE,CAAC,GAAC93F,CAAC,CAAC83F,GAAG,GAAC,CAAC93F,CAAC,CAACgwF,EAAE,IAAEhwF,CAAC,CAACgwF,EAAE,CAAC8H,GAAG,GAAC93F,CAAC,CAACgwF,EAAE,CAAC8H,GAAG,GAAC,EAAE,KAAG93F,CAAC,CAACgwF,EAAE,IAAEhwF,CAAC,CAACgwF,EAAE,CAACE,GAAG,GAAClwF,CAAC,CAACgwF,EAAE,CAACE,GAAG,CAACx8E,OAAO,CAAC1T,CAAC,CAAC,GAAC,CAAC,CAAC,EAACqtF,CAAC,GAAC,IAAI,EAACF,CAAC,IAAEA,CAAC,CAACntF,CAAC,CAAC;AAAA,CAAC,EAACA,+CAAK,GAAC,UAASA,CAAC,EAAC;EAACT,CAAC,IAAEA,CAAC,CAACS,CAAC,CAAC,EAACrK,CAAC,GAAC,CAAC;EAAC,IAAIiF,CAAC,GAAC,CAACyyF,CAAC,GAACrtF,CAAC,CAACiwF,GAAG,EAAEK,GAAG;EAAC11F,CAAC,KAAG0yF,CAAC,KAAGD,CAAC,IAAEzyF,CAAC,CAACw2F,GAAG,GAAC,EAAE,EAAC/D,CAAC,CAAC+D,GAAG,GAAC,EAAE,EAACx2F,CAAC,CAACo1F,EAAE,CAACxyF,OAAO,CAAC,UAASwC,CAAC,EAAC;IAACA,CAAC,CAAC23F,GAAG,KAAG33F,CAAC,CAACgwF,EAAE,GAAChwF,CAAC,CAAC23F,GAAG,CAAC,EAAC33F,CAAC,CAAC03F,GAAG,GAAC7tE,CAAC,EAAC7pB,CAAC,CAAC23F,GAAG,GAAC33F,CAAC,CAACpF,CAAC,GAAC,KAAK,CAAC;EAAA,CAAC,CAAC,KAAGA,CAAC,CAACw2F,GAAG,CAAC5zF,OAAO,CAACiyF,CAAC,CAAC,EAAC70F,CAAC,CAACw2F,GAAG,CAAC5zF,OAAO,CAAC2F,CAAC,CAAC,EAACvI,CAAC,CAACw2F,GAAG,GAAC,EAAE,CAAC,CAAC,EAAC9D,CAAC,GAACD,CAAC;AAAA,CAAC,EAACrtF,kDAAQ,GAAC,UAASrK,CAAC,EAAC;EAACs4F,CAAC,IAAEA,CAAC,CAACt4F,CAAC,CAAC;EAAC,IAAI43F,CAAC,GAAC53F,CAAC,CAACs6F,GAAG;EAAC1C,CAAC,IAAEA,CAAC,CAAC+C,GAAG,KAAG/C,CAAC,CAAC+C,GAAG,CAACc,GAAG,CAACv2F,MAAM,KAAG,CAAC,KAAG8yF,CAAC,CAACx2F,IAAI,CAACo2F,CAAC,CAAC,IAAE3yF,CAAC,KAAGoF,iEAAuB,IAAE,CAAC,CAACpF,CAAC,GAACoF,iEAAuB,KAAGjF,CAAC,EAAEyE,CAAC,CAAC,CAAC,EAAC+tF,CAAC,CAAC+C,GAAG,CAACN,EAAE,CAACxyF,OAAO,CAAC,UAASwC,CAAC,EAAC;IAACA,CAAC,CAACpF,CAAC,KAAGoF,CAAC,CAACswF,GAAG,GAACtwF,CAAC,CAACpF,CAAC,CAAC,EAACoF,CAAC,CAAC03F,GAAG,KAAG7tE,CAAC,KAAG7pB,CAAC,CAACgwF,EAAE,GAAChwF,CAAC,CAAC03F,GAAG,CAAC,EAAC13F,CAAC,CAACpF,CAAC,GAAC,KAAK,CAAC,EAACoF,CAAC,CAAC03F,GAAG,GAAC7tE,CAAC;EAAA,CAAC,CAAC,CAAC,EAACyjE,CAAC,GAACD,CAAC,GAAC,IAAI;AAAA,CAAC,EAACrtF,+CAAK,GAAC,UAASrK,CAAC,EAAC03F,CAAC,EAAC;EAACA,CAAC,CAAC2I,IAAI,CAAC,UAASrgG,CAAC,EAAC;IAAC,IAAG;MAACA,CAAC,CAACy7F,GAAG,CAAC5zF,OAAO,CAACiyF,CAAC,CAAC,EAAC95F,CAAC,CAACy7F,GAAG,GAACz7F,CAAC,CAACy7F,GAAG,CAACn1D,MAAM,CAAC,UAASj8B,CAAC,EAAC;QAAC,OAAM,CAACA,CAAC,CAACgwF,EAAE,IAAE7sF,CAAC,CAACnD,CAAC,CAAC;MAAA,CAAC,CAAC;IAAA,CAAC,QAAMstF,CAAC,EAAC;MAACD,CAAC,CAAC2I,IAAI,CAAC,UAASh2F,CAAC,EAAC;QAACA,CAAC,CAACoxF,GAAG,KAAGpxF,CAAC,CAACoxF,GAAG,GAAC,EAAE,CAAC;MAAA,CAAC,CAAC,EAAC/D,CAAC,GAAC,EAAE,EAACrtF,+CAAK,CAACstF,CAAC,EAAC33F,CAAC,CAAC86F,GAAG,CAAC;IAAA;EAAC,CAAC,CAAC,EAAChD,CAAC,IAAEA,CAAC,CAAC93F,CAAC,EAAC03F,CAAC,CAAC;AAAA,CAAC,EAACrtF,mDAAS,GAAC,UAASrK,CAAC,EAAC;EAACgL,CAAC,IAAEA,CAAC,CAAChL,CAAC,CAAC;EAAC,IAAI03F,CAAC;IAACC,CAAC,GAAC33F,CAAC,CAACs6F,GAAG;EAAC3C,CAAC,IAAEA,CAAC,CAACgD,GAAG,KAAGhD,CAAC,CAACgD,GAAG,CAACN,EAAE,CAACxyF,OAAO,CAAC,UAASwC,CAAC,EAAC;IAAC,IAAG;MAACyvF,CAAC,CAACzvF,CAAC,CAAC;IAAA,CAAC,QAAMA,CAAC,EAAC;MAACqtF,CAAC,GAACrtF,CAAC;IAAA;EAAC,CAAC,CAAC,EAACstF,CAAC,CAACgD,GAAG,GAAC,KAAK,CAAC,EAACjD,CAAC,IAAErtF,+CAAK,CAACqtF,CAAC,EAACC,CAAC,CAACmD,GAAG,CAAC,CAAC;AAAA,CAAC;AAAC,IAAI7B,CAAC,GAAC,UAAU,IAAE,OAAOxZ,qBAAqB;AAAC,SAASr6E,CAAC,CAACiF,CAAC,EAAC;EAAC,IAAIrK,CAAC;IAAC03F,CAAC,GAAC,SAAFA,CAAC,GAAW;MAAC9sC,YAAY,CAAC+sC,CAAC,CAAC,EAACsB,CAAC,IAAEmJ,oBAAoB,CAACpiG,CAAC,CAAC,EAAC8qD,UAAU,CAACzgD,CAAC,CAAC;IAAA,CAAC;IAACstF,CAAC,GAAC7sC,UAAU,CAAC4sC,CAAC,EAAC,GAAG,CAAC;EAACuB,CAAC,KAAGj5F,CAAC,GAACy/E,qBAAqB,CAACiY,CAAC,CAAC,CAAC;AAAA;AAAC,SAASoC,CAAC,CAACzvF,CAAC,EAAC;EAAC,IAAIrK,CAAC,GAAC03F,CAAC;IAACC,CAAC,GAACttF,CAAC,CAACiwF,GAAG;EAAC,UAAU,IAAE,OAAO3C,CAAC,KAAGttF,CAAC,CAACiwF,GAAG,GAAC,KAAK,CAAC,EAAC3C,CAAC,EAAE,CAAC,EAACD,CAAC,GAAC13F,CAAC;AAAA;AAAC,SAASwN,CAAC,CAACnD,CAAC,EAAC;EAAC,IAAIrK,CAAC,GAAC03F,CAAC;EAACrtF,CAAC,CAACiwF,GAAG,GAACjwF,CAAC,CAACgwF,EAAE,EAAE,EAAC3C,CAAC,GAAC13F,CAAC;AAAA;AAAC,SAASs8F,CAAC,CAACjyF,CAAC,EAACrK,CAAC,EAAC;EAAC,OAAM,CAACqK,CAAC,IAAEA,CAAC,CAACnF,MAAM,KAAGlF,CAAC,CAACkF,MAAM,IAAElF,CAAC,CAACqgG,IAAI,CAAC,UAASrgG,CAAC,EAAC03F,CAAC,EAAC;IAAC,OAAO13F,CAAC,KAAGqK,CAAC,CAACqtF,CAAC,CAAC;EAAA,CAAC,CAAC;AAAA;AAAC,SAAS6E,CAAC,CAAClyF,CAAC,EAACrK,CAAC,EAAC;EAAC,OAAM,UAAU,IAAE,OAAOA,CAAC,GAACA,CAAC,CAACqK,CAAC,CAAC,GAACrK,CAAC;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA34G;AAEA;AAEA;AACA;AACA;AACA;AACA;;CAGA;;AACA,IAAM4iG,MAAM,GAAW,CACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,MAAI,EAAE,MADR;AAEEC,cAAY,EAAE;AAAA,WAAM,6qBAA6B/yD,IAA7B,CAAkC,WAAC;AAAA,aAAI/kC,CAAC,CAAC+3F,UAAN;AAAA,KAAnC,CAAN;AAAA;AAFhB,CAzBqB,EA6BrB;AACEF,MAAI,EAAE,gBADR;AAEEC,cAAY,EAAE;AAAA,WAAM,mpBAAiD/yD,IAAjD,CAAsD,WAAC;AAAA,aAAI/kC,CAAC,CAACg4F,oBAAN;AAAA,KAAvD,CAAN;AAAA;AAFhB,CA7BqB,EAiCrB;AACEH,MAAI,EAAE,SADR;AAEEC,cAAY,EAAE;AAAA,WAAM,unBAAmC/yD,IAAnC,CAAwC,WAAC;AAAA,aAAI/kC,CAAC,CAACi4F,aAAN;AAAA,KAAzC,CAAN;AAAA;AAFhB,CAjCqB,EAqCrB;AACEJ,MAAI,EAAE,eADR;AAEEC,cAAY,EAAE;AAAA,WAAM,8mBAA+C/yD,IAA/C,CAAoD,WAAC;AAAA,aAAI/kC,CAAC,CAACk4F,mBAAN;AAAA,KAArD,CAAN;AAAA;AAFhB,CArCqB,EAyCrB;AACEL,MAAI,EAAE,SADR;AAEEC,cAAY,EAAE;AAAA,WAAM,unBAAmC/yD,IAAnC,CAAwC,WAAC;AAAA,aAAI/kC,CAAC,CAACm4F,aAAN;AAAA,KAAzC,CAAN;AAAA;AAFhB,CAzCqB,EA6CrB;AACEN,MAAI,EAAE,SADR;AAEEC,cAAY,EAAE;AAAA,WAAM,unBAAmC/yD,IAAnC,CAAwC,WAAC;AAAA,aAAI/kC,CAAC,CAACo4F,aAAN;AAAA,KAAzC,CAAN;AAAA;AAFhB,CA7CqB,EAiDrB;AACEP,MAAI,EAAE,cADR;AAEEC,cAAY,EAAE;AAAA,WAAM,2oBAA6C/yD,IAA7C,CAAkD,WAAC;AAAA,aAAI/kC,CAAC,CAACq4F,kBAAN;AAAA,KAAnD,CAAN;AAAA;AAFhB,CAjDqB,EAqDrB;AACER,MAAI,EAAE,SADR;AAEEC,cAAY,EAAE;AAAA,WAAM,snBAAmC/yD,IAAnC,CAAwC,WAAC;AAAA,aAAI/kC,CAAC,CAACs4F,aAAN;AAAA,KAAzC,CAAN;AAAA;AAFhB,CArDqB,EAyDrB;AACET,MAAI,EAAE,SADR;AAEEC,cAAY,EAAE;AAAA,WAAM,+nBAAuC/yD,IAAvC,CAA4C,WAAC;AAAA,aAAI/kC,CAAC,CAACu4F,eAAN;AAAA,KAA7C,CAAN;AAAA;AAFhB,CAzDqB,CAAvB;AAkEAjiG,qFAAA,CAAmC,CAACkhG,6DAAD,EAAgBG,8DAAhB,EAAgCD,0DAAhC,EAA4CD,iEAA5C,CAAnC;AAOO,IAAMgB,UAAb;AAAA;AAAA;;;mBAAaA;AAAU;;;QAAVA;;;YAFF,CAACnB,yDAAD,EAAeC,kEAAA,CAAsBK,MAAtB,CAAf;;;;sHAEEa,YAAU;AAAA3hG,cAFXwgG,yDAEW,EAFCpkF,yDAED;AAAA;AAFC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB,sCAAsC,kBAAkB;AACnF,0BAA0B;AAC1B;AACA;AACA;AACO;AACP;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACO;AACP;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACO;AACP,oCAAoC;AACpC;AACA;AACO;AACP;AACA;AACA;AACO;AACP,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACO;AACP,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACO;AACP;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACO;AACP,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACO;AACP,kDAAkD,QAAQ;AAC1D,yCAAyC,QAAQ;AACjD,yDAAyD,QAAQ;AACjE;AACA;AACA;AACA;AACO;AACP,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA,iBAAiB,uFAAuF,cAAc;AACtH,uBAAuB,gCAAgC,qCAAqC,2CAA2C;AACvI,4BAA4B,MAAM,iBAAiB,YAAY;AAC/D,uBAAuB;AACvB,8BAA8B;AAC9B,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA;AACO;AACP;AACA,iBAAiB,6CAA6C,UAAU,sDAAsD,cAAc;AAC5I,0BAA0B,6BAA6B,oBAAoB,gDAAgD,kBAAkB;AAC7I;AACA;AACO;AACP;AACA;AACA,2GAA2G,uFAAuF,cAAc;AAChN,uBAAuB,8BAA8B,gDAAgD,wDAAwD;AAC7J,6CAA6C,sCAAsC,UAAU,mBAAmB,IAAI;AACpH;AACA;AACO;AACP,iCAAiC,uCAAuC,YAAY,KAAK,OAAO;AAChG;AACA;AACA;AACA;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C;AAC7C;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB,sCAAsC,kBAAkB;AACnF,0BAA0B;AAC1B;AACA;AACA;AACO;AACP;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACO;AACP;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACO;AACP,oCAAoC;AACpC;AACA;AACO;AACP;AACA;AACA;AACO;AACP,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACO;AACP,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACO;AACP;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACO;AACP,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACO;AACP,kDAAkD,QAAQ;AAC1D,yCAAyC,QAAQ;AACjD,yDAAyD,QAAQ;AACjE;AACA;AACA;AACA;AACO;AACP,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA,iBAAiB,uFAAuF,cAAc;AACtH,uBAAuB,gCAAgC,qCAAqC,2CAA2C;AACvI,4BAA4B,MAAM,iBAAiB,YAAY;AAC/D,uBAAuB;AACvB,8BAA8B;AAC9B,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA;AACO;AACP;AACA,iBAAiB,6CAA6C,UAAU,sDAAsD,cAAc;AAC5I,0BAA0B,6BAA6B,oBAAoB,gDAAgD,kBAAkB;AAC7I;AACA;AACO;AACP;AACA;AACA,2GAA2G,uFAAuF,cAAc;AAChN,uBAAuB,8BAA8B,gDAAgD,wDAAwD;AAC7J,6CAA6C,sCAAsC,UAAU,mBAAmB,IAAI;AACpH;AACA;AACO;AACP,iCAAiC,uCAAuC,YAAY,KAAK,OAAO;AAChG;AACA;AACA;AACA;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C;AAC7C;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB,sCAAsC,kBAAkB;AACnF,0BAA0B;AAC1B;AACA;AACA;AACO;AACP;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACO;AACP;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACO;AACP,oCAAoC;AACpC;AACA;AACO;AACP;AACA;AACA;AACO;AACP,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACO;AACP,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACO;AACP;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACO;AACP,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACO;AACP,kDAAkD,QAAQ;AAC1D,yCAAyC,QAAQ;AACjD,yDAAyD,QAAQ;AACjE;AACA;AACA;AACA;AACO;AACP,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA,iBAAiB,uFAAuF,cAAc;AACtH,uBAAuB,gCAAgC,qCAAqC,2CAA2C;AACvI,4BAA4B,MAAM,iBAAiB,YAAY;AAC/D,uBAAuB;AACvB,8BAA8B;AAC9B,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA;AACO;AACP;AACA,iBAAiB,6CAA6C,UAAU,sDAAsD,cAAc;AAC5I,0BAA0B,6BAA6B,oBAAoB,gDAAgD,kBAAkB;AAC7I;AACA;AACO;AACP;AACA;AACA,2GAA2G,uFAAuF,cAAc;AAChN,uBAAuB,8BAA8B,gDAAgD,wDAAwD;AAC7J,6CAA6C,sCAAsC,UAAU,mBAAmB,IAAI;AACpH;AACA;AACO;AACP,iCAAiC,uCAAuC,YAAY,KAAK,OAAO;AAChG;AACA;AACA;AACA;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C;AAC7C;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB,sCAAsC,kBAAkB;AACnF,0BAA0B;AAC1B;AACA;AACA;AACO;AACP;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACO;AACP;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACO;AACP,oCAAoC;AACpC;AACA;AACO;AACP;AACA;AACA;AACO;AACP,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACO;AACP,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACO;AACP;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACO;AACP,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACO;AACP,kDAAkD,QAAQ;AAC1D,yCAAyC,QAAQ;AACjD,yDAAyD,QAAQ;AACjE;AACA;AACA;AACA;AACO;AACP,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA,iBAAiB,uFAAuF,cAAc;AACtH,uBAAuB,gCAAgC,qCAAqC,2CAA2C;AACvI,4BAA4B,MAAM,iBAAiB,YAAY;AAC/D,uBAAuB;AACvB,8BAA8B;AAC9B,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA;AACO;AACP;AACA,iBAAiB,6CAA6C,UAAU,sDAAsD,cAAc;AAC5I,0BAA0B,6BAA6B,oBAAoB,gDAAgD,kBAAkB;AAC7I;AACA;AACO;AACP;AACA;AACA,2GAA2G,uFAAuF,cAAc;AAChN,uBAAuB,8BAA8B,gDAAgD,wDAAwD;AAC7J,6CAA6C,sCAAsC,UAAU,mBAAmB,IAAI;AACpH;AACA;AACO;AACP,iCAAiC,uCAAuC,YAAY,KAAK,OAAO;AAChG;AACA;AACA;AACA;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C;AAC7C;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB,sCAAsC,kBAAkB;AACnF,0BAA0B;AAC1B;AACA;AACA;AACO;AACP;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACO;AACP;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACO;AACP,oCAAoC;AACpC;AACA;AACO;AACP;AACA;AACA;AACO;AACP,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACO;AACP,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACO;AACP;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACO;AACP,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACO;AACP,kDAAkD,QAAQ;AAC1D,yCAAyC,QAAQ;AACjD,yDAAyD,QAAQ;AACjE;AACA;AACA;AACA;AACO;AACP,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA,iBAAiB,uFAAuF,cAAc;AACtH,uBAAuB,gCAAgC,qCAAqC,2CAA2C;AACvI,4BAA4B,MAAM,iBAAiB,YAAY;AAC/D,uBAAuB;AACvB,8BAA8B;AAC9B,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA;AACO;AACP;AACA,iBAAiB,6CAA6C,UAAU,sDAAsD,cAAc;AAC5I,0BAA0B,6BAA6B,oBAAoB,gDAAgD,kBAAkB;AAC7I;AACA;AACO;AACP;AACA;AACA,2GAA2G,uFAAuF,cAAc;AAChN,uBAAuB,8BAA8B,gDAAgD,wDAAwD;AAC7J,6CAA6C,sCAAsC,UAAU,mBAAmB,IAAI;AACpH;AACA;AACO;AACP,iCAAiC,uCAAuC,YAAY,KAAK,OAAO;AAChG;AACA;AACA;AACA;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C;AAC7C;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB,sCAAsC,kBAAkB;AACnF,0BAA0B;AAC1B;AACA;AACA;AACO;AACP;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACO;AACP;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACO;AACP,oCAAoC;AACpC;AACA;AACO;AACP;AACA;AACA;AACO;AACP,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACO;AACP,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACO;AACP;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACO;AACP,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACO;AACP,kDAAkD,QAAQ;AAC1D,yCAAyC,QAAQ;AACjD,yDAAyD,QAAQ;AACjE;AACA;AACA;AACA;AACO;AACP,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA,iBAAiB,uFAAuF,cAAc;AACtH,uBAAuB,gCAAgC,qCAAqC,2CAA2C;AACvI,4BAA4B,MAAM,iBAAiB,YAAY;AAC/D,uBAAuB;AACvB,8BAA8B;AAC9B,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA;AACO;AACP;AACA,iBAAiB,6CAA6C,UAAU,sDAAsD,cAAc;AAC5I,0BAA0B,6BAA6B,oBAAoB,gDAAgD,kBAAkB;AAC7I;AACA;AACO;AACP;AACA;AACA,2GAA2G,uFAAuF,cAAc;AAChN,uBAAuB,8BAA8B,gDAAgD,wDAAwD;AAC7J,6CAA6C,sCAAsC,UAAU,mBAAmB,IAAI;AACpH;AACA;AACO;AACP,iCAAiC,uCAAuC,YAAY,KAAK,OAAO;AAChG;AACA;AACA;AACA;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C;AAC7C;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA","sources":["./node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","./node_modules/@fullcalendar/common/main.js","./node_modules/@fullcalendar/common/vdom.js","./node_modules/@fullcalendar/core/main.js","./node_modules/@fullcalendar/core/vdom.js","./node_modules/@fullcalendar/daygrid/main.js","./node_modules/@fullcalendar/interaction/main.js","./node_modules/@fullcalendar/list/main.js","./node_modules/@fullcalendar/timegrid/main.js","./node_modules/fast-deep-equal/index.js","./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","./src/app/main/apps/apps.module.ts","webpack:///tslib?7439","webpack:///tslib?d6da","./node_modules/@fullcalendar/daygrid/node_modules/tslib/tslib.es6.js","webpack:///tslib?e89d","webpack:///tslib?bfc3","webpack:///tslib?0bd8"],"sourcesContent":["import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;font-size:.85em;font-size:var(--fc-small-font-size,.85em);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: '',\n                encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                ,\n                styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;font-size:.85em;font-size:var(--fc-small-font-size,.85em);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵfac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE, // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        var stuff = contentTypeHandlers[contentKey]();\n                        customContentInfo = this.customContentInfo = __assign({ contentKey: contentKey, contentVal: innerContent[contentKey] }, stuff);\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type, // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker) // don't move if date already in view\n            ) {\n                return dateProfileGenerator.build(action.dateMarker);\n            }\n            break;\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (segInputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, segInputs_1 = segInputs; _i < segInputs_1.length; _i++) {\n            var segInput = segInputs_1[_i];\n            this.insertEntry({\n                segInput: segInput,\n                spanStart: segInput.spanStart,\n                spanEnd: segInput.spanEnd,\n                thickness: segInput.thickness,\n            }, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        if (entry.spanStart < barrier.spanStart) {\n            partCnt += this.insertEntry(__assign(__assign({}, entry), { spanStart: entry.spanStart, spanEnd: barrier.spanStart }), splitHiddenEntries);\n        }\n        if (barrier.spanEnd < entry.spanEnd) {\n            partCnt += this.insertEntry(__assign(__assign({}, entry), { spanStart: barrier.spanEnd, spanEnd: entry.spanEnd }), splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([__assign(__assign({}, entry), { spanStart: Math.max(barrier.spanStart, entry.spanStart), spanEnd: Math.min(barrier.spanEnd, entry.spanEnd) })], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var nextLevel = insertion.nextLevel;\n        // create a new level\n        if (!nextLevel || this.levelCoords[nextLevel - 1] < insertion.levelCoord) {\n            insertAt(this.levelCoords, nextLevel, insertion.levelCoord);\n            insertAt(this.entriesByLevel, nextLevel, [entry]);\n            // insert into existing level\n        }\n        else {\n            insertAt(this.entriesByLevel[nextLevel - 1], insertion.lateralEnd, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, stackCnts = _a.stackCnts, strictOrder = _a.strictOrder;\n        var levelCnt = levelCoords.length;\n        var level; // running value while iterating all segs\n        var levelCoord; // \"\n        var lateralStart = 0; // \"\n        var lateralEnd = 0; // \"\n        var resCoord = 0; // the levelCoord for newSeg\n        var touchingEntry = null;\n        for (level = 0; level < levelCnt; level += 1) {\n            levelCoord = levelCoords[level];\n            // if the current level is past the placed entry, we have found a good\n            // empty space and can stop. only if not strict-ordering mode.\n            if (!strictOrder && levelCoord >= resCoord + newEntry.thickness) {\n                break;\n            }\n            var entries = entriesByLevel[level];\n            var entry = void 0;\n            var searchRes = binarySearch(entries, newEntry.spanStart, getEntrySpanEnd);\n            lateralStart = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            lateralEnd = lateralStart;\n            while ( // loop through entries that horizontally intersect\n            (entry = entries[lateralEnd]) && // but not past the whole entry list\n                entry.spanStart < newEntry.spanEnd) {\n                if (strictOrder ||\n                    ( // vertically intersects?\n                    resCoord < levelCoord + entry.thickness &&\n                        resCoord + newEntry.thickness > levelCoord)) {\n                    // push down the potential destination\n                    touchingEntry = entry;\n                    resCoord = levelCoord + entry.thickness; // move to bottom of colliding entry\n                }\n                lateralEnd += 1;\n            }\n        }\n        return {\n            levelCoord: resCoord,\n            nextLevel: level,\n            lateralStart: lateralStart,\n            lateralEnd: lateralEnd,\n            touchingEntry: touchingEntry,\n            stackCnt: touchingEntry ? stackCnts[buildEntryKey(touchingEntry)] + 1 : 0,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.spanEnd;\n}\nfunction buildEntryKey(entry) {\n    return entry.segInput.index + ':' + entry.spanStart;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            spanStart: entry.spanStart,\n            spanEnd: entry.spanEnd,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (merge.spanStart < hungryMerge.spanEnd && merge.spanEnd > hungryMerge.spanStart) { // collides?\n                hungryMerge = {\n                    spanStart: Math.min(merge.spanStart, hungryMerge.spanStart),\n                    spanEnd: Math.max(merge.spanEnd, hungryMerge.spanEnd),\n                    entries: merge.entries.concat(hungryMerge.entries), // keep preexisting merge's items first. maintains order\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: typeof moreLinkText === 'function'\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick); })),\n                _this.state.isPopoverOpen && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.7.2'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEntrySpanEnd, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, memoize, MoreLinkRoot, getSegMeta, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: handleClick }, innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n        var options = context.options;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                spanStart: seg.firstCol,\n                spanEnd: seg.lastCol + 1,\n                thickness: eventHeight,\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.segInput.index];\n        multiColPlacements[hiddenEntry.spanStart].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenEntry.spanStart; col < hiddenEntry.spanEnd; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.segInput.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.segInput.index];\n            var isAbsolute = rect.spanEnd - rect.spanStart > 1; // multi-column?\n            var isFirstCol = rect.spanStart === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.spanStart, rect.spanEnd, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.spanStart, rect.spanEnd, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: 0,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.spanStart; col < rect.spanEnd; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var level = insertion.nextLevel - 1;\n        if (this.hiddenConsumes && level >= 0) {\n            for (var lateral = insertion.lateralStart; lateral < insertion.lateralEnd; lateral += 1) {\n                var leadingEntry = entriesByLevel[level][lateral];\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, leadingEntry), { spanStart: Math.max(leadingEntry.spanStart, entry.spanStart), spanEnd: Math.min(leadingEntry.spanEnd, entry.spanEnd) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    if (!forceHidden[placeholderEntryId]) {\n                        forceHidden[placeholderEntryId] = true;\n                        entriesByLevel[level][lateral] = placeholderEntry;\n                        this.splitEntry(leadingEntry, entry, hiddenEntries); // split up the leadingEntry\n                    }\n                }\n                else {\n                    var placeholderEntryId = buildEntryKey(leadingEntry);\n                    if (!forceHidden[placeholderEntryId]) {\n                        forceHidden[placeholderEntryId] = true;\n                        hiddenEntries.push(leadingEntry);\n                    }\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                eventInstanceHeights: this.queryEventInstanceHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return colPlacements;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getDateMeta, buildNavLinkData, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.props, dayDate = _a.dayDate, todayRange = _a.todayRange;\n        var _b = this.context, theme = _b.theme, dateEnv = _b.dateEnv, options = _b.options, viewApi = _b.viewApi;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var navLinkData = options.navLinks\n            ? buildNavLinkData(dayDate)\n            : null;\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, text: text,\n            sideText: sideText,\n            navLinkData: navLinkData }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { colSpan: 3 },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    var navLinkAttrs = props.navLinkData // is there a type for this?\n        ? { 'data-navlink': props.navLinkData, tabIndex: 0 }\n        : {};\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ className: \"fc-list-day-text\" }, navLinkAttrs), props.text)),\n        props.sideText && (createElement(\"a\", __assign({ className: \"fc-list-day-side-text\" }, navLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: renderEventInnerContent, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context),\n            createElement(\"td\", { className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { className: \"fc-list-event-title\", ref: innerElRef }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(props) {\n    var event = props.event;\n    var url = event.url;\n    var anchorAttrs = url ? { href: url } : {};\n    return (createElement(\"a\", __assign({}, anchorAttrs), event.title));\n}\nfunction buildTimeContent(seg, timeFormat, context) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { className: ['fc-list-event-time'].concat(classNames).join(' '), ref: rootElRef }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = dayDates[dayIndex].toISOString();\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction computeFgSegPlacements(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.spanStart, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.spanStart < subjectEntry.spanEnd) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        _this.computeFgSegPlacements = memoize(computeFgSegPlacements); // only for non-print, non-mirror\n        return _this;\n    }\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        if (props.slatCoords) {\n            return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n        }\n        return null;\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict;\n        var _b = this.props, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segInputs = this.buildSegInputs(segs);\n        var _c = isMirror ? computeFgSegPlacements(segInputs) : // don't use memoized\n            this.computeFgSegPlacements(segInputs, eventOrderStrict, eventMaxStack), segRects = _c.segRects, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segRects.map(function (segRect) {\n                var seg = segs[segRect.segInput.index];\n                var instanceId = seg.eventRange.instance.instanceId;\n                var positionCss = __assign(__assign({}, _this.computeSegTopBottomCss(segRect.segInput)), (isMirror ? { left: 0, right: 0 } : _this.computeSegLeftRightCss(segRect)));\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' + (segRect.stackForward > 0 ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign({ visibility: segIsInvisible[instanceId] ? 'hidden' : '' }, positionCss) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: (segRect.spanEnd - segRect.spanStart) < eventShortHeight }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _this = this;\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = _this.computeSegTopBottomCss(hiddenGroup);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.buildSegInputs = function (segs) {\n        var _a = this.props, date = _a.date, slatCoords = _a.slatCoords;\n        var eventMinHeight = this.context.options.eventMinHeight;\n        var segInputs = [];\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, date);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // yuck\n            slatCoords.computeDateTop(seg.end, date));\n            segInputs.push({\n                index: i,\n                spanStart: Math.round(spanStart),\n                spanEnd: Math.round(spanEnd),\n                thickness: 1,\n            });\n        }\n        return segInputs;\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _this = this;\n        var props = this.props;\n        if (!props.slatCoords) {\n            return null;\n        }\n        var segInputs = this.buildSegInputs(segs);\n        var children = segInputs.map(function (segInput) {\n            var seg = segs[segInput.index];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: _this.computeSegTopBottomCss(segInput) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegTopBottomCss = function (segLike) {\n        return {\n            top: segLike.spanStart,\n            bottom: -segLike.spanEnd,\n        };\n    };\n    TimeCol.prototype.computeSegLeftRightCss = function (segRect) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segRect.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segRect.levelCoord + segRect.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segRect.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segRect.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.segInput.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function w(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(E.prototype=new n).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var R=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),R&&R(n)};var x=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function N(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=x,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var k=function(n,t){return null==n?null:r(r(n).map(t))},A={map:k,forEach:k,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},O=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);O(n,t,e,r)};var T=e.unmount;function I(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return I(n,t,e)})),n}function L(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function U(){this.__u=0,this.t=null,this.__b=null}function D(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function F(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function M(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),T&&T(n)},(U.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=D(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=L(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},U.prototype.componentWillUnmount=function(){this.t=[]},U.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=I(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var V=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function W(n){return this.getChildContext=function(){return n.context},n.children}function P(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(W,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function $(n,e){var r=t(P,{__v:n,i:e});return r.containerInfo=e,r}(M.prototype=new n).__a=function(n){var t=this,e=D(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),V(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){V(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,z=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,B=\"undefined\"!=typeof document,H=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Z(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function Y(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var q=e.event;function G(){}function J(){return this.cancelBubble}function K(){return this.defaultPrevented}e.event=function(n){return q&&(n=q(n)),n.persist=G,n.isPropagationStopped=J,n.isDefaultPrevented=K,n.nativeEvent=n};var Q,X={configurable:!0,get:function(){return this.class}},nn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];B&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!H(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&z.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(X.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",X))}n.$$typeof=j,nn&&nn(n)};var tn=e.__r;e.__r=function(n){tn&&tn(n),Q=n.__c};var en={ReactCurrentDispatcher:{current:{readContext:function(n){return Q.__n[n.__c].props.value}}}},rn=\"17.0.2\";function un(n){return t.bind(null,n)}function on(n){return!!n&&n.$$typeof===j}function ln(n){return on(n)?f.apply(null,arguments):n}function cn(n){return!!n.__k&&(o(null,n),!0)}function fn(n){return n&&(n.base||1===n.nodeType&&n)||null}var an=function(n,t){return n(t)},sn=function(n,t){return n(t)},hn=u;function vn(n){n()}function dn(n){return n}function pn(){return[!1,vn]}var mn=d;function yn(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,u.__!==t()&&o({h:u})},[n,e,t]),v(function(){return u.__!==u.v()&&o({h:u}),n(function(){u.__!==u.v()&&o({h:u})})},[n]),e}var _n={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:mn,useTransition:pn,useDeferredValue:dn,useSyncExternalStore:yn,startTransition:vn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:A,render:Z,hydrate:Y,unmountComponentAtNode:cn,createPortal:$,createElement:t,createContext:l,createFactory:un,cloneElement:ln,createRef:c,Fragment:u,isValidElement:on,findDOMNode:fn,Component:n,PureComponent:E,memo:w,forwardRef:N,flushSync:sn,unstable_batchedUpdates:an,StrictMode:hn,Suspense:U,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:en};export{A as Children,E as PureComponent,hn as StrictMode,U as Suspense,M as SuspenseList,en as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ln as cloneElement,un as createFactory,$ as createPortal,_n as default,fn as findDOMNode,sn as flushSync,N as forwardRef,Y as hydrate,on as isValidElement,F as lazy,w as memo,Z as render,vn as startTransition,cn as unmountComponentAtNode,an as unstable_batchedUpdates,dn as useDeferredValue,mn as useInsertionEffect,yn as useSyncExternalStore,pn as useTransition,rn as version};\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,k.ref?k.ref:null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&N(x[h],x[h]);if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H,I,T=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof T){if(g=u.props,m=(a=T.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in T&&T.prototype.render?u.__c=h=new T(g,x):(u.__c=h=new d(g,x),h.constructor=T,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,T.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==T.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){for(h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,C=l.__r,$=0,\"prototype\"in T&&T.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++$<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),I=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray(I)?I:[I],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,i||\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{d as Component,p as Fragment,q as cloneElement,B as createContext,h as createElement,y as createRef,h,S as hydrate,i as isValidElement,l as options,P as render,x as toChildArray};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);return n.__||(n.__=\"P\"+function(n){for(var t=0,r=n.length;r>0;)t=(t<<5)-t+n.charCodeAt(--r)|0;return t}(r.__v.__m)+t),n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){\"function\"!=typeof n.type||n.__m||null===n.__?n.__m||(n.__m=n.__&&n.__.__m?n.__.__m:\"\"):n.__m=(n.__&&n.__.__m?n.__.__m:\"\")+(n.__&&n.__.__k?n.__.__k.indexOf(n):0),r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { FullCalendarModule } from '@fullcalendar/angular';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport timeGridPlugin from '@fullcalendar/timegrid';\n\n\n// routing\nconst routes: Routes = [\n  // {\n  //   path: 'email',\n  //   loadChildren: () => import('./email/email.module').then(m => m.EmailModule)\n  // },\n  // {\n  //   path: 'chat',\n  //   loadChildren: () => import('./chat/chat.module').then(m => m.ChatModule)\n  // },\n  // {\n  //   path: 'todo',\n  //   loadChildren: () => import('./todo/todo.module').then(m => m.TodoModule)\n  // },\n  // {\n  //   path: 'calendar',\n  //   loadChildren: () => import('./calendar/calendar.module').then(m => m.CalendarModule)\n  // },\n  // {\n  //   path: 'invoice',\n  //   loadChildren: () => import('./invoice/invoice.module').then(m => m.InvoiceModule)\n  // },\n  // {\n  //   path: 'e-commerce',\n  //   loadChildren: () => import('./ecommerce/ecommerce.module').then(m => m.EcommerceModule)\n  // },\n  {\n    path: 'user',\n    loadChildren: () => import('./user/user.module').then(m => m.UserModule)\n  },\n  {\n    path: 'adminmoderator',\n    loadChildren: () => import('./adminmoderator/adminmoderator.module').then(m => m.AdminmoderatorModule)\n  },\n  {\n    path: 'reports',\n    loadChildren: () => import('./reports/reports.module').then(m => m.ReportsModule)\n  },\n  {\n    path: 'questionnaire',\n    loadChildren: () => import('./questionnaire/questionnaire.module').then(m => m.QuestionnaireModule)\n  },\n  {\n    path: 'country',\n    loadChildren: () => import('./country/country.module').then(m => m.CountryModule)\n  },\n  {\n    path: 'payment',\n    loadChildren: () => import('./payment/payment.module').then(m => m.PaymentModule)\n  },\n  {\n    path: 'subscription',\n    loadChildren: () => import('./subscription/subscription.module').then(m => m.SubscriptionModule)\n  },\n  {\n    path: 'content',\n    loadChildren: () => import('./content/content.module').then(m => m.ContentModule)\n  },\n  {\n    path: 'contact',\n    loadChildren: () => import('./contactus/contactUs.module').then(m => m.ContactUSModule)\n  }\n\n];\n\n\n\nFullCalendarModule.registerPlugins([dayGridPlugin, timeGridPlugin, listPlugin, interactionPlugin]);\n\n@NgModule({\n  declarations: [\n  ],\n  imports: [CommonModule, RouterModule.forChild(routes)]\n})\nexport class AppsModule {}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n"],"names":["deepEqual","Component","ViewEncapsulation","ElementRef","Input","NgModule","Calendar","globalPlugins","ɵngcc0","hasOwnProperty","Object","prototype","deepCopy","input","Array","isArray","map","Date","valueOf","mapHash","shallowCopy","val","slice","call","assign","func","output","key","OPTION_IS_DEEP","headerToolbar","footerToolbar","events","eventSources","resources","FullCalendarComponent","element","optionSnapshot","deepChangeDetection","options","optionVal","optionName","calendar","nativeElement","render","newOptions","newProcessedOptions","anyChanges","oldOptionNames","keys","pauseRendering","resetOptions","resumeRendering","destroy","ɵfac","FullCalendarComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","template","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","propDecorators","ngDevMode","ɵsetClassMetadata","args","selector","None","FullCalendarModule","plugins","push","FullCalendarModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","ngJitMode","ɵɵsetNgModuleScope","__assign","__spreadArray","__extends","createContext","createRef","createElement","Fragment","createPortal","EventSourceApi","context","internalEventSource","remove","dispatch","sourceId","refetch","sourceIds","isRefetch","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","style","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","split","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","reduce","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","dateInput","buildDateEnv$1","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","JSON","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","eventSourceDef$2","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","segInputs","hiddenEntries","segInputs_1","segInput","insertEntry","spanStart","spanEnd","thickness","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","nextLevel","insertAt","lateralEnd","buildEntryKey","newEntry","levelCnt","level","lateralStart","resCoord","entries","searchRes","binarySearch","getEntrySpanEnd","toRects","rects","entries_1","index","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMousedown","handleCloseClick","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","version","parseMarker","FullCalendarVDom","flushToDom","unmountComponentAtNode","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","preact","preactCompat","globalObj","globalThis","oldDebounceRendering","debounceRendering","callbackQ","execCallbackSync","FakeComponent","defaultValue","ContextType","origProvider","isNew","getChildContext","subs_1","_props","forceUpdate","old","node","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","visibility","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","forceHidden","excludeHidden","lateral","leadingEntry","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","queryEventInstanceHeights","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","DayGridView","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","Draggable","ListViewHeaderRow","dayDate","listDayFormat","sideText","listDaySideFormat","navLinkData","DEFAULT_TIME_FORMAT","ListViewEventRow","renderEventInnerContent","buildTimeContent","anchorAttrs","doAllDay","renderAllDayInner","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","setRootEl","dayDates","dayRanges","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","computeFgSegPlacements","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","nextLevelNodes_1","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","buildSegInputs","renderHiddenGroups","segRect","positionCss","computeSegTopBottomCss","computeSegLeftRightCss","hiddenGroup","compileSegsFromEntries","segLike","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","module","equal","constructor","RegExp","flags","toString","e","toChildArray","r","u","o","hydrate","l","cloneElement","f","useState","useId","useReducer","h","useEffect","v","useLayoutEffect","useRef","p","useImperativeHandle","useMemo","useCallback","_","useContext","useDebugValue","S","g","C","E","displayName","isReactComponent","__f","isPureReactComponent","R","__b","Symbol","for","N","$$typeof","k","A","count","only","toArray","O","__e","__","__c","__k","T","unmount","I","__H","__P","L","__v","insertBefore","__d","U","__u","D","__a","F","default","M","__R","__h","__O","pop","V","delete","revealOrder","size","W","P","$","containerInfo","Map","set","z","B","H","Z","textContent","Y","writable","q","G","J","cancelBubble","K","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","Q","X","class","nn","vnode","toLowerCase","multiple","selected","tn","__r","ReactCurrentDispatcher","readContext","__n","rn","un","ln","cn","fn","base","an","sn","hn","vn","dn","pn","mn","yn","_n","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","Children","createFactory","isValidElement","findDOMNode","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","some","ownerSVGElement","nextSibling","setProperty","cssText","removeAttribute","setAttribute","__E","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","checked","getDerivedStateFromError","componentDidCatch","__V","__N","every","charCodeAt","__m","cancelAnimationFrame","useErrorBoundary","CommonModule","RouterModule","dayGridPlugin","interactionPlugin","listPlugin","timeGridPlugin","routes","path","loadChildren","UserModule","AdminmoderatorModule","ReportsModule","QuestionnaireModule","CountryModule","PaymentModule","SubscriptionModule","ContentModule","ContactUSModule","registerPlugins","AppsModule","forChild"],"sourceRoot":"webpack:///"}